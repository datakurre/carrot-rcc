/*
 * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH
 * under one or more contributor license agreements. See the NOTICE file
 * distributed with this work for additional information regarding copyright
 * ownership. Camunda licenses this file to you under the Apache License,
 * Version 2.0; you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).CockpitPlugins=n()}}((function(){return function n(e,t,a){function s(o,r){if(!t[o]){if(!e[o]){var c="function"==typeof require&&require;if(!r&&c)return c(o,!0);if(i)return i(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var d=t[o]={exports:{}};e[o][0].call(d.exports,(function(n){return s(e[o][1][n]||n)}),d,d.exports,n,e,t,a)}return t[o].exports}for(var i="function"==typeof require&&require,o=0;o<a.length;o++)s(a[o]);return s}({1:[function(n,e,t){(function(n){(function(){"use strict";e.exports="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(n,e,t){(function(n){(function(){"use strict";e.exports="undefined"!=typeof window?window.moment:void 0!==n?n.moment:null}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(n,e,t){"use strict";e.exports=n("../../camunda-bpm-sdk-js/vendor/angular")},{"../../camunda-bpm-sdk-js/vendor/angular":1}],4:[function(n,e,t){"use strict";e.exports=n("../../camunda-bpm-sdk-js/vendor/moment")},{"../../camunda-bpm-sdk-js/vendor/moment":2}],5:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null;e.exports={getCallActivityFlowNodes:function(n){var e=[];return n.forEach((function(n){var t=n.businessObject;t.$instanceOf("bpmn:CallActivity")&&e.push(t.id)})),e},addOverlayForSingleElement:function(n){var e=n.overlaysNodes,a=n.activityId,s=n.redirectionTarget,i=n.overlays,o=n.clickListener,r=n.tooltipTitle,c=n.$scope,l=n.$timeout;if(!e[a]){var d=t.element('<div class="activity-top-right-position">\n  <button type="button" role="button" class="btn btn-sm btn-default call-btn">\n    <span class="glyphicon glyphicon glyphicon-link"></span>\n  </button>\n</div>\n').hide(),u=d.children().first();e[a]=d,d.tooltip({container:"body",title:r,placement:"top",animation:!1}),i.add(a,{position:{top:0,right:0},show:{minZoom:-1/0,maxZoom:1/0},html:d}),function(n,e,a,s,i,o,r){var c=t.element('[data-element-id="'+a+'"]'),l=null,d=function(e){l=r((function(){n.hide()}),e)},u=function(){return l&&r.cancel(l)},p=function(){u(),n.show()};c.on("mouseenter",p),c.on("mouseleave",(function(){d(50)})),n.on("mouseenter",p),n.on("mouseleave",(function(){d(100)})),s?e.on("click",(function(){i(s)})):(e.prop("disabled",!0),e.css("pointer-events","none"),n.css("cursor","not-allowed"));o.$on("$destroy",(function(){e.off("click"),n.tooltip("destroy"),n.off("mouseenter mouseleave"),c.off("mouseenter mouseleave")}))}(d,u,a,s,o,c,l)}}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(n,e,t){(function(t){(function(){"use strict";function a(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function s(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){i(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(!n)return;if("string"==typeof n)return r(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r(n,e)}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var a=0,s=function(){};return{s:s,n:function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}},e:function(n){throw n},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return o=n.done,n},e:function(n){c=!0,i=n},f:function(){try{o||null==t.return||t.return()}finally{if(c)throw i}}}}function r(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}var c=n("../callActivityOverlay"),l=c.getCallActivityFlowNodes,d=c.addOverlayForSingleElement,u="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null;e.exports=function(n){return["$scope","$timeout","$location","$translate","search","control","processData","PluginProcessDefinitionResource",function(e,t,a,i,r,c,p,f){var I=function(t){return e.$apply((function(){var s="/process-definition/".concat(t,"/").concat(n,"?parentProcessDefinitionId=").concat(e.key);a.url(s)}))},b=function(n){return e.$apply((function(){var t=u.copy(r());t.detailsTab="call-process-definitions-table",r.updateSilently(t),e.processData.set("filter",{activityIds:[n]})}))},g={},_=c.getViewer().get("overlays"),E=c.getViewer().get("elementRegistry"),m=l(E),v=i.instant("PLUGIN_ACTIVITY_DEFINITION_SHOW_CALLED_PROCESS_DEFINITION"),S=i.instant("PLUGIN_ACTIVITY_DEFINITION_CALLED_NOT_RESOLVABLE"),y=i.instant("PLUGIN_ACTIVITY_DEFINITION_CALLED_DYNAMIC_RESOLVABLE"),h=i.instant("PLUGIN_ACTIVITY_DEFINITION_CALLED_DYNAMIC_MULTI_RESOLVABLE");m.length&&p.observe(["processDefinition","staticCalledProcessDefinitions"],(function(n,e){f.getCalledProcessDefinitions({id:n.id}).$promise.then((function(n){return N(e,n)})).catch(u.noop)}));var N=function(a,i){var r,c={},l=o(a);try{var u=function(){var n=r.value;n.calledFromActivityIds.forEach((function(e){return c[e]=n}))};for(l.s();!(r=l.n()).done;)u()}catch(n){l.e(n)}finally{l.f()}var p,f={},E=o(i);try{var N=function(){var n=p.value;n.calledFromActivityIds.forEach((function(e){f[e]?f[e].push(n):f[e]=[n]}))};for(E.s();!(p=E.n()).done;)N()}catch(n){E.e(n)}finally{E.f()}var D,T=o(m);try{for(T.s();!(D=T.n()).done;){var P=D.value,A=c[P],O=f[P],L={overlaysNodes:g,activityId:P,overlays:_,$scope:e,$timeout:t};A?d(s({redirectionTarget:A.id,clickListener:I,tooltipTitle:v},L)):!A&&O&&"runtime"===n?O.length>1?d(s({redirectionTarget:P,clickListener:b,tooltipTitle:h},L)):d(s({redirectionTarget:O[0].id,clickListener:I,tooltipTitle:y},L)):d(s({tooltipTitle:S},L))}}catch(n){T.e(n)}finally{T.f()}}}]}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../callActivityOverlay":5}],7:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("../callActivityOverlay"),i=s.getCallActivityFlowNodes,o=s.addOverlayForSingleElement;e.exports=function(n){return["$scope","$timeout","$location","$translate","search","control","processData","processDiagram","PluginProcessInstanceResource",function(e,t,s,r,c,l,d,u,p){var f=function(t){return t.length>1?e.$apply((function(){return s=t,i=a.copy(c()),"history"===n?i.detailsTab=_:i.tab=_,c.updateSilently(i),void e.processData.set("filter",{activityIds:[s[0].activityId],activityInstanceIds:s.map((function(n){return n.id}))});var s,i})):e.$apply((function(){return e=t[0],a="/process-instance/"+e.calledProcessInstanceId+"/"+n,void s.url(a);var e,a}))},I={},b=l.getViewer().get("overlays"),g=l.getViewer().get("elementRegistry"),_="called-process-instances-tab",E=i(g),m={},v=r.instant("PLUGIN_ACTIVITY_INSTANCE_SHOW_CALLED_PROCESS_INSTANCES"),S=function(n){Object.keys(n).map((function(a){return n[a][0].calledProcessInstanceId&&o({overlaysNodes:I,activityId:a,redirectionTarget:n[a],overlays:b,clickListener:f,tooltipTitle:v,$scope:e,$timeout:t})}))},y=function(n,e){return n.reduce((function(n,t){return e[t]&&e[t].length>0&&(n[t]=e[t]),n}),{})};"history"===n?E.length&&d.observe("activityIdToInstancesMap",(function(n){m=y(E,n),S(m)})):E.length&&d.observe(["activityIdToInstancesMap","processInstance"],(function(n,e){m=y(E,n),p.processInstances({id:e.id},(function(n){return n.forEach((function(n){var e=m[n.callActivityId];e&&e.length&&(e[0].calledProcessInstanceId=n.id)})),S(m)}))}))}]}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../callActivityOverlay":5}],8:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null,a=["$uibModalInstance","$scope","Notifications","Uri","fixDate","$translate","camAPI","resolved",function(n,e,a,s,i,o,r,c){e.isProcessInstance="PROCESS_INSTANCE"===c.type,e.isBatchOperation="BATCH_OPERATION"===c.type,e.isMigration="MIGRATION"===c.type,e.isCaseInstance="CASE_INSTANCE"===c.type,e.variableTypes=["String","Boolean","Short","Integer","Long","Double","Date","Null","Object","Json","Xml"];var l=e.newVariable={name:null,type:"String",value:null},d="SUCCESS",u=r.resource("process-instance"),p=r.resource("case-instance");e.$on("$routeChangeStart",(function(){n.close(e.status)})),e.close=function(){n.close(e.status)};var f=e.isValid=function(){var n=t.element('[name="addVariableForm"]').scope();return!(!n||!n.addVariableForm)&&n.addVariableForm.$valid};e.save=function(){if(f()){e.status="PERFORM_SAVE";var n=t.extend({},l),s=c.variables;if(s&&(e.isBatchOperation||e.isMigration)){for(var r=0;r<s.length;r++)n.name===s[r].variable.name&&s.splice(r,1);s.push({variable:n,valid:!0,changed:!1,showFailures:!0}),e.$root.$broadcast("variable.added",n.name),e.status=d}else{"Date"===n.type&&(n.value=i(n.value)),(e.isProcessInstance?u:p).setVariable(c.instanceId,n).then((function(){e.status=d,a.addMessage({status:o.instant("VARIABLE_ADD_MESSAGE_STATUS_FINISHED"),message:o.instant("VARIABLE_ADD_MESSAGE_MESSAGE_ADD",{name:n.name}),exclusive:!0})})).catch((function(n){e.status="FAIL",a.addError({status:o.instant("VARIABLE_ADD_MESSAGE_STATUS_FINISHED"),message:o.instant("VARIABLE_ADD_MESSAGE_MESSAGE_ERROR",{message:n.message}),exclusive:!0})}))}}}}];e.exports={template:'\x3c!-- # CE - camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-add-dialog.html --\x3e\n<div class="modal-header">\n  <h3>\n    {{ isProcessInstance ? \'VARIABLE_ADD_MODAL_TITLE_PROCESS\' : \'\' | translate }}\n    {{ isBatchOperation ? \'VARIABLE_ADD_MODAL_TITLE_BATCH\' : \'\' | translate }}\n    {{ isMigration ? \'VARIABLE_ADD_MODAL_TITLE_MIGRATION\' : \'\' | translate }}\n    {{ isCaseInstance ? \'VARIABLE_ADD_MODAL_TITLE_CASE\' : \'\' | translate }}\n  </h3>\n</div>\n\n<div class="modal-body add-variable-dialog">\n  <div notifications-panel></div>\n\n  <form class="form-horizontal"\n        name="addVariableForm"\n        novalidate\n        ng-submit="save()"\n        ng-hide="status === \'SUCCESS\' || status === \'FAIL\'"\n        request-aware>\n    <fieldset>\n\n      <div class="form-group variable-name">\n        <label class="control-label col-xs-4"\n               for="variableName">{{ \'VARIABLE_ADD_VARIABLE_NAME\' | translate }}</label>\n        <div class="col-xs-8">\n          <input id="variableNameId"\n                 name="variableName"\n                 class="form-control"\n                 type="text"\n                 ng-model="newVariable.name"\n                 autofocus\n                 required />\n        </div>\n      </div>\n\n      <div class="form-group variable-type">\n        <label class="control-label col-xs-4"\n               for="variableType">{{ \'VARIABLE_ADD_VARIABLE_TYPE\' | translate }}</label>\n        <div class="col-xs-8">\n          <select id="variableTypeId"\n                  name="variableType"\n                  class="form-control"\n                  ng-options="variableType for variableType in variableTypes"\n                  ng-model="newVariable.type">\n          </select>\n        </div>\n      </div>\n\n      <div class="form-group variable-value">\n        <label class="control-label col-xs-4"\n               for="variableValue">{{ \'VARIABLE_ADD_VARIABLE_VALUE\' | translate }}</label>\n        <div class="col-xs-8">\n          <div variable="newVariable" form="addVariableForm"></div>\n\n          <p class="invalid"\n             ng-show="this.addVariableForm.editDateValue.$error.datePattern">\n            {{ \'VARIABLE_ADD_VARIABLE_SUPPORTED\' | translate }}\n          </p>\n\n          <p class="invalid"\n             ng-show="this.addVariableForm.editDateValue.$error.dateValue">\n            Invalid Date Value.\n          </p>\n\n          <p class="invalid"\n             ng-show="this.addVariableForm.editIntegerValue.$error.numeric || this.addVariableForm.editFloatValue.$error.numeric"\n             translate="VARIABLE_ADD_VARIABLE_ONLY"\n             translate-values="{ type : newVariable.type }">\n          </p>\n        </div>\n      </div>\n\n    </fieldset>\n  </form>\n\n  <div ng-if="status === \'SUCCESS\' && isBatchOperation"\n       translate="VARIABLE_ADD_STATUS_SUCCESS_BATCH"\n       translate-values="{ name: newVariable.name }">\n  </div>\n\n  <div ng-if="status === \'SUCCESS\' && isProcessInstance"\n       translate="VARIABLE_ADD_STATUS_SUCCESS_PROCESS"\n       translate-values="{ name: newVariable.name }">\n  </div>\n\n  <div ng-if="status === \'SUCCESS\' && isCaseInstance"\n       translate="VARIABLE_ADD_STATUS_SUCCESS_CASE"\n       translate-values="{ name: newVariable.name }">\n  </div>\n\n  <div ng-show="status === \'FAIL\' && isProcessInstance"\n       translate="VARIABLE_ADD_STATUS_FAIL_PROCESS"\n       translate-values="{ name: newVariable.name }">\n  </div>\n\n  <div ng-show="status === \'FAIL\' && isProcessInstance"\n       translate="VARIABLE_ADD_STATUS_FAIL_CASE"\n       translate-values="{ name: newVariable.name }">\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-link"\n          ng-click="close()"\n          ng-disabled="status === \'PERFORM_SAVE\'"\n          ng-hide="status === \'SUCCESS\' || status === \'FAIL\'">{{ \'VARIABLE_ADD_CLOSE\' | translate }}</button>\n\n  <button type="submit"\n          class="btn btn-primary"\n          ng-click="save()"\n          ng-hide="status === \'SUCCESS\' || status === \'FAIL\'"\n          ng-disabled="!isValid()">{{ \'VARIABLE_ADD_ADD\' | translate }}</button>\n\n  <button class="btn btn-primary"\n          ng-click="close()"\n          ng-show="status === \'SUCCESS\' || status === \'FAIL\'">{{ \'VARIABLE_ADD_OK\' | translate }}</button>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/ui/cockpit/client/scripts/components/variables/variable-add-dialog.html --\x3e\n',controller:a}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null,a=["$http","$uibModalInstance","$scope","Notifications","Uri","basePath","history","readonly","variable","$translate",function(n,e,a,s,i,o,r,c,l,d){var u,p="beforeChange",f="changeSuccess";a.selectedTab="serialized",a.status=p,a.variable=t.copy(l),a.isJsonOrXml=l.type&&("json"===l.type.toLowerCase()||"xml"===l.type.toLowerCase()),a.readonly=c,a.currentValue=t.copy(l.value),a.isChangeDisabled=function(){return(a.isJsonOrXml?!t.element('[name="jsonXmlForm"]').scope().jsonXmlForm.$valid:"beforeChange"!==a.status)||!I()},a.$on("$routeChangeStart",(function(){e.dismiss()})),a.selectTab=function(n){a.selectedTab=n,a.currentValue=t.copy(a.variable.value),a.currentDeserializedValue=t.copy(u),a.status=p},a.typeIn=function(n,e){b(e)?a.currentValue=n.currentValue:a.currentDeserializedValue=n.currentDeserializedValue,a.status=I(e)?"confirmChange":p};var I=a.hasChanged=function(n){return a.isJsonOrXml||b(n)?a.variable.value!==a.currentValue:u!=a.currentDeserializedValue};function b(n){return"serialized"===n}function g(){n({method:"GET",url:i.appUri(o+"?deserializeValue=false")}).then((function(n){l.value=n.data.value})).catch(t.noop)}function _(n){s.addMessage({status:d.instant("VARIABLE_INSPECT_VARIABLE"),message:d.instant("VARIABLE_INSPECT_MESSAGE_ADD",{name:n.name})})}a.change=function(){var e=!b(a.selectedTab),r=e?a.currentDeserializedValue:a.currentValue;if(a.isJsonOrXml&&(r=a.variable.value),"application/json"===l.valueInfo.serializationDataFormat||e)try{JSON.parse(r)}catch(n){return a.status=p,void s.addError({status:d.instant("VARIABLE_INSPECT_VARIABLE"),message:d.instant("VARIABLE_INSPECT_MESSAGE_ERR_1",{exception:n.message}),exclusive:!0})}e?function(e,s){var r=new FormData;r.append("data",new Blob([s],{type:"application/json"})),r.append("type",e.valueInfo.objectTypeName),n.post(i.appUri(o+"/data"),r,{transformRequest:t.identity,headers:{"Content-Type":void 0}}).then((function(){a.status=f,g(),_(e)}))}(a.variable,r):function(e,t){var r={type:e.type,value:t,valueInfo:e.valueInfo};a.isJsonOrXml||(r.valueInfo=e.valueInfo);n({method:"PUT",url:i.appUri(o),data:r}).then((function(){a.status=f,g(),_(e)})).catch((function(){a.status=p,function(n){s.addError({status:d.instant("VARIABLE_INSPECT_VARIABLE"),message:d.instant("VARIABLE_INSPECT_MESSAGE_ERR_2",{name:n.name}),exclusive:!0})}(e)}))}(a.variable,r)},a.isJsonOrXml||n({method:"GET",url:i.appUri("engine://engine/:engine/"+(r?"history/":"")+"variable-instance/"+l.id)}).then((function(n){(n=n.data).errorMessage?a.deserializationError=n.errorMessage:(u=JSON.stringify(n.value),a.currentDeserializedValue=t.copy(u))})).catch((function(n){a.deserializationError=n.message}))}];e.exports={template:'\x3c!-- # CE - camunda-bpm-webapp/ui/cockpit/scripts/components/variables/variable-inspect-modal.html --\x3e\n<div class="modal-header">\n  <h3 translate="VARIABLE_INSPECT_MODAL_TITLE"\n      translate-values="{ name: variable.name }"></h3>\n</div>\n\n\n<div class="modal-body variable-inspect">\n\n  <div notifications-panel></div>\n\n  <div ng-show="status === \'beforeChange\' || status === \'confirmChange\'">\n\n    <div ng-if="!isJsonOrXml" class="form-group">\n      <label>{{ \'VARIABLE_INSPECT_OBJECT_TYPE_NAME\' | translate }}</label>\n      <code class="form-control-static"\n            cam-widget-clipboard="variable.valueInfo.objectTypeName">{{ variable.valueInfo.objectTypeName }}</code>\n    </div>\n\n    <div ng-if="!isJsonOrXml" class="form-group">\n      <label>{{ \'VARIABLE_INSPECT_SERIALIZATION_DATA\' | translate }}</label>\n      <code class="form-control-static"\n            cam-widget-clipboard="variable.valueInfo.serializationDataFormat">{{ variable.valueInfo.serializationDataFormat }}</code>\n    </div>\n\n    <div ng-if="!isJsonOrXml" class="form-group">\n\n      <ul class="nav nav-tabs">\n        <li ng-class="{ active: selectedTab === \'serialized\' }">\n          <a href ng-click="selectTab(\'serialized\')">{{ \'VARIABLE_INSPECT_SERIALIZED\' | translate }}</a>\n        </li>\n        <li ng-class="{ active: selectedTab === \'deserialized\' }">\n          <a href ng-click="selectTab(\'deserialized\')">{{ \'VARIABLE_INSPECT_DESERIALIZED\' | translate }}</a>\n        </li>\n      </ul>\n\n      <textarea ng-if="selectedTab === \'serialized\'"\n                name="currentValue"\n                ng-readonly="readonly"\n                ng-model="currentValue"\n                ng-keyup="typeIn(this, \'serialized\')"\n                rows="10"\n                class="form-control">\n      </textarea>\n\n      <div ng-if="selectedTab === \'deserialized\'">\n        <div uib-alert class="alert alert-danger"\n             ng-show="deserializationError">\n          <strong>{{ \'VARIABLE_INSPECT_DESERIALIZED_ERROR\' | translate }}</strong>\n          {{deserializationError}}\n        </div>\n\n        <div ng-show="!deserializationError">\n          <textarea name="currentDeserializedValue"\n                    ng-readonly="readonly"\n                    ng-model="currentDeserializedValue"\n                    ng-keyup="typeIn(this, \'deserialized\')"\n                    rows="10"\n                    class="form-control">\n          </textarea>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-if="isJsonOrXml"\n         class="form-group">\n        <form name="jsonXmlForm">\n          <label for="value"\n                 cam-widget-clipboard="variable.value"\n                 no-tooltip\n                 ng-class="{hovered: hovered === \'var-value\'}">\n            {{ \'CAM_WIDGET_STRING_DIALOG_LABEL_VALUE\' | translate }}\n          </label>\n          <div variable="variable"\n               readonly="readonly"\n               form="jsonXmlForm">\n          </div>\n        </form>\n\n    </div>\n\n  </div>\n\n  <div uib-alert class="alert alert-warning"\n       ng-show="status === \'confirmChange\'">\n    <span class="glyphicon glyphicon-alert"></span>\n    <strong>{{ \'VARIABLE_INSPECT_WARNING\' | translate }}</strong>\n    {{ \'VARIABLE_INSPECT_WARNING_MESSAGE\' | translate }}\n  </div>\n\n</div>\n\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss()"\n          ng-hide="status === \'changeSuccess\'">\n    {{ \'VARIABLE_INSPECT_CLOSE\' | translate }}\n  </button>\n\n  <![if gt IE 9]>\n    <button class="btn btn-primary"\n            ng-click="$close()"\n            ng-show="!readlonly && status === \'changeSuccess\'">\n      {{ \'VARIABLE_INSPECT_OK\' | translate }}\n    </button>\n\n    <button class="btn btn-primary"\n            ng-click="change()"\n            ng-disabled="isChangeDisabled()"\n            ng-hide="readonly || status !== \'beforeChange\'">\n      {{ \'VARIABLE_INSPECT_CHANGE\' | translate }}\n    </button>\n\n    <button class="btn btn-warning"\n            ng-click="change()"\n            ng-hide="readonly || status !== \'confirmChange\'">\n      {{ \'VARIABLE_INSPECT_CONFIRM_CHANGE\' | translate }}\n    </button>\n  <![endif]>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/ui/cockpit/scripts/components/variables/variable-inspect-modal.html --\x3e\n',controller:a}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null,a=["$uibModalInstance","$scope","Notifications","Uri","basePath","variable","$translate","$cookies","$http",function(n,e,a,s,i,o,r,c,l){var d,u="uploadFailed";e.status="beforeUpload",e.variable=o,e.$on("$routeChangeStart",(function(){n.dismiss()})),e.upload=function(){var n=new FormData;n.append("data",d),n.append("valueType",o.type),l.post(s.appUri(i+"/data"),n,{transformRequest:t.identity,headers:{"Content-Type":void 0},uploadEventHandlers:{progress:function(n){e.status="performUpload",n.lengthComputable&&(e.progress=Math.round(100*n.loaded/n.total))}}}).then((function(n){204===n.status?(e.status="uploadSuccess",a.addMessage({status:r.instant("VARIABLE_UPLOAD_FILE"),message:r.instant("VARIABLE_UPLOAD_MESSAGE_ADD")})):(e.status=u,a.addError({status:r.instant("VARIABLE_UPLOAD_FILE"),message:r.instant("VARIABLE_UPLOAD_MESSAGE_ERR"),exclusive:!0}))})).catch((function(){e.status=u,a.addError({status:r.instant("VARIABLE_UPLOAD_FILE"),message:r.instant("VARIABLE_UPLOAD_MESSAGE_ERR"),exclusive:!0})}))},e.setFile=function(n){d=n.files[0]}}];e.exports={template:'\x3c!-- # CE - camunda-bpm-webapp/ui/cockpit/scripts/components/variables/variable-upload-modal.html --\x3e\n<div class="modal-header">\n  <h3>{{ \'VARIABLE_UPLOAD_MODAL_TITLE\' | translate }}</h3>\n</div>\n\n\x3c!--[if lt IE 10]>\n\nThis feature is unsupported in your Browser.\n\n<![endif]--\x3e\n\n<![if gt IE 9]>\n\n<div class="modal-body variable-upload">\n\n  <div notifications-panel></div>\n\n  <div ng-show="status === \'beforeUpload\'">\n\n    <p>{{ \'VARIABLE_UPLOAD_SELECT_FILE\' | translate }}:</p>\n\n    <p>\n      <input name="data"\n             type="file"\n             size="50"\n             maxlength="100000"\n             accept="*/*"\n             onchange="angular.element(this).scope().setFile(this)" />\n    </p>\n\n  </div>\n\n  <div ng-show="status === \'performUpload\'"\n       translate="VARIABLE_UPLOAD_PROGRESS"\n       translate-values="{progress: progress}">\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss()"\n          ng-hide="status === \'uploadSuccess\' || status === \'uploadFailed\'">\n    {{ \'VARIABLE_UPLOAD_CLOSE\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="$close()"\n          ng-show="status === \'uploadSuccess\' || status === \'uploadFailed\'">\n    {{ \'VARIABLE_UPLOAD_OK\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="upload()"\n          ng-disabled="status !== \'beforeUpload\'"\n          ng-hide="status === \'uploadSuccess\' || status === \'uploadFailed\'">\n    {{ \'VARIABLE_UPLOAD_UPLOAD\' | translate }}\n  </button>\n</div>\n\n<![endif]>\n\n\x3c!-- / CE - camunda-bpm-webapp/ui/cockpit/scripts/components/variables/variable-upload-modal.html --\x3e\n',controller:a}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null,a=["$scope","processData","ProcessDefinitionResource",function(n,e,a){e.provide("processDefinitionsWithRootIncidents",(function(){return a.queryStatistics({rootIncidents:!0}).$promise})),e.provide("processDefinitions",(function(){return a.queryStatistics({incidents:!0}).$promise})),e.provide("processDefinitionStatistics",["processDefinitions",function(n){return s(n)}]),e.provide("processDefinitionWithRootIncidentsStatistics",["processDefinitionsWithRootIncidents",function(n){return s(n)}]);var s=function(n){var e=[],a=[];return t.forEach(n,(function(n){e[n.definition.key]||(e[n.definition.key]=[]);var s=e[n.definition.key][n.definition.tenantId];s?(n.definition.version>s.definition.version&&(s.definition=n.definition,s.id=n.id,s.definition.name=s.definition.name||s.definition.key),s.instances+=n.instances,s.failedJobs+=n.failedJobs,t.forEach(n.incidents,(function(n){for(var e=n.incidentType,t=n.incidentCount,a=!0,i=0;i<s.incidents.length;i++){var o=s.incidents[i];o.incidentType==e&&(o.incidentCount=t+o.incidentCount,a=!1)}a&&s.incidents.push(n)}))):((s=t.copy(n)).definition.name||(s.definition.name=s.definition.key),e[s.definition.key][n.definition.tenantId]=s,a.push(s))})),a}}],s=function(n){n.registerData("cockpit.dashboard.data",{id:"process-definition-statistics-data",controller:a})};s.$inject=["DataProvider"],e.exports=s}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("./dashboard/processDefinitionStatisticsData"),i=a.module("cockpit.plugin.base.data",[]);i.config(s),e.exports=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dashboard/processDefinitionStatisticsData":11}],13:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("./views/main"),i=n("./resources/main"),o=n("./data/main");e.exports=a.module("cockpit.plugin.base",[s.name,i.name,o.name])}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./data/main":12,"./resources/main":14,"./views/main":24}],14:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("./processDefinition"),i=n("./processInstance"),o=a.module("cockpit.plugin.base.resources",[]);o.factory("PluginProcessDefinitionResource",s),o.factory("PluginProcessInstanceResource",i),e.exports=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./processDefinition":15,"./processInstance":16}],15:[function(n,e,t){"use strict";e.exports=["$resource","Uri",function(n,e){return n(e.appUri("plugin://base/:engine/process-definition/:id/:action"),{id:"@id"},{getCalledProcessDefinitions:{method:"POST",isArray:!0,params:{action:"called-process-definitions"}}})}]},{}],16:[function(n,e,t){"use strict";e.exports=["$resource","Uri",function(n,e){return n(e.appUri("plugin://base/:engine/process-instance/:id/:action"),{id:"@id"},{query:{method:"POST",isArray:!0},delete:{url:e.appUri("engine://engine/:engine/process-instance/:id"),method:"DELETE"},count:{method:"POST",isArray:!1,params:{id:"count"}},processInstances:{method:"POST",isArray:!0,params:{action:"called-process-instances"}},getCalledProcessInstances:{method:"POST",isArray:!0,params:{action:"called-process-instances"}}})}]},{}],17:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null,a='<div class="activity-bottom-left-position instances-overlay">\n  <span class="badge instance-count"></span>\n  <span class="badge badge-important instance-incidents"></span>\n</div>\n';e.exports=function(n,e,s,i,o,r,c){var l=e.getViewer?e.getViewer():e,d=l.get("overlays"),u=l.get("elementRegistry"),p=o.startLoading(),f={};c.observe((function(e){p(),u.forEach((function(s){var o,r=i.bpmnElements[s.businessObject.id],l=c.getData.apply(null,[r].concat(e));if(c.isActive(l)){if(!f[r.id]){o=function(e,s){var i=t.element(a),o=b.bind(null,e,s),r={html:i,instancesNode:i.find(".instance-count"),incidentsNode:i.find(".instance-incidents")};return i.on("click",o),n.$on("$destroy",(function(){i.off("click",o)})),r}(r,l);var u=d.add(r.id,{position:{bottom:0,left:0},show:{minZoom:-1/0,maxZoom:1/0},html:o.html});n.countOverlayIds=n.countOverlayIds?n.countOverlayIds:[],n.countOverlayIds.push(u),f[r.id]=o}r.isSelectable=!0}f[r.id]&&c.updateOverlayNodes(f[r.id],l)})),c.toggleIsLoading&&c.toggleIsLoading(),r.$broadcast("cockpit.plugin.base.views:diagram-plugins:instance-plugin-loaded")}));var I=s.observe("filter",(function(n){I=n}));function b(e,a,i){var o=t.copy(I),r=i.ctrlKey,c=e.id,l=t.copy(o.activityIds)||[],d=l.indexOf(c),u=-1!==d,p=a.multiInstance;c?r?u?(l.splice(d,1),p&&l.splice(l.indexOf(c+"#multiInstanceBody"),1)):(l.push(c),p&&l.push(c+"#multiInstanceBody")):(l=[c],p&&l.push(c+"#multiInstanceBody")):l=null,o.activityIds=l,n.$apply((function(){s.set("filter",o)}))}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(n,e,t){"use strict";e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.navigation",{id:"batch",label:"COCKPIT_BATCHES",pagePath:"#/batch",template:"\x3c!-- nothing to show, but needed --\x3e",controller:function(){},checkActive:function(n){var e="#/batch",t=(n||"").split("?");return t.length&&t[0].slice(0-e.length)===e},priority:-5})}]},{}],19:[function(n,e,t){"use strict";e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.navigation",{id:"decisions",label:"COCKPIT_DECISIONS",pagePath:"#/decisions",checkActive:function(n){return n.indexOf("#/decision")>-1},template:"\x3c!-- nothing to show, but needed --\x3e",controller:function(){},priority:90})}]},{}],20:[function(n,e,t){"use strict";e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.navigation",{id:"deployments",label:"COCKPIT_DEPLOYMENTS",pagePath:"#/repository",template:"\x3c!-- nothing to show, but needed --\x3e",controller:function(){},priority:-5})}]},{}],21:[function(n,e,t){"use strict";e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.navigation",{id:"proceses",label:"COCKPIT_PROCESSES",pagePath:"#/processes",checkActive:function(n){return n.indexOf("#/process")>-1||n.indexOf("#/migration")>-1},template:"\x3c!-- nothing to show, but needed --\x3e",controller:function(){},priority:100})}]},{}],22:[function(n,e,t){"use strict";e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.navigation",{id:"reports",label:"COCKPIT_REPORTS",pagePath:"#/reports",template:"\x3c!-- nothing to show, but needed --\x3e",controller:function(){},access:["Views",function(n){return function(e){e(null,!!n.getProviders({component:"cockpit.report"}).length)}}],priority:-4})}]},{}],23:[function(n,e,t){"use strict";e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.navigation",{id:"tasks",label:"COCKPIT_HUMAN_TASKS",template:"\x3c!-- nothing to show, but needed --\x3e",pagePath:"#/tasks",checkActive:function(n){return n.indexOf("#/tasks")>-1},controller:function(){},priority:20})}]},{}],24:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s="undefined"!=typeof window?window["cam-common"]:void 0!==t?t["cam-common"]:null,i=n("./processInstance/diagramPlugins"),o=n("./processDefinition/diagramPlugins"),r=n("./dashboard/deployments"),c=n("./dashboard/reports"),l=n("./dashboard/batches"),d=n("./dashboard/processes"),u=n("./dashboard/decisions"),p=n("./dashboard/tasks"),f=n("./processesDashboard/process-definitions"),I=n("./processDefinition/processInstanceTable"),b=n("./processDefinition/calledProcessDefinitionTable"),g=n("./processDefinition/updateSuspensionStateAction"),_=n("./processDefinition/updateSuspensionStateDialog"),E=n("./processDefinition/pdIncidentsTab"),m=n("./processInstance/variableInstancesTab"),v=n("./processInstance/incidentsTab"),S=n("./processInstance/calledProcessInstanceTable"),y=n("./processInstance/userTasksTable"),h=n("./processInstance/jobRetryBulkAction"),N=n("./processInstance/jobRetryBulkDialog"),D=n("./processInstance/jobRetryDialog"),T=n("./processInstance/externalTaskRetryDialog"),P=n("./processInstance/cancelProcessInstanceAction"),A=n("./processInstance/cancelProcessInstanceDialog"),O=n("./processInstance/addVariableAction"),L=n("./processInstance/updateSuspensionStateAction"),w=n("./processInstance/updateSuspensionStateDialog"),C=n("./processInstance/incidentJobRetryAction"),U=n("./processInstance/incident-externalTask-retry-action"),R=n("./processInstance/jobsTab"),G=a.module("cockpit.plugin.base.views",[s.name,i.name,o.name]);G.config(r),G.config(c),G.config(l),G.config(d),G.config(u),G.config(p),G.config(f),G.config(I),G.config(b),G.config(g),G.controller("UpdateProcessDefinitionSuspensionStateController",_),G.config(E),m(G),G.config(v),S(G),y(G),h(G),G.controller("JobRetriesController",N),G.controller("JobRetryController",D),G.controller("ExternalTaskRetryController",T),P(G),G.controller("CancelProcessInstanceController",A),G.config(O),G.config(L),G.controller("UpdateProcessInstanceSuspensionStateController",w),G.config(C),G.config(U),G.config(R),e.exports=G}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dashboard/batches":18,"./dashboard/decisions":19,"./dashboard/deployments":20,"./dashboard/processes":21,"./dashboard/reports":22,"./dashboard/tasks":23,"./processDefinition/calledProcessDefinitionTable":25,"./processDefinition/diagramPlugins":27,"./processDefinition/pdIncidentsTab":29,"./processDefinition/processInstanceTable":30,"./processDefinition/updateSuspensionStateAction":31,"./processDefinition/updateSuspensionStateDialog":32,"./processInstance/addVariableAction":33,"./processInstance/calledProcessInstanceTable":34,"./processInstance/cancelProcessInstanceAction":35,"./processInstance/cancelProcessInstanceDialog":36,"./processInstance/diagramPlugins":38,"./processInstance/externalTaskRetryDialog":40,"./processInstance/incident-externalTask-retry-action":41,"./processInstance/incidentJobRetryAction":42,"./processInstance/incidentsTab":43,"./processInstance/jobRetryBulkAction":44,"./processInstance/jobRetryBulkDialog":45,"./processInstance/jobRetryDialog":46,"./processInstance/jobsTab":47,"./processInstance/updateSuspensionStateAction":48,"./processInstance/updateSuspensionStateDialog":49,"./processInstance/userTasksTable":50,"./processInstance/variableInstancesTab":51,"./processesDashboard/process-definitions":52}],25:[function(n,e,t){(function(t){(function(){"use strict";function a(n){return function(n){if(Array.isArray(n))return s(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"==typeof n)return s(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=n[t];return a}var i="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,o=n("../../../../../../common/scripts/util/search-widget-utils");e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.processDefinition.runtime.tab",{id:"call-process-definitions-table",label:"PLUGIN_CALLED_PROCESS_DEFINITIONS_LABEL",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processDefinition/called-process-definition-table.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{\'PLUGIN_CALLED_PROCESS_EMPTY\' | translate}}">\n  <table class="called-process-definition cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sortObj">\n    </thead>\n    <tbody>\n      <tr ng-repeat="calledProcessDefinition in calledProcessDefinitions | orderBy:sortObj.sortBy:sortObj.sortReverse">\n        <td class="process-definition"\n            cam-widget-clipboard="calledProcessDefinition.id">\n          <a ng-href="#/process-definition/{{ calledProcessDefinition.id }}/runtime?parentProcessDefinitionId={{ processDefinition.id }}">\n            {{ calledProcessDefinition.label }}\n          </a>\n        </td>\n\n        <td class="called-process-state" >\n          <span>{{ calledProcessDefinition.state | translate }}</span>\n        </td>\n\n        <td class="activity">\n          <span ng-show="calledProcessDefinition.calledFromActivities.length === 1"\n                cam-widget-clipboard="calledProcessDefinition.calledFromActivities[0].id">\n            <a ng-href="#/process-definition/{{ processDefinition.id }}/runtime?{{ getSearchQueryForSearchType(calledProcessDefinition.calledFromActivities[0].id) }}&amp;detailsTab=call-process-definitions-table">\n              {{ calledProcessDefinition.calledFromActivities[0].name }}\n            </a>\n          </span>\n\n          <ul class="call-activity-list" ng-show="calledProcessDefinition.calledFromActivities.length > 1">\n            <li ng-repeat="activity in calledProcessDefinition.calledFromActivities"\n                cam-widget-clipboard="activity.id">\n              <a ng-href="#/process-definition/{{ processDefinition.id }}/runtime?{{ getSearchQueryForSearchType(activity.id) }}&amp;detailsTab=call-process-definitions-table">\n                {{ activity.name }}\n              </a>\n            </li>\n          </ul>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processDefinition/called-process-definition-table.html --\x3e\n',controller:["$scope","$location","$q","PluginProcessDefinitionResource","$translate","localConf",function(n,e,t,s,r,c){var l,d,u=n.processData.newChild(n);n.headColumns=[{class:"process-definition",request:"label",sortable:!0,content:r.instant("PLUGIN_CALLED_PROCESS")},{class:"called-process-state",request:"state",sortable:!0,content:r.instant("PLUGIN_CALLED_PROCESS_STATE")},{class:"activity",request:"[0].name",sortable:!0,content:r.instant("PLUGIN_ACTIVITY")}],n.sortObj=(d={sortBy:"key",sortOrder:"asc",sortReverse:!1},c.get("sortCalledProcessDefTab",d)),n.onSortChange=function(e){(e=e||n.sortObj).sortReverse="asc"!==e.sortOrder,function(n){c.set("sortCalledProcessDefTab",n)}(e),n.sortObj=e},n.getSearchQueryForSearchType=o.getSearchQueryForSearchType.bind(null,"activityIdIn"),u.provide("calledProcessDefinitions",["processDefinition","filter",function(e,t){return delete(l=i.copy(t)).page,delete l.scrollToBpmnElement,l.superProcessDefinitionId=l.parentProcessDefinitionId,l.parentProcessDefinitionId=n.processDefinition.id,l.activityIdIn=l.activityIds,delete l.activityIds,n.loadingState="LOADING",s.getCalledProcessDefinitions({id:e.id},l).$promise}]),u.observe(["calledProcessDefinitions","staticCalledProcessDefinitions","bpmnElements"],(function(e,t,s){var o=function(n){if(l.activityIdIn&&l.activityIdIn.length){var e=new Set(l.activityIdIn);return n.map((function(n){var t=i.copy(n),a=n.calledFromActivityIds.filter((function(n){return e.has(n)}));if(a.length)return t.calledFromActivityIds=a,t})).filter((function(n){return void 0!==n}))}return n}(t);n.calledProcessDefinitions=function(n,e,t){var s=function(n,e){var t={};return n.forEach((function(n){var e=i.copy(n);e.state="PLUGIN_CALLED_PROCESS_DEFINITIONS_RUNNING_LABEL",t[e.id]=e})),e.forEach((function(n){var e=i.copy(n);if(t[n.id]){var s=new Set([].concat(a(t[e.id].calledFromActivityIds),a(e.calledFromActivityIds)));t[n.id].calledFromActivityIds=Array.from(s).sort(),t[n.id].state="PLUGIN_CALLED_PROCESS_DEFINITIONS_RUNNING_AND_REFERENCED_LABEL"}else t[e.id]=e,e.state="PLUGIN_CALLED_PROCESS_DEFINITIONS_REFERENCED_LABEL",e.calledFromActivityIds.sort()})),Object.values(t)}(n,e).map((function(n){var e=n.calledFromActivityIds.map((function(n){return function(n,e){var t=n[e];return{id:e,name:t&&t.name||e}}(t,n)}));return i.extend({},n,{calledFromActivities:e,label:n.name||n.key})}));return s.map((function(n){return s.find((function(e){return n.name===e.name&&e.id!==n.id}))&&(n.label=n.label+":"+n.version),n}))}(e,o,s),n.loadingState=n.calledProcessDefinitions.length?"LOADED":"EMPTY"}))}],priority:5})}]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../../../common/scripts/util/search-widget-utils":87}],26:[function(n,e,t){"use strict";var a=n("../../../../../../client/scripts/components/callActivityOverlays/definition")("runtime");e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.processDefinition.diagram.plugin",{id:"activity-definition-call-activity-overlay",overlay:a})}]},{"../../../../../../client/scripts/components/callActivityOverlays/definition":6}],27:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s="undefined"!=typeof window?window["cam-common"]:void 0!==t?t["cam-common"]:null,i=n("./instanceCount"),o=n("./callActivity"),r=a.module("cockpit.plugin.base.views.definition.diagram-plugins",[s.name]);r.config(i),r.config(o),e.exports=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./callActivity":26,"./instanceCount":28}],28:[function(n,e,t){"use strict";var a=n("../../common/diagramPlugins/instanceCount");e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.processDefinition.diagram.action",{id:"activity-instance-statistics-overlay",template:'<a\n  class="overlay-link"\n  ng-click="toggleOverlay()"\n  ng-disabled="isLoading"\n  ng-if="enabled"\n  uib-tooltip="{{ \'PLUGIN_DIAGRAM_ACTIVITY_STATISTICS_TOOLTIP\' | translate }}"\n  tooltip-placement="bottom">\n  {{ \'PLUGIN_DIAGRAM_ACTIVITY_STATISTICS\' | translate }}\n  <span ng-if="toggle && !isLoading">{{ \'PLUGIN_DIAGRAM_ACTIVITY_STATISTICS_ON\' | translate }} <input type="radio" checked="" class="toggle" ></span>\n  <span ng-if="!toggle && !isLoading">{{ \'PLUGIN_DIAGRAM_ACTIVITY_STATISTICS_OFF\' | translate }}<input type="radio" class="toggle"> </span>\n  <span ng-if="isLoading">{{ \'PLUGIN_DIAGRAM_ACTIVITY_STATISTICS_LOADING\' | translate }}</span>\n</a>\n',controller:["$scope","Loaders","get","$filter","$rootScope","$translate","configuration",function(n,e,t,s,i,o,r){function c(){n.isLoading=!n.isLoading}function l(){n.isLoading=!0;var t={observe:d,getData:p,updateOverlayNodes:I,isActive:u,toggleIsLoading:c};a(n,n.viewer,n.processData,n.processDiagram,e,i,t)}function d(e){n.processData.observe(["activityInstanceStatistics"],(function(n){e([n])}))}function u(n){return n.instances||n.incidents}n.enabled=r.getRuntimeActivityInstanceMetrics(),n.toggle=n.enabled,n.isLoading=!1,n.countOverlayIds=[],n.toggleOverlay=function(){var e;n.toggle=!n.toggle,n.toggle?l():(e=n.viewer.get("overlays"),n.countOverlayIds.forEach((function(n){e.remove(n)})),n.countOverlayIds=[])},n.processData.observe("processDiagram",(function(e){n.processDiagram=e,n.toggle&&l()}));function p(n,e){var a=f(e,n.id),s=f(e,n.id+"#multiInstanceBody"),i=t(a,["incidents"],[]),o=t(s,["incidents"],[]),r=function(n){return n?n.reduce((function(n,e){return n+e.incidentCount}),0):0}(i.concat(o));return{instances:t(a,["instances"],0)+t(s,["instances"],0),incidents:r}}function f(n,e){return n.filter((function(n){return n.id===e}))[0]}function I(n,e){n.instancesNode.text(s("abbreviateNumber")(e.instances)),n.incidentsNode.text(s("abbreviateNumber")(e.incidents)),e.instances<=0?n.instancesNode.hide():(n.instancesNode.show(),n.instancesNode.tooltip({container:"body",title:o.instant("PLUGIN_ACTIVITY_INSTANCE_RUNNING_ACTIVITY_INSTANCES"),placement:"top",animation:!1})),e.incidents?(n.incidentsNode.show(),n.incidentsNode.tooltip({container:"body",title:o.instant("PLUGIN_ACTIVITY_INSTANCE_OPEN_INCIDENTS"),placement:"top",animation:!1})):n.incidentsNode.hide()}}]})}]},{"../../common/diagramPlugins/instanceCount":17}],29:[function(n,e,t){"use strict";var a=function(n){n.registerDefaultView("cockpit.processDefinition.runtime.tab",{id:"pd-incidents-tab",label:"PLUGIN_INCIDENTS_LABEL",template:'<incidents-tab\n  process-data="processData"\n  process-definition="processDefinition"/>\n',priority:9,controller:function(){}})};a.$inject=["ViewsProvider"],e.exports=a},{}],30:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null,a=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "businessKey",\n        "value": "PROCESS_INSTANCE_ID_BUSINESS_KEY"\n      },\n      "default": true,\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityIdIn",\n        "value": "PROCESS_INSTANCE_ID_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "startedDate",\n        "value": "PROCESS_INSTANCE_ID_START_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PROCESS_INSTANCE_OPERATOR_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PROCESS_INSTANCE_OPERATOR_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "variables",\n        "value": "PROCESS_INSTANCE_ID_VARIABLE"\n      },\n      "extended": true,\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PROCESS_INSTANCE_OPERATOR_LIKE"\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "withIncident",\n        "value": "PLUGIN_PROCESS_INSTANCE_WITH_INCIDENTS"\n      },\n      "basic": true\n    }\n  ],\n  "operators": {\n    "undefined":  [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PROCESS_INSTANCE_OPERATOR_LIKE"\n      }\n    ],\n    "string":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PROCESS_INSTANCE_OPERATOR_LIKE"\n      }\n    ],\n    "number":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean":    [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object":     [{\n      "key": "eq",\n      "value": "="\n    },\n      {\n        "key": "neq",\n        "value": "!="\n      }],\n    "date":     [{\n      "key": "lteq",\n      "value": "PROCESS_INSTANCE_OPERATOR_BEFORE"\n    },\n      {\n        "key": "gteq",\n        "value": "PROCESS_INSTANCE_OPERATOR_AFTER"\n      }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PROCESS_INSTANCE_ADD_CRITERIA",\n    "invalid": "PROCESS_INSTANCE_INVALID",\n    "deleteSearch": "PROCESS_INSTANCE_DELETE_SEARCH",\n    "type": "PROCESS_INSTANCE_TYPE",\n    "name": "PROCESS_INSTANCE_NAME",\n    "operator": "PROCESS_INSTANCE_OPERATOR",\n    "value": "PROCESS_INSTANCE_VALUE"\n  }\n}\n'),s=(0,("undefined"!=typeof window?window["camunda-bpm-sdk-js"]:void 0!==n?n["camunda-bpm-sdk-js"]:null).utils.debouncePromiseFactory)();e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.processDefinition.runtime.tab",{id:"process-instances-table",label:"PLUGIN_PROCESS_INSTANCES_LABEL",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processDefinition/process-instance-table.html --\x3e\n<div cam-searchable-area\n     config="searchConfig"\n     array-types="[\'activityIdIn\']"\n     variable-types="[\'variables\']"\n     on-search-change="onSearchChange(query, pages)"\n     loading-state="loadingState"\n     text-empty="{{\'PLUGIN_PROCESS_INSTANCE_NO_PROCESS\' | translate}}"\n     storage-group="\'PDI\'">\n\n  <table class="process-instances cam-table">\n\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(query, pages, sortObj)"\n           default-sort="sortObj">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="processInstance in processInstances">\n        <td class="state">\n          <a state-circle\n             incidents="processInstance.incidents"\n             ng-href="{{ getProcessInstanceUrl(processInstance, { tab: \'incidents-tab\' }) }}"></a>\n          <span class="badge badge-warning badge-suspended"\n                ng-show="processInstance.suspended"\n                uib-tooltip="{{\'PLUGIN_PROCESS_INSTANCE_SUSPENDED\' | translate}}"\n                tooltip-placement="left">\n            <span class="glyphicon glyphicon-pause white"></span>\n          </span>\n        </td>\n\n        <td class="instance-id"\n            cam-widget-clipboard="processInstance.id">\n          <a ng-href="{{ getProcessInstanceUrl(processInstance) }}"\n             title="{{ processInstance.id }}">\n            {{ processInstance.id }}\n          </a>\n        </td>\n\n        <td class="start-time"\n            cam-widget-clipboard="processInstance.startTime | camDate">\n          {{ processInstance.startTime | camDate }}\n        </td>\n\n        <td class="business-key"\n            ng-if="processInstance.businessKey"\n            cam-widget-clipboard="processInstance.businessKey">\n          {{ processInstance.businessKey }}\n        </td>\n        <td class="business-key"\n            ng-if="!processInstance.businessKey"></td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processDefinition/process-instance-table.html --\x3e\n',controller:["$scope","$location","search","routeUtil","PluginProcessInstanceResource","$translate","localConf",function(n,e,i,o,r,c,l){var d=n.processDefinition;n.onSearchChange=u,n.onSortChange=u,n.headColumns=[{class:"state",request:"state",sortable:!1,content:c.instant("PLUGIN_PROCESS_INSTANCE_STATE")},{class:"instance-id",request:"instanceId",sortable:!1,content:c.instant("PLUGIN_PROCESS_INSTANCE_ID")},{class:"start-time",request:"startTime",sortable:!0,content:c.instant("PLUGIN_PROCESS_INSTANCE_START_TIME")},{class:"business-key",request:"businessKey",sortable:!1,content:c.instant("PLUGIN_PROCESS_INSTANCE_BUSINESS_KEY")}];function u(e,a,i){n.pagesObj=a||n.pagesObj,n.queryObj=e||n.queryObj,function(n){l.set("sortProcInst",n)}(i=i||n.sortObj);var o=n.pagesObj.current,c=n.queryObj,u=n.pagesObj.size,p=(o-1)*u,f={processDefinitionId:d.id},I={firstResult:p,maxResults:u,sortBy:i.sortBy,sortOrder:i.sortOrder},b=t.extend({},c,f),g=t.extend({},c,I,f);return n.processInstances=null,n.loadingState="LOADING",r.count(b).$promise.then((function(e){var a=e.count;return s(r.query(I,g).$promise).then((function(e){n.processInstances=e,n.loadingState=e.length?"LOADED":"EMPTY";var t=n.$root.$$phase;return"$apply"!==t&&"$digest"!==t&&n.$apply(),a})).catch(t.noop)})).catch(t.noop)}n.sortObj=function(n){return l.get("sortProcInst",n)}({sortBy:"startTime",sortOrder:"desc"}),n.searchConfig=t.copy(a),n.getProcessInstanceUrl=function(n,a){var s="#/process-instance/"+n.id,i=t.extend({},e.search()||{},a||{}),r=["viewbox"];for(var c in a)r.push(c);return o.redirectTo(s,i,r)}}],priority:10})}]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null;e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.processDefinition.runtime.action",{id:"update-suspension-state-action",label:"PLUGIN_UPDATE_SUSPENSION_STATE",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processDefinition/update-suspension-state-action.html --\x3e\n<a class="btn btn-default btn-toolbar btn-suspend-action"\n   href\n   ng-click="openDialog()"\n   uib-tooltip="{{\'PLUGIN_SUSPENSION_SUSPEND_PROCESS\' | translate}}"\n   tooltip-placement="left"\n   ng-show="!processDefinition.suspended">\n  <span class="glyphicon glyphicon-pause"></span>\n</a>\n\n<a class="btn btn-default btn-toolbar"\n   href\n   ng-click="openDialog()"\n   uib-tooltip="{{\'PLUGIN_SUSPENSION_ACTIVATE_PROCESS\' | translate}}"\n   tooltip-placement="left"\n   ng-hide="!processDefinition.suspended">\n  <span class="glyphicon glyphicon-play"></span>\n</a>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processDefinition/update-suspension-state-action.html --\x3e\n',controller:["$scope","$uibModal",function(n,e){n.openDialog=function(){e.open({resolve:{processData:function(){return n.processData},processDefinition:function(){return n.processDefinition}},controller:"UpdateProcessDefinitionSuspensionStateController",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processDefinition/update-suspension-state-dialog.html --\x3e\n<div class="modal-header">\n  <h3>{{ processDefinition.suspended ? \'PLUGIN_SUSPENSION_ACTIVATE_PROCESS\' : \'PLUGIN_SUSPENSION_SUSPEND_PROCESS\' | translate }}</h3>\n</div>\n\n<div class="process-definition update-suspension-state modal-body">\n  <div notifications-panel></div>\n\n  <div ng-hide="status === \'SUCCESS\' || status === \'FAIL\'">\n\n    <p ng-show="processDefinition.suspended">\n      \x3c!-- activation --\x3e\n      {{\'PLUGIN_SUSPENSION_MESSAGE_1\' | translate}}\n    </p>\n\n    <p ng-hide="processDefinition.suspended">\n      \x3c!-- suspension --\x3e\n      {{\'PLUGIN_SUSPENSION_MESSAGE_2\' | translate}}\n    </p>\n\n    <form class="form-horizontal"\n          name="updateSuspensionStateForm"\n          novalidate\n          request-aware\n          ng-submit="updateSuspensionState()">\n      <fieldset>\n        <div class="form-group">\n          <label class="control-label col-xs-4"\n                 for="includeInstancesValue">{{\'PLUGIN_SUSPENSION_INCLUDE_INSTANCES\' | translate}}\n            \x3c!-- activation --\x3e\n            <span uib-tooltip="{{\'PLUGIN_SUSPENSION_INCLUDING_MESSAGE_1\' | translate}}"\n                  tooltip-placement="right"\n                  ng-show="processDefinition.suspended">\n              <span class="glyphicon glyphicon-question-sign"></span>\n            </span>\n\n            \x3c!-- suspension --\x3e\n            <span uib-tooltip="{{\'PLUGIN_SUSPENSION_INCLUDING_MESSAGE_2\' | translate}}"\n                  tooltip-placement="right"\n                  ng-hide="processDefinition.suspended">\n              <span class="glyphicon glyphicon-question-sign"></span>\n            </span>\n          </label>\n\n          <div class="col-xs-8">\n            <label class="checkbox">\n              <input id="includeInstancesValueId"\n                     name="includeInstancesValue"\n                     type="checkbox"\n                     ng-model="data.includeInstances">\n            </label>\n          </div>\n        </div>\n\n        <div class="form-group">\n          <label class="control-label col-xs-4" for="executeImmediately">{{\'PLUGIN_SUSPENSION_EXECUTE\' | translate}}\n            <span uib-tooltip="{{\'PLUGIN_SUSPENSION_DECIDE_ACTIVATION\' | translate}}"\n                  tooltip-placement="right"\n                  ng-show="processDefinition.suspended">\n              <span class="glyphicon glyphicon-question-sign"></span>\n            </span>\n            <span uib-tooltip="{{\'PLUGIN_SUSPENSION_DECIDE_SUSPENSION\' | translate}}"\n                  tooltip-placement="right"\n                  ng-hide="processDefinition.suspended">\n              <span class="glyphicon glyphicon-question-sign"></span>\n            </span>\n          </label>\n\n          <div class="col-xs-8">\n            <label class="radio">\n              <input ng-model="data.executeImmediately"\n                     ng-value="true"\n                     type="radio"\n                     name="execute">\n              {{\'PLUGIN_SUSPENSION_IMMEDIATELY\' | translate}}\n            </label>\n\n            <label class="radio">\n              <input ng-model="data.executeImmediately"\n                     ng-value="false"\n                     type="radio"\n                     name="execute">\n              {{\'PLUGIN_SUSPENSION_DELAYED\' | translate}}\n            </label>\n          </div>\n        </div>\n        <div class="form-group"\n             ng-show="!data.executeImmediately">\n          <label class="control-label col-xs-4"\n                 for="executionDateValue">\n            {{\'PLUGIN_SUSPENSION_SCHEDULE_AT\' | translate}}\n          </label>\n\n          <div class="col-xs-8">\n            <input date\n                   name="executionDateValue"\n                   ng-model="data.executionDate"\n                   class="form-control"\n                   type="text"\n                   required />\n\n            <p class="invalid"\n               ng-show="this.updateSuspensionStateForm.executionDateValue.$error.datePattern">\n              {{\'PLUGIN_SUSPENSION_VALID_PATTERN\' | translate}}\n            </p>\n            <p class="invalid"\n               ng-show="this.updateSuspensionStateForm.executionDateValue.$error.dateValue">\n              Invalid Date Value.\n            </p>\n          </div>\n        </div>\x3c!-- /.form-group --\x3e\n\n      </fieldset>\n    </form>\n\n    <p>\n      {{ processDefinition.suspended ? \'PLUGIN_SUSPENSION_WANT_TO_ACTIVATE\' : \'PLUGIN_SUSPENSION_WANT_TO_SUSPEND\' | translate }}\n    </p>\n\n  </div>\n\n  <div ng-show="status === \'SUCCESS\'">\n    <p ng-show="processDefinition.suspended && data.executeImmediately">\n      {{\'PLUGIN_SUSPENSION_STATE_ACTIVE\' | translate}}\n    </p>\n    <p ng-show="processDefinition.suspended && !data.executeImmediately"\n       translate="PLUGIN_SUSPENSION_ACTIVATION_SCHEDULED_TO"\n       translate-values=\'{date: (data.executionDate | camDate) }\'>\n    </p>\n    <p ng-show="!processDefinition.suspended && data.executeImmediately">\n      {{\'PLUGIN_SUSPENSION_STATE_SUSPENDED\' | translate}}\n    </p>\n    <p ng-show="!processDefinition.suspended && !data.executeImmediately"\n       translate="PLUGIN_SUSPENSION_SUSPENSION_SCHEDULED_TO"\n       translate-values=\'{date: (data.executionDate | camDate) }\'>\n    </p>\n  </div>\n\n  <div ng-show="status === \'FAIL\'">\n    <p ng-show="processDefinition.suspended && data.executeImmediately">\n      {{\'PLUGIN_SUSPENSION_STATE_NOT_ACTIVATED\' | translate}}.\n    </p>\n    <p ng-show="processDefinition.suspended && !data.executeImmediately"\n       translate="PLUGIN_SUSPENSION_ACTIVATION_NOT_SCHEDULED_TO"\n       translate-values=\'{date: (data.executionDate | camDate) }\'>\n    </p>\n    <p ng-show="!processDefinition.suspended && data.executeImmediately">\n      {{\'PLUGIN_SUSPENSION_STATE_NOT_SUSPENDED\' | translate}}\n    </p>\n    <p ng-show="!processDefinition.suspended && !data.executeImmediately"\n       translate="PLUGIN_SUSPENSION_SUSPENSION_NOT_SCHEDULED_TO"\n       translate-values=\'{date: (data.executionDate | camDate) }\'>\n    </p>\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-link"\n          ng-click="close(status)"\n          ng-disabled="status === \'PERFORM_UDPATE\'"\n          ng-hide="status === \'SUCCESS\' || status === \'FAIL\'">\n    {{\'PLUGIN_SUSPENSION_CLOSE\' | translate}}\n  </button>\n\n  <button type="submit"\n          class="btn btn-primary"\n          ng-click="updateSuspensionState()"\n          ng-hide="status === \'SUCCESS\' || status === \'FAIL\'"\n          ng-disabled="!isValid() || status === \'PERFORM_UDPATE\'">\n    {{ processDefinition.suspended ? \'PLUGIN_SUSPENSION_ACTIVATE\' : \'PLUGIN_SUSPENSION_SUSPEND\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="close(status)"\n          ng-show="status === \'SUCCESS\' || status === \'FAIL\'">\n    {{\'PLUGIN_SUSPENSION_OK\' | translate}}\n  </button>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processDefinition/update-suspension-state-dialog.html --\x3e\n'}).result.then((function(e){"SUCCESS"===e.status&&(e.executeImmediately&&(n.processDefinition.suspended=e.suspended),n.processData.set("filter",t.extend({},n.filter)))})).catch(t.noop)}}],priority:50})}]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null;e.exports=["$scope","$http","$filter","Uri","Notifications","$uibModalInstance","processDefinition","fixDate","$translate","$rootScope",function(n,e,a,s,i,o,r,c,l,d){var u=a("date");n.processDefinition=r,n.status="BEFORE_UPDATE",n.data={includeInstances:!0,executeImmediately:!0,executionDate:u(Date.now(),"yyyy-MM-dd'T'HH:mm:ss")},n.$on("$routeChangeStart",(function(){o.close(n.status)})),n.updateSuspensionState=function(){n.status="PERFORM_UDPATE";var t={};t.suspended=!r.suspended,t.includeProcessInstances=n.data.includeInstances,t.executionDate=n.data.executeImmediately?null:c(n.data.executionDate),e.put(s.appUri("engine://engine/:engine/process-definition/"+r.id+"/suspended/"),t).then((function(){n.status="SUCCESS",n.data.executeImmediately?(d.$broadcast("$processDefinition.suspensionState.changed",r),i.addMessage({status:l.instant("PLUGIN_UPDATE_SUSPENSION_STATE_STATUS_FINISHED"),message:l.instant("PLUGIN_UPDATE_SUSPENSION_STATE_MESSAGE_1"),exclusive:!0})):i.addMessage({status:l.instant("PLUGIN_UPDATE_SUSPENSION_STATE_STATUS_FINISHED"),message:l.instant("PLUGIN_UPDATE_SUSPENSION_STATE_MESSAGE_2"),exclusive:!0})})).catch((function(e){var t;n.status="FAIL",t=n.data.executeImmediately?l.instant("PLUGIN_UPDATE_SUSPENSION_STATE_MESSAGE_3",{message:e.data.message}):l.instant("PLUGIN_UPDATE_SUSPENSION_STATE_MESSAGE_4",{message:e.data.message}),i.addError({status:l.instant("PLUGIN_UPDATE_SUSPENSION_STATE_STATUS_FINISHED"),message:t,exclusive:!0})}))},n.isValid=function(){var n=t.element('[name="updateSuspensionStateForm"]').scope();return!(!n||!n.updateSuspensionStateForm)&&n.updateSuspensionStateForm.$valid},n.close=function(e){var t={};t.status=e,t.suspended=!r.suspended,t.executeImmediately=n.data.executeImmediately,t.executionDate=n.data.executionDate,o.close(t)}}]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("../../../../../client/scripts/components/variables/variable-add-dialog"),i=function(n){n.registerDefaultView("cockpit.processInstance.runtime.action",{id:"add-variable-action",label:"Add Variable Action",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/add-variable-action.html --\x3e\n<a class="btn btn-default btn-toolbar"\n   href\n   ng-click="openDialog()"\n   uib-tooltip="{{ \'PLUGIN_ADD_VARIABLE_NEW_VARIABLE\' | translate }}"\n   tooltip-placement="left">\n  <span class="glyphicon glyphicon-plus"></span>\n</a>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/add-variable-action.html --\x3e\n',controller:["$scope","$uibModal","$rootScope",function(n,e,t){n.openDialog=function(){e.open({scope:n,resolve:{resolved:function(){return{type:"PROCESS_INSTANCE",instanceId:n.processInstance.id}}},controller:s.controller,template:s.template}).result.then((function(e){"SUCCESS"===e&&(n.processData.set("filter",a.extend({},n.filter)),t.$broadcast("cam-common:cam-searchable:query-force-change"))})).catch(a.noop)}}],priority:10})};i.$inject=["ViewsProvider"],e.exports=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../../client/scripts/components/variables/variable-add-dialog":8}],34:[function(n,e,t){(function(t){(function(){"use strict";var a=n("../../../../../../common/scripts/util/search-widget-utils"),s="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null;e.exports=function(n){n.controller("CalledProcessInstanceController",["$scope","PluginProcessInstanceResource","$translate","localConf",function(n,e,t,i){var o,r=n.processData.newChild(n);n.headColumns=[{class:"state",request:"incidents",sortable:!0,content:"State"},{class:"called-process-instance",request:"id",sortable:!0,content:t.instant("PLUGIN_CALLED_PROCESS_PROCESS_INSTANCE")},{class:"process-definition",request:"processDefinitionLabel",sortable:!0,content:t.instant("PLUGIN_CALLED_PROCESS_PROCESS_DEFINITION")},{class:"activity",request:"instance.name",sortable:!0,content:t.instant("PLUGIN_CALLED_PROCESS_ACTIVITY")}],n.sortObj=(o={sortBy:"processDefinitionLabel",sortOrder:"asc",sortReverse:!1},i.get("sortCalledProcessInstTab",o)),n.onSortChange=function(e){(e=e||n.sortObj).sortReverse="asc"!==e.sortOrder,function(n){i.set("sortCalledProcessInstTab",n)}(e),n.sortObj=e};var c=null;n.getSearchQueryForSearchType=a.getSearchQueryForSearchType.bind(null,"activityInstanceIdIn"),r.observe(["filter","instanceIdToInstanceMap"],(function(t,a){!function(t,a){delete(c=s.copy(t)).page,delete c.activityIds,delete c.scrollToBpmnElement,c.activityInstanceIdIn=c.activityInstanceIds,delete c.activityInstanceIds,n.calledProcessInstances=null,n.loadingState="LOADING",e.processInstances({id:n.processInstance.id},c).$promise.then((function(e){s.forEach(e,(function(n){var e=a[n.callActivityInstanceId];n.instance=e,n.processDefinitionLabel=n.processDefinitionName||n.processDefinitionKey})),n.loadingState=e.length?"LOADED":"EMPTY",n.calledProcessInstances=e})).catch(s.noop)}(t,a)}))}]);var e=function(n){n.registerDefaultView("cockpit.processInstance.runtime.tab",{id:"called-process-instances-tab",label:"PLUGIN_CALLED_PROCESS_INSTANCE_LABEL",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/called-process-instance-table.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLUGIN_CALLED_PROCESS_NO_PROCESS_INSTANCES\' | translate }}">\n  <table class="called-process-instance cam-table">\n\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sortObj">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="calledProcessInstance in calledProcessInstances | orderBy:sortObj.sortBy:sortObj.sortReverse">\n        <td class="state">\n          <div ng-if="calledProcessInstance.incidents.length > -1" state-circle incidents="calledProcessInstance.incidents"></div>\n          <div ng-if="calledProcessInstance.incidents == undefined">\n            <span class="glyphicon glyphicon-refresh animate-spin"></span>\n          </div>\n        </td>\n        <td class="called-process-instance"\n            cam-widget-clipboard="calledProcessInstance.id">\n          <a href="#/process-instance/{{ calledProcessInstance.id }}/runtime">\n            {{ calledProcessInstance.id }}\n          </a>\n        </td>\n\n        <td class="process-definition"\n            cam-widget-clipboard="calledProcessInstance.processDefinitionId">\n          <a href="#/process-definition/{{ calledProcessInstance.processDefinitionId }}/runtime?parentProcessDefinitionId={{ processInstance.definitionId }}">\n            {{ calledProcessInstance.processDefinitionLabel}}\n          </a>\n        </td>\n\n        <td class="activity">\n          <span ng-if="!!calledProcessInstance.instance"\n                cam-widget-clipboard="calledProcessInstance.instance.id">\n            <a ng-href="#/process-instance/{{ processInstance.id }}/runtime?tab=called-process-instances-tab&{{ getSearchQueryForSearchType(calledProcessInstance.instance.id) }}">\n              {{ calledProcessInstance.instance.name }}\n            </a>\n          </span>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/called-process-instance-table.html --\x3e\n',controller:"CalledProcessInstanceController",priority:10})};e.$inject=["ViewsProvider"],n.config(e)}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../../../common/scripts/util/search-widget-utils":87}],35:[function(n,e,t){"use strict";e.exports=function(n){n.controller("CancelProcessInstanceActionController",["$scope","search","Uri","$uibModal",function(n,e,t,a){n.openDialog=function(){a.open({resolve:{processData:function(){return n.processData},processInstance:function(){return n.processInstance}},controller:"CancelProcessInstanceController",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/cancel-process-instance-dialog.html --\x3e\n<div class="modal-header">\n  <h3>{{ \'PLUGIN_CANCEL_PROCESS_DELETE_PROCESS_INSTANCE\' | translate }}</h3>\n</div>\n\n<div class="cancel-process-instance modal-body">\n  <div notifications-panel></div>\n\n  <div ng-hide="status === \'cancellationSuccess\' || status === \'cancellationFailed\' || status === \'beforeCancellation\' || status === \'loadingFailed\'">\n    <span class="glyphicon glyphicon-loading"></span>\n    {{ \'PLUGIN_CANCEL_PROCESS_LOADING_INFORMATION\' | translate }}\n  </div>\n\n  <p ng-show="status === \'loadingFailed\'">\n    {{ \'PLUGIN_CANCEL_PROCESS_LOADING_FAILED\' | translate }}\n  </p>\n\n  <div ng-show="status === \'beforeCancellation\'">\n    <div ng-show="subProcessInstances.length > 0">\n      <p>\n        {{ \'PLUGIN_CANCEL_PROCESS_BEFORE_DELETION\' | translate }}\n      </p>\n\n      <table class="table cam-table">\n        <thead>\n          <tr>\n            <th class="instance-id uuid">{{ \'PLUGIN_CANCEL_PROCESS_ID\' | translate }}</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr ng-repeat="subProcessInstance in subProcessInstances">\n            <td class="instance-id uuid">\n              <a target="_blank"\n                 ng-href="#/process-instance/{{ subProcessInstance.id }}">\n                {{ subProcessInstance.id }}\n              </a>\n            </td>\n          </tr>\n\n          <tr>\n            <td ng-hide="subProcessInstances.length === subProcessInstancesCount">\n             <span translate="PLUGIN_CANCEL_PROCESS_OTHER_PROCESS_INSTANCES"\n                   translate-values="{count: subProcessInstancesCount - subProcessInstances.length}"></span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <form class="form-horizontal"\n          name="cancelProcessInstanceForm"\n          novalidate\n          request-aware>\n      <div  ng-hide="hideSkipCustomListeners"\n            class="form-group skip-custom-listener">\n\n        <label class="control-label col-xs-5"\n               for="skipCustomListeners">\n          {{ \'PLUGIN_CANCEL_PROCESS_SKIP_CUSTOM_LISTENERS\' | translate }}\n          <span class="glyphicon glyphicon-question-sign"\n                uib-tooltip="{{ \'PLUGIN_CANCEL_PROCESS_TOOLTIP_VALUE_ENABLED\' | translate }}"\n                tooltip-placement="right">\n          </span>\n        </label>\n\n        <div class="col-xs-7">\n          <label class="checkbox">\n            <input name="skipCustomListeners"\n                   type="checkbox"\n                   ng-model="options.skipCustomListeners">\n          </label>\n        </div>\n\n      </div>\n\n      <div class="form-group skip-custom-listener"\n           ng-hide="SKIP_IO_MAPPINGS.hidden">\n\n        <label class="control-label col-xs-5"\n               for="skipIoMappings">\n          {{ \'PLUGIN_CANCEL_PROCESS_SKIP_IO_MAPPINGS\' | translate }}\n          <span class="glyphicon glyphicon-question-sign"\n                uib-tooltip="{{ \'PLUGIN_CANCEL_PROCESS_TOOLTIP_VALUE_ENABLED_IO\' | translate }}"\n                tooltip-placement="right">\n          </span>\n        </label>\n\n        <div class="col-xs-7">\n          <label class="checkbox">\n            <input name="skipIoMappings"\n                   type="checkbox"\n                   ng-model="options.skipIoMappings">\n          </label>\n        </div>\n\n      </div>\n    </form>\n\n    <p>{{ \'PLUGIN_CANCEL_PROCESS_DELETE_CONFIRM\' | translate }}</p>\n  </div>\n\n  <div ng-show="status === \'cancellationSuccess\'">\n    <p>{{ \'PLUGIN_CANCEL_PROCESS_DELETE_SUCCESS_1\' | translate }}</p>\n    <p>{{ \'PLUGIN_CANCEL_PROCESS_DELETE_SUCCESS_2\' | translate }}</p>\n  </div>\n\n  <div ng-show="status === \'cancellationFailed\'">\n    <p>{{ \'PLUGIN_CANCEL_PROCESS_DELETE_FAILED_1\' | translate }}</p>\n    <p>{{ \'PLUGIN_CANCEL_PROCESS_DELETE_FAILED_2\' | translate }}</p>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="close(status)"\n          ng-disabled="status === \'performCancellation\'"\n          ng-hide="status === \'cancellationSuccess\' || status === \'cancellationFailed\' || status === \'loadingFailed\'">\n    {{ \'PLUGIN_CANCEL_PROCESS_CLOSE\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="close(status)"\n          ng-show="status === \'cancellationSuccess\' || status === \'cancellationFailed\' || status === \'loadingFailed\'">\n    {{ \'PLUGIN_CANCEL_PROCESS_OK\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="cancelProcessInstance()"\n          ng-disabled="status !== \'beforeCancellation\'"\n          ng-hide="status === \'cancellationSuccess\' || status === \'cancellationFailed\' || status === \'loadingFailed\'">\n    {{ \'PLUGIN_CANCEL_PROCESS_DELETE_PROCESS_INSTANCE\' | translate }}\n  </button>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/cancel-process-instance-dialog.html --\x3e\n'}).result.catch((function(){}))}}]);var e=function(n){n.registerDefaultView("cockpit.processInstance.runtime.action",{id:"cancel-process-instance-action",label:"PLUGIN_CANCEL_PROCESS_DELETE_ACTION",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/cancel-process-instance-action.html --\x3e\n<a class="btn btn-default btn-toolbar"\n   href\n   ng-click="openDialog()"\n   uib-tooltip="{{ \'PLUGIN_CANCEL_PROCESS_RUNNING_PROCESS_INSTANCE\' | translate }}"\n   tooltip-placement="left">\n  <span class="glyphicon glyphicon-remove"></span>\n</a>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/cancel-process-instance-action.html --\x3e\n',controller:"CancelProcessInstanceActionController",priority:20})};e.$inject=["ViewsProvider"],n.config(e)}},{}],36:[function(n,e,t){"use strict";e.exports=["$scope","$location","Notifications","ProcessInstanceResource","$uibModalInstance","processInstance","processData","Views","$translate","configuration",function(n,e,t,a,s,i,o,r,c,l){var d="cancellationSuccess",u=l.getSkipCustomListeners(),p=n.SKIP_IO_MAPPINGS=l.getSkipIoMappings();n.processInstance=i;var f=o.newChild(n);n.options={skipCustomListeners:u.default,skipIoMappings:p.default},n.hideSkipCustomListeners=u.hidden,n.$on("$routeChangeStart",(function(){s.close(n.status)})),f.provide("subProcessInstances",(function(){return a.query({firstResult:0,maxResults:5},{superProcessInstance:i.id}).$promise})),f.provide("subProcessInstancesCount",(function(){return a.count({superProcessInstance:i.id}).$promise})),f.observe(["subProcessInstancesCount","subProcessInstances"],(function(e,t){n.subProcessInstancesCount=e.count,n.subProcessInstances=t,n.status="beforeCancellation"})),n.cancelProcessInstance=function(){n.status="performCancellation",n.processInstance.$delete(n.options,(function(){n.status=d,t.addMessage({status:c.instant("PLUGIN_CANCEL_PROCESS_STATUS_DELETED"),message:c.instant("PLUGIN_CANCEL_PROCESS_MESSAGE_1")})}),(function(e){n.status="cancellationFailed",t.addError({status:c.instant("PLUGIN_CANCEL_PROCESS_STATUS_FAILED"),message:c.instant("PLUGIN_CANCEL_PROCESS_MESSAGE_2",{message:e.data.message}),exclusive:["type"]})}))},n.close=function(n){var t,a;(s.close(n),n===d)&&(r.getProvider({id:"history",component:"cockpit.processInstance.view"})?(a=e.search(),t="/process-instance/"+i.id+"/history"):t="/process-definition/"+i.definitionId,e.path(t),e.search(a||{}),e.replace())}}]},{}],37:[function(n,e,t){"use strict";var a=n("../../../../../../client/scripts/components/callActivityOverlays/instance")("runtime");e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.processInstance.diagram.plugin",{id:"activity-instance-call-activity-overlay",overlay:a})}]},{"../../../../../../client/scripts/components/callActivityOverlays/instance":7}],38:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s="undefined"!=typeof window?window["cam-common"]:void 0!==t?t["cam-common"]:null,i=n("./instanceCount"),o=n("./callActivity"),r=a.module("cockpit.plugin.base.views.instance.diagram-plugins",[s.name]);r.config(i),r.config(o),e.exports=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./callActivity":37,"./instanceCount":39}],39:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("../../common/diagramPlugins/instanceCount");e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.processInstance.diagram.plugin",{id:"activity-instance-statistics-overlay",overlay:["$scope","control","processData","processDiagram","Loaders","$filter","$rootScope","$translate",function(n,e,t,i,o,r,c,l){var d={observe:function(n){t.observe(["activityIdToInstancesMap","activityIdToIncidentIdMap"],(function(e,t){n([e,t])}))},getData:function(n,e,t){var s=n.id,i=a.copy(e[s]||[]),o=a.copy(t[s]||[]),r=e[s+"#multiInstanceBody"]||[],c=t[s+"#multiInstanceBody"]||[],l=e[s+"#multiInstanceBody"];return{instanceCount:u({instances:i,instancesMI:r}),incidents:o.length||c.length,multiInstance:l}},updateOverlayNodes:function(n,e){n.instancesNode.text(r("abbreviateNumber")(e.instanceCount)),n.incidentsNode.text(r("abbreviateNumber")(e.incidents)),e.instanceCount<=0?n.instancesNode.hide():(n.instancesNode.show(),n.instancesNode.tooltip({container:"body",title:l.instant("PLUGIN_ACTIVITY_INSTANCE_RUNNING_ACTIVITY_INSTANCES"),placement:"top",animation:!1}));e.incidents?(n.incidentsNode.show(),n.incidentsNode.tooltip({container:"body",title:l.instant("PLUGIN_ACTIVITY_INSTANCE_OPEN_INCIDENTS"),placement:"top",animation:!1})):n.incidentsNode.hide()},isActive:function(n){return n.instanceCount>0||n.incidents}};function u(n){var e=0;return n.instances&&(e+=n.instances.length||0),n.instancesMI&&(e+=n.instancesMI.filter((function(n){return n.isTransitionInstance})).length||0),e}s(n,e,t,i,o,c,d)}]})}]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../common/diagramPlugins/instanceCount":17}],40:[function(n,e,t){"use strict";e.exports=["$scope","$location","Notifications","camAPI","$uibModalInstance","incident","$translate",function(n,e,t,a,s,i,o){var r=a.resource("external-task");n.$on("$routeChangeStart",(function(){s.close(n.status)})),n.incrementRetry=function(){n.status="performing",r.retries({id:i.configuration,retries:1},(function(e){e?(n.status="failed",t.addError({status:o.instant("PLUGIN_EXTERNAL_TASK_STATUS_FINISHED"),message:o.instant("PLUGIN_EXTERNAL_TASK_MESSAGE_2",{message:e.message}),exclusive:!0})):(n.status="finished",t.addMessage({status:o.instant("PLUGIN_EXTERNAL_TASK_STATUS_FINISHED"),message:o.instant("PLUGIN_EXTERNAL_TASK_MESSAGE_1"),exclusive:!0}))}))},n.close=function(n){s.close(n)}}]},{}],41:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null,a=function(n){n.registerDefaultView("cockpit.incident.action",{id:"increase-incident-external-task-retry",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/incident-external-task-retry-action.html --\x3e\n<a class="btn btn-default action-button"\n   ng-click="openExternalTaskRetryDialog(incident)"\n   ng-show="incident.incidentType === \'failedExternalTask\' && incident.configuration"\n   uib-tooltip="{{ \'PLUGIN_INC_EXTERNAL_TOOLTIP_RETRIES\' | translate }}"\n   tooltip-placement="left">\n  <span class="glyphicon glyphicon-repeat"></span>\n</a>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/incident-external-task-retry-action.html --\x3e',controller:["$scope","$rootScope","search","$uibModal",function(n,e,a,s){n.openExternalTaskRetryDialog=function(e){s.open({resolve:{incident:function(){return e}},controller:"ExternalTaskRetryController",template:"\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/job-retry-dialog.html --\x3e\n<div class=\"modal-header\">\n  <h3>{{ 'PLUGIN_JOB_RETRY_LEGEND_1' | translate }}</h3>\n</div>\n\n<div class=\"job-retry modal-body\">\n  <div notifications-panel></div>\n\n  <div ng-hide=\"status === 'finished' || status === 'failed'\">\n    <p>{{ 'PLUGIN_JOB_RETRY_LEGEND_2' | translate }}</p>\n    <p>{{ 'PLUGIN_JOB_RETRY_LEGEND_3' | translate }}</p>\n  </div>\n\n  <div ng-show=\"status === 'finished'\">\n    {{ 'PLUGIN_JOB_RETRY_LEGEND_4' | translate }}\n  </div>\n\n  <div ng-show=\"status === 'failed'\">\n    {{ 'PLUGIN_JOB_RETRY_LEGEND_5' | translate }}\n  </div>\n\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'performing'\"\n          ng-hide=\"status === 'finished' || status === 'failed'\">\n    {{ 'PLUGIN_JOB_RETRY_BTN_CLOSE' | translate }}\n  </button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"incrementRetry()\"\n          ng-hide=\"status === 'finished' || status === 'failed'\"\n          ng-disabled=\"status === 'performing'\">\n    {{ 'PLUGIN_JOB_RETRY_BTN_RETRY' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'finished' || status === 'failed'\">\n    {{ 'PLUGIN_JOB_RETRY_BTN_OK' | translate }}\n  </button>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/job-retry-dialog.html --\x3e\n"}).result.then((function(e){"finished"===e&&n.processData.set("filter",t.extend({},n.filter))})).catch(t.noop)}}],priority:50})};a.$inject=["ViewsProvider"],e.exports=a}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null,a=function(n){n.registerDefaultView("cockpit.incident.action",{id:"increase-incident-job-retry",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/incident-job-retry-action.html --\x3e\n<a class="btn btn-default action-button"\n   ng-click="openJobRetryDialog(incident)"\n   ng-show="incident.incidentType === \'failedJob\' && incident.configuration"\n   uib-tooltip="{{ \'PLUGIN_INC_JOB_RETRY_TOOLTIP_RETRIES\' | translate }}"\n   tooltip-placement="left">\n  <span class="glyphicon glyphicon-repeat"></span>\n</a>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/incident-job-retry-action.html --\x3e',controller:["$scope","$rootScope","search","$uibModal",function(n,e,a,s){n.openJobRetryDialog=function(e){s.open({resolve:{incident:function(){return e}},controller:"JobRetryController",template:"\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/job-retry-dialog.html --\x3e\n<div class=\"modal-header\">\n  <h3>{{ 'PLUGIN_JOB_RETRY_LEGEND_1' | translate }}</h3>\n</div>\n\n<div class=\"job-retry modal-body\">\n  <div notifications-panel></div>\n\n  <div ng-hide=\"status === 'finished' || status === 'failed'\">\n    <p>{{ 'PLUGIN_JOB_RETRY_LEGEND_2' | translate }}</p>\n    <p>{{ 'PLUGIN_JOB_RETRY_LEGEND_3' | translate }}</p>\n  </div>\n\n  <div ng-show=\"status === 'finished'\">\n    {{ 'PLUGIN_JOB_RETRY_LEGEND_4' | translate }}\n  </div>\n\n  <div ng-show=\"status === 'failed'\">\n    {{ 'PLUGIN_JOB_RETRY_LEGEND_5' | translate }}\n  </div>\n\n</div>\n\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'performing'\"\n          ng-hide=\"status === 'finished' || status === 'failed'\">\n    {{ 'PLUGIN_JOB_RETRY_BTN_CLOSE' | translate }}\n  </button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"incrementRetry()\"\n          ng-hide=\"status === 'finished' || status === 'failed'\"\n          ng-disabled=\"status === 'performing'\">\n    {{ 'PLUGIN_JOB_RETRY_BTN_RETRY' | translate }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'finished' || status === 'failed'\">\n    {{ 'PLUGIN_JOB_RETRY_BTN_OK' | translate }}\n  </button>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/job-retry-dialog.html --\x3e\n"}).result.then((function(e){"finished"===e&&n.processData.set("filter",t.extend({},n.filter))})).catch(t.noop)}}],priority:50})};a.$inject=["ViewsProvider"],e.exports=a}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],43:[function(n,e,t){"use strict";var a=function(n){n.registerDefaultView("cockpit.processInstance.runtime.tab",{id:"incidents-tab",label:"PLUGIN_INCIDENTS_LABEL",template:'<incidents-tab\n  process-data="processData"\n  process-instance="processInstance" />\n',priority:15})};a.$inject=["ViewsProvider"],e.exports=a},{}],44:[function(n,e,t){"use strict";e.exports=function(n){n.controller("JobRetryActionController",["$scope","$uibModal",function(n,e){n.openDialog=function(){e.open({resolve:{processData:function(){return n.processData},processInstance:function(){return n.processInstance}},size:"lg",controller:"JobRetriesController",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/job-retry-bulk-dialog.html --\x3e\n<div class="modal-header">\n  <h3>{{ \'PLUGIN_JOB_RETRY_BULK_INCREMENT_RETRIES\' | translate }}</h3>\n</div>\n\n<div class="job-retry-bulk modal-body">\n  <div notifications-panel></div>\n\n  <form name="selectFailedJobsForm"\n        ng-hide="status === \'finished\' || status === \'performing\'">\n    <fieldset>\n      <p>{{ \'PLUGIN_JOB_RETRY_BULK_SELECT_FAILED_JOB\' | translate }}</p>\n      <div cam-widget-loader\n           loading-state="{{ loadingState }}"\n           text-empty="{{ \'PLUGIN_JOB_RETRY_BULK_THERE_ARE_NO_FAILED_JOBS\' | translate }}">\n        <table class="cam-table">\n          <thead>\n            <tr>\n              <th class="row-select">\n                <input type="checkbox"\n                       title="Select all"\n                       ng-model="allJobsSelected"\n                       ng-change="selectAllJobs(allJobsSelected)">\n              </th>\n              <th class="job-id uuid">{{ \'PLUGIN_JOB_RETRY_BULK_ID\' | translate }}</th>\n              <th class="scope">{{ \'PLUGIN_JOB_RETRY_BULK_SCOPE\' | translate }}</th>\n              <th class="exception">{{ \'PLUGIN_JOB_RETRY_BULK_EXCEPTION\' | translate }}</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr ng-repeat="job in failedJobs">\n              <td class="row-select">\n                <input type="checkbox"\n                       ng-model="job.selected"\n                       ng-change="selectFailedJob(job)">\n              </td>\n\n              <td class="job-id uuid">{{ job.id }}</td>\n\n              <td class="scope">{{ job.instance.name }}</td>\n\n              <td class="exception">{{ job.exceptionMessage }}</td>\n            </tr>\n          </tbody>\n        </table>\n\n\n        <ul uib-pagination ng-if="jobPages.total > jobPages.size"\n                    class="pagination-sm"\n\n                    page="jobPages.current"\n                    ng-model="jobPages.current"\n\n                    total-items="jobPages.total"\n                    items-per-page="jobPages.size"\n\n                    max-size="7"\n                    boundary-links="true"></ul>\n      </div>\n    </fieldset>\n  </form>\n\n  <div ng-show="status === \'finished\' || status === \'performing\'">\n\n    <table class="cam-table">\n      <thead>\n        <tr>\n          <th class="job-id uuid">{{ \'PLUGIN_JOB_RETRY_BULK_ID\' | translate }}</th>\n          <th class="scope">{{ \'PLUGIN_JOB_RETRY_BULK_SCOPE\' | translate }}</th>\n          <th class="status">{{ \'PLUGIN_JOB_RETRY_BULK_STATUS\' | translate }}</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr ng-repeat="job in showJobsRetried">\n          <td class="job-id uuid">{{ job.id }}</td>\n\n          <td class="scope">{{ job.instance.name }}</td>\n\n          <td class="status">\n            <span ng-show="job.status && job.status === \'performing\'">\n              <span class="glyphicon glyphicon-loading"></span>\n            </span>\n            <span ng-show="job.status && job.status === \'successful\'">\n              <span class="glyphicon glyphicon-ok"></span>&nbsp;{{ \'PLUGIN_JOB_RETRY_BULK_SUCCESSFUL\' | translate }}\n            </span>\n            <span ng-show="job.status && job.status === \'failed\'">\n              <span class="glyphicon glyphicon-remove"></span>&nbsp;{{ \'PLUGIN_JOB_RETRY_BULK_FAILED\' | translate }}\n            </span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n\n    <ul uib-pagination ng-if="summarizePages.total > summarizePages.size"\n                class="pagination-sm"\n\n                page="summarizePages.current"\n                ng-model="summarizePages.current"\n\n                total-items="summarizePages.total"\n                items-per-page="summarizePages.size"\n\n                max-size="7"\n                boundary-links="true"></ul>\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="close()"\n          ng-hide="status === \'finished\' || status === \'performing\'">\n    {{ \'PLUGIN_JOB_RETRY_BULK_CLOSE\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="retryFailedJobs(selectedFailedJobIds)"\n          ng-disabled="!failedJobs || !failedJobs.length || !selectedFailedJobIds.length"\n          ng-hide="status === \'finished\' || status === \'performing\'">\n    {{ \'PLUGIN_JOB_RETRY_BULK_RETRY\' | translate }}\n    <span ng-if="selectedFailedJobIds.length > 1"\n          translate="PLUGIN_JOB_RETRY_BULK_JOBS"\n          translate-values="{count: selectedFailedJobIds.length}"></span>\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="close()"\n          ng-disabled="status === \'performing\'"\n          ng-show="status === \'performing\' || status === \'finished\'">\n    {{ \'PLUGIN_JOB_RETRY_BULK_OK\' | translate }}\n  </button>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/job-retry-bulk-dialog.html --\x3e\n'}).result.catch((function(){}))}}]);var e=function(n){n.registerDefaultView("cockpit.processInstance.runtime.action",{id:"job-retry-action",label:"Job Retry Action",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/job-retry-bulk-action.html --\x3e\n<a class="btn btn-default btn-toolbar"\n   href\n   ng-click="openDialog()"\n   uib-tooltip="{{ \'PLUGIN_JOB_RETRY_BULK_RETRIES_FAILED_JOB\' | translate }}"\n   tooltip-placement="left">\n  <span class="glyphicon glyphicon-repeat"></span>\n</a>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/job-retry-bulk-action.html --\x3e\n',controller:"JobRetryActionController",priority:15})};e.$inject=["ViewsProvider"],n.config(e)}},{}],45:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null;e.exports=["$scope","$q","Notifications","JobResource","$uibModalInstance","processData","processInstance","$translate",function(n,e,a,s,i,o,r,c){var l=o.newChild(n),d=n.jobPages={size:5,total:0},u=n.summarizePages={size:5,total:0},p={},f=n.selectedFailedJobIds=[],I=!1;n.allJobsSelected=!1;var b="performing",g="successful",_="failed",E=l.observe("executionIdToInstanceMap",(function(n){E=n}));n.$on("$routeChangeStart",(function(){i.close(n.status)})),n.$watch("jobPages.current",(function(e,a){e?e!==a&&(d.current=e,function(e){n.failedJobs=null,n.allJobsSelected=!1,n.loadingState="LOADING";var a=d.size,i=(e-1)*a;s.count({processInstanceId:r.id,withException:!0,noRetriesLeft:!0}).$promise.then((function(e){d.total=e.count,d.total?s.query({firstResult:i,maxResults:a},{processInstanceId:r.id,withException:!0,noRetriesLeft:!0}).$promise.then((function(e){for(var t,s=0;t=e[s];s++){p[t.id]=t;var i=E[t.executionId];t.instance=i,t.selected=f.indexOf(t.id)>-1}n.failedJobs=e,n.loadingState="LOADED",d.total<=a&&(n.allJobsSelected=!0,n.selectAllJobs(!0))})).catch(t.noop):n.loadingState="EMPTY"})).catch(t.noop)}(e)):d.current=1})),n.$watch("summarizePages.current",(function(e){e&&function(e){for(var t=u.size,a=(e-1)*t,s=n.showJobsRetried=[],i=0;i<t;i++){var o=f[i+a],r=p[o];r&&s.push(r)}}(e)})),n.selectAllJobs=function(e){t.forEach(n.failedJobs,(function(n){n.selected=e,m(n)}))};var m=n.selectFailedJob=function(e){var t=f.indexOf(e.id);if(!0!==e.selected)return!1===e.selected?(f.splice(t,1),void(!0===n.allJobsSelected&&(n.allJobsSelected=!1))):void 0;-1===t&&f.push(e.id)};n.retryFailedJobs=function(i){n.status=b,u.total=i.length,u.current=1,function(n){var t=e.defer(),a=n.length;function i(n){n.status=b,s.setRetries({id:n.id},{retries:1},(function(){n.status=g,0===(a-=1)&&t.resolve()}),(function(e){I=!0,n.status=_,n.retryError=e,0===(a-=1)&&t.resolve()}))}for(var o,r=0;o=n[r];r++){i(p[o])}return t.promise}(i).then((function(){I?a.addError({status:c.instant("PLUGIN_JOB_RETRY_STATUS_FINISHED"),message:c.instant("PLUGIN_JOB_RETRY_ERROR_2"),exclusive:!0}):a.addMessage({status:c.instant("PLUGIN_JOB_RETRY_STATUS_FINISHED"),message:c.instant("PLUGIN_JOB_RETRY_MESSAGE_2"),exclusive:!0}),n.status="finished"})).catch(t.noop)},n.close=function(n){i.close(n)}}]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(n,e,t){"use strict";e.exports=["$scope","$location","Notifications","JobResource","$uibModalInstance","incident","$translate",function(n,e,t,a,s,i,o){n.$on("$routeChangeStart",(function(){s.close(n.status)})),n.incrementRetry=function(){n.status="performing",a.setRetries({id:i.configuration},{retries:1},(function(){n.status="finished",t.addMessage({status:o.instant("PLUGIN_JOB_RETRY_STATUS_FINISHED"),message:o.instant("PLUGIN_JOB_RETRY_MESSAGE_1"),exclusive:!0})}),(function(e){n.status="failed",t.addError({status:o.instant("PLUGIN_JOB_RETRY_STATUS_FINISHED"),message:o.instant("PLUGIN_JOB_RETRY_ERROR_1",{message:e.data.message}),exclusive:!0})}))},n.close=function(n){s.close(n)}}]},{}],47:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("../../../../../../../camunda-commons-ui/vendor/moment"),i=function(n){n.registerDefaultView("cockpit.processInstance.runtime.tab",{id:"jobs-tab",label:"PLUGIN_JOBS_LABEL",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/jobs-tab.html --\x3e\n\n<div cam-widget-loader\nloading-state="{{ loadingState }}"\ntext-empty="{{ \'PLUGIN_JOBS_NO_JOBS\' | translate }}">\n\n  <table class="jobs-tab cam-table">\n\n    <thead sortable-table-head\n      head-columns="headColumns"\n      on-sort-change="onSortChange(sortObj)"\n      default-sort="sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="job in jobs">\n        <td class="id">\n            <span cam-widget-clipboard="job.id">{{job.id}}</span>\n        </td>\n        <td class="date">\n            <span ng-if="job.dueDate" cam-widget-clipboard="job.dueDate | camDate">{{job.dueDate | camDate}}</span>\n            <span ng-if="!job.dueDate" class="null-value">null</span>\n        </td>\n        <td>\n            <span cam-widget-clipboard="job.createTime | camDate">{{job.createTime | camDate}}</span>\n        </td>\n        <td>\n          {{job.retries}}\n        </td>\n        <td>\n          <a ng-href="#/process-instance/{{ processInstance.id }}/runtime?activityIds={{job.activityId}}&amp;tab=jobs-tab">\n            {{job.activityName}}\n          </a>\n        </td>\n        <td>\n          <span ng-if="job.failedActivityId"\n          cam-widget-clipboard="job.failedActivityId">\n            {{ job.failedActivityName }}\n          </span>\n        </td>\n        <td>\n            <a class="btn btn-sm btn-default action-button"\n               ng-click="toggleSuspension(job)"\n               ng-if="job.suspended"\n               uib-tooltip="{{ \'PLUGIN_JOBS_RESUME_TOOLTIP\' | translate }}"\n               tooltip-placement="left">\n\n              <span class="glyphicon glyphicon-play"></span>\n            </a>\n            <a class="btn btn-sm btn-default action-button"\n               ng-click="toggleSuspension(job)"\n               ng-if="!job.suspended"\n               uib-tooltip="{{ \'PLUGIN_JOBS_SUSPEND_TOOLTIP\' | translate }}"\n               tooltip-placement="left">\n\n              <span class="glyphicon glyphicon-pause"></span>\n            </a>\n            <a class="btn btn-sm btn-default action-button"\n               ng-click="openRecalculationWindow(job)"\n               ng-if="job.dueDate"\n               uib-tooltip="{{ \'PLUGIN_JOB_RECALCULATE_TOOLTIP\' | translate }}"\n               tooltip-placement="left">\n\n              <span class="glyphicon glyphicon-time"></span>\n            </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div cam-pagination="onPaginationChange(pages)" total="pages.total"></div>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/jobs-tab.html --\x3e',priority:0,controller:["$scope","camAPI","Notifications","$translate","$uibModal","localConf","$q",function(n,e,t,i,o,r,c){var l=e.resource("job"),d=e.resource("job-definition"),u=n.processInstance;n.pages={size:50,total:0,current:1},n.bpmnElements=[];var p,f=n.sorting=(p={sortBy:"jobId",sortOrder:"desc"},r.get("sortPIJobsTab",p));n.headColumns=[{class:"id",request:"jobId",sortable:!0,content:i.instant("PLUGIN_JOBS_ID")},{class:"dueDate",request:"jobDueDate",sortable:!0,content:i.instant("PLUGIN_JOBS_DATE")},{class:"createTime",request:"createTime",sortable:!1,content:i.instant("PLUGIN_JOBS_CREATION_DATE")},{class:"retries",request:"jobRetries",sortable:!0,content:i.instant("PLUGIN_JOBS_RETRIES")},{class:"activityName",request:"activityName",sortable:!1,content:i.instant("PLUGIN_JOBS_ACTIVITY")},{class:"failedActivityId",request:"failedActivityId",sortable:!1,content:i.instant("PLGN_HIST_FAILING_ACTIVITY")},{class:"action",request:"",sortable:!1,content:i.instant("PLUGIN_JOBS_ACTION")}],n.onSortChange=function(n){(function(n){r.set("sortPIJobsTab",n)})(f=n),I(f)},n.onPaginationChange=function(e){n.pages.current=e.current,I(f)};var I=function(e){var t=n.pages.current,a=n.pages.size,s=(t-1)*a,i={processInstanceId:u.id,firstResult:s,maxResults:a,sorting:[{sortBy:e.sortBy,sortOrder:e.sortOrder}]};l.count(i,(function(e,t){n.pages.total=t})),n.loadingState="LOADING",l.list(i,b)},b=function(e,a){if(e)t.addError({status:i.instant("PLUGIN_JOBS"),message:i.instant("PLUGIN_JOBS_LOADING_ERROR")});else{n.jobs=a;var s=n.jobs.reduce((function(n,e){return e.jobDefinitionId&&n.add(e.jobDefinitionId),n}),new Set),o=[];s.forEach((function(n){o.push(d.get(n))})),c.all(o).then((function(e){var t=e;n.jobs=n.jobs.map((function(n){var e=t.filter((function(e){return e.id===n.jobDefinitionId}))[0];return e&&(n.activityId=e.activityId),n})),E(),n.loadingState=n.jobs.length?"LOADED":"EMPTY"}))}},g=function(n,e){l.recalculateDuedate({id:n.id,creationDateBased:e},(function(e){e?t.addError({status:i.instant("PLUGIN_JOBS_RECALCULATE_ERROR"),message:i.instant("PLUGIN_JOBS_RECALCULATE_ERROR_MESSAGE"),exclusive:!0}):(t.addMessage({status:i.instant("PLUGIN_JOBS_RECALCULATE_SUCCESS"),message:i.instant("PLUGIN_JOBS_RECALCULATE_SUCCESS_MESSAGE"),exclusive:!0}),_(n))}))},_=function(e){l.get(e.id,(function(t,a){a&&(a.activityName=e.activityName,a.activityId=e.activityId,n.jobs[n.jobs.indexOf(e)]=a)}))};n.openRecalculationWindow=function(n){o.open({controller:["$scope","$filter",function(e,a){var o=a("date");e.cascade=!0,e.date=o(Date.now(),"yyyy-MM-dd'T'HH:mm:ss"),e.submit=function(){switch(e.recalculationType){case"specific":!function(n,e,a){l.setDuedate({id:n.id,duedate:e,cascade:a},(function(e){e?t.addError({status:i.instant("PLUGIN_JOBS_RECALCULATE_ERROR"),message:i.instant("PLUGIN_JOBS_SET_DUEDATE_ERROR_MESSAGE"),exclusive:!0}):(t.addMessage({status:i.instant("PLUGIN_JOBS_RECALCULATE_SUCCESS"),message:i.instant("PLUGIN_JOBS_SET_DUEDATE_SUCCESS_MESSAGE"),exclusive:!0}),_(n))}))}(n,s(e.date,s.ISO_8601).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"),e.cascade);break;case"now":g(n,!1);break;case"creation":g(n,!0)}e.status="DONE"},e.isValid=function(){return"specific"!==e.recalculationType||this.rescheduleJobDuedateForm.$valid}}],template:'\x3c!-- # CE - camunda-bpm-webapp/ui/cockpit/plugins/base/app/views/processInstance/jobs-reschedule-modal.html --\x3e\n<div class="modal-header">\n  <h3 class="modal-title">{{ \'PLUGIN_JOBS_MODAL_TITLE\' | translate  }}</h3>\n</div>\n\n<div class="modal-body">\n  <div notifications-panel></div>\n\n\n  <div ng-hide="status === \'DONE\'">\n    <p class="">{{ \'PLUGIN_JOBS_MODAL_DESCRIPTION\' | translate }}</p>\n    <form name="rescheduleJobDuedateForm" class="form-horizontal">\n      <fieldset>\n        <div class="form-group">\n          <label class="control-label col-xs-4">\n                  {{\'PLUGIN_JOBS_RECALCULATE\' | translate}}\n\n            <span uib-tooltip="{{\'PLUGIN_JOBS_RECALCULATE_TOOLTIP\' | translate}}"\n                  tooltip-placement="right">\n              <span class="glyphicon glyphicon-question-sign"></span>\n            </span>\n          </label>\n\n          <div class="col-xs-8">\n              <label class="radio">\n                <input type="radio" ng-model="recalculationType" value="creation">\n                {{ \'PLUGIN_JOBS_FROM_CREATION\' | translate }}\n              </label>\n\n            <label class="radio">\n                <input type="radio" ng-model="recalculationType" value="now">\n                {{ \'PLUGIN_JOBS_FROM_NOW\' | translate }}\n            </label>\n          </div>\n        </div>\n\n        <div class="form-group">\n          <label class="control-label col-xs-4">\n                  {{\'PLUGIN_JOBS_SPECIFIC_DATE\' | translate}}\n\n            <span uib-tooltip="{{\'PLUGIN_JOBS_SPECIFIC_DATE_TOOLTIP\' | translate}}"\n                  tooltip-placement="right">\n              <span class="glyphicon glyphicon-question-sign"></span>\n            </span>\n          </label>\n\n          <div class="col-xs-8">\n              <label class="radio">\n                <input type="radio" ng-model="recalculationType" value="specific">\n              </label>\n          </div>\n        </div>\n        <div class="form-group"\n            ng-show="recalculationType===\'specific\'">\n          <label class="control-label col-xs-4">\n            {{\'PLUGIN_JOBS_CASCADE\' | translate}}\n\n          <span uib-tooltip="{{\'PLUGIN_JOBS_CASCADE_TOOLTIP\' | translate}}"\n                tooltip-placement="right">\n            <span class="glyphicon glyphicon-question-sign"></span>\n          </span>\n          </label>\n\n          <div class="col-xs-8">\n            <label class="checkbox">\n                <input type="checkbox" ng-model="cascade">\n            </label>\n          </div>\n\n          <label class="control-label col-xs-4">\n            {{\'PLUGIN_JOBS_DATE_INPUT\' | translate}}\n          </label>\n\n          <div class="col-xs-8">\n            <input date type="text" ng-model="date" name="dateValue" ng-disabled="recalculationType!==\'specific\'" class="form-control">\n            <p class="invalid" ng-show="this.rescheduleJobDuedateForm.$error.datePattern">\n              {{ \'PLUGIN_JOBS_VALID_PATTERN\' | translate }}\n            </p>\n          </div>\n        </div>\n      </fieldset>\n    </form>\n  </div>\n</div>\n\n<div class="modal-footer">\n   <button ng-click="$dismiss()"\n          class="btn btn-default">\n    {{ \'PLUGIN_JOBS_CLOSE\' | translate }}\n  </button>\n  <button ng-click="submit()"\n          class="btn btn-primary"\n          ng-disabled="!isValid()"\n          ng-hide="status === \'DONE\'">\n\n    {{ \'PLUGIN_JOBS_CHANGE\' | translate }}\n  </button>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/ui/cockpit/plugins/base/app/views/processInstance/jobs-reschedule-modal.html --\x3e\n'}).result.catch(a.noop)},n.toggleSuspension=function(n){l.suspended({id:n.id,suspended:!n.suspended},(function(e){e?t.addError({status:i.instant("PLUGIN_JOBS_ERROR"),message:i.instant("PLUGIN_JOBS_SUSPEND_FAILURE"),exclusive:!1,duration:5e3}):(n.suspended=!n.suspended,t.addMessage({status:i.instant("PLUGIN_JOBS_SUCCESS"),message:i.instant("PLUGIN_JOBS_SUSPEND_SUCCESS"),exclusive:!1,duration:5e3}))}))};var E=function(){a.forEach(n.jobs,(function(e){var t=e.activityId,a=n.bpmnElements[t];e.activityName=a&&(a.name||a.id)||t;var s=e.failedActivityId,i=n.bpmnElements[s];e.failedActivityName=i&&(i.name||i.id)||s}))};n.processData.observe(["bpmnElements"],(function(e){n.bpmnElements=e,E()})),n.loadingState="LOADING"}]})};i.$inject=["ViewsProvider"],e.exports=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../../../../camunda-commons-ui/vendor/moment":4}],48:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null,a=function(n){n.registerDefaultView("cockpit.processInstance.runtime.action",{id:"update-suspension-state-action",label:"PLUGIN_UPDATE_SUSPENSION_STATE",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/update-suspension-state-action.html --\x3e\n<a class="btn btn-default btn-toolbar btn-suspend-action"\n   href\n   ng-click="openDialog()"\n   uib-tooltip="{{ \'PLUGIN_UPDATE_ACTION_TOOLTIP_1\' | translate }}"\n   tooltip-placement="left"\n   ng-show="!processInstance.suspended">\n  <span class="glyphicon glyphicon-pause"></span>\n</a>\n<a class="btn btn-default btn-toolbar"\n   href\n   ng-click="openDialog()"\n   uib-tooltip="{{ \'PLUGIN_UPDATE_ACTION_TOOLTIP_2\' | translate }}"\n   tooltip-placement="left"\n   ng-hide="!processInstance.suspended">\n  <span class="glyphicon glyphicon-play"></span>\n</a>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/update-suspension-state-action.html --\x3e\n',controller:["$scope","$rootScope","$uibModal",function(n,e,a){n.openDialog=function(){a.open({resolve:{processData:function(){return n.processData},processInstance:function(){return n.processInstance}},controller:"UpdateProcessInstanceSuspensionStateController",template:"\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/update-suspension-state-dialog.html --\x3e\n<div class=\"modal-header\">\n  <h3>{{ (processInstance.suspended ? 'PLUGIN_UPDATE_DIALOG_ACTIVATE' : 'PLUGIN_UPDATE_DIALOG_SUSPEND' | translate) }}</h3>\n</div>\n\n<div class=\"process-instance update-suspension-state modal-body\">\n  <div notifications-panel></div>\n\n  <div ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\">\n\n    <div ng-show=\"processInstance.suspended\">\n      \x3c!-- activation --\x3e\n      <p>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_1' | translate}} <i>{{ 'PLUGIN_UPDATE_DIALOG_LEGEND_2' | translate }}</i> {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_3' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_4' | translate}}\n      </p>\n\n      <p>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_5' | translate}}\n      </p>\n\n      <p>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_6' | translate}}\n      </p>\n\n      <p>{{ 'PLUGIN_UPDATE_DIALOG_LEGEND_7' | translate}}</p>\n    </div>\n\n    <div ng-hide=\"processInstance.suspended\">\n      \x3c!-- suspension --\x3e\n      <p>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_8' | translate }} <i>{{ 'PLUGIN_UPDATE_DIALOG_LEGEND_9' | translate }}</i> {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_10' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_11' | translate }}\n        <ul>\n          <li>{{ 'PLUGIN_UPDATE_DIALOG_CLAIMING' | translate }}</li>\n          <li>{{ 'PLUGIN_UPDATE_DIALOG_COMPLETING' | translate }}</li>\n          <li>{{ 'PLUGIN_UPDATE_DIALOG_DELEGATION' | translate }}</li>\n          <li>{{ 'PLUGIN_UPDATE_DIALOG_CHANGES_IN' | translate }}</li>\n        </ul>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_12' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_13' | translate }}\n      </p>\n\n      <p>\n        {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_14' | translate }}\n      </p>\n\n      <p>{{ 'PLUGIN_UPDATE_DIALOG_LEGEND_15' | translate }}</p>\n    </div>\n\n  </div>\n\n  <div ng-show=\"status === 'SUCCESS'\">\n    <p ng-show=\"processInstance.suspended\">\n      {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_16' | translate }}\n    </p>\n    <p ng-hide=\"processInstance.suspended\">\n      {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_17' | translate }}\n    </p>\n  </div>\n\n  <div ng-show=\"status === 'FAIL'\">\n    <p ng-show=\"processInstance.suspended\">\n      {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_18' | translate }}\n    </p>\n    <p ng-hide=\"processInstance.suspended\">\n      {{ 'PLUGIN_UPDATE_DIALOG_LEGEND_19' | translate }}\n    </p>\n  </div>\n\n</div>\n<div class=\"modal-footer\">\n  <button class=\"btn btn-default\"\n          ng-click=\"close(status)\"\n          ng-disabled=\"status === 'PERFORM_UDPATE'\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\">{{ 'PLUGIN_UPDATE_DIALOG_BTN_CLOSE' | translate }}</button>\n\n  <button type=\"submit\"\n          class=\"btn btn-primary\"\n          ng-click=\"updateSuspensionState()\"\n          ng-hide=\"status === 'SUCCESS' || status === 'FAIL'\"\n          ng-disabled=\"status === 'PERFORM_UDPATE'\">\n    {{ (processInstance.suspended ? 'PLUGIN_UPDATE_DIALOG_BTN_ACTIVATE' : 'PLUGIN_UPDATE_DIALOG_BTN_SUSPEND' | translate) }}\n  </button>\n\n  <button class=\"btn btn-primary\"\n          ng-click=\"close(status)\"\n          ng-show=\"status === 'SUCCESS' || status === 'FAIL'\">{{ 'PLUGIN_UPDATE_DIALOG_BTN_OK' | translate }}</button>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/update-suspension-state-dialog.html --\x3e\n"}).result.then((function(a){"SUCCESS"===a.status&&(n.processInstance.suspended=a.suspended,e.$broadcast("$processInstance.suspensionState.changed",n.processInstance),n.processData.set("filter",t.extend({},n.filter)))})).catch(t.noop)}}],priority:5})};a.$inject=["ViewsProvider"],e.exports=a}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(n,e,t){"use strict";e.exports=["$scope","$http","$filter","Uri","Notifications","$uibModalInstance","processInstance","$translate",function(n,e,t,a,s,i,o,r){n.processInstance=o,n.status="BEFORE_UPDATE",n.$on("$routeChangeStart",(function(){i.close(n.status)})),n.updateSuspensionState=function(){n.status="PERFORM_UDPATE";var t={};t.suspended=!o.suspended,e.put(a.appUri("engine://engine/:engine/process-instance/"+o.id+"/suspended/"),t).then((function(){n.status="SUCCESS",s.addMessage({status:r.instant("PLUGIN_UPDATE_DIALOG_STATUS_FINISHED"),message:r.instant("PLUGIN_UPDATE_DIALOG_MESSAGES_1"),exclusive:!0})})).catch((function(e){n.status="FAIL",s.addError({status:r.instant("PLUGIN_UPDATE_DIALOG_STATUS_FINISHED"),message:r.instant("PLUGIN_UPDATE_DIALOG_ERROR_1",{message:e.data.message}),exclusive:!0})}))},n.close=function(n){var e={};e.status=n,e.suspended=!o.suspended,i.close(e)}}]},{}],50:[function(n,e,t){(function(t){(function(){"use strict";var a=n("../../../../../../common/scripts/util/search-widget-utils"),s="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null;e.exports=function(n){function e(n,e){var t=[];return s.forEach(n,(function(n,a){t[a]=e(n,a)})),t}function t(n){var e=[];return s.forEach(n,(function(n){n&&e.push(n)})),e}n.controller("UserTaskController",["$scope","search","camAPI","TaskResource","Notifications","$uibModal","$translate","localConf","Uri",function(n,i,o,r,c,l,d,u,p){var f,I,b=n.processData.newChild(n),g=n.processInstance;n.$on("$destroy",(function(){i("page",null)}));var _,E=n.pages=s.copy({size:50,total:0,current:1}),m=null,v=null,S=o.resource("task"),y=n.sorting=(_={sortBy:"created",sortOrder:"desc"},u.get("sortPIUserTaskTab",_));function h(e,t,a){delete(m=s.copy(e)).page,delete m.activityIds,delete m.scrollToBpmnElement;var i=E.current,o=E.size,c=(i-1)*o,l={processInstanceId:g.id,processDefinitionId:g.definitionId,sorting:[{sortBy:a.sortBy,sortOrder:a.sortOrder}]},d={firstResult:c,maxResults:o},u=s.extend({},m,l);u.activityInstanceIdIn=u.activityInstanceIds,delete u.activityInstanceIds,n.userTasks=null,n.loadingState="LOADING",f={},I={},r.count(u).$promise.then((function(n){E.total=n.count})).catch(s.noop),r.query(d,u).$promise.then((function(e){for(var a,i=0;a=e[i];i++)a.instance=t[a.executionId],I[a.id]=s.copy(a);n.userTasks=e,n.loadingState=e.length?"LOADED":"EMPTY"})).catch(s.noop)}n.getSearchQueryForSearchType=a.getSearchQueryForSearchType.bind(null,"activityInstanceIdIn"),n.headColumns=[{class:"activity uuid",request:"nameCaseInsensitive",sortable:!0,content:d.instant("PLUGIN_USER_TASKS_ACTIVITY")},{class:"assignee",request:"assignee",sortable:!0,content:d.instant("PLUGIN_USER_TASKS_ASSIGNEE")},{class:"owner",request:"",sortable:!1,content:d.instant("PLUGIN_USER_TASKS_OWNER")},{class:"created",request:"created",sortable:!0,content:d.instant("PLUGIN_USER_TASKS_CREATED_DATE")},{class:"due",request:"dueDate",sortable:!0,content:d.instant("PLUGIN_USER_TASKS_DUE_DATE")},{class:"follow-up",request:"followUpDate",sortable:!0,content:d.instant("PLUGIN_USER_TASKS_FOLLOW_UP_DATE")},{class:"priority",request:"priority",sortable:!0,content:d.instant("PLUGIN_USER_TASKS_PRIORITY")},{class:"delegation-state",request:"",sortable:!1,content:d.instant("PLUGIN_USER_TASKS_DELEGATION_STATE")},{class:"task-id uuid",request:"id",sortable:!0,content:d.instant("PLUGIN_USER_TASKS_TASK_ID")},{class:"action",request:"",sortable:!1,content:d.instant("PLUGIN_USER_TASKS_ACTION")}],n.$watch("pages.current",(function(n,e){n!=e&&i("page",n&&1!=n?n:null)})),b.observe(["filter","executionIdToInstanceMap"],(function(n,e){E.current=n.page||1,v=e,h(n,e,y)})),n.onSortChange=function(n){(function(n){u.set("sortPIUserTaskTab",n)})(y=n),h(m,v,y)},n.getHref=function(e){return e.instance?"#/process-instance/"+g.id+"/runtime?tab=user-tasks-tab&"+n.getSearchQueryForSearchType(e.instance.id):""},n.getTasklistHref=function(n){return p.appUri("tasklistbase://:engine/#/?task="+n.id)},n.submitAssigneeChange=function(n,e){var t;t=e,e=s.isFunction(t)?t:s.noop;var a=n.context,i=I[a.id],o={id:a.id},l={userId:n.value||null};r.setAssignee(o,l).$promise.then((function(n){var t;t=(i.assignee=a.assignee=n.userId)?d.instant("PLUGIN_USER_TASKS_MESSAGE_1",{name:a.instance.name,assignee:i.assignee}):d.instant("PLUGIN_USER_TASKS_MESSAGE_2",{name:a.instance.name}),c.addMessage({status:d.instant("PLUGIN_USER_TASKS_STATUS_ASSIGNEE"),message:t,duration:5e3}),e()}),(function(n){var t;t=a.assignee?d.instant("PLUGIN_USER_TASKS_MESSAGE_3",{name:a.instance.name,assignee:a.assignee,error:n.data.message}):d.instant("PLUGIN_USER_TASKS_MESSAGE_4",{name:a.instance.name,error:n.data.message});var s={status:d.instant("PLUGIN_USER_TASKS_STATUS_ASSIGNEE"),message:t,exclusive:!0};a.assignee=i.assignee,c.addError(s),f[a.id]=n.data,e(s)}))},n.openDialog=function(n,a){S.identityLinks(n.id,(function(i,o){var r=t(e(o,(function(n){return n[a.key]&&"assignee"!==n.type&&"owner"!==n.type?n:null})));l.open({resolve:{userTask:function(){return n},identityLinks:function(){return r},decorator:function(){return a}},controller:"IdentityLinksController",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/identity-links-modal.html --\x3e\n<div class="modal-header">\n  <h3 class="modal-title">{{ title | translate }}</h3>\n</div>\n\n<div class="identity-links modal-body">\n  <div notifications-panel></div>\n\n  <form name="editForm"\n        ng-submit="!invalid() && addItem()">\n    <fieldset ng-show="identityLinks.length">\n      <legend>{{ decorator.table.label }}</legend>\n\n      <table class="table cam-table">\n        <thead>\n          <tr>\n            <th class="id">{{ decorator.table.id }}</th>\n            <th class="action text-right">{{ \'PLUGIN_IDENTITY_LINKS_ACTION\' | translate }}</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr ng-repeat="(delta, identityLink) in identityLinks">\n            <td class="id">\n              <span cam-widget-clipboard="identityLink[key]">{{ identityLink[key] }}</span>\n            </td>\n            <td class="action text-right">\n              <span class="btn btn-default action-button"\n                    ng-click="removeItem()">\n                <span class="glyphicon glyphicon-ban-circle"></span>\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </fieldset>\n\n    <fieldset>\n      <legend>{{ decorator.add.label }}</legend>\n\n      <div class="input-group">\n        <input class="form-control"\n               type="text"\n               ng-model="newItem"\n               name="newItem"\n               required />\n        <span class="btn btn-primary input-group-addon"\n              ng-click="addItem()"\n              ng-disabled="invalid()">\n          <span class="glyphicon glyphicon-plus"></span>\n        </span>\n      </div>\n    </fieldset>\n  </form>\n</div>\n\n<div class="modal-footer">\n  <button ng-click="$dismiss()"\n          class="btn btn-default">\n    {{ \'PLUGIN_IDENTITY_LINKS_CLOSE\' | translate }}\n  </button>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/identity-links-modal.html --\x3e\n',windowClass:"identity-link-modal"}).result.catch(s.noop)}))},n.changeGroupIdentityLinks=function(){var e=this.userTask;n.openDialog(e,{title:d.instant("PLUGIN_USER_TASKS_MANAGE_GROUPS"),table:{label:d.instant("PLUGIN_USER_TASKS_CURRENT_GROUPS"),id:d.instant("PLUGIN_USER_TASKS_GROUP_ID")},add:{label:d.instant("PLUGIN_USER_TASKS_ADD_GROUP")},notifications:{remove:d.instant("PLUGIN_USER_TASKS_NOTIFICATION_REMOVE_GROUP"),add:d.instant("PLUGIN_USER_TASKS_NOTIFICATION_ADD_GROUP")},key:"groupId"})},n.changeUserIdentityLinks=function(){var e=this.userTask;n.openDialog(e,{title:d.instant("PLUGIN_USER_TASKS_MANAGE_USERS"),table:{label:d.instant("PLUGIN_USER_TASKS_CURRENT_USERS"),id:d.instant("PLUGIN_USER_TASKS_USER_ID")},add:{label:d.instant("PLUGIN_USER_TASKS_ADD_USER")},notifications:{remove:d.instant("PLUGIN_USER_TASKS_NOTIFICATION_REMOVE_USER"),add:d.instant("PLUGIN_USER_TASKS_NOTIFICATION_ADD_USER")},key:"userId"})},n.getExceptionForUserTask=function(n){return f[n.id]},n.translate=function(n,e){return d.instant(n,e)}}]),n.controller("IdentityLinksController",["$uibModalInstance","camAPI","$scope","Notifications","userTask","identityLinks","decorator",function(n,a,i,o,r,c,l){var d=a.resource("task");i.identityLinks=c,i.decorator=l,i.title=l.title;var u=i.key=l.key;i.$on("$routeChangeStart",(function(){n.close()})),i.removeItem=function(){var n=this.delta;d.identityLinksDelete(r.id,this.identityLink,(function(a){if(a)return o.addError({status:l.notifications.remove,message:a.message,exclusive:!0});c=i.identityLinks=t(e(c,(function(e,t){return n!==t&&e})))}))},i.invalid=function(){var n,e=this.editForm;if(e.$invalid)return!0;var t=e.newItem.$modelValue;return s.forEach(c,(function(e){n=n||e[u]===t})),n},i.addItem=function(){var n=this,e={type:"candidate"};e[u]=n.newItem,d.identityLinksAdd(r.id,e,(function(t){if(t)return o.addError({status:l.notifications.add,message:t.message,exclusive:!0});c.push(e),n.newItem=""}))}}]);var i=function(n){n.registerDefaultView("cockpit.processInstance.runtime.tab",{id:"user-tasks-tab",label:"PLUGIN_USER_TASKS_LABEL",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/user-tasks-table.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLUGIN_USER_TASKS_NO_USER_TASKS\' | translate }}">\n  <table class="process-instance user-tasks cam-table">\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(sortObj)"\n           default-sort="sorting">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="userTask in userTasks">\n        <td class="activity">\n          <a ng-href="{{ getHref(userTask) }}">{{ userTask.instance.name || userTask.instance.id }}</a>\n        </td>\n\n        <td class="assignee">\n          <cam-in-place-text-field\n            submit="submitAssigneeChange"\n            context="userTask"\n            property="assignee" />\n        </td>\n\n        <td class="owner">\n          {{ userTask.owner }}\n        </td>\n\n        <td class="created">\n          {{ userTask.created | camDate }}\n        </td>\n        <td class="due">\n          {{ userTask.due | camDate }}\n        </td>\n        <td class="follow-up">\n          {{ userTask.followUp | camDate }}\n        </td>\n        <td class="priority">\n          {{ userTask.priority }}\n        </td>\n        <td class="delegation-state">\n          {{ userTask.delegationState }}\n        </td>\n        <td class="task-id uuid"\n            cam-widget-clipboard="userTask.id">\n          <a ng-href="{{ getTasklistHref(userTask) }}"\n             uib-tooltip="{{ \'PLUGIN_USER_TASKS_LINK_TO_TASKLIST\' | translate }}">{{ userTask.id }}</a>\n        </td>\n\n        <td class="action">\n          <a ng-click="changeGroupIdentityLinks()"\n             ng-model="userTask"\n             class="btn btn-default action-button change-group-identity-links"\n             tooltip-placement="left"\n             uib-tooltip="{{ translate(\'PLUGIN_USER_TASKS_MANAGE_GROUP_TOOLTIP\', { value: userTask.name || userTask.id }) }}">\n            <span class="glyphicon glyphicon-th"></span>\n          </a>\n          <a ng-click="changeUserIdentityLinks()"\n             ng-model="userTask"\n             class="btn btn-default action-button change-user-identity-links"\n             tooltip-placement="left"\n             uib-tooltip="{{ translate(\'PLUGIN_USER_TASKS_MANAGE_USER_TOOLTIP\', { value: userTask.name || userTask.id }) }}">\n            <span class="glyphicon glyphicon-user"></span>\n          </a>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n\n  <ul uib-pagination ng-if="pages.total > pages.size"\n              class="pagination-sm"\n\n              page="pages.current"\n              ng-model="pages.current"\n\n              total-items="pages.total"\n              items-per-page="pages.size"\n\n              max-size="7"\n              boundary-links="true"></ul>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/user-tasks-table.html --\x3e\n',controller:"UserTaskController",priority:5})};i.$inject=["ViewsProvider"],n.config(i)}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../../../common/scripts/util/search-widget-utils":87}],51:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("../../../../../../common/scripts/util/search-widget-utils"),i=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "variableName",\n        "value": "PLUGIN_VIEW_VARIABLE_TYPE_VARIABLE_NAME"\n      },\n      "default": true,\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "PLUGIN_VIEW_VARIABLE_OPERATOR_LIKE"\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityInstanceIdIn",\n        "value": "PLUGIN_VIEW_VARIABLE_ACTIVITY_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "variableValues",\n        "value": "PLUGIN_VIEW_VARIABLE_VARIABLE_VALUE"\n      },\n      "extended": true,\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "neq",\n          "value": "!="\n        },\n        {\n          "key": "gt",\n          "value": ">"\n        },\n        {\n          "key": "gteq",\n          "value": ">="\n        },\n        {\n          "key": "lt",\n          "value": "<"\n        },\n        {\n          "key": "lteq",\n          "value": "<="\n        },\n        {\n          "key": "like",\n          "value": "PLUGIN_VIEW_VARIABLE_OPERATOR_LIKE"\n        }\n      ]\n    }\n  ],\n  "operators": {\n    "undefined":  [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLUGIN_VIEW_VARIABLE_OPERATOR_LIKE"\n      }\n    ],\n    "string":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLUGIN_VIEW_VARIABLE_OPERATOR_LIKE"\n      }\n    ],\n    "number":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean":    [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object":     [{\n      "key": "eq",\n      "value": "="\n    },\n      {\n        "key": "neq",\n        "value": "!="\n      }],\n    "date":     [{\n      "key": "lteq",\n      "value": "PLUGIN_VIEW_VARIABLE_OPERATOR_BEFORE"\n    },\n      {\n        "key": "gteq",\n        "value": "PLUGIN_VIEW_VARIABLE_OPERATOR_AFTER"\n      }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLUGIN_VIEW_VARIABLE_ADD_CRITERIA",\n    "invalid": "PLUGIN_VIEW_VARIABLE_INVALID",\n    "deleteSearch": "PLUGIN_VIEW_VARIABLE_DELETE_SEARCH",\n    "type": "PLUGIN_VIEW_VARIABLE_TYPE",\n    "name": "PLUGIN_VIEW_VARIABLE_NAME",\n    "operator": "PLUGIN_VIEW_VARIABLE_OPERATOR",\n    "value": "PLUGIN_VIEW_VARIABLE_VALUE"\n  }\n}\n'),o=n("../../../../../client/scripts/components/variables/variable-inspect-dialog"),r=n("../../../../../client/scripts/components/variables/variable-upload-dialog");e.exports=function(n){n.controller("VariableInstancesController",["$scope","$sce","search","Uri","LocalExecutionVariableResource","Notifications","$uibModal","$q","camAPI","fixDate","unfixDate","$translate","localConf","escapeHtml",function(n,e,t,c,l,d,u,p,f,I,b,g,_,E){var m,v,S=n.processData.newChild(n),y=n.processInstance,h=f.resource("execution"),N=f.resource("task"),D=f.resource("variable");n.headColumns=[{class:"name",request:"variableName",sortable:!0,content:g.instant("PLUGIN_VARIABLE_NAME")},{class:"type",request:"variableType",sortable:!0,content:g.instant("PLUGIN_VARIABLE_TYPE")},{class:"value",request:"",sortable:!1,content:g.instant("PLUGIN_VARIABLE_VALUE")},{class:"scope",request:"",sortable:!1,content:g.instant("PLUGIN_VARIABLE_SCOPE")}];function T(n){return"engine://engine/:engine/execution/"+n.executionId+"/localVariables/"+n.name}n.sortObj=function(n){return _.get("sortHistVarInstTab",n)}({sortBy:"variableName",sortOrder:"asc"}),n.searchConfig=a.copy(i),S.observe("instanceIdToInstanceMap",(function(e){n.instanceIdToInstanceMap=e})),n.onSearchChange=function(e,t,s){return n.query=e||n.query,n.pages=t||n.pages,n.instanceIdToInstanceMap?function(e,t,s,i){n.pagesObj=s||n.pagesObj,i=i||n.sortObj;var o=n.pagesObj.current,r=n.pagesObj.size,c=(o-1)*r,l={processInstanceIdIn:[y.id]};i&&(l.sorting=[i],function(n){_.set("sortHistVarInstTab",n)}(i));var d={firstResult:c,maxResults:r,deserializeValues:!1},u=a.extend({},l,t),p=a.extend({},d,l,t);return n.variables=null,n.loadingState="LOADING",m={},v={},p=a.extend({},p,d),D.count(u).then((function(t){return n.total=t.count,D.instances(p).then((function(t){var s=t;return n.variables=s.map((function(t){var s=e[t.activityInstanceId];t.instance=s,v[t.id]=a.copy(t),"Date"===t.type&&(t.value=b(t.value));var i="";return s&&(i='<a ng-href="#/process-instance/'+y.id+"/runtime?detailsTab=variables-tab&"+n.getSearchQueryForSearchType(s.id)+'" title="'+s.id+'">'+E.escape(s.name)+"</a>"),{variable:{id:t.id,name:t.name,type:t.type,value:t.value,valueInfo:t.valueInfo,executionId:t.executionId},original:t,additions:{scope:{html:i,scopeVariables:{processData:n.processData}}}}})),n.loadingState=s.length?"LOADED":"EMPTY",n.total})).catch(a.noop)})).catch(a.noop)}(n.instanceIdToInstanceMap,n.query,n.pages,s):p.when(n.total)},n.onSortChange=n.onSearchChange,n.getSearchQueryForSearchType=s.getSearchQueryForSearchType.bind(null,"activityInstanceIdIn"),n.uploadVariable=function(e){var t=p.defer();return u.open({resolve:{basePath:function(){return T(e.variable)},variable:function(){return e.variable}},controller:r.controller,template:r.template}).result.then((function(){t.reject(),S.set("filter",a.copy(n.filter))}),(function(){t.reject()})),t.promise},n.downloadVariable=function(n){return c.appUri("engine://engine/:engine/variable-instance/"+n.variable.id+"/data")},n.deleteVariable=function(n){var e=p.defer(),t=function(t){if(t){var a={text:"",payload:{}};t.response.body&&"AuthorizationException"===t.response.body.type?(a.text="PLUGIN_VARIABLE_INSTANCES_MESSAGES_ERROR_3",a.payload={message:t.message}):(a.text="PLUGIN_VARIABLE_INSTANCES_MESSAGES_ERROR_0",a.payload={name:n.variable.name}),d.addError({status:g.instant("PLUGIN_VARIABLE_INSTANCES_STATUS_VARIABLE"),message:g.instant(a.text,a.payload),exclusive:!0,duration:5e3}),e.reject()}else d.addMessage({status:g.instant("PLUGIN_VARIABLE_INSTANCES_STATUS_VARIABLE"),message:g.instant("PLUGIN_VARIABLE_INSTANCES_MESSAGES_ADD_0",{name:n.variable.name}),duration:5e3}),e.resolve(n.variable)};return n.original.taskId?N.deleteVariable({id:n.original.taskId,varId:n.variable.name},t):h.deleteVariable({id:n.variable.executionId,varId:n.variable.name},t),e.promise},n.editVariable=function(e){var t=p.defer();return u.open({template:o.template,controller:o.controller,windowClass:"cam-widget-variable-dialog",resolve:{basePath:function(){return T(e.variable)},history:function(){return!1},readonly:function(){return!1},variable:function(){return e.variable}}}).result.then((function(){t.reject(),S.set("filter",a.copy(n.filter))}),(function(){t.reject()})),t.promise},n.saveVariable=function(n){var e=p.defer(),t=n.variable,s={},i=t.value,o=t.type;"Date"===o&&(i=I(i));var r={value:i,type:o};s[t.name]=r;var c=function(s){if(s){var i={text:"",payload:{}};s.response.body&&"AuthorizationException"===s.response.body.type?(i.text="PLUGIN_VARIABLE_INSTANCES_MESSAGES_ERROR_2",i.payload={message:s.message}):(i.text="PLUGIN_VARIABLE_INSTANCES_MESSAGES_ERROR_1",i.payload={name:t.name}),d.addError({status:g.instant("PLUGIN_VARIABLE_INSTANCES_STATUS_VARIABLE"),message:g.instant(i.text,i.payload),exclusive:!0,duration:5e3}),m[t.id]=s.data,e.reject()}else d.addMessage({status:g.instant("PLUGIN_VARIABLE_INSTANCES_STATUS_VARIABLE"),message:g.instant("PLUGIN_VARIABLE_INSTANCES_MESSAGES_ADD_1",{name:t.name}),duration:5e3}),"Date"===r.type&&(r.value=b(r.value)),a.extend(t,r),e.resolve(n.variable)};return n.original.taskId?N.modifyVariables({id:n.original.taskId,modifications:s},c):h.modifyVariables({id:t.executionId,modifications:s},c),e.promise}}]);var e=function(n){n.registerDefaultView("cockpit.processInstance.runtime.tab",{id:"variables-tab",label:"PLUGIN_VARIABLE_INSTANCES_LABEL",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/variable-instances-tab.html --\x3e\n<div cam-searchable-area\n     config="searchConfig"\n     array-types="[\'activityInstanceIdIn\']"\n     variable-types="[\'variableValues\']"\n     on-search-change="onSearchChange(query, pages,sortObj)"\n     loading-state="loadingState"\n     text-empty="{{ \'PLUGIN_VARIABLE_NO_PROCESS_VARIABLES\' | translate }}"\n     blocked="!instanceIdToInstanceMap"\n     storage-group="\'VI\'">\n\n      <div cam-widget-variables-table\n           on-save="saveVariable"\n           on-edit="editVariable"\n           on-upload="uploadVariable"\n           on-delete="deleteVariable"\n           on-download="downloadVariable"\n           on-sort-change="onSortChange(query, pages,sortObj)"\n           default-sort = "sortObj"\n           cam-variables="variables"\n           cam-editable="[\'type\', \'value\']"\n           cam-headers="headColumns">\n      </div>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/variable-instances-tab.html --\x3e\n',controller:"VariableInstancesController",priority:20})};e.$inject=["ViewsProvider"],n.config(e)}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../../../common/scripts/util/search-widget-utils":87,"../../../../../client/scripts/components/variables/variable-inspect-dialog":9,"../../../../../client/scripts/components/variables/variable-upload-dialog":10}],52:[function(n,e,t){"use strict";e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.processes.dashboard",{id:"process-definition",label:"Deployed Process Definitions",template:'\x3c!-- # CE - ui/cockpit/plugins/base/app/views/processesDashboard/process-definitions.html --\x3e\n<section  class="processes-dashboard"\n          ng-class="{\'section-collapsed\': !activeSection}">\n  <div class="inner">\n    <button uib-tooltip="Toggle this section"\n            class="section-toggle btn btn-link btn-sm"\n            ng-click="toggleSection()">\n      <span class="glyphicon"\n            ng-class="{\'glyphicon-menu-down\': !activeSection, \'glyphicon-menu-up\': activeSection}"></span>\n    </button>\n    <header ng-if="processDefinitionsCount">\n      <div class="row">\n        <h1 class="col-xs-6 section-title">{{ processDefinitionsCount }} {{ (processDefinitionsCount > 1 ? \'PLUGIN_PROCESS_DEF_PROCESS_DEFINITIONS_DEPLOYED\' : \'PLUGIN_PROCESS_DEF_PROCESS_DEFINITION_DEPLOYED\' | translate) }}</h1>\n\n        <div class="col-xs-6 text-right" ng-if="activeSection">\n          <ul class="nav nav-tabs">\n            <li ng-class="{active: activeTab === \'list\'}">\n              <a ng-click="selectTab(\'list\')">{{\'PLUGIN_PROCESS_DEF_LIST\' | translate}}</a>\n            </li>\n            <li ng-class="{active: activeTab === \'previews\'}">\n              <a ng-click="selectTab(\'previews\')">{{\'PLUGIN_PROCESS_DEF_PREVIEWS\' | translate}}</a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </header>\n\n    <header class="header-empty" ng-if="!processDefinitionsCount && loadingState !== \'LOADING\'">\n        <h1 class="section-title">{{\'PLUGIN_PROCESS_DEF_NO_PROCESS_DEF\' | translate}}</h1>\n    </header>\n\n\n\n    <div cam-widget-loader\n         loading-state="{{loadingState}}"\n         class="deployed-processes"\n         ng-if="activeSection">\n\n\n      <table ng-if="processDefinitionsCount && activeTab === \'list\'"\n             class="process-definitions-list cam-table">\n        <thead sortable-table-head\n               head-columns="headColumns"\n               on-sort-change="onSortChange(sortObj)"\n               default-sort="sortObj">\n        </thead>\n        <tbody>\n          <tr ng-repeat="pd in processDefinitionData | orderBy:sortObj.sortBy:sortObj.sortReverse">\n            <td class="state">\n              <div ng-if="!!pd.incidents" state-circle incidents="pd.incidents">\n                <a ng-if="pd.incidentCount && hasSearchPlugin"\n                   ng-href="{{ incidentsLink.replace(\'PD_KEY\', pd.key) }}"\n                   class="incidents-link"></a>\n              </div>\n              <div ng-if="!pd.incidents">\n                <span class="glyphicon glyphicon-refresh animate-spin"></span>\n              </div>\n            </td>\n\n            <td class="incidents">\n              <a ng-if="pd.incidentCount && hasSearchPlugin"\n                 ng-href="{{ incidentsLink.replace(\'PD_KEY\', pd.key) }}">\n                {{ pd.incidentCount }}\n              </a>\n              <span ng-if="!pd.incidentCount || !hasSearchPlugin">{{ pd.incidentCount }}</span>\n            </td>\n\n            <td ng-if="pd.instances >= 0" class="instances">\n              {{ pd.instances }}\n            </td>\n            <td ng-if="pd.instances == undefined">\n              <span class="glyphicon glyphicon-refresh animate-spin"></span>\n            </td>\n\n            <td class="name">\n              <a href="#/process-definition/{{ pd.id }}">\n                {{ pd.name || pd.key }}\n              </a>\n            </td>\n\n            <td class="tenant-id">\n              {{ pd.tenantId }}\n            </td>\n\n            <td ng-if="hasHistoryPlugin"\n                class="history-link">\n              <a href="#/process-definition/{{ pd.id }}/history">\n                {{\'PLUGIN_PROCESS_DEF_HISTORY_VIEW\' | translate}}\n              </a>\n            </td>\n\n            <td ng-if="hasReportPlugin"\n                class="report-link">\n              <a href="#/reports/reporting-duration-report?processDefinitionKey={{ pd.key }}">\n                <span class="glyphicon glyphicon-signal"></span>\n              </a>\n            </td>\n\n            <td ng-if="hasActionPlugin">\n              <view ng-repeat="processesAction in processesActions"\n                    data-plugin-id="{{ processAction.id }}"\n                    vars="definitionVars"\n                    provider="processesAction"></view>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <div ng-if="processDefinitionsCount && activeTab === \'previews\'"\n           class="tile-grid">\n        <div ng-repeat="pd in processDefinitionData | orderBy:orderByPredicate:orderByReverse"\n             class="tile col-xs-12 col-sm-6 col-md-4 col-lg-3">\n          <a href="#/process-definition/{{ pd.id }}">\n            <h4 class="tile-header">\n              {{ pd.name || pd.key }}\n            </h4>\n\n            <span class="tile-body">\n              <span ng-if="activeTab === \'previews\'"\n                    process-diagram-preview\n                    process-definition-id="pd.id"></span>\n            </span>\n\n            <span class="tile-footer">\n              <span ng-if="!pd.instances || pd.instances === 0"\n                    class="instances"\n                    translate="PLUGIN_PROCESS_DEF_PREV_RUNNING_INSTANCES"\n                    translate-values="{ instances: \'No\' }">\n              </span>\n              <span ng-if="pd.instances === 1"\n                    class="instances">\n                {{ \'PLUGIN_PROCESS_DEF_PREV_RUNNING_INSTANCE\' | translate }}\n              </span>\n              <span ng-if="pd.instances > 1"\n                    class="instances"\n                    translate="PLUGIN_PROCESS_DEF_PREV_RUNNING_INSTANCES"\n                    translate-values="{ instances: pd.instances }">\n              </span>\n              <span ng-if="pd.instances == undefined" class="instances">\n                <span class="glyphicon glyphicon-refresh animate-spin"></span>\n              </span>\n\n              <span ng-if="pd.incidents.length > -1" state-circle\n                    incidents="pd.incidents"\n                    class="circle-tiles"></span>\n              <span ng-if="pd.incidents == undefined" class="circle-tiles"></span>\n            </span>\n          </a>\n        </div>\n      </div>\n\n      <div cam-pagination="onPaginationChange(pages)" total="pages.total"></div>\n\n    </div>\n\n  </div>\n</section>\n\n\x3c!-- / CE - ui/cockpit/plugins/base/app/views/processesDashboard/process-definitions.html --\x3e\n',controller:["$scope","Views","camAPI","localConf","$translate",function(n,e,t,a,s){var i=t.resource("process-definition");n.processesActions=e.getProviders({component:"cockpit.processes.action"}),n.hasActionPlugin=n.processesActions.length>0;var o=e.getProviders({component:"cockpit.processInstance.view"});n.hasHistoryPlugin=o.filter((function(n){return"history"===n.id})).length>0,n.hasReportPlugin=e.getProviders({component:"cockpit.report"}).length>0,n.hasSearchPlugin=e.getProviders({component:"cockpit.processes.dashboard",id:"search-process-instances"}).length>0,n.headColumns=[{class:"state",request:"",sortable:!1,content:s.instant("PLUGIN_PROCESS_DEF_STATE")},{class:"incidents",request:"incidentCount",sortable:!0,content:s.instant("PLUGIN_PROCESS_DEF_INCIDENTS")},{class:"instances",request:"instances",sortable:!0,content:s.instant("PLUGIN_PROCESS_DEF_RUNNING_INSTANCES")},{class:"name",request:"label",sortable:!0,content:s.instant("PLUGIN_PROCESS_DEF_NAME")},{class:"tenantID",request:"tenantId",sortable:!0,content:s.instant("PLUGIN_PROCESS_DEF_TENANT_ID")},{class:"history",request:"",sortable:!1,content:s.instant("PLUGIN_PROCESS_DEF_HISTORY_VIEW"),condition:n.hasReportPlugin},{class:"report",request:"",sortable:!1,content:s.instant("PLUGIN_PROCESS_DEF_REPORT"),condition:n.hasReportPlugin},{class:"action",request:"",sortable:!1,content:s.instant("PLUGIN_PROCESS_DEF_ACTION"),condition:n.hasActionPlugin}];n.sortObj=function(n){return a.get("sortProcessDefTab",n)}({sortBy:"label",sortOrder:"asc",sortReverse:!1}),n.onSortChange=function(e){(e=e||n.sortObj).sortReverse="asc"!==e.sortOrder,function(n){a.set("sortProcessDefTab",n)}(e),n.sortObj=e};var r=n.processData.newChild(n);n.loadingState="LOADING";var c=function(){i.count({latest:!0},(function(e,t){e&&(n.loadingState="ERROR"),n.processDefinitionsCount=t}))},l=function(){n.loadingState="LOADING",r.observe("processDefinitionStatistics",(function(e){n.processDefinitionData=e.map((function(n){var e=n.definition;return e.label=e.name||e.key,e})),n.processDefinitionsCount=n.processDefinitionData.length,n.loadingState="LOADED",n.statistics=e,n.statistics.forEach((function(e){var t,a=e.definition.id,s=n.processDefinitionData.filter((function(n){return n.id===a}))[0];s&&(s.incidents=e.incidents,s.incidentCount=(t=s.incidents)?t.reduce((function(n,e){return n+e.incidentCount}),0):0,s.instances=e.instances)}))}))};n.definitionVars={read:["pd"]};var d=n.$on("processes.action.delete",(function(e,t){for(var a=n.processDefinitionData,s=0;s<a.length;s++)if(a[s].id===t){a.splice(s,1);break}n.processDefinitionsCount=a.length}));n.$on("$destroy",(function(){d()})),n.incidentsLink="#/processes?searchQuery=%5B%7B%22type%22:%22PIincidentStatus%22,%22operator%22:%22eq%22,%22value%22:%22open%22,%22name%22:%22%22%7D,%7B%22type%22:%22PIprocessDefinitionKey%22,%22operator%22:%22eq%22,%22value%22:%22PD_KEY%22,%22name%22:%22%22%7D%5D#search-section",n.activeTab="list",n.selectTab=function(e){n.activeTab=e},n.activeSection=a.get("processesDashboardActive",!0),n.activeSection?l():c(),n.toggleSection=function(){n.activeSection=!n.activeSection,n.activeSection?l():c(),a.set("processesDashboardActive",n.activeSection)}}],priority:0})}]},{}],53:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("./base/app/plugin"),i=n("./decisionList/app/plugin"),o=n("./jobDefinition/app/plugin"),r=n("./tasks/app/plugin"),c=n("./external-tasks-process-instance-runtime-tab");e.exports=a.module("cockpit.plugin.cockpitPlugins",[s.name,i.name,o.name,r.name,c.name])}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./base/app/plugin":13,"./decisionList/app/plugin":54,"./external-tasks-process-instance-runtime-tab":68,"./jobDefinition/app/plugin":76,"./tasks/app/plugin":83}],54:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("./views/main");e.exports=a.module("cockpit.plugin.decisionList",[s.name])}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/main":66}],55:[function(n,e,t){"use strict";e.exports=function(){return{restrict:"A",template:'<section>\n  <div class="inner">\n    <header ng-if="decisionCount">\n      <h1 class="section-title"\n          ng-if="decisionCount > 1"\n          translate="PLUGIN_DECISION_TABLE_TITLE_DEFINITIONS"\n          translate-values=\'{count: decisionCount}\'></h1>\n\n      <h1 class="section-title"\n          ng-if="decisionCount <= 1"\n          translate="PLUGIN_DECISION_TABLE_TITLE_DEFINITION"\n          translate-values=\'{count: decisionCount}\'></h1>\n    </header>\n\n    <header class=\'header-empty\' ng-if="!decisionCount">\n      <h1 class="section-title">{{ \'PLUGIN_DECISION_TABLE_NO_DECISION_TABLES_DEPLOYED\' | translate }}</h1>\n    </header>\n\n    <table class="decision-definitions-list cam-table"\n           ng-if="decisionCount">\n\n      <thead sortable-table-head\n             head-columns="headColumns"\n             on-sort-change="onSortChange(sortObj)"\n             default-sort="sortObj">\n      </thead>\n\n      <tbody>\n      <tr ng-repeat="decision in decisions">\n        <td class="name">\n          <a href="#/decision-definition/{{ decision.id }}">\n            {{ decision.name || decision.key }}\n          </a>\n        </td>\n        <td class="tenant-id">\n          {{ decision.tenantId }}\n        </td>\n        <td class="drd" ng-if="isDrdAvailable">\n          <a href="#/decision-requirement/{{ decision.drd.id }}">\n            {{ decision.drd.name || decision.drd.key }}\n          </a>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n\n    <ul uib-pagination ng-if="pagination.decisionPages.total > pagination.decisionPages.size"\n      class="pagination-sm"\n\n      page="pagination.decisionPages.current"\n      ng-model="pagination.decisionPages.current"\n      ng-change="pagination.changeDecisionPage(pagination.decisionPages)"\n\n      total-items="pagination.decisionPages.total"\n      items-per-page="pagination.decisionPages.size"\n\n      max-size="7"\n      boundary-links="true"></ul>\n\n  </div>\n</section>\n',scope:{decisionCount:"=",decisions:"=",isDrdAvailable:"=",pagination:"="},controller:["$scope","localConf","$translate",function(n,e,t){n.headColumns=[{class:"name",request:"name",sortable:!0,content:t.instant("PLUGIN_DECISION_TABLE_NAME")},{class:"tenant-id",request:"tenantId",sortable:!0,content:t.instant("PLUGIN_DECISION_TABLE_TENANT_ID")},{class:"drd",request:"decisionRequirementsDefinitionKey",sortable:!0,content:t.instant("PLUGIN_DECISION_TABLE_DECISION_REQUIREMENTS"),condition:n.isDrdAvailable}];n.sortObj=function(n){return e.get("sortDecDefTable",n)}({sortBy:"name",sortOrder:"asc"}),n.onSortChange=function(e){e=e||n.sortObj,n.sortObj=e,n.pagination.changeDecisionSorting(e)}}]}}},{}],56:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null;e.exports=["$scope","decisionList","Views","localConf","$location","search",function(n,e,a,s,i,o){n.loadingState="LOADING",n.drdDashboard=a.getProvider({component:"cockpit.plugin.drd.dashboard"}),n.isDrdDashboardAvailable=!!n.drdDashboard;var r=i.search(),c=n.paginationController={decisionPages:{size:50,total:0,current:r.decisionPage||1},drdPages:{size:50,total:0,current:r.drdPage||1},changeDecisionPage:function(e){n.loadingState="LOADING",o.updateSilently({decisionPage:e.current}),n.paginationController.decisionPages.current=e.current,p()},changeDecisionSorting:function(n){l=n,s.set("sortDecDefTable",n),p()},changeDrdPage:function(e){n.loadingState="LOADING",o.updateSilently({drdPage:e.current}),n.paginationController.drdPages.current=e.current,u()},changeDrdSorting:function(n){d=n,s.set("sortDRDTab",n),u()}},l=s.get("sortDecDefTable",{sortBy:"name",sortOrder:"asc"}),d=s.get("sortDRDTab",{sortBy:"name",sortOrder:"asc"});function u(){e.getDrds(t.extend({},{firstResult:(c.drdPages.current-1)*c.drdPages.size,maxResults:c.drdPages.size},d)).then((function(e){n.loadingState="LOADED",n.drds=e}))}function p(){e.getDecisions(t.extend({},{firstResult:(c.decisionPages.current-1)*c.decisionPages.size,maxResults:c.decisionPages.size},l)).then((function(e){n.loadingState="LOADED",n.decisions=e}))}e.getDecisionsLists(t.extend({},{firstResult:(c.decisionPages.current-1)*c.decisionPages.size,maxResults:c.decisionPages.size},l),t.extend({},{firstResult:(c.drdPages.current-1)*c.drdPages.size,maxResults:c.drdPages.size},d)).then((function(e){n.loadingState="LOADED",c.decisionPages.total=n.decisionCount=e.decisionsCount,n.decisions=e.decisions,c.drdPages.total=n.drdsCount=e.drdsCount,n.drds=e.drds})).catch((function(e){throw n.loadingError=e.message,n.loadingState="ERROR",e})),n.drdDashboardVars={read:["drdsCount","drds","paginationController"]}}]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],57:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s="undefined"!=typeof window?window["cam-common"]:void 0!==t?t["cam-common"]:null,i=n("./views/decision-list"),o=n("./controllers/decision-list"),r=n("./services/decision-list"),c=n("./components/decisions-table"),l=a.module("cockpit.plugin.decisionList.views.dashboard",[s.name]);l.config(i),l.factory("decisionList",r),l.controller("DecisionListController",o),l.directive("decisionsTable",c),e.exports=l}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./components/decisions-table":55,"./controllers/decision-list":56,"./services/decision-list":58,"./views/decision-list":59}],58:[function(n,e,t){"use strict";e.exports=["$q","camAPI",function(n,e){var t,a,s=e.resource("decision-definition"),i=e.resource("drd"),o={latestVersion:!0,sortBy:"name",sortOrder:"asc",firstResult:0,maxResults:50};function r(n,e){return e.map((function(e){return e.decisionRequirementsDefinitionId&&(e.drd=function(n,e){return n.filter((function(n){return n.id===e}))[0]}(n,e.decisionRequirementsDefinitionId)||{key:e.decisionRequirementsDefinitionKey,id:e.decisionRequirementsDefinitionId}),e}))}return{getDecisionsLists:function(e,c){var l=s.list(Object.assign({},o,e)),d=s.count({latestVersion:!0}),u=i.list(Object.assign({},o,c)),p=i.count({latestVersion:!0});return n.all({decisions:l,decisionsCount:d,drds:u,drdsCount:p}).then((function(n){return t=n.drds,a=n.decisions,a=n.decisions=r(n.drds,n.decisions),n.drdsCount=n.drdsCount.count,n})).catch((function(){}))},getDecisions:function(n){return s.list(Object.assign({},o,n)).then((function(n){return a=n,t&&(n=r(t,n)),n}))},getDrds:function(n){return i.list(Object.assign({},o,n)).then((function(n){return t=n,a&&(n=r(t,n)),n}))}}}]},{}],59:[function(n,e,t){"use strict";e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.decisions.dashboard",{id:"decision-list",label:"Deployed Decision Tables",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/dashboard/decision-list.html --\x3e\n<div class="deployed-decisions"\n     cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-error="{{ loadingError }}">\n\n  <div decisions-table\n       decisions="decisions"\n       decision-count="decisionCount"\n       is-drd-available="isDrdDashboardAvailable"\n       pagination="paginationController">\n  </div>\n\n  <view provider="drdDashboard"\n        vars="drdDashboardVars">\n  </view>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/dashboard/decision-list.html --\x3e\n',controller:"DecisionListController",priority:-5})}]},{}],60:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null,a=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "decisionInstanceId",\n        "value": "PLUGIN_DECISION_DEFINITION_VALUE_TYPE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "processDefinitionId",\n        "value": "PLUGIN_DECISION_DEFINITION_VALUE_PROCESS_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processDefinitionKey",\n        "value": "PLUGIN_DECISION_DEFINITION_VALUE_PROCESS_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "processInstanceId",\n        "value": "PLUGIN_DECISION_DEFINITION_VALUE_PROCESS_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionId",\n        "value": "PLUGIN_DECISION_DEFINITION_VALUE_CASE_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseDefinitionKey",\n        "value": "PLUGIN_DECISION_DEFINITION_VALUE_CASE_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "caseInstanceId",\n        "value": "PLUGIN_DECISION_DEFINITION_VALUE_CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityIdIn",\n        "value": "PLUGIN_DECISION_DEFINITION_VALUE_ACTIVITY_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "activityInstanceIdIn",\n        "value": "PLUGIN_DECISION_DEFINITION_VALUE_ACTIVITY_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "evaluatedDate",\n        "value": "PLUGIN_DECISION_DEFINITION_VALUE_EVALUATED_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "PLUGIN_DECISION_DEFINITION_VALUE_OPERATOR_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "PLUGIN_DECISION_DEFINITION_VALUE_OPERATOR_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "userId",\n        "value": "PLUGIN_DECISION_DEFINITION_VALUE_USER_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    }\n  ],\n  "operators": {\n    "undefined":  [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLUGIN_DECISION_DEFINITION_OPERATOR_LIKE"\n      }\n    ],\n    "string":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "PLUGIN_DECISION_DEFINITION_OPERATOR_LIKE"\n      }\n    ],\n    "number":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "boolean":    [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object":     [{\n      "key": "eq",\n      "value": "="\n    },\n      {\n        "key": "neq",\n        "value": "!="\n      }],\n    "date":     [{\n      "key": "lteq",\n      "value": "PLUGIN_DECISION_DEFINITION_VALUE_OPERATOR_BEFORE"\n    },\n      {\n        "key": "gteq",\n        "value": "PLUGIN_DECISION_DEFINITION_VALUE_OPERATOR_AFTER"\n      }]\n  },\n  "tooltips": {\n    "inputPlaceholder": "PLUGIN_DECISION_DEFINITION_ADD_CRITERIA",\n    "invalid": "PLUGIN_DECISION_DEFINITION_INVALID",\n    "deleteSearch": "PLUGIN_DECISION_DEFINITION_DELETE_SEARCH",\n    "type": "PLUGIN_DECISION_DEFINITION_TYPE",\n    "name": "PLUGIN_DECISION_DEFINITION_NAME",\n    "operator": "PLUGIN_DECISION_DEFINITION_OPERATOR",\n    "value": "PLUGIN_DECISION_DEFINITION_VALUE"\n  }\n}\n'),s=(0,("undefined"!=typeof window?window["camunda-bpm-sdk-js"]:void 0!==n?n["camunda-bpm-sdk-js"]:null).utils.debouncePromiseFactory)();e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.decisionDefinition.tab",{id:"decision-instances-table",label:"DECISION_DEFINITION_LABEL",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionDefinition/decision-instance-table.html --\x3e\n<div cam-searchable-area\n     config="searchConfig"\n     array-types="[\'activityIdIn\', \'activityInstanceIdIn\']"\n     variable-types="[\'variableValues\']"\n     on-search-change="onSearchChange(query, pages)"\n     loading-state="loadingState"\n     text-empty="{{ \'PLUGIN_DECISION_TABLE_NOT_FOUND\' | translate }}"\n     storage-group="\'DI\'">\n\n  <table class="decision-instances cam-table cam-fixed-layout">\n\n    <thead sortable-table-head\n           head-columns="headColumns"\n           on-sort-change="onSortChange(searchQuery, pages, sortObj)"\n           default-sort="sortObj">\n    </thead>\n\n    <tbody>\n      <tr ng-repeat="decisionInstance in decisionInstances">\n        <td class="instance-id"\n            cam-widget-clipboard="decisionInstance.id">\n          <a ng-href="#/decision-instance/{{ decisionInstance.id }}" title="{{ decisionInstance.id }}">\n            {{ decisionInstance.id }}\n          </a>\n        </td>\n\n        <td class="start-time"\n            cam-widget-clipboard="decisionInstance.evaluationTime | camDate">\n          {{ decisionInstance.evaluationTime | camDate }}\n        </td>\n\n        <td class="definition-key"\n            ng-if="decisionInstance.processDefinitionKey"\n            cam-widget-clipboard="decisionInstance.processDefinitionKey">\n          <a ng-href="{{ getProcessDefinitionLink(decisionInstance) }}">\n            {{ decisionInstance.processDefinitionKey }}\n          </a>\n        </td>\n        <td class="definition-key"\n            ng-if="decisionInstance.caseDefinitionKey"\n            cam-widget-clipboard="decisionInstance.caseDefinitionKey">\n          <a ng-if="hasCasePlugin"\n             ng-href="#/case-definition/{{ decisionInstance.caseDefinitionId }}?searchQuery={{ getActivitySearch(decisionInstance) }}">\n            {{ decisionInstance.caseDefinitionKey }}\n          </a>\n          <span ng-if="!hasCasePlugin">\n            {{ decisionInstance.caseDefinitionKey }}\n          </span>\n        </td>\n        <td class="definition-key"\n            ng-if="!decisionInstance.processDefinitionKey && !decisionInstance.caseDefinitionKey">\n        </td>\n\n        <td class="instance-id"\n            ng-if="decisionInstance.processInstanceId"\n            cam-widget-clipboard="decisionInstance.processInstanceId">\n          <a ng-href="{{ getProcessInstanceLink(decisionInstance) }}">\n            {{ decisionInstance.processInstanceId }}\n          </a>\n        </td>\n        <td class="instance-id"\n            ng-if="decisionInstance.caseInstanceId"\n            cam-widget-clipboard="decisionInstance.caseInstanceId">\n          <a ng-if="hasCasePlugin"\n             ng-href="#/case-instance/{{ decisionInstance.caseInstanceId }}?searchQuery={{ getActivitySearch(decisionInstance) }}">\n            {{ decisionInstance.caseInstanceId }}\n          </a>\n          <span ng-if="!hasCasePlugin">\n            {{ decisionInstance.caseInstanceId }}\n          </span>\n        </td>\n        <td class="instance-id"\n            ng-if="!decisionInstance.processInstanceId && !decisionInstance.caseInstanceId">\n        </td>\n\n        <td class="activity-id"\n            ng-if="decisionInstance.activityId"\n            cam-widget-clipboard="decisionInstance.activityId">\n          {{ decisionInstance.activityId }}\n        </td>\n        <td class="activity-id"\n            ng-if="!decisionInstance.activityId">\n        </td>\n\n      </tr>\n    </tbody>\n  </table>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionDefinition/decision-instance-table.html --\x3e\n',controller:["$scope","$location","search","routeUtil","camAPI","Views","$translate","localConf",function(n,e,i,o,r,c,l,d){n.headColumns=[{class:"instance-id",request:"",sortable:!1,content:l.instant("PLUGIN_DECISION_ID")},{class:"start-time",request:"evaluationTime",sortable:!0,content:l.instant("PLUGIN_DECISION_EVALUATION_TIME")},{class:"definition-key",request:"",sortable:!1,content:l.instant("PLUGIN_DECISION_CALLING_PROCESS_CASE")},{class:"instance-id",request:"",sortable:!1,content:l.instant("PLUGIN_DECISION_CALLING_INSTANCE_ID")},{class:"activity-id",request:"",sortable:!1,content:l.instant("PLUGIN_DECISION_ACTIVITY_ID")}];n.sortObj=function(n){return d.get("sortDecInstTab",n)}({sortBy:"evaluationTime",sortOrder:"desc"});var u=c.getProviders({component:"cockpit.processInstance.view"}).filter((function(n){return"history"===n.id})).length>0;n.hasCasePlugin=!1;try{n.hasCasePlugin=!!t.module("cockpit.plugin.case")}catch(n){}n.getProcessDefinitionLink=function(n){return u?"#/process-definition/"+n.processDefinitionId+"/history":"#/process-definition/"+n.processDefinitionId},n.getProcessInstanceLink=function(n){return u?"#/process-instance/"+n.processInstanceId+"/history?activityInstanceIds="+n.activityInstanceId+"&activityIds="+n.activityId:"#/process-instance/"+n.processInstanceId},n.getActivitySearch=function(n){return JSON.stringify([{type:"caseActivityIdIn",operator:"eq",value:n.activityId}])},n.searchConfig=t.copy(a);var p=r.resource("history");function f(e,a,i){n.pagesObj=a||n.pagesObj,n.sortObj=i||n.sortObj,i&&function(n){d.set("sortDecInstTab",n)}(i);var o=n.pagesObj.current,r=n.pagesObj.size,c=(o-1)*r;n.decisionInstances=null,n.loadingState="LOADING";var l=t.extend({decisionDefinitionId:n.decisionDefinition.id,firstResult:c,maxResults:r,sortBy:n.sortObj.sortBy,sortOrder:n.sortObj.sortOrder},e),u=t.extend({decisionDefinitionId:n.decisionDefinition.id},e);return s(p.decisionInstanceCount(u).then((function(n){var e=n.count;return p.decisionInstance(l).then((function(n){return{total:e,data:n}}))}))).then((function(e){var t=e.total,a=e.data;n.decisionInstances=a,n.loadingState=a.length?"LOADED":"EMPTY";var s=n.$root.$$phase;return"$apply"!==s&&"$digest"!==s&&n.$apply(),t})).catch(t.noop)}n.onSearchChange=f,n.onSortChange=f}],priority:10})}]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(n,e,t){"use strict";e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.decisionInstance.table",{id:"highlightRules",initialize:function(n){n.decisionInstance.outputs.forEach((function(e){e.ruleId&&n.tableControl.highlightRow(e.ruleId,"highlight")}))}})}]},{}],62:[function(n,e,t){"use strict";e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.decisionInstance.tab",{id:"decision-input-table",label:"PLUGIN_INPUT_TABLE_LABEL",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionInstance/input-variable-table.html --\x3e\n\x3c!-- <div ng-repeat="variable in variables"\n     cam-widget-variable\n     cam-variable="variable"\n     display="true">\n</div> --\x3e\n\n<div cam-widget-loader loading-state="{{loadingState}}" text-empty="{{ \'PLUGIN_DECISION_LIS_NO_INPUT_TEXT\' | translate }}">\n  <div cam-widget-variables-table\n       cam-editable="[]"\n       cam-variables="variables"\n       default-sort = "sortObj"\n       on-sort-change="onSortChange(sortObj)"\n       cam-headers="headColumns"></div>\n</div>\n\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionInstance/input-variable-table.html --\x3e\n',controller:["$scope","$translate","localConf","orderByFilter",function(n,e,t,a){var s;n.loadingState=n.decisionInstance.inputs.length>0?"LOADED":"EMPTY",n.variables=n.decisionInstance.inputs.map((function(n){return{variable:{type:n.type,value:n.value,name:n.clauseName||n.clauseId,valueInfo:n.valueInfo}}})),n.headColumns=[{class:"name",request:"variable.name",sortable:!0,content:e.instant("PLUGIN_VARIABLE_NAME")},{class:"type",request:"variable.type",sortable:!0,content:e.instant("PLUGIN_VARIABLE_TYPE")},{class:"value",request:"",sortable:!1,content:e.instant("PLUGIN_VARIABLE_VALUE")}],n.sortObj=(s={sortBy:"variable.name",sortOrder:"asc",sortReverse:!1},t.get("sortDecisionInputTab",s)),n.onSortChange=function(e){(e=e||n.sortObj).sortReverse="asc"!==e.sortOrder,function(n){t.set("sortDecisionInputTab",n)}(e),n.variables=a(n.variables,e.sortBy,e.sortReverse)}}],priority:20})}]},{}],63:[function(n,e,t){"use strict";e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.decisionInstance.tab",{id:"decision-input-table",label:"PLUGIN_OUTPUT_TABLE_LABEL",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionInstance/output-variable-table.html --\x3e\n\x3c!-- <div ng-repeat="variable in variables"\n     cam-widget-variable\n     cam-variable="variable"\n     display="true">\n</div> --\x3e\n\n<div cam-widget-variables-table\n     cam-editable="[]"\n     cam-variables="variables"\n     default-sort = "sortObj"\n     on-sort-change="onSortChange(sortObj)"\n     cam-headers="headColumns"></div>\n</div>\n\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/decisionList/app/views/decisionInstance/output-variable-table.html --\x3e\n',controller:["$scope","$translate","localConf","orderByFilter",function(n,e,t,a){var s;n.variables=n.decisionInstance.outputs.map((function(n){return{variable:{type:n.type,value:n.value,name:n.clauseName||n.clauseId||n.variableName,valueInfo:n.valueInfo}}})),n.headColumns=[{class:"name",request:"variable.name",sortable:!0,content:e.instant("PLUGIN_VARIABLE_NAME")},{class:"type",request:"variable.type",sortable:!0,content:e.instant("PLUGIN_VARIABLE_TYPE")},{class:"value",request:"",sortable:!1,content:e.instant("PLUGIN_VARIABLE_VALUE")}],n.sortObj=(s={sortBy:"variable.name",sortOrder:"asc",sortReverse:!1},t.get("sortDecisionInputTab",s)),n.onSortChange=function(e){(e=e||n.sortObj).sortReverse="asc"!==e.sortOrder,function(n){t.set("sortDecisionInputTab",n)}(e),n.variables=a(n.variables,e.sortBy,e.sortReverse)}}],priority:10})}]},{}],64:[function(n,e,t){"use strict";var a=n("../../../../../../../camunda-commons-ui/vendor/angular");e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.decisionInstance.table",{id:"realInput",initialize:function(n){var e,t,s=a.element("th[data-col-id]");s&&s.each((function(a,s){(t=n.decisionInstance.inputs.filter((function(n){return n.clauseId===s.getAttribute("data-col-id")}))[0])&&(e=document.createElement("span"),"Object"!==t.type&&"Bytes"!==t.type&&"File"!==t.type?(e.className="dmn-input",e.textContent=" = "+t.value):(e.className="dmn-input-object",e.setAttribute("title","Variable value of type "+t.type+" is not shown"),e.textContent=" = ["+t.type+"]"),s.firstChild.appendChild(e))}))}})}]},{"../../../../../../../camunda-commons-ui/vendor/angular":3}],65:[function(n,e,t){"use strict";var a=n("../../../../../../../camunda-commons-ui/vendor/angular");e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.decisionInstance.table",{id:"realOutput",initialize:function(n){var e,t,s;n.decisionInstance.outputs.map((function(n){t=".output-cell[data-col-id="+n.clauseId+"][data-row-id="+n.ruleId+"]",e=a.element(t)[0],s=document.createElement("span"),"Object"!==n.type&&"Bytes"!==n.type&&"File"!==n.type?(s.className="dmn-output",s.textContent=" = "+n.value):(s.className="dmn-output-object",s.setAttribute("title","Variable value of type "+n.type+" is not shown"),s.textContent=" = ["+n.type+"]"),e.appendChild(s)}))}})}]},{"../../../../../../../camunda-commons-ui/vendor/angular":3}],66:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("./dashboard"),i=n("./decisionDefinition/decisionInstanceTable"),o=n("./decisionInstance/inputTable"),r=n("./decisionInstance/outputTable"),c=n("./decisionInstance/highlightRules"),l=n("./decisionInstance/realInput"),d=n("./decisionInstance/realOutput"),u=a.module("cockpit.plugin.decisionList.views",[s.name]);u.config(i),u.config(o),u.config(r),u.config(c),u.config(l),u.config(d),e.exports=u}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dashboard":57,"./decisionDefinition/decisionInstanceTable":60,"./decisionInstance/highlightRules":61,"./decisionInstance/inputTable":62,"./decisionInstance/outputTable":63,"./decisionInstance/realInput":64,"./decisionInstance/realOutput":65}],67:[function(n,e,t){"use strict";function a(n,e,t,a,s,i){e(n,this,["processInstance","processData"]),a(n,this),this.scope=n,this.translate=s,this.localConf=i,this.externalTasks=t,this.query=null,this.pages=null,this.activityIds=null,this.sorting=this._loadLocal({sortBy:"taskPriority",sortOrder:"asc"}),this.headColumns=[{class:"state",request:"",sortable:!1,content:this.translate.instant("PLUGIN_EXT_EXTERNAL_TASK_ID")},{class:"activity",request:"",sortable:!1,content:this.translate.instant("PLUGIN_EXT_ACTIVITY")},{class:"retries",request:"",sortable:!1,content:this.translate.instant("PLUGIN_EXT_RETRIES")},{class:"worker-id",request:"",sortable:!1,content:this.translate.instant("PLUGIN_EXT_WORKER_ID")},{class:"expiration",request:"",sortable:!1,content:this.translate.instant("PLUGIN_EXT_LOCK_EXPIRATION_TIME")},{class:"topic",request:"",sortable:!1,content:this.translate.instant("PLUGIN_EXT_TOPIC")},{class:"priority",request:"taskPriority",sortable:!0,content:this.translate.instant("PLUGIN_EXT_PRIORITY")}]}e.exports=["$scope","exposeScopeProperties","externalTasks","observeBpmnElements","$translate","localConf",a],a.prototype._loadLocal=function(n){return this.localConf.get("sortExternalTaskRuntimeTab",n)},a.prototype._saveLocal=function(n){return this.localConf.set("sortExternalTaskRuntimeTab",n)},a.prototype.onSortChange=function(n){this.sorting=n,this._saveLocal(this.sorting),this.onLoad()},a.prototype.onLoad=function(n,e){return this.pages=n||this.pages,this.activityIds=e||this.activityIds,this.externalTasks.getActiveExternalTasksForProcess(this.processInstance.id,this.pages,this.sorting,this.getActivityParams(this.activityIds)).then(function(n){var e=this;return this.tasks=n.list,setTimeout((function(){e.scope.$apply()}),0),n}.bind(this)).catch((function(){}))},a.prototype.getActivityParams=function(n){return n&&n.length?{activityIdIn:n}:{}}},{}],68:[function(n,e,t){(function(t){(function(){"use strict";var a=n("../../../../camunda-commons-ui/vendor/angular"),s="undefined"!=typeof window?window["cam-common"]:void 0!==t?t["cam-common"]:null,i=n("./services/external-tasks"),o=n("./controllers/process-instance-runtime-external-tasks-controller"),r=n("./view-provider.config"),c=a.module("cockpit.plugin.process-instance-runtime-tab",[s.name]);c.factory("externalTasks",i),c.controller("ProcessInstanceRuntimeTabController",o),c.config(r),e.exports=c}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../camunda-commons-ui/vendor/angular":3,"./controllers/process-instance-runtime-external-tasks-controller":67,"./services/external-tasks":69,"./view-provider.config":70}],69:[function(n,e,t){(function(t){(function(){"use strict";var a=n("../../../../../camunda-commons-ui/vendor/angular"),s=(0,("undefined"!=typeof window?window["camunda-bpm-sdk-js"]:void 0!==t?t["camunda-bpm-sdk-js"]:null).utils.debouncePromiseFactory)();e.exports=["camAPI","createListQueryFunction",function(n,e){var t=n.resource("external-task"),i=e(t.count.bind(t),t.list.bind(t));return{getActiveExternalTasksForProcess:function(n,e,t,o){var r={processInstanceId:n},c={sorting:[t]};return s(i(a.extend(r,o),e,c))}}}]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../../camunda-commons-ui/vendor/angular":3}],70:[function(n,e,t){"use strict";e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.processInstance.runtime.tab",{id:"external-tasks-process-instance-runtime",label:"PLUGIN_EXTERNAL_TASKS_LABEL",template:'\x3c!-- # CE - ui/cockpit/plugins/external-tasks-process-instance-runtime-tab/process-instance-runtime-external-tasks.html --\x3e\n<div external-tasks-tab="RuntimeTab.onLoad(pages, activityIds)"\n     process-data="RuntimeTab.processData">\n  <table class="history-job-log cam-table">\n\n    <thead sortable-table-head\n           head-columns="RuntimeTab.headColumns"\n           on-sort-change="RuntimeTab.onSortChange(RuntimeTab.sorting)"\n           default-sort="RuntimeTab.sorting">\n    </thead>\n    <tbody>\n      <tr ng-repeat="task in RuntimeTab.tasks track by task.id">\n        <td class="state"\n            cam-widget-clipboard="task.id">{{task.id}}</td>\n        <td class="activity">\n          <span external-task-activity-link="task.activityId"\n                bpmn-elements="RuntimeTab.bpmnElements">\n          </span>\n        </td>\n        <td class="retries">{{task.retries}}</td>\n        <td class="worker-id">{{task.workerId}}</td>\n        <td class="expiration">{{task.lockExpirationTime}}</td>\n        <td class="topic">{{task.topicName}}</td>\n        <td class="priority">{{task.priority}}</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n\x3c!-- / CE - ui/cockpit/plugins/external-tasks-process-instance-runtime-tab/process-instance-runtime-external-tasks.html --\x3e\n',controller:"ProcessInstanceRuntimeTabController as RuntimeTab"})}]},{}],71:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null,a=function(n){n.registerDefaultView("cockpit.processDefinition.runtime.action",{id:"bulk-job-definition-override-job-priority-action",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/actions/bulk-override-job-priority/bulk-override-job-priority-action.html --\x3e\n<a class="btn btn-default action-button"\n   ng-click="openDialog()"\n   uib-tooltip="{{ \'BULK_OVERRIDE_TOOLTIP_CHANGE_OVRR\' | translate }}"\n   tooltip-placement="left">\n  <span class="glyphicon glyphicon-cog"></span>\n</a>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/actions/bulk-override-job-priority/bulk-override-job-priority-action.html --\x3e\n',controller:["$scope","$rootScope","$uibModal",function(n,e,a){var s=n.processData.newChild(n);n.openDialog=function(){a.open({resolve:{jobDefinitions:function(){},processData:function(){return s}},controller:"BulkJobDefinitionOverrideJobPriorityController",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/actions/bulk-override-job-priority/bulk-override-job-priority-dialog.html --\x3e\n<div class="modal-header">\n  <h3>{{ \'BULK_OVERRIDE_CHANGE_JOB_TEXT\' | translate }}</h3>\n</div>\n\n<div class="job-definition-override-job-priority modal-body">\n  <div notifications-panel></div>\n\n  <div ng-hide="status === \'FINISHED\' || hasNoJobDefinitions">\n\n    <p>{{ \'BULK_OVERRIDE_CHANGE_JOB_LEGEND\' | translate }}</p>\n\n    <form class="form-horizontal"\n          name="overrideJobPriorityForm"\n          novalidate\n          request-aware\n          ng-submit="isValid() && submit()">\n\n      <fieldset>\n\n        <div class="form-group">\n          <label class="col-xs-4 control-label"\n                 for="execute">\n            {{ \'BULK_OVERRIDE_EXECUTE\' | translate }}\n            <span class="glyphicon glyphicon-question-sign"\n                  uib-tooltip="{{ \'BULK_OVERRIDE_EXECUTE_TOOLTIP\' | translate }}"\n                  tooltip-placement="right">\n            </span>\n          </label>\n\n          <div class="col-xs-8">\n            <div class="radio">\n              <label>\n                <input ng-model="setJobPriority"\n                       ng-value="false"\n                       type="radio"\n                       name="execute" />\n                {{ \'BULK_OVERRIDE_CLEAR_OVRR\' | translate }}\n              </label>\n            </div>\n\n            <div class="radio">\n              <label>\n                <input ng-model="setJobPriority"\n                       ng-value="true"\n                       type="radio"\n                       name="execute" />\n                {{ \'BULK_OVERRIDE_SET_OVRR\' | translate }}\n              </label>\n            </div>\n          </div>\n        </div>\n\n        <div class="form-group" ng-show="setJobPriority">\n          <label class="col-xs-4 control-label"\n                 for="priority">\n            {{ \'BULK_OVERRIDE_PRIORITY\' | translate }}\n            <span class="glyphicon glyphicon-question-sign"\n                  uib-tooltip="{{ \'BULK_OVERRIDE_PRIORITY_TOOLTIP\' | translate }}"\n                  tooltip-placement="right">\n            </span>\n          </label>\n\n          <div class="col-xs-8">\n            <input name="priority"\n                   ng-model="data.priority"\n                   class="form-control"\n                   numeric integer="true"\n                   required />\n            <p class="invalid"\n               ng-show="this.overrideJobPriorityForm.priority.$error.numeric">\n              {{ \'BULK_OVERRIDE_INVALID_VALUE\' | translate }}\n            </p>\n          </div>\n        </div>\n\n        <div class="form-group" ng-show="setJobPriority">\n          <label class="col-xs-4 control-label"\n                 for="includeJobsPriority">\n            {{ \'BULK_OVERRIDE_INCLUDE_EXISTING_JOB\' | translate }}\n            <span class="glyphicon glyphicon-question-sign"\n                  uib-tooltip="{{ \'BULK_OVERRIDE_INCLUDE_EXISTING_JOB_TOOLTIP\' | translate }}"\n                  tooltip-placement="right">\n            </span>\n          </label>\n\n          <div class="col-xs-8 checkbox">\n            <label>\n              <input name="includeJobsPriority"\n                     type="checkbox"\n                     ng-model="data.includeJobs" />\n            </label>\n          </div>\n        </div>\n\n      </fieldset>\n    </form>\n\n    <p>\n      {{ \'BULK_OVERRIDE_DO_YOU_REALLY\' | translate }}\n    </p>\n\n  </div>\n\n  <div ng-show="status === \'FINISHED\' || status === \'PERFORMING\'">\n\n    <table class="cam-table">\n      <thead>\n        <tr>\n          <th class="job-id uuid">{{ \'BULK_OVERRIDE_ACTIVITY\' | translate }}</th>\n          <th class="scope">{{ \'BULK_OVERRIDE_TYPE\' | translate }}</th>\n          <th class="status">{{ \'BULK_OVERRIDE_STATUS\' | translate }}</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr ng-repeat="jobDefinition in showJobDefinitions">\n          <td class="activity">\n            {{ jobDefinition.activityName || jobDefinition.activityId }}\n          </td>\n          <td class="type">\n            {{ jobDefinition.jobType }}\n          </td>\n          <td class="status">\n            <span ng-show="jobDefinition.status && jobDefinition.status === \'PERFORMING\'">\n              <span class="glyphicon glyphicon-loading"></span>\n            </span>\n            <span ng-show="jobDefinition.status && jobDefinition.status === \'SUCCESS\'">\n              <span class="glyphicon glyphicon-ok"></span>&nbsp;{{ \'BULK_OVERRIDE_SUCCESSFUL\' | translate }}\n            </span>\n            <span ng-show="jobDefinition.status && jobDefinition.status === \'FAILED\'">\n              <span class="glyphicon glyphicon-remove"></span>&nbsp;{{ \'BULK_OVERRIDE_FAILED\' | translate }}\n            </span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <ul uib-pagination ng-if="summarizePages.total > summarizePages.size"\n                class="pagination-sm"\n\n                page="summarizePages.current"\n                ng-model="summarizePages.current"\n\n                total-items="summarizePages.total"\n                items-per-page="summarizePages.size"\n\n                max-size="7"\n                boundary-links="true"></ul>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-link"\n          ng-click="close(status)"\n          ng-disabled="status === \'PERFORMING\'"\n          ng-hide="status === \'FINISHED\' || hasNoJobDefinitions">\n    {{ \'BULK_OVERRIDE_CLOSE\' | translate }}\n  </button>\n\n  <button type="submit"\n          class="btn btn-primary"\n          ng-click="submit()"\n          ng-hide="setJobPriority || status === \'FINISHED\'"\n          ng-disabled="!isValid() || status === \'PEFORMING\'">\n    {{ \'BULK_OVERRIDE_CLEAR\' | translate }}\n  </button>\n\n  <button type="submit"\n          class="btn btn-primary"\n          ng-click="submit()"\n          ng-hide="!setJobPriority || status === \'FINISHED\' || hasNoJobDefinitions"\n          ng-disabled="!isValid() || status === \'PERFORMING\'">\n    {{ \'BULK_OVERRIDE_OVERRIDE\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="close(status)"\n          ng-show="status === \'FINISHED\' || hasNoJobDefinitions">\n    {{ \'BULK_OVERRIDE_OK\' | translate }}\n  </button>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/actions/bulk-override-job-priority/bulk-override-job-priority-dialog.html --\x3e\n'}).result.then((function(e){"FINISHED"===e.status&&(s.changed("jobDefinitions"),s.set("filter",t.extend({},n.filter)))})).catch(t.noop)}}],priority:10})};a.$inject=["ViewsProvider"],e.exports=a}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],72:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null;e.exports=["$scope","$q","Notifications","JobDefinitionResource","$uibModalInstance","$timeout","$translate","processData","camAPI",function(n,e,a,s,i,o,r,c,l){var d=[];c.observe(["processDefinition","bpmnElements",function(e,s){!function r(c){l.resource("job-definition").list({processDefinitionId:e.id,firstResult:c,maxResults:2e3}).then((function(e){if(d=d.concat(e.map((function(n){return n.activityName=s[n.activityId]&&s[n.activityId].name,n}))),g.total=d.length,!d.length)return n.hasNoJobDefinitions=!0,void i.opened.then(o((function(){a.addError({status:"Error",message:"This process definition has no job definitions associated with. The job priority cannot be overridden.",exclusive:!0})}),0)).catch(t.noop);E(1),2e3===e.length&&r(c+2e3)}))}(0)}]),n.status;var u="FINISHED",p="PERFORMING",f="SUCCESS",I="FAILED",b=!1,g=n.summarizePages={size:5,total:0,current:1},_=n.data={priority:null,includeJobs:!1};function E(e){for(var t=g.size,a=(e-1)*t,s=n.showJobDefinitions=[],i=0;i<t;i++){var o=d[i+a];o&&s.push(o)}}n.setJobPriority=!0,n.$on("$routeChangeStart",(function(){var e={};e.status=n.status,i.close(e)})),n.$watch("summarizePages.current",(function(n){n&&E(n)})),n.submit=function(){n.setJobPriority||(_={}),function(i){n.status=p,function(n){var t=e.defer(),a=n.length;function i(n){n.status=p,s.setJobPriority({id:n.id},_,(function(){n.status=f,0===(a-=1)&&t.resolve()}),(function(e){b=!0,n.status=I,n.error=e,0===(a-=1)&&t.resolve()}))}for(var o,r=0;o=n[r];r++)i(o);return t.promise}(i).then((function(){b?n.setJobPriority?a.addError({status:r.instant("BULK_OVERRIDE_STATUS_FINISHED"),message:r.instant("BULK_OVERRIDE_ERROR_1"),exclusive:!0}):a.addError({status:r.instant("BULK_OVERRIDE_STATUS_FINISHED"),message:r.instant("BULK_OVERRIDE_ERROR_2"),exclusive:!0}):n.setJobPriority?a.addMessage({status:r.instant("BULK_OVERRIDE_STATUS_FINISHED"),message:r.instant("BULK_OVERRIDE_MESSAGE"),exclusive:!0}):a.addMessage({status:r.instant("BULK_OVERRIDE_STATUS_FINISHED"),message:r.instant("BULK_OVERRIDE_CLEARING_MESSAGE"),exclusive:!0}),n.status=u})).catch(t.noop)}(d)},n.isValid=function(){var e=t.element('[name="overrideJobPriorityForm"]').scope();return!n.setJobPriority||!(!e||!e.overrideJobPriorityForm)&&e.overrideJobPriorityForm.$valid},n.close=function(n){var e={};e.status=n,i.close(e)}}]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],73:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("./override-job-priority/override-job-priority-action"),i=n("./override-job-priority/override-job-priority-dialog"),o=n("./bulk-override-job-priority/bulk-override-job-priority-action"),r=n("./bulk-override-job-priority/bulk-override-job-priority-dialog"),c=a.module("cockpit.plugin.jobDefinition.actions",[]);c.config(s),c.controller("JobDefinitionOverrideJobPriorityController",i),c.config(o),c.controller("BulkJobDefinitionOverrideJobPriorityController",r),e.exports=c}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bulk-override-job-priority/bulk-override-job-priority-action":71,"./bulk-override-job-priority/bulk-override-job-priority-dialog":72,"./override-job-priority/override-job-priority-action":74,"./override-job-priority/override-job-priority-dialog":75}],74:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null,a=function(n){n.registerDefaultView("cockpit.jobDefinition.action",{id:"job-definition-override-job-priority-action",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/actions/override-job-priority/override-job-priority-action.html --\x3e\n<a class="btn btn-default action-button"\n   ng-click="openDialog(jobDefinition)"\n   uib-tooltip="{{ \'PLUGIN_JOBDEFINITION_ACTION_OVERRIDE_TOOLTIP_CHANGE\' | translate }}"\n   tooltip-placement="left">\n  <span class="glyphicon glyphicon-cog"></span>\n</a>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/actions/override-job-priority/override-job-priority-action.html --\x3e\n',controller:["$scope","$rootScope","$uibModal",function(n,e,a){n.openDialog=function(e){a.open({resolve:{jobDefinition:function(){return e}},controller:"JobDefinitionOverrideJobPriorityController",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/actions/override-job-priority/override-job-priority-dialog.html --\x3e\n<div class="modal-header">\n  <h3>{{ \'PLUGIN_JOBDEFINITION_ACTION_OVERRIDE_JP\' | translate }}</h3>\n</div>\n\n<div class="job-definition-override-job-priority modal-body">\n  <div notifications-panel></div>\n\n  <div ng-hide="status === \'SUCCESS\' || status === \'FAIL\'">\n\n    <p>{{ \'PLUGIN_JOBDEFINITION_ACTION_OVERRIDE_TEXT\' | translate }}</p>\n\n    <form class="form-horizontal"\n          name="overrideJobPriorityForm"\n          novalidate\n          request-aware\n          ng-submit="isValid() && submit()">\n\n      <fieldset>\n\n        <div class="form-group" ng-show="hasOverridingJobPriority()">\n          <label class="col-xs-4 control-label"\n                 for="execute">\n            {{ \'PLUGIN_JOBDEFINITION_ACTION_EXECUTE\' | translate }}\n            <span class="glyphicon glyphicon-question-sign"\n                  uib-tooltip="{{ \'PLUGIN_JOBDEFINITION_ACTION_EXECUTE_TOOLTIP\' | translate }}"\n                  tooltip-placement="right">\n            </span>\n          </label>\n\n          <div class="col-xs-8">\n            <div class="radio">\n              <label>\n                <input ng-model="setJobPriority"\n                       ng-value="false"\n                       type="radio"\n                       name="execute" />\n                {{ \'PLUGIN_JOBDEFINITION_ACTION_CLEAR_OVERR\' | translate }}\n              </label>\n            </div>\n\n            <div class="radio">\n              <label>\n                <input ng-model="setJobPriority"\n                       ng-value="true"\n                       type="radio"\n                       name="execute" />\n                {{ \'PLUGIN_JOBDEFINITION_ACTION_SET_OVERR\' | translate }}\n              </label>\n            </div>\n          </div>\n        </div>\n\n        <div class="form-group" ng-show="setJobPriority">\n          <label class="col-xs-4 control-label"\n                 for="priority">\n            {{ \'PLUGIN_JOBDEFINITION_ACTION_PRIORITY\' | translate }}\n            <span class="glyphicon glyphicon-question-sign"\n                  uib-tooltip="{{ \'PLUGIN_JOBDEFINITION_ACTION_PRIORITY_TOOLTIP\' | translate }}"\n                  tooltip-placement="right">\n            </span>\n          </label>\n\n          <div class="col-xs-8">\n            <input name="priority"\n                   ng-model="data.priority"\n                   class="form-control"\n                   numeric integer="true"\n                   required />\n            <p class="invalid"\n               ng-show="this.overrideJobPriorityForm.priority.$error.numeric">\n              {{ \'PLUGIN_JOBDEFINITION_ACTION_INVALID_VALUE\' | translate }}\n            </p>\n          </div>\n        </div>\n\n        <div class="form-group" ng-show="setJobPriority">\n          <label class="col-xs-4 control-label"\n                 for="includeJobsPriority">\n            {{ \'PLUGIN_JOBDEFINITION_ACTION_INCLUDE_EXISTING_JOB\' | translate }}\n            <span class="glyphicon glyphicon-question-sign"\n                  uib-tooltip="{{ \'PLUGIN_JOBDEFINITION_ACTION_INCLUDE_EXISTING_JOB_TOOLTIP\' | translate }}"\n                  tooltip-placement="right">\n            </span>\n          </label>\n\n          <div class="col-xs-8 checkbox">\n            <label>\n              <input name="includeJobsPriority"\n                     type="checkbox"\n                     ng-model="data.includeJobs" />\n            </label>\n          </div>\n        </div>\n\n      </fieldset>\n    </form>\n\n    <p>\n      {{ \'PLUGIN_JOBDEFINITION_ACTION_TEXT_1\' | translate }}\n    </p>\n\n  </div>\n\n  <div ng-show="status === \'SUCCESS\'">\n    <p ng-show="setJobPriority"\n       translate="PLUGIN_JOBDEFINITION_ACTION_TEXT_2"\n       translate-values="{data: data.priority}">\n    </p>\n    <p ng-hide="setJobPriority">\n      {{ \'PLUGIN_JOBDEFINITION_ACTION_TEXT_3\' | translate }}\n    </p>\n  </div>\n\n  <div ng-show="status === \'FAIL\'">\n    <p ng-show="setJobPriority"\n       translate="PLUGIN_JOBDEFINITION_ACTION_TEXT_4"\n       translate-values="{data: data.priority}">\n    </p>\n    <p ng-hide="setJobPriority">\n      {{ \'PLUGIN_JOBDEFINITION_ACTION_TEXT_5\' | translate }}\n    </p>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-link"\n          ng-click="close(status)"\n          ng-disabled="status === \'PERFORM_UDPATE\'"\n          ng-hide="status === \'SUCCESS\' || status === \'FAIL\'">\n    {{ \'PLUGIN_JOBDEFINITION_ACTION_CLOSE\' | translate }}\n  </button>\n\n  <button type="submit"\n          class="btn btn-primary"\n          ng-click="submit()"\n          ng-hide="setJobPriority || status === \'SUCCESS\' || status === \'FAIL\'"\n          ng-disabled="!isValid() || status === \'PERFORM_UDPATE\'">\n    {{ \'PLUGIN_JOBDEFINITION_ACTION_CLEAR\' | translate }}\n  </button>\n\n  <button type="submit"\n          class="btn btn-primary"\n          ng-click="submit()"\n          ng-hide="!setJobPriority || status === \'SUCCESS\' || status === \'FAIL\'"\n          ng-disabled="!isValid() || status === \'PERFORM_UDPATE\'">\n    {{ \'PLUGIN_JOBDEFINITION_ACTION_OVERRIDE\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="close(status)"\n          ng-show="status === \'SUCCESS\' || status === \'FAIL\'">\n    {{ \'PLUGIN_JOBDEFINITION_ACTION_OK\' | translate }}\n  </button>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/actions/override-job-priority/override-job-priority-dialog.html --\x3e\n'}).result.then((function(e){"SUCCESS"===e.status&&(n.processData.changed("jobDefinitions"),n.processData.set("filter",t.extend({},n.filter)))})).catch(t.noop)}}],priority:10})};a.$inject=["ViewsProvider"],e.exports=a}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],75:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null;e.exports=["$scope","$q","Notifications","JobDefinitionResource","$uibModalInstance","jobDefinition","$translate",function(n,e,a,s,i,o,r){n.status,n.setJobPriority=!0;var c=n.data={priority:o.overridingJobPriority,includeJobs:!1};n.$on("$routeChangeStart",(function(){var e={};e.status=n.status,i.close(e)})),n.hasOverridingJobPriority=function(){return null!==o.overridingJobPriority&&void 0!==o.overridingJobPriority},n.submit=function(){var e=n.setJobPriority;e||(c={}),s.setJobPriority({id:o.id},c,(function(){n.status="SUCCESS",e?a.addMessage({status:r.instant("PLUGIN_JOBDEFINITION_ACTION_STATUS_FINISHED"),message:r.instant("PLUGIN_JOBDEFINITION_ACTION_DIALOG_MSN_1"),exclusive:!0}):a.addMessage({status:r.instant("PLUGIN_JOBDEFINITION_ACTION_STATUS_FINISHED"),message:r.instant("PLUGIN_JOBDEFINITION_ACTION_DIALOG_MSN_2"),exclusive:!0})}),(function(t){n.status="FAIL",e?a.addError({status:r.instant("PLUGIN_JOBDEFINITION_ACTION_STATUS_FINISHED"),message:r.instant("PLUGIN_JOBDEFINITION_ACTION_DIALOG_ERR_1",{message:t.data.message}),exclusive:!0}):a.addError({status:r.instant("PLUGIN_JOBDEFINITION_ACTION_STATUS_FINISHED"),message:r.instant("PLUGIN_JOBDEFINITION_ACTION_DIALOG_ERR_2",{message:t.data.message}),exclusive:!0})}))},n.isValid=function(){var e=t.element('[name="overrideJobPriorityForm"]').scope();return!n.setJobPriority||!(!e||!e.overrideJobPriorityForm)&&e.overrideJobPriorityForm.$valid},n.close=function(n){var e={};e.status=n,i.close(e)}}]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],76:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("./views/main"),i=n("./actions/main");e.exports=a.module("cockpit.plugin.jobDefinition",[s.name,i.name])}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./actions/main":73,"./views/main":77}],77:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("./processDefinition/jobDefinitionTable"),i=n("./processDefinition/jobDefinitionSuspensionState"),o=n("./processDefinition/suspensionStateAction"),r=n("./processDefinition/diagramPlugins"),c=a.module("cockpit.plugin.jobDefinition.views",[r.name]);c.config(s),c.controller("JobDefinitionSuspensionStateController",i),c.config(o),e.exports=c}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./processDefinition/diagramPlugins":78,"./processDefinition/jobDefinitionSuspensionState":80,"./processDefinition/jobDefinitionTable":81,"./processDefinition/suspensionStateAction":82}],78:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("./jobSuspension"),i=a.module("cockpit.plugin.jobDefinition.views.diagramPlugins",[]);i.config(s),e.exports=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./jobSuspension":79}],79:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null;e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.processDefinition.diagram.plugin",{id:"activity-instance-statistics-overlay",overlay:["$scope","control","processData","processDiagram","camAPI",function(n,e,a,s,i){var o=e.getViewer(),r=o.get("overlays"),c=o.get("elementRegistry"),l={};n.$on("$processDefinition.suspensionState.changed",(function(){u()}));var d=null,u=function(e){(d=e||d)&&i.resource("job-definition").list({processDefinitionId:d.id,firstResult:0,maxResults:2e3}).then((function(e){c.forEach((function(a){var i=s.bpmnElements[a.businessObject.id],o=function(n,e){return e.filter((function(e){return e.activityId===n.id}))}(i,e);o.length>0&&(i.isSelectable=!0),n.$watch((function(){return o.some((function(n){return n.suspended}))}),(function(n){var e=l[i.id];!e&&n&&(e=t.element('<span class="badge badge-warning activity-top-right-position"\n      uib-tooltip="Suspended Job Definition"\n      tooltip-placement="top">\n  <span class="glyphicon glyphicon-pause"></span>\n</span>\n'),r.add(i.id,{position:{top:0,right:0},show:{minZoom:-1/0,maxZoom:1/0},html:e[0]}),l[i.id]=e),e&&(n?(e.show(),e.tooltip({container:"body",title:"Suspended Job Definition",placement:"top"})):e.hide())}))}))}))};a.observe("processDefinition",u)}]})}]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],80:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null;e.exports=["$scope","$http","$filter","Uri","Notifications","$uibModalInstance","jobDefinition","$translate","fixDate","$rootScope",function(n,e,a,s,i,o,r,c,l,d){var u=a("date");n.jobDefinition=r,n.status="BEFORE_UPDATE",n.data={includeJobs:!0,executeImmediately:!0,executionDate:u(Date.now(),"yyyy-MM-dd'T'HH:mm:ss")},n.$on("$routeChangeStart",(function(){o.close(n.status)})),n.updateSuspensionState=function(){n.status="PERFORM_UDPATE";var t={};t.suspended=!r.suspended,t.includeJobs=n.data.includeJobs,t.executionDate=n.data.executeImmediately?null:l(n.data.executionDate),e.put(s.appUri("engine://engine/:engine/job-definition/"+r.id+"/suspended/"),t).then((function(){n.status="SUCCESS",n.data.executeImmediately?(d.$broadcast("$processDefinition.suspensionState.changed",r),i.addMessage({status:c.instant("PLUGIN_JOBDEFINITION_STATE_STATUS"),message:c.instant("PLUGIN_JOBDEFINITION_STATE_MESSAGES_1"),exclusive:!0})):i.addMessage({status:c.instant("PLUGIN_JOBDEFINITION_STATE_STATUS"),message:c.instant("PLUGIN_JOBDEFINITION_STATE_MESSAGES_2"),exclusive:!0})})).catch((function(e){n.status="FAIL",n.data.executeImmediately?i.addError({status:c.instant("PLUGIN_JOBDEFINITION_STATE_STATUS"),message:c.instant("PLUGIN_JOBDEFINITION_STATE_ERR_1",{message:e.data.message}),exclusive:!0}):i.addError({status:c.instant("PLUGIN_JOBDEFINITION_STATE_STATUS"),message:c.instant("PLUGIN_JOBDEFINITION_STATE_ERR_2",{message:e.data.message}),exclusive:!0})}))},n.isValid=function(){var n=t.element('[name="updateSuspensionStateForm"]').scope();return!(!n||!n.updateSuspensionStateForm)&&n.updateSuspensionStateForm.$valid},n.close=function(e){var t={};t.status=e,t.suspended=!r.suspended,t.executeImmediately=n.data.executeImmediately,t.executionDate=n.data.executionDate,o.close(t)}}]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],81:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("../../../../../../common/scripts/util/search-widget-utils"),i=["$scope","Views","$translate","localConf","camAPI","search",function(n,e,t,i,o,r){var c;n.headColumns=[{class:"state",request:"suspended",sortable:!0,content:t.instant("PLUGIN_JOBDEFINITION_STATE")},{class:"activity",request:"activityName",sortable:!0,content:t.instant("PLUGIN_JOBDEFINITION_ACTIVITY")},{class:"type",request:"jobType",sortable:!0,content:t.instant("PLUGIN_JOBDEFINITION_TYPE")},{class:"configuration",request:"jobConfiguration",sortable:!0,content:t.instant("PLUGIN_JOBDEFINITION_CONFIGURATION")},{class:"overriding-job-priority",request:"overridingJobPriority",sortable:!0,content:t.instant("PLUGIN_JOBDEFINITION_JOB_PRIORITY")},{class:"action",request:"action",sortable:!1,content:t.instant("PLUGIN_JOBDEFINITION_ACTION")}],n.sortObj=(c={sortBy:"suspended",sortOrder:"asc",sortReverse:!1},i.get("sortJobDefTab",c)),n.onSortChange=function(e){(e=e||n.sortObj).sortReverse="asc"!==e.sortOrder,function(n){i.set("sortJobDefTab",n)}(e),n.sortObj=e};var l,d,u=n.processData.newChild(n),p=[],f=o.resource("job-definition");n.pages={total:0,current:parseInt(r().page||1,10),size:50},n.$on("$destroy",(function(){r("page",null)})),n.$watch("pages.current",(function(n,e){n!==e&&I(),r("page",n&&1!=n?n:null)})),u.observe(["filter"],(function(n){b(n)}));function I(){n.jobDefinitions=null,f.list({processDefinitionId:l.id,maxResults:n.pages.size,firstResult:(n.pages.current-1)*n.pages.size}).then((function(n){d=n,a.forEach(d,(function(n){var e=n.activityId,t=p[e];n.activityName=t&&(t.name||t.id)||e})),b({})}))}function b(e){n.jobDefinitions=null;var t=e.activityIds;if(t&&t.length){var s=[];a.forEach(d,(function(n){var e=n.activityId;-1!=t.indexOf(e)&&s.push(n)})),n.jobDefinitions=s}else n.jobDefinitions=d}u.observe(["bpmnElements","processDefinition"],(function(e,t){p=e,l=t,f.count({processDefinitionId:l.id}).then((function(e){n.pages.total=e})),I()})),n.$on("$processDefinition.suspensionState.changed",I),n.jobDefinitionVars={read:["jobDefinition","processData","filter"]},n.jobDefinitionActions=e.getProviders({component:"cockpit.jobDefinition.action"}),n.getSearchQueryForSearchType=s.getSearchQueryForSearchType.bind(null,"activityIdIn")}],o=function(n){n.registerDefaultView("cockpit.processDefinition.runtime.tab",{id:"job-definition-table",label:"PLUGIN_JOB_DEFINITION_LABEL",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/views/processDefinition/job-definition-table.html --\x3e\n<table class="job-definition cam-table">\n\n  <thead sortable-table-head\n         head-columns="headColumns"\n         on-sort-change="onSortChange(sortObj)"\n         default-sort="sortObj">\n  </thead>\n  <tbody>\n    <tr ng-repeat="jobDefinition in jobDefinitions | orderBy:sortObj.sortBy:sortObj.sortReverse">\n      <td class="state">\n        <span ng-show="jobDefinition.suspended">\n          {{ \'PLUGIN_JOBDEFINITION_SUSPENDED\' | translate }}\n        </span>\n        <span ng-hide="jobDefinition.suspended">\n          {{ \'PLUGIN_JOBDEFINITION_ACTIVE\' | translate }}\n        </span>\n      </td>\n      <td class="activity"\n          cam-widget-clipboard="jobDefinition.activityId">\n        <a ng-href="#/process-definition/{{ processDefinition.id }}/runtime?{{ getSearchQueryForSearchType(jobDefinition.activityId) }}&amp;detailsTab=job-definition-table">\n          {{ jobDefinition.activityName }}\n        </a>\n      </td>\n      <td class="type"\n          cam-widget-clipboard="jobDefinition.jobType">\n        {{ jobDefinition.jobType }}\n      </td>\n      <td class="configuration">\n        {{ jobDefinition.jobConfiguration }}\n      </td>\n      <td class="overriding-job-priority">\n        {{ jobDefinition.overridingJobPriority }}\n      </td>\n      <td class="action">\n        <span ng-repeat="actionProvider in jobDefinitionActions">\n          <view provider="actionProvider" vars="jobDefinitionVars"/>\n        </span>\n      </td>\n    </tr>\n\n    <tr ng-if="!jobDefinitions">\n      <td colspan="6">\n        <span class="glyphicon glyphicon-loading"></span>\n        {{ \'PLUGIN_JOBDEFINITION_LOADING_JOB\' | translate }}\n      </td>\n    </tr>\n\n    <tr ng-if="jobDefinitions && !jobDefinitions.length">\n      <td colspan="6">\n        {{ \'PLUGIN_JOBDEFINITION_NO_JOB_DEFINITION\' | translate }}\n      </td>\n    </tr>\n\n  </tbody>\n</table>\n<ul uib-pagination ng-if="pages.total > pages.size && jobDefinitions && jobDefinitions.length"\n    class="pagination-sm"\n\n    page="pages.current"\n    ng-model="pages.current"\n\n    total-items="pages.total"\n    items-per-page="pages.size"\n\n    max-size="7"\n    boundary-links="true"></ul>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/views/processDefinition/job-definition-table.html --\x3e\n',controller:i,priority:2})};o.$inject=["ViewsProvider"],e.exports=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../../../common/scripts/util/search-widget-utils":87}],82:[function(n,e,t){(function(n){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null,a=function(n){n.registerDefaultView("cockpit.jobDefinition.action",{id:"update-suspension-state",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/views/processDefinition/suspension-state-action.html --\x3e\n<a class="btn btn-default action-button"\n   ng-click="openSuspensionStateDialog(jobDefinition)"\n   ng-show="jobDefinition.suspended"\n   uib-tooltip="{{ \'PLUGIN_JOBDEFINITION_STATE_ACTION_TOOLTIP_1\' | translate }}"\n   tooltip-placement="left">\n  <span class="glyphicon glyphicon-play"></span>\n</a>\n<a class="btn btn-default action-button"\n   ng-click="openSuspensionStateDialog(jobDefinition)"\n   ng-hide="jobDefinition.suspended"\n   uib-tooltip="{{ \'PLUGIN_JOBDEFINITION_STATE_ACTION_TOOLTIP_2\' | translate }}"\n   tooltip-placement="left">\n  <span class="glyphicon glyphicon-pause"></span>\n</a>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/views/processDefinition/suspension-state-action.html --\x3e\n',controller:["$scope","$uibModal",function(n,e){n.openSuspensionStateDialog=function(a){e.open({resolve:{jobDefinition:function(){return a}},controller:"JobDefinitionSuspensionStateController",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/views/processDefinition/job-definition-suspension-state-dialog.html --\x3e\n<div class="modal-header">\n  <h3>{{ (jobDefinition.suspended ? \'PLUGIN_JOBDEFINITION_ACTIVE_JOB_DEFINITION\' : \'PLUGIN_JOBDEFINITION_SUSPEND_JOB_DEFINITION\' | translate) }}</h3>\n</div>\n\n<div class="job-definition-suspension-state modal-body">\n  <div notifications-panel></div>\n\n  <div ng-hide="status === \'SUCCESS\' || status === \'FAIL\'">\n\n    <p ng-show="jobDefinition.suspended">\n      \x3c!-- activation --\x3e\n      {{ \'PLUGIN_JOBDEFINITION_LEGEND_ACTIVE\' | translate }}\n    </p>\n\n    <p ng-hide="jobDefinition.suspended">\n      \x3c!-- suspension --\x3e\n      {{ \'PLUGIN_JOBDEFINITION_LEGEND_SUSPEND\' | translate }}\n    </p>\n\n    <form class="form-horizontal"\n          name="updateSuspensionStateForm"\n          novalidate\n          request-aware\n          ng-submit="updateSuspensionState()">\n\n      <fieldset>\n        <div class="form-group">\n          <label class="col-xs-4 control-label"\n                 for="includeJobsValue">\n            {{ \'PLUGIN_JOBDEFINITION_INCLUDE_EXISTING_JOB\' | translate }}\n            \x3c!-- activation --\x3e\n            <span class="glyphicon glyphicon-question-sign"\n                  uib-tooltip="{{ \'PLUGIN_JOBDEFINITION_INCLUDE_EXISTING_JOB_TOOLTIP_1\' | translate }}"\n                  tooltip-placement="right"\n                  ng-show="jobDefinition.suspended">\n            </span>\n\n            \x3c!-- suspension --\x3e\n            <span class="glyphicon glyphicon-question-sign"\n                  uib-tooltip="{{ \'PLUGIN_JOBDEFINITION_INCLUDE_EXISTING_JOB_TOOLTIP_2\' | translate }}"\n                  tooltip-placement="right"\n                  ng-hide="jobDefinition.suspended">\n            </span>\n          </label>\n\n\n          <div class="col-xs-8 checkbox">\n            <label>\n              <input id="includeJobsValueId"\n                     name="includeJobsValue"\n                     type="checkbox"\n                     ng-model="data.includeJobs" />\n            </label>\n          </div>\n        </div>\n\n        <div class="form-group">\n          <label class="col-xs-4 control-label"\n                 for="executeImmediately">\n            {{ \'PLUGIN_JOBDEFINITION_EXECUTE\' | translate }}\n            <span class="glyphicon glyphicon-question-sign"\n                  uib-tooltip="{{ \'PLUGIN_JOBDEFINITION_EXECUTE_TOOLTIP_1\' | translate }}"\n                  tooltip-placement="right"\n                  ng-show="jobDefinition.suspended">\n            </span>\n\n            <span class="glyphicon glyphicon-question-sign"\n                  uib-tooltip="{{ \'PLUGIN_JOBDEFINITION_EXECUTE_TOOLTIP_2\' | translate }}"\n                  tooltip-placement="right"\n                  ng-hide="jobDefinition.suspended">\n            </span>\n          </label>\n\n          <div class="col-xs-8">\n            <div class="radio">\n              <label>\n                <input ng-model="data.executeImmediately"\n                       ng-value="true"\n                       type="radio"\n                       name="execute" />\n                {{ \'PLUGIN_JOBDEFINITION_IMMEDIATELY\' | translate }}\n              </label>\n            </div>\n\n            <div class="radio">\n              <label>\n                <input ng-model="data.executeImmediately"\n                       ng-value="false"\n                       type="radio"\n                       name="execute" />\n                {{ \'PLUGIN_JOBDEFINITION_DELAYED\' | translate }}\n              </label>\n            </div>\n          </div>\n        </div>\n\n        <div class="form-group"\n             ng-show="!data.executeImmediately">\n          <label class="col-xs-4 control-label"\n                 for="executionDateValue">\n            {{ \'PLUGIN_JOBDEFINITION_SCHEDULE_AT\' | translate }}\n          </label>\n\n          <div class="col-xs-8">\n            <input name="executionDateValue"\n                   ng-model="data.executionDate"\n                   class="form-control"\n                   type="text"\n                   date\n                   required />\n\n            <p class="invalid"\n               ng-show="this.updateSuspensionStateForm.executionDateValue.$error.datePattern">\n              {{ \'PLUGIN_JOBDEFINITION_SUPPORTED_PATTERN\' | translate }}\n            </p>\n\n            <p class="invalid"\n               ng-show="this.updateSuspensionStateForm.executionDateValue.$error.dateValue">\n              {{ \'PLUGIN_JOBDEFINITION_INVALID_DATE_VALUE\' | translate }}\n            </p>\n\n          </div>\n        </div>\n\n      </fieldset>\n    </form>\n\n    <p>\n      {{ (jobDefinition.suspended ? \'PLUGIN_JOBDEFINITION_DO_ACTIVATE\' : \'PLUGIN_JOBDEFINITION_DO_SUSPEND\' | translate ) }}\n    </p>\n\n  </div>\n\n  <div ng-show="status === \'SUCCESS\'">\n    <p ng-show="jobDefinition.suspended && data.executeImmediately">\n      {{ \'PLUGIN_JOBDEFINITION_LEGEND_1\' | translate }}\n    </p>\n    <p ng-show="jobDefinition.suspended && !data.executeImmediately"\n       translate="PLUGIN_JOBDEFINITION_LEGEND_2"\n       translate-values="{ data: (data.executionDate | camDate) }">\n    </p>\n    <p ng-show="!jobDefinition.suspended && data.executeImmediately">\n      {{ \'PLUGIN_JOBDEFINITION_LEGEND_3\' | translate }}\n    </p>\n    <p ng-show="!jobDefinition.suspended && !data.executeImmediately"\n       translate="PLUGIN_JOBDEFINITION_LEGEND_4"\n       translate-values="{ data: (data.executionDate | camDate) }">\n    </p>\n  </div>\n\n  <div ng-show="status === \'FAIL\'">\n    <p ng-show="jobDefinition.suspended && data.executeImmediately">\n      {{ \'PLUGIN_JOBDEFINITION_LEGEND_5\' | translate }}\n    </p>\n    <p ng-show="jobDefinition.suspended && !data.executeImmediately"\n       translate="PLUGIN_JOBDEFINITION_LEGEND_6"\n       translate-values="{ data: (data.executionDate | camDate) }">\n    </p>\n    <p ng-show="!jobDefinition.suspended && data.executeImmediately">\n      {{ \'PLUGIN_JOBDEFINITION_LEGEND_7\' | translate }}\n    </p>\n    <p ng-show="!jobDefinition.suspended && !data.executeImmediately"\n       translate="PLUGIN_JOBDEFINITION_LEGEND_8"\n       translate-values="{ data: (data.executionDate | camDate) }">\n    </p>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-link"\n          ng-click="close(status)"\n          ng-disabled="status === \'PERFORM_UDPATE\'"\n          ng-hide="status === \'SUCCESS\' || status === \'FAIL\'">\n    {{ \'PLUGIN_JOBDEFINITION_CLOSE\' | translate }}\n  </button>\n\n  <button type="submit"\n          class="btn btn-primary"\n          ng-click="updateSuspensionState()"\n          ng-hide="status === \'SUCCESS\' || status === \'FAIL\'"\n          ng-disabled="!isValid() || status === \'PERFORM_UDPATE\'">\n    {{ (jobDefinition.suspended ? \'PLUGIN_JOBDEFINITION_ACTIVATE\' : \'PLUGIN_JOBDEFINITION_SUSPEND\' | translate) }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-click="close(status)"\n          ng-show="status === \'SUCCESS\' || status === \'FAIL\'">\n    {{ \'PLUGIN_JOBDEFINITION_OK\' | translate }}\n  </button>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/jobDefinition/app/views/processDefinition/job-definition-suspension-state-dialog.html --\x3e\n'}).result.then((function(e){"SUCCESS"===e.status&&(e.executeImmediately&&(a.suspended=e.suspended),n.processData.set("filter",t.extend({},n.filter)))})).catch(t.noop)}}],priority:50})};a.$inject=["ViewsProvider"],e.exports=a}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],83:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("./views/main");e.exports=a.module("cockpit.plugin.tasks",[s.name])}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./views/main":85}],84:[function(n,e,t){"use strict";e.exports=["ViewsProvider",function(n){n.registerDefaultView("cockpit.tasks.dashboard",{id:"task-dashboard",label:"PLUGIN_TASK_DASHBOARD_TITLE",template:'\x3c!-- # CE - ui/cockpit/plugins/tasks/app/views/dashboard/task-dashboard.html --\x3e\n<div class="dashboard-row">\n  <section class="col-xs-12 col-md-6">\n    <div class="inner">\n      <header>\n        <h1 class="section-title">{{ \'PLUGIN_TASK_ASSIGNMENT_BY_TYPE\' | translate }}</h1>\n      </header>\n      <table class="cam-table values-left" id="open-task-statistics">\n        <thead>\n          <tr>\n            <th>{{ \'PLUGIN_TASK_TASKS\' | translate }}</th>\n            <th>{{ \'PLUGIN_TASK_TYPES\' | translate }}</th>\n          </tr>\n        </thead>\n\n        <tfoot>\n          <tr>\n            <th>\n              <span ng-if="!openTasksState.$loaded" class="glyphicon glyphicon-refresh animate-spin"></span>\n              <span ng-if="openTasksState.$loaded && !hasSearchPlugin">{{ openTasksCount }}</span>\n              <span ng-if="openTasksState.$loaded && hasSearchPlugin">\n                <a class="search-link" ng-click="createSearch(\'allOpenTasks\', \'statistics\')">{{ openTasksCount }}</a>\n              </span>\n            </th>\n            <th>{{ \'PLUGIN_TASK_TOTAL\' | translate }}</th>\n          </tr>\n        </tfoot>\n\n        <tbody>\n          <tr ng-repeat="taskStatistic in taskStatistics">\n            <th>\n              <span ng-if="!taskStatistic.state.$loaded" class="glyphicon glyphicon-refresh animate-spin"></span>\n              <span ng-if="taskStatistic.state.$loaded && !hasSearchPlugin">{{ taskStatistic.count }}</span>\n              <span ng-if="taskStatistic.state.$loaded && hasSearchPlugin">\n                <a class="search-link" ng-click="createSearch(taskStatistic.search, \'statistics\')"> {{ taskStatistic.count }}</a>\n              </span>\n            </th>\n            <td>{{ taskStatistic.label }}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </section>\n\n  <section class="col-xs-12 col-md-6">\n    <div class="inner">\n      <header>\n        <h1 class="section-title">{{ \'PLUGIN_TASK_ASSIGNMENT_BY_GROUP\' | translate }}</h1>\n      </header>\n      <table class="cam-table values-left" id="task-group-counts">\n        <thead>\n          <tr>\n            <th>{{ \'PLUGIN_TASK_TASKS\' | translate }}</th>\n            <th>{{ \'PLUGIN_TASK_GROUP\' | translate }}</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr ng-if="!taskGroupState.$loaded && !taskGroupState.$error">\n            <td colspan="2"><span class="glyphicon glyphicon-refresh animate-spin"></span></td>\n          </tr>\n          <tr ng-if="taskGroupState.$loaded" ng-repeat="taskGroup in taskGroups">\n            <td ng-if="!hasSearchPlugin">{{ taskGroup.taskCount }}</td>\n            <td ng-if="hasSearchPlugin">\n              <a class="search-link" ng-click="createSearch(taskGroup.id, \'group\')">{{ taskGroup.taskCount }}</a>\n            </td>\n            <td>{{ formatGroupName(taskGroup.groupName) }}</td>\n          </tr>\n        </tbody>\n      </table>\n      <p id="multiple-groups-info" ng-if="taskGroupState.$loaded">\n        <span class="glyphicon glyphicon-info-sign"></span>\n        {{ \'PLUGIN_TASK_LEGEND_FOOTER\' | translate }}\n      </p>\n    </div>\n  </section>\n</div>\n\x3c!-- / CE - ui/cockpit/plugins/tasks/app/views/dashboard/task-dashboard.html --\x3e\n',controller:["$scope","$q","Views","camAPI","dataDepend","search","Notifications","$translate",function(n,e,t,a,s,i,o,r){var c=s.create(n),l=a.resource("history"),d=a.resource("task-report");n.taskStatistics=[{state:void 0,label:r.instant("PLUGIN_TASK_ASSIGNED_TO_USER"),count:0,search:"openAssignedTasks"},{state:void 0,label:r.instant("PLUGIN_TASK_ASSIGNED_TO_ONE"),count:0,search:"openGroupTasks"},{state:void 0,label:r.instant("PLUGIN_TASK_ASSIGNED_UNASSIGNED"),count:0,search:"openUnassignedTasks"}];var u=function(n,t,a,s){var i=e.defer(),c=function(e,t){e?(o.addError({status:r.instant("PLUGIN_TASK_ASSIGNED_ERR_COULD_NOT",{err:"countByCandidateGroup"===a?r.instant("PLUGIN_TASK_ERROR_COUNT"):r.instant("PLUGIN_TASK_ERROR_FETCH",{res:n})}),message:e.toString()}),i.reject(e)):i.resolve(t)};return null==s||null==s?t[a](c):t[a](s,c),i.promise};c.provide("openTaskCount",(function(){return u(r.instant("PLUGIN_TASK_ERROR_OPEN_TASKS"),l,"taskCount",{unfinished:!0})})),c.provide("assignedToUserCount",(function(){var n={unfinished:!0,assigned:!0};return u(r.instant("PLUGIN_TASK_ERROR_ASSIGNED_TO_USERS"),l,"taskCount",n)})),c.provide("assignedToGroupCount",(function(){var n={unfinished:!0,unassigned:!0,withCandidateGroups:!0};return u(r.instant("PLUGIN_TASK_ERROR_ASSIGNED_TO_GROUPS"),l,"taskCount",n)})),c.provide("notAssignedCount",(function(){var n={unfinished:!0,unassigned:!0,withoutCandidateGroups:!0};return u(r.instant("PLUGIN_TASK_ERROR_UNASSIGNED"),l,"taskCount",n)})),c.provide("countByCandidateGroup",(function(){return u(r.instant("PLUGIN_TASK_ERROR_PER_GROUP"),d,"countByCandidateGroup").then((function(n){var e=n.map((function(n){return n.groupName}));return e=e.filter(Boolean),a.resource("group").list({idIn:e,maxResults:e.length}).then((function(e){return n.map((function(n){n.id=n.groupName;var t=e.filter((function(e){return e.id===n.groupName}))[0];return t&&(n.groupName=t.name),n}))})).catch((function(){return n.map((function(n){return n.id=n.groupName,n}))}))}))})),n.openTasksState=c.observe(["openTaskCount"],(function(e){n.openTasksCount=e.count||0})),n.taskStatistics[0].state=c.observe(["assignedToUserCount"],(function(e){n.taskStatistics[0].count=e.count||0})),n.taskStatistics[1].state=c.observe(["assignedToGroupCount"],(function(e){n.taskStatistics[1].count=e.count||0})),n.taskStatistics[2].state=c.observe(["notAssignedCount"],(function(e){n.taskStatistics[2].count=e.count||0})),n.taskGroupState=c.observe(["countByCandidateGroup"],(function(e){n.taskGroups=e})),n.formatGroupName=function(n){return null==n?r.instant("PLUGIN_TASK_ASSIGNED_WITHOUT_GROUP"):n};var p=t.getProviders({component:"cockpit.tasks.dashboard"});if(n.hasSearchPlugin=p.filter((function(n){return"search-tasks"===n.id})).length>0){var f=function(n,e,t){return arguments.length<3&&(e="eq",t=""),{type:n,operator:e,value:t,name:""}},I=function(){return[f("unfinished")]},b=I();n.createSearch=function(n,e){if("statistics"===e)switch(n){case"openAssignedTasks":b.push(f("assigned"));break;case"openGroupTasks":b.push(f("withCandidateGroups")),b.push(f("unassigned"));break;case"openUnassignedTasks":b.push(f("withoutCandidateGroups")),b.push(f("unassigned"))}else null!=n?b.push(f("taskHadCandidateGroup","eq",n)):(b.push(f("withoutCandidateGroups")),b.push(f("unassigned")));i.updateSilently({searchQuery:JSON.stringify(b)},!0),b=I()}}}],priority:0})}]},{}],85:[function(n,e,t){(function(t){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==t?t.angular:null,s=n("./dashboard/task-dashboard"),i=a.module("cockpit.plugin.tasks.views",[]);i.config(s),e.exports=i}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dashboard/task-dashboard":84}],86:[function(n,e,t){"use strict";e.exports=function(n,e){return-1!==n.indexOf(e)}},{}],87:[function(n,e,t){"use strict";var a=n("../../../../camunda-commons-ui/vendor/angular"),s=n("../../../../camunda-commons-ui/vendor/moment"),i=n("./includes");function o(n){return encodeURI(n).replace(/#/g,"%23")}function r(n,e){return a.isObject(n)?function(n){return Object.keys(n).reduce((function(e,t){var a=n[t];return null!=a&&(e[t]=a),e}),{})}(function(n,e){return Object.keys(n).reduce((function(t,a){var s=n[a];return i(e,a)&&(t[a]=s),t}),{})}(n,e)):n}function c(n,e){return e.map(l.bind(null,n))}function l(n,e){return{type:n,operator:"eq",value:e}}function d(n,e,t,o){var r=function(n,e){var t=n.type.value.key,a=n.operator.value.key;(function(n){return-1!==n.indexOf("Date")})(t)&&(t=t.slice(0,-4));(function(n){return i(["After","Before","Like"],n)})(a)&&!i(e,t)&&(t+=a);return t}(o,e),c=function(n){if(n.basic)return!0;return function(n,e,t,a){var i=/(\\%)|(\\_)/g,o=/(%)|(_)/;if(!("like"!==t.toLowerCase()&&"notlike"!==t.toLowerCase()||o.test(e.replace(i,""))))return"%"+e+"%";if(a.allowDates&&u.test(e))return s(e,s.ISO_8601).format("YYYY-MM-DDTHH:mm:ss.SSSZZ");return n||e}(n.value.key,n.value.value,n.operator.value.key,n)}(o);return i(e,r)&&(c=function(n,e){return{name:n.name.value,operator:n.operator.value.key,value:p(e)}}(o,c)),i(n,r)?t[r]=function(n,e,t){return a.isArray(n[e])?n[e].concat([t]):[t]}(t,r,c):t[r]=c,t}e.exports={getSearchQueryForSearchType:function(n,e){return e=[].concat(e),o("searchQuery="+JSON.stringify(c(n,e)))},getActivityIdsFromUrlParams:function(n,e){var t=JSON.parse(e.searchQuery||"[]");return function(n,e){return e.filter((function(e){return e.type===n})).map((function(n){return n.value}))}(n,t)},replaceActivitiesInSearchQuery:function(n,e,t){return function(n,e){return e.filter((function(e){return e.type!==n}))}(e,n).concat(c(e,t))},createSearchQueryForSearchWidget:function(n,e,t){return n=a.isArray(n)?n:[],e=a.isArray(e)?e:[],t=a.isArray(t)?t:["variables"],e=e.concat(t),n.reduce(d.bind(null,e,t),{})},shouldUpdateFilter:function(n,e,t){return t=a.isArray(t)?t:[],!a.equals(r(n,t),r(e,t))},createSearchesForActivityIds:c,encodeQuery:o,updateSearchValuesForTypeInCtrlMode:function(n,e,t){var a=function(n,e,t){return n.filter((function(n){return n.type!==t||!i(e,n.value)}))}(n,t,e),s=function(n,e,t){var a=e.filter((function(n){return n.type===t})).map((function(n){return n.value}));return n.filter((function(n){return!i(a,n)}))}(t,n,e);return a.concat(c(e,s))}};var u=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/;function p(n){return isNaN(n)||""===n.trim()?"true"===n||"false"!==n&&("NULL"===n?null:0===n.indexOf("'")&&n.lastIndexOf("'")===n.length-1?n.substr(1,n.length-2):n):+n}},{"../../../../camunda-commons-ui/vendor/angular":3,"../../../../camunda-commons-ui/vendor/moment":4,"./includes":86}]},{},[53])(53)}));
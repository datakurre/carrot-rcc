/*
 * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH
 * under one or more contributor license agreements. See the NOTICE file
 * distributed with this work for additional information regarding copyright
 * ownership. Camunda licenses this file to you under the Apache License,
 * Version 2.0; you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).TasklistPlugins=n()}}((function(){return function n(e,a,t){function i(o,l){if(!a[o]){if(!e[o]){var r="function"==typeof require&&require;if(!l&&r)return r(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=a[o]={exports:{}};e[o][0].call(d.exports,(function(n){return i(e[o][1][n]||n)}),d,d.exports,n,e,a,t)}return a[o].exports}for(var s="function"==typeof require&&require,o=0;o<t.length;o++)i(t[o]);return i}({1:[function(n,e,a){(function(n){(function(){"use strict";e.exports="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(n,e,a){"use strict";e.exports=n("../../camunda-bpm-sdk-js/vendor/angular")},{"../../camunda-bpm-sdk-js/vendor/angular":1}],3:[function(n,e,a){"use strict";var t=["$scope","$uibModal","$timeout",function(n,e,a){n.open=function(){var t=e.open({size:"lg",controller:"camCreateTaskModalCtrl",template:'\x3c!-- # CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/standaloneTask/app/navbar/action/modals/cam-tasklist-create-task-modal.html --\x3e\n<div class="modal-header">\n  <h3 class="cam-tasklist-create-task modal-title">{{ \'CREATE_TASK\' | translate }}</h3>\n</div>\n\n<div class="modal-body">\n\n  <div notifications-panel></div>\n\n  <form class="form-horizontal"\n        name="newTaskForm"\n        role="form">\n    <div ng-init="setNewTaskForm(this.newTaskForm)"></div>\n\n    <div class="form-group">\n      <label for="filter-form-color"\n             class="col-xs-2 control-label">{{ \'NEW_TASK_NAME\' | translate }}</label>\n      <div class="col-xs-10">\n        <input class="form-control"\n               name="taskName"\n               ng-model="task.name"\n               required\n               type="text" />\n        <span ng-if="this.newTaskForm.taskName.$invalid && this.newTaskForm.taskName.$dirty"\n              class="has-error">\n          <span ng-show="this.newTaskForm.taskName.$error.required"\n                class="help-block">\n            {{ \'REQUIRED_FIELD\' | translate }}\n          </span>\n        </span>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="filter-form-color"\n             class="col-xs-2 control-label">{{ \'NEW_TASK_ASSIGNEE\' | translate }}</label>\n      <div class="col-xs-10">\n        <input class="form-control"\n               name="taskAssignee"\n               ng-model="task.assignee"\n               type="text" />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="filter-form-color"\n             class="col-xs-2 control-label">{{ \'NEW_TASK_TENANT_ID\' | translate }}</label>\n      <div class="col-xs-10">\n        <input class="form-control"\n          name="taskTenantId"\n          ng-model="task.tenantId"\n          type="text" />\n      </div>\n    </div>\n\n    <div class="form-group">\n      <label for="filter-form-color"\n             class="col-xs-2 control-label">{{ \'NEW_TASK_DESCRIPTION\' | translate }}</label>\n      <div class="col-xs-10">\n        <textarea class="form-control"\n                  name="taskDescription"\n                  ng-model="task.description"\n                  rows="4">\n        </textarea>\n      </div>\n    </div>\n\n  </form>\n\n</div>\n\n<div class="modal-footer">\n  <div class="row row-action">\n\n    <div class="col-xs-12">\n      <button class="btn btn-xs btn-link"\n              type="button"\n              ng-click="$dismiss()">\n        {{ \'CLOSE\' | translate }}\n      </button>\n\n      <button class="btn btn-primary"\n              type="submit"\n              ng-click="save()"\n              ng-disabled="!isValid() || submitInProgress">\n        {{ \'SAVE\' | translate }}\n      </button>\n    </div>\n\n  </div>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/standaloneTask/app/navbar/action/modals/cam-tasklist-create-task-modal.html --\x3e\n'});t.result.then((function(){n.$root.$broadcast("refresh"),document.querySelector(".create-task-action a").focus()}),(function(){document.querySelector(".create-task-action a").focus()})),t.opened.then((function(){a((function(){a((function(){document.querySelectorAll("div.modal-content input")[0].focus()}))}))})).catch((function(){}))}}],i=function(n){n.registerDefaultView("tasklist.navbar.action",{id:"create-task-action",template:'<a href\n   ng-click="open()">\n  <span class="glyphicon glyphicon-paperclip"></span>\n  {{ \'CREATE_TASK\' | translate }}\n</a>\n',controller:t,priority:200})};i.$inject=["ViewsProvider"],e.exports=i},{}],4:[function(n,e,a){(function(n){(function(){"use strict";var a="undefined"!=typeof window?window.angular:void 0!==n?n.angular:null;e.exports=["$scope","$translate","Notifications","camAPI",function(n,e,t,i){var s=i.resource("task"),o=n.task=a.copy({name:null,assignee:null,tenantId:null,description:null,priority:50}),l=null;n.setNewTaskForm=function(n){l=n},n.$on("$locationChangeSuccess",(function(){n.$dismiss()}));var r=n.isValid=function(){return l&&l.$valid};n.save=function(){r()&&(n.submitInProgress=!0,s.create(o,(function(i){n.submitInProgress=!1,i?e("TASK_SAVE_ERROR").then((function(e){t.addError({status:e,message:i?i.message:"",exclusive:!0,scope:n})})).catch(a.noop):n.$close()})))}}]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(n,e,a){(function(a){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==a?a.angular:null,i=n("./action/cam-tasklist-navbar-action-create-task-plugin"),s=n("./action/modals/cam-tasklist-create-task-modal"),o=t.module("tasklist.plugin.standaloneTask.navbar.action",[]);o.config(i),o.controller("camCreateTaskModalCtrl",s),e.exports=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./action/cam-tasklist-navbar-action-create-task-plugin":3,"./action/modals/cam-tasklist-create-task-modal":4}],6:[function(n,e,a){(function(a){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==a?a.angular:null,i=n("./navbar/main");e.exports=t.module("tasklist.plugin.standaloneTask",[i.name])}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./navbar/main":5}],7:[function(n,e,a){(function(a){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==a?a.angular:null,i=n("./variables/main");e.exports=t.module("tasklist.plugin.tasklistCard",[i.name])}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./variables/main":9}],8:[function(n,e,a){"use strict";var t=n("../../../../../../../camunda-commons-ui/vendor/angular");e.exports=["$uibModal","$window","Uri",function(n,e,a){return{template:'<div ng-repeat="(delta, info) in variableDefinitions"\n     ng-if="variablesByName[info.name] || filterProperties.showUndefinedVariable"\n     class="col-xs-12 col-lg-6">\n\n  <div class="row variable-item">\n    <span class="col-xs-4 col-lg-12">\n      <strong class="variable-label"\n              ng-class="{\'undefined\' : !variablesByName[info.name] && filterProperties.showUndefinedVariable}"\n              tooltip-placement="top"\n              uib-tooltip="{{ info.name }}">\n        {{ info.label }}:\n      </strong>\n    </span>\n\n\n    <span class="col-xs-8 col-lg-12"\n          ng-if="!variablesByName[info.name] && filterProperties.showUndefinedVariable">\n      <span class="variable-value undefined"\n            translate="UNDEFINED_VARIABLE">\n        &lt;Undefined&gt;\n      </span>\n    </span>\n\n\n    <span class="col-xs-8 col-lg-12"\n          ng-if="(variablesByName[info.name] && variablesByName[info.name].value !== null) || variablesByName[info.name].type === \'Bytes\'"\n          ng-switch="variablesByName[info.name].type">\n      <span class="variable-value"\n            ng-switch-when="Date"\n            tooltip-placement="top"\n            uib-tooltip="{{ variablesByName[info.name].value | camDate }}">\n        {{ variablesByName[info.name].value | camDate }}\n      </span>\n\n      <span class="variable-value"\n            ng-switch-when="Null">\n        {{ variablesByName[info.name].value }}\n      </span>\n\n      <a class="variable-value variable-type"\n         ng-if="!expanded"\n         ng-switch-when="Object"\n         ng-click="showValue(variablesByName[info.name], $event)">\n        {{ variablesByName[info.name].valueInfo.objectTypeName }}\n      </a>\n\n      <a class="variable-value variable-type"\n         ng-if="expanded"\n         ng-switch-when="Object"\n         ng-click="showValue(variablesByName[info.name], $event)"\n         href>\n        {{ variablesByName[info.name].valueInfo.objectTypeName }}\n      </a>\n\n      <a class="variable-value"\n         ng-if="!expanded"\n         ng-switch-when="Bytes"\n         ng-click="download(variablesByName[info.name], $event)">\n        {{ \'DOWNLOAD\' | translate }}\n        <span class="glyphicon glyphicon-download"></span>\n      </a>\n\n      <a class="variable-value"\n         ng-if="expanded"\n         ng-switch-when="Bytes"\n         ng-click="download(variablesByName[info.name], $event)"\n         href>\n        {{ \'DOWNLOAD\' | translate }}\n        <span class="glyphicon glyphicon-download"></span>\n      </a>\n\n      <span class="variable-value"\n            ng-switch-default\n            tooltip-placement="top"\n            uib-tooltip="{{ variablesByName[info.name].value }}">\n        {{ variablesByName[info.name].value }}\n      </span>\n    </span>\n\n    <span class="col-xs-8 col-lg-12"\n      ng-if="variablesByName[info.name].value === null && variablesByName[info.name].type !== \'Bytes\'">\n      <span class="variable-value variable-empty-value"\n            translate="EMPTY_VALUE">Empty</span>\n    </span>\n  </div>\n\n</div>\n',scope:{variables:"=",filterProperties:"="},link:function(i){i.variableDefinitions=[],i.variablesByName={},i.expanded=!1,i.shownVariablesCount=0,i.showValue=function(e,a){a.preventDefault(),a.stopPropagation(),n.open({template:'<div class="modal-header">\n  <h3 class="modal-title">\n    <span translate="VARIABLE_VALUE">Value of</span>\n    {{ variable.name }}\n  </h3>\n</div>\n\n<div class="modal-body">\n  <div class="form-group">\n    <label translate="VARIABLE_VALUE_INFO">Value Info</label>\n  </div>\n  <div class="form-group">\n    {{ \'VARIABLE_OBJECT_TYPE_NAME\' | translate }}:\n    <code class="variable-type">{{ type }}</code>\n  </div>\n  <div class="form-group">\n    {{ \'VARIABLE_SERIALIZATION_DATA_FORMAT\' | translate }}:\n    <code class="variable-type">{{ dataFormat }}</code>\n  </div>\n\n  <div class="form-group">\n    <label translate="VARIABLE_VALUE">Value</label>\n  </div>\n\n   <ul class="nav nav-tabs">\n    <li ng-class="{ active: selectedTab === \'serialized\' }">\n      <a href ng-click="selectTab(\'serialized\')">{{ \'SERIALIZED\' | translate }}</a>\n    </li>\n    <li ng-class="{ active: selectedTab === \'deserialized\' }">\n      <a href ng-click="selectTab(\'deserialized\')">{{ \'DESERIALIZED\' | translate }}</a>\n    </li>\n  </ul>\n\n  <div ng-show="selectedTab === \'serialized\'" class="tab-content">\n    <textarea disabled\n              ng-model="value"\n              rows="10"\n              class="form-control input-xxlarge">\n    </textarea>\n  </div>\n  <div ng-show="selectedTab === \'deserialized\'" class="tab-content">\n    <div uib-alert class="alert alert-warning"\n         role="alert" \n         ng-show="deserializationError">\n      <strong>{{ \'DESERIALIZATION_ERROR\' | translate }}</strong>:\n      {{ deserializationError }}\n    </div>\n    <div ng-show="!deserializationError">\n      <textarea disabled\n                ng-model="valueDeserialized"\n                rows="10"\n                class="form-control input-xxlarge">\n      </textarea>\n    </div>\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <div class="row row-action">\n    <div class="col-xs-12">\n      <button class="btn btn-xs btn-link"\n              type="submit"\n              ng-click="$dismiss()"\n              translate="CLOSE">Close</button>\n    </div>\n  </div>\n</div>\n',windowClass:"variable-modal-detail",resolve:{details:function(){return e}},controller:"camTasklistVariablesDetailsModalCtrl"}).result.catch(t.noop)},i.download=function(n,t){t.preventDefault(),t.stopPropagation();var i=n._links.self.href+"/data";i=a.appUri("engine://engine/:engine"+i),e.open(i,"download")},i.filterProperties&&(i.variableDefinitions=i.filterProperties.variables||{},t.forEach(i.variables,(function(n){i.variablesByName[n.name]=n})),i.shownVariablesCount=Object.keys(i.filterProperties.showUndefinedVariable?i.variableDefinitions:i.variablesByName).length)}}}]},{"../../../../../../../camunda-commons-ui/vendor/angular":2}],9:[function(n,e,a){(function(a){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==a?a.angular:null,i=n("./directives/cam-tasklist-variables"),s=n("./modals/cam-tasklist-variables-detail-modal"),o=t.module("tasklist.plugin.tasklistCard.variables",["ui.bootstrap","angularMoment"]);o.config(["ViewsProvider",function(n){n.registerDefaultView("tasklist.card",{id:"tasklist-card-variables",template:'<div cam-tasklist-variables filter-properties="filterProperties" variables="task._embedded.variable" class="row variables"></div>',controller:function(){},priority:200})}]),o.directive("camTasklistVariables",i),o.controller("camTasklistVariablesDetailsModalCtrl",s),e.exports=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./directives/cam-tasklist-variables":8,"./modals/cam-tasklist-variables-detail-modal":10}],10:[function(n,e,a){"use strict";e.exports=["$scope","$http","Uri","details",function(n,e,a,t){switch(n.$on("$locationChangeSuccess",(function(){n.$dismiss()})),n.value=null,n.valueDeserialized=null,n.deserializationError=null,n.type=null,n.dataFormat=null,n.variable=t,n.selectedTab="serialized",n.variable.type){case"Object":n.type=n.variable.valueInfo.objectTypeName,n.value=n.variable.value,n.dataFormat=n.variable.valueInfo.serializationDataFormat,e({method:"GET",url:a.appUri("engine://engine/:engine"+n.variable._links.self.href)}).then((function(e){n.valueDeserialized=JSON.stringify(e.data.value)})).catch((function(e){n.deserializationError=e.data.message}));break;default:n.value=n.variable.value}n.selectTab=function(e){n.selectedTab=e}}]},{}],11:[function(n,e,a){(function(a){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==a?a.angular:null,i=n("./standaloneTask/app/plugin"),s=n("./tasklistCard/app/plugin"),o=n("./tasklistSorting/app/plugin");e.exports=t.module("tasklist.plugin.tasklistPlugins",[i.name,s.name,o.name])}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./standaloneTask/app/plugin":6,"./tasklistCard/app/plugin":7,"./tasklistSorting/app/plugin":12}],12:[function(n,e,a){(function(a){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==a?a.angular:null,i=n("./tasklistHeader/main");e.exports=t.module("tasklist.plugin.tasklistSorting",[i.name])}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./tasklistHeader/main":16}],13:[function(n,e,a){(function(a){(function(){"use strict";var t=n("../../../../../../camunda-commons-ui/vendor/angular"),i="undefined"!=typeof window?window.jquery:void 0!==a?a.jquery:null;e.exports=["search","$translate","$location","$timeout",function(n,e,a,s){return{restrict:"A",scope:{tasklistData:"="},template:'<span class="sorting-label hidden-xs hidden-sm hidden-md"\n      translate="SORT_BY"></span>\n\n<ol class="sorting-choice list-inline"\n    data-total="{{ sortings.length }}">\n  <li ng-repeat="(index, sorting) in sortings"\n      class="sorting-choice dropdown"\n      is-open="openDropdowns[index]"\n      on-toggle="openDropdown(index, open)"\n      uib-dropdown>\n    <a href\n       class="glyphicon glyphicon-remove-sign"\n       ng-if="sortings.length > 1"\n       tabindex="0"\n       ng-click="removeSorting(index)"\n       tooltip-placement="bottom"\n       uib-tooltip="{{ \'REMOVE_SORTING\' | translate }}"></a>\n\n    <a href\n       tabindex="0"\n       uib-dropdown-toggle class="dropdown-toggle">\n      <span class="sort-by">{{ byLabel(index) }}</span>\n    </a>\n\n    <a href\n       tabindex="0"\n       uib-tooltip="{{ (sorting.order === \'desc\' ? \'DESC\' : \'ASC\') | translate }}"\n       class="sort-direction glyphicon"\n       ng-class="sorting.order === \'asc\' ? \'glyphicon-menu-up\' : \'glyphicon-menu-down\'"\n       ng-click="changeOrder(index)"></a>\n\n    <ul cam-sorting-dropdown\n        options="availableOptions"\n        click-handler="changeSorting(index, id, type, value)"\n        reset-function="resetFunctions[index]"\n        change="true">\n    </ul>\n  </li>\n\n  <li uib-dropdown class="dropdown new-sort"\n      is-open="openDropdownNew"\n      on-toggle="openDropdown(-1, open)">\n    <a href\n       uib-dropdown-toggle class="dropdown-toggle">\n      <span class="glyphicon glyphicon-plus-sign"\n            uib-tooltip="{{ \'ADD_SORT_BY\' | translate }}"></span>\n      <span class="hidden-xs hidden-sm hidden-md"\n            translate="ADD_SORT_BY"></span>\n    </a>\n\n    <ul cam-sorting-dropdown\n        options="availableOptions"\n        click-handler="addSorting(id, type, value)"\n        reset-function="resetFunctions[-1]">\n    </ul>\n  </li>\n</ol>\n',controller:[function(){}],link:function(o,l){var r,c=i("body"),d=l.find(".new-sort .dropdown-menu");function u(){r&&s.cancel(r),r=s((function(){var n,e=i(l).parents(".columns"),a=i(l).parents("view"),t=e.find(".cell.top"),s=i(".tasks-list .content"),o=c.hasClass("list-column-close");if(a.css("height","auto"),o)return n=parseInt(t.css("min-height"),10),t.css("height",n),void s.css("top",n);var d=a.height(),u=a.parent();i(u).height(d);var p=d;t.height(p),s.css("top",p+12),r=null}),100)}o.sortings=[{order:"desc",by:"created"}],o.openDropdowns=[],o.openDropdownNew=!1,o.sortedOn=[],o.$on("layout:change",u),o.uniqueProps={priority:e.instant("PRIORITY"),created:e.instant("CREATION_DATE"),dueDate:e.instant("DUE_DATE"),followUpDate:e.instant("FOLLOW_UP_DATE"),nameCaseInsensitive:e.instant("TASK_NAME"),assignee:e.instant("ASSIGNEE")},o.byLabel=function(n){if(!o.sortings[n])return"";var e=o.sortings[n].by;return o.uniqueProps[e]?o.uniqueProps[e]:o.sortings[n]&&o.sortings[n].parameters?o.sortings[n].parameters.variable:""};var p=o.tasklistData.newChild(o);function f(n){var e=n.parent().position().left,a=n.outerWidth()+e;a>l.outerWidth()&&n.css("left",l.outerWidth()-a+"px")}p.observe("taskListQuery",(function(n){if(n){var e=JSON.parse((a.search()||{}).sorting||"[]");o.sortedOn=[],o.openDropdowns=[],o.availableOptions=t.copy(o.uniqueProps),o.sortings=e.map((function(n){o.sortedOn.push(n.sortBy),o.openDropdowns.push(!1),delete o.availableOptions[n.sortBy];var e={order:n.sortOrder,by:n.sortBy};return n.parameters&&(e.parameters=n.parameters),e})),o.sortings.length||(o.sortings.push({order:"desc",by:"created"}),o.updateSortings()),u()}})),o.$watch("sortings.length",(function(n,e){n!==e&&o.updateSortings()})),o.$watch("sortings",u,!0),o.$watch("openDropdowns",(function(n){var e=n.indexOf(!0),a=l.find("li.sorting-choice .dropdown-menu").css("left","auto");e>-1&&a[e]&&f(t.element(a[e]))}),!0),o.$watch("openDropdownNew",(function(n){n?f(d):d.css("left","auto")})),o.changeSorting=function(n,e,a,t){o.sortings[n].by=e,delete o.sortings[n].parameters,a&&(o.sortings[n].parameters={variable:t,type:a}),o.updateSortings(),s((function(){var e=document.querySelector("[cam-sorting-choices] li:nth-child(0n+"+(n+1)+") a.dropdown-toggle");e&&e.focus()}))},o.resetFunctions=[],o.openDropdown=function(n,e){if(e){var a=o.sortings[n];a?o.resetFunctions[n](a.by,a.parameters&&a.parameters.type,a.parameters&&a.parameters.variable):o.resetFunctions[n]()}},o.updateSortings=function(){var e;o.openDropdowns=[],o.sortedOn=o.sortings.map((function(n){return o.openDropdowns.push(!1),n.by})),n.updateSilently({sorting:(e=o.sortings,JSON.stringify(e.map((function(n){var e={sortBy:n.by,sortOrder:n.order};if(n.by.indexOf("Variable")>-1){if(!n.parameters)throw new Error("Variable sorting needs parameters");e.parameters=n.parameters}return e}))))}),p.changed("taskListQuery"),u()},o.addSorting=function(n,e,a){var t={order:"desc",by:n};e&&(t.parameters={variable:a,type:e}),o.sortings.push(t),o.updateSortings(),s((function(){var n=document.querySelector("[cam-sorting-choices] li:last-child a.dropdown-toggle");n&&n.focus()})),o.openDropdownNew=!1},o.removeSorting=function(n){o.sortings.splice(n,1),o.updateSortings(),s((function(){var e;(e=o.sortings.length!==n?document.querySelector("[cam-sorting-choices] li.sorting-choice:nth-child(0n+"+(n+1)+") a:first-child"):document.querySelector("[cam-sorting-choices] li.sorting-choice:nth-last-child(0n+2) a:first-child"))&&e.focus()}))},o.changeOrder=function(n){o.sortings[n].order="asc"===o.sortings[n].order?"desc":"asc",o.updateSortings(),s((function(){var e=document.querySelector("[cam-sorting-choices] li:nth-child(0n+"+(n+1)+") a.sort-direction");e&&e.focus()}))}}}}]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../../../../camunda-commons-ui/vendor/angular":2}],14:[function(n,e,a){"use strict";e.exports=["$translate",function(n){return{restrict:"A",replace:!0,template:'<ul uib-dropdown-menu class="dropdown-menu">\n  \x3c!-- single time selectable --\x3e\n  <li ng-repeat="(name, label) in options">\n    <a href\n       tabindex="0"\n       translate="{{ label }}"\n       ng-click="handleClick($event, name)">\n    </a>\n  </li>\n\n  <li class="divider"\n      ng-if="hasOptions()"></li>\n\n  \x3c!-- multiple times selectable --\x3e\n  <li ng-repeat="(name, label) in sortableVariables"\n      ng-click="showInputs($event, name)"\n      ng-class="{\'active\': name === focusedOn}">\n    <a href\n       translate="{{ label }}"\n       tabindex="0"></a>\n\n    <div ng-show="name === focusedOn"\n         cam-sorting-inputs\n         change="change"\n         apply-handler="handleClick($event, name)"\n         variable="variable"\n         reset-function="resetInputs[name]"></div>\n  </li>\n\n</ul>\n',scope:{options:"=",clickHandler:"&",change:"&",resetFunction:"="},link:function(e){e.change=e.$eval(e.change),e.variable={varName:"",varType:"Integer"},e.hasOptions=function(){return e.options&&Object.keys(e.options).length>0},e.resetInputs={},e.resetFunction=function(n,a,t){e.sortableVariables[n]?(e.focusedOn=n,e.variable.varType=a,e.variable.varName=t):(e.focusedOn=null,e.variable.varType="Integer",e.variable.varName="")},e.handleClick=function(n,a){e.sortableVariables[a]?e.clickHandler({$event:n,id:a,type:e.variable.varType,value:e.variable.varName}):e.clickHandler({$event:n,id:a})},e.sortableVariables={processVariable:n.instant("PROCESS_VARIABLE"),executionVariable:n.instant("EXECUTION_VARIABLE"),taskVariable:n.instant("TASK_VARIABLE"),caseExecutionVariable:n.instant("CASE_EXECUTION_VARIABLE"),caseInstanceVariable:n.instant("CASE_INSTANCE_VARIABLE")},e.showInputs=function(n,a){n.preventDefault(),n.stopPropagation(),e.focusedOn=a}}}}]},{}],15:[function(n,e,a){"use strict";e.exports=["$translate",function(n){return{restrict:"AC",replace:!0,template:'<div class="variable-inputs">\n  <div class="form-group">\n    <input type="text"\n           placeholder="{{ \'VARIABLE_NAME\' | translate }}"\n           class="form-control input-sm"\n           ng-model="variable.varName"\n           autofocus />\n  </div>\n\n  <div class="form-group">\n    <select class="form-control input-sm"\n            ng-model="variable.varType">\n      <option ng-repeat="(varType, varText) in variableTypes"\n              ng-selected="varType === variable.varType"\n              value="{{ varType }}">{{ varText }}</option>\n    </select>\n  </div>\n\n  <div class="form-group actions">\n    <button ng-click="applySorting($event)"\n            ng-disabled="!variable"\n            class="btn btn-primary btn-sm">\n      {{ (change ? \'CHANGE\' : \'ADD\') | translate }}\n    </button>\n  </div>\n</div>\n',scope:{change:"=",applyHandler:"&",resetFunction:"=",variable:"="},controller:["$scope",function(e){e.variableTypes={Boolean:n.instant("BOOLEAN"),Double:n.instant("DOUBLE"),Date:n.instant("DATE"),Integer:n.instant("INTEGER"),Long:n.instant("LONG"),Short:n.instant("SHORT"),String:n.instant("STRING")},e.applySorting=function(n){e.applyHandler({$event:n})}}]}}]},{}],16:[function(n,e,a){(function(a){(function(){"use strict";var t="undefined"!=typeof window?window.angular:void 0!==a?a.angular:null,i=n("./cam-tasklist-sorting-choices"),s=n("./cam-tasklist-sorting-dropdown"),o=n("./cam-tasklist-sorting-inputs"),l=n("./tasklist-sorting"),r=t.module("tasklist.plugin.tasklistSorting.tasklistHeader",[]);r.directive("camSortingChoices",i),r.directive("camSortingDropdown",s),r.directive("camSortingInputs",o),r.config(l),e.exports=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cam-tasklist-sorting-choices":13,"./cam-tasklist-sorting-dropdown":14,"./cam-tasklist-sorting-inputs":15,"./tasklist-sorting":17}],17:[function(n,e,a){"use strict";var t=function(n){n.registerDefaultView("tasklist.header",{id:"tasklist-sorting",template:'<div cam-sorting-choices tasklist-data="tasklistData"></div>',controller:function(){},priority:200})};t.$inject=["ViewsProvider"],e.exports=t},{}]},{},[11])(11)}));
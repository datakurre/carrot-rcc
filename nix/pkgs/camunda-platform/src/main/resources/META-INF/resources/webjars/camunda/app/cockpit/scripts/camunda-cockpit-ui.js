/*
 * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH
 * under one or more contributor license agreements. See the NOTICE file
 * distributed with this work for additional information regarding copyright
 * ownership. Camunda licenses this file to you under the Apache License,
 * Version 2.0; you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).CamundaCockpitUi=e()}}((function(){return function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,(function(e){return r(t[o][1][e]||e)}),u,u.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=/^-?[\d]+$/,a=/^(0|(-?(((0|[1-9]\d*)\.\d+)|([1-9]\d*))))([eE][-+]?[0-9]+)?$/,o=/^(true|false)$/,s=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/,l=e("fast-xml-parser"),c=function(e,t){switch(t){case"Integer":case"Long":case"Short":return r.test(e);case"Float":case"Double":return a.test(e);case"Boolean":return o.test(e);case"Date":return s.test(d(e));case"Xml":return function(e){return!!e&&l.validate(e)}(e);case"Json":return function(e){try{return JSON.parse(e),!0}catch(e){return!1}}(e)}},u=function(e){return e<10?"0"+e:e},d=function(e){return"object"===i(e)&&"function"==typeof e.getFullYear?e.getFullYear()+"-"+u(e.getMonth()+1)+"-"+u(e.getDate())+"T"+u(e.getHours())+":"+u(e.getMinutes())+":"+u(e.getSeconds()):e};t.exports={convertToType:function(e,t){if("string"==typeof e&&(e=e.trim()),"String"===t||"Bytes"===t||"File"===t)return e;if(!c(e,t))throw new Error("Value '"+e+"' is not of type "+t);switch(t){case"Integer":case"Long":case"Short":return parseInt(e,10);case"Float":case"Double":return parseFloat(e);case"Boolean":return"true"===e;case"Date":return d(e)}},isType:c,dateToString:d}},{"fast-xml-parser":308}],2:[function(e,t,n){"use strict";t.exports=e("angular")},{angular:"angular"}],3:[function(e,t,n){"use strict";t.exports=e("moment")},{moment:"moment"}],4:[function(e,t,n){"use strict";var i=e("angular"),r="7.16.0".match(/([0-9]+.[0-9]+)/);r=r?r[0]:"latest";var a=["$scope","$sce","Notifications","telemetryResource","$translate",function(e,t,n,i,a){e.camundaVersion=r,e.loadingState="INITIAL",e.logo=t.trustAsHtml('<svg xmlns="http://www.w3.org/2000/svg" width="96" height="33" viewBox="0 0 96 33">\n    <path fill-rule="evenodd" d="M96,26.9065044 L96,33 L0,33 L0,26.9065044 L96,26.9065044 Z M43.825801,0.295704855 L47.4277156,0.298848262 L47.4126802,18.0430696 C47.411114,19.6861287 48.1312464,20.2780324 49.2770681,20.2789754 C50.423203,20.2802327 51.1442751,19.6889578 51.145528,18.046213 L51.145528,18.046213 L51.1605634,0.30199167 L54.5660784,0.304820737 L54.551043,17.819259 C54.5479106,21.4992462 52.7126538,23.6009285 49.1762057,23.5977886 C45.6397576,23.5946417 43.8079464,21.4901303 43.8110748,17.8101431 L43.8110748,17.8101431 L43.825801,0.295704855 Z M5.3849235,2.25075829e-06 C8.92168482,0.00314791311 10.753496,2.10765927 10.7503677,5.78796084 L10.7503677,5.78796084 L10.7484842,8.02229494 L7.34296929,8.01946587 L7.34516195,5.55503434 C7.3464149,3.91228955 6.6265958,3.28706579 5.48046085,3.28612277 C4.3343259,3.28549409 3.61356709,3.9088318 3.61231414,5.55189094 L3.61231414,5.55189094 L3.60166407,17.9727516 C3.60041112,19.6158107 4.32023023,20.2077143 5.46636518,20.2089717 C6.61218689,20.2099147 7.33325894,19.6189541 7.33451189,17.9762093 L7.33451189,17.9762093 L7.33733102,14.690091 L10.7425327,14.6932345 L10.7400268,17.7489409 C10.7368944,21.4292425 8.90163764,23.5306105 5.36518956,23.5277843 C1.82874147,23.524638 -0.00306972464,21.4201266 5.86369834e-05,17.7398251 L5.86369834e-05,17.7398251 L0.0100862381,5.77884496 C0.0132186102,2.09854339 1.84878865,-0.00251022049 5.3849235,2.25075829e-06 Z M87.0802259,0.332482723 L92.3520081,0.337197834 L95.9996554,23.3419117 L92.3651641,23.3390826 L91.7462074,19.1649517 L87.3261171,19.161494 L86.7005824,23.3340532 L83.3931107,23.3312241 L87.0802259,0.332482723 Z M71.0028563,0.319217543 L76.7006412,0.323932654 C80.3022426,0.327076062 82.0685872,2.33288443 82.0657714,6.01350034 L82.0657714,6.01350034 L82.0557445,17.64568 C82.0526121,21.3259816 80.2828219,23.3286465 76.6812205,23.3255068 L76.6812205,23.3255068 L70.9834356,23.3204737 L71.0028563,0.319217543 Z M56.9887802,0.306958254 L61.5075402,0.310730343 L65.1959083,14.0823132 L65.2074981,0.314188091 L68.4166133,0.316702817 L68.3971926,23.3182733 L64.6969215,23.3154442 L60.2251471,6.65161207 L60.2110514,23.3116721 L56.9693595,23.3088431 L56.9887802,0.306958254 Z M26.2424495,0.280836537 L31.2523654,0.284922967 L33.8907624,16.618383 L36.3603246,0.289323737 L41.3702405,0.293724508 L41.3508198,23.295295 L37.9456181,23.2927803 L37.9594005,6.79680606 L35.4569485,23.2905799 L32.0514335,23.2877508 L29.3801466,7.01967366 L29.3666774,23.2852361 L26.2230288,23.282407 L26.2424495,0.280836537 Z M15.6661205,0.271689221 L20.9379027,0.276089991 L24.5858632,23.2811182 L20.9510586,23.2782891 L20.3327284,19.1041582 L15.9123249,19.1007005 L15.286477,23.2732597 L11.9793185,23.2704306 L15.6661205,0.271689221 Z M74.6019519,3.60816487 L74.5881694,20.0378132 L76.6182598,20.0397003 C77.7643947,20.0406422 78.4522636,19.4496816 78.4538298,17.8066225 L78.4538298,17.8066225 L78.4638551,5.84595671 C78.4651064,4.20289758 77.7781772,3.6106796 76.6320422,3.60973658 L76.6320422,3.60973658 L74.6019519,3.60816487 Z M89.53256,4.40916799 L87.7872023,16.0404046 L91.2581838,16.0432337 L89.53256,4.40916799 Z M18.1184546,4.34837448 L16.3730968,15.9792968 L19.8440783,15.9824402 L18.1184546,4.34837448 Z"/>\n</svg>'),e.enableUsage=!1,e.close=function(){e.$dismiss()},e.save=function(){e.loadingState="LOADING",i.configure(!!e.enableUsage,(function(t){t?(e.loadingState="ERROR",n.addError({status:a.instant("TELEMETRY_ERROR_STATUS"),message:a.instant("TELEMETRY_ERROR_MESSAGE")})):e.loadingState="DONE"}))}}];t.exports=i.module("cam.commons.analytics",[]).run(["$rootScope","camAPI","$uibModal",function(e,t,n){var i=t.resource("telemetry");e.$on("authentication.login.success",(function(e){e.defaultPrevented||i.get().then((function(e){null===e.enableTelemetry&&n.open({template:'\x3c!-- # CE - camunda-bpm-webapp/camunda-commons-ui/lib/analytics/modal.html --\x3e\n\n<div class="modal-header">\n  <h3 class="modal-title">{{ \'TELEMETRY_SETTINGS\' | translate }}</h3>\n</div>\n\n<div class="modal-body analytics-body" ng-show="loadingState !== \'DONE\'">\n  <div notifications-panel></div>\n\n  {{ \'TELEMETRY_INTRODUCTION\' | translate }}\n\n  <form class="form-hotrizontal">\n    <div class="form-group">\n      <div class="col-xs-1">\n        <input type="checkbox" id="enable-telemetry" ng-model="enableUsage" class="form-control">\n      </div>\n      <div class="col-xs-11">\n        <label class="control-label" for="enable-telemetry">{{\'TELEMETRY_ENABLE\' | translate}}</label>\n        <div>{{\'TELEMETRY_DETAILS\' | translate}}\n        </div>\n      </div>\n    </div>\n  </form>  \n\n  <b>{{\'TELEMETRY_PRIVACY\' | translate}}</b>\n  {{\'TELEMETRY_DATA\' | translate}}\n  <a href={{"https://docs.camunda.org/manual/"+camundaVersion+"/introduction/telemetry/"}} \n     target="_blank">\n     {{\'TELEMETRY_DOCUMENTATION\' | translate}}\n  </a>\n  {{\'TELEMETRY_OR_VIEW\' | translate}} \n  <a href="https://camunda.com/legal/privacy/" target="_blank">\n    {{\'TELEMETRY_PRIVACY_POLICY\' | translate}}\n  </a>.\n</div>\n  \n<div class="modal-body analytics-body" ng-show="loadingState === \'DONE\'">\n  {{\'TELEMETRY_SUCCESS\' | translate}} \n</div>\n\n\n<div class="modal-footer">\n  <div class="col-xs-12 text-right">\n    <button class="btn btn-link modal-close" ng-click="close()" ng-show="loadingState !== \'DONE\'">\n      {{ \'TELEMETRY_CANCEL\' | translate }}\n    </button>\n\n    <button class="btn btn-primary" ng-click="save()" ng-show="loadingState !== \'DONE\'" ng-disabled="loadingState === \'LOADING\'">\n      {{ \'TELEMETRY_SAVE\' | translate }}\n    </button>\n    <button class="btn btn-primary" ng-click="close()" ng-show="loadingState === \'DONE\'">\n      {{ \'CLOSE\' | translate }}\n    </button>\n  </div>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/camunda-commons-ui/lib/analytics/modal.html --\x3e',controller:a,size:"md",resolve:{telemetryResource:function(){return i}}})})).catch((function(){}))}))}])},{angular:"angular"}],5:[function(e,t,n){"use strict";t.exports=["$animate","$rootScope",function(e,t){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(n,i,r){return function(n,i){var a,o;function s(t){a&&(e.leave(a),a=void 0),o&&(o.$destroy(),o=void 0),t&&(o=n.$new(),r(o,(function(t){a=t,e.enter(t,i.parent(),i)})))}n.$on("authentication.changed",(function(e,t){s(t)})),s(t.authentication)}}}}]},{}],6:[function(e,t,n){"use strict";t.exports=["$animate","$rootScope",function(e,t){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(n,i,r){return function(n,i){var a,o;function s(t){a&&(e.leave(a),a=void 0),o&&(o.$destroy(),o=void 0),t&&(o=n.$new(),r(o,(function(t){a=t,e.enter(t,i.parent(),i)})))}n.$on("authentication.changed",(function(e,t){s(!t)})),s(!t.authentication)}}}}]},{}],7:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/angular");e("angular-route"),e("angular-resource"),e("angular-translate");var r=e("../util/index"),a=e("./page/login"),o=e("./directives/camIfLoggedIn"),s=e("./directives/camIfLoggedOut"),l=e("./service/authenticationService"),c=i.module("cam.commons.auth",[i.module("ngRoute").name,r.name,"pascalprecht.translate"]);c.config(a).run(["$rootScope","$location",function(e,t){var n;e.$on("authentication.login.required",(function(i){e.$evalAsync((function(){var e=t.url();"/login"===e||i.defaultPrevented||(n=e,t.url("/login"))}))})),e.$on("authentication.login.success",(function(i){e.$evalAsync((function(){i.defaultPrevented||(t.url(n||"/").replace(),n=null)}))}))}]).run(["$cacheFactory","$rootScope","$location","$timeout","Notifications","$translate",function(e,t,n,i,r,a){t.$on("authentication.logout.success",(function(o){t.$evalAsync((function(){o.defaultPrevented||(e.get("$http").removeAll(),n.url("/login"))})),i((function(){r.addMessage({status:a.instant("AUTH_LOGOUT_SUCCESSFUL"),message:a.instant("AUTH_LOGOUT_THANKS",{dayContext:a.instant(function(){var e=new Date;if(e.getDay()>=5)return"AUTH_DAY_CONTEXT_WEEKEND";var t=e.getHours();switch(!0){case t>=4&&t<7:return"AUTH_DAY_CONTEXT_MORNING";case t>=7&&t<12:return"AUTH_DAY_CONTEXT_DAY";case t>=12&&t<17:return"AUTH_DAY_CONTEXT_AFTERNOON";case t>=17&&t<22:return"AUTH_DAY_CONTEXT_EVENING";case t>=22||t<4:return"AUTH_DAY_CONTEXT_NIGHT"}return"AUTH_DAY_CONTEXT_DAY"}())}),exclusive:!0})}))}))}]).run(["$rootScope","Notifications","$translate","shouldDisplayAuthenticationError",function(e,t,n,i){e.$on("authentication.login.required",(function(){i()&&t.addError({status:n.instant("AUTH_FAILED_TO_DISPLAY_RESOURCE"),message:n.instant("AUTH_AUTHENTICATION_FAILED"),http:!0,exclusive:["http"]})}))}]).run(["AuthenticationService",function(){}]).directive("camIfLoggedIn",o).directive("camIfLoggedOut",s).service("AuthenticationService",l),t.exports=c},{"../../../camunda-bpm-sdk-js/vendor/angular":2,"../util/index":44,"./directives/camIfLoggedIn":5,"./directives/camIfLoggedOut":6,"./page/login":8,"./service/authenticationService":9,"angular-resource":"angular-resource","angular-route":"angular-route","angular-translate":"angular-translate"}],8:[function(e,t,n){"use strict";var i=e("jquery"),r=["$scope","$rootScope","AuthenticationService","Notifications","$location","$translate","widgetLocalConf","$sce","configuration","$http",function(e,t,n,r,a,o,s,l,c,u){if(e.logo=l.trustAsHtml('<svg xmlns="http://www.w3.org/2000/svg" width="96" height="33" viewBox="0 0 96 33">\n    <path fill-rule="evenodd" d="M96,26.9065044 L96,33 L0,33 L0,26.9065044 L96,26.9065044 Z M43.825801,0.295704855 L47.4277156,0.298848262 L47.4126802,18.0430696 C47.411114,19.6861287 48.1312464,20.2780324 49.2770681,20.2789754 C50.423203,20.2802327 51.1442751,19.6889578 51.145528,18.046213 L51.145528,18.046213 L51.1605634,0.30199167 L54.5660784,0.304820737 L54.551043,17.819259 C54.5479106,21.4992462 52.7126538,23.6009285 49.1762057,23.5977886 C45.6397576,23.5946417 43.8079464,21.4901303 43.8110748,17.8101431 L43.8110748,17.8101431 L43.825801,0.295704855 Z M5.3849235,2.25075829e-06 C8.92168482,0.00314791311 10.753496,2.10765927 10.7503677,5.78796084 L10.7503677,5.78796084 L10.7484842,8.02229494 L7.34296929,8.01946587 L7.34516195,5.55503434 C7.3464149,3.91228955 6.6265958,3.28706579 5.48046085,3.28612277 C4.3343259,3.28549409 3.61356709,3.9088318 3.61231414,5.55189094 L3.61231414,5.55189094 L3.60166407,17.9727516 C3.60041112,19.6158107 4.32023023,20.2077143 5.46636518,20.2089717 C6.61218689,20.2099147 7.33325894,19.6189541 7.33451189,17.9762093 L7.33451189,17.9762093 L7.33733102,14.690091 L10.7425327,14.6932345 L10.7400268,17.7489409 C10.7368944,21.4292425 8.90163764,23.5306105 5.36518956,23.5277843 C1.82874147,23.524638 -0.00306972464,21.4201266 5.86369834e-05,17.7398251 L5.86369834e-05,17.7398251 L0.0100862381,5.77884496 C0.0132186102,2.09854339 1.84878865,-0.00251022049 5.3849235,2.25075829e-06 Z M87.0802259,0.332482723 L92.3520081,0.337197834 L95.9996554,23.3419117 L92.3651641,23.3390826 L91.7462074,19.1649517 L87.3261171,19.161494 L86.7005824,23.3340532 L83.3931107,23.3312241 L87.0802259,0.332482723 Z M71.0028563,0.319217543 L76.7006412,0.323932654 C80.3022426,0.327076062 82.0685872,2.33288443 82.0657714,6.01350034 L82.0657714,6.01350034 L82.0557445,17.64568 C82.0526121,21.3259816 80.2828219,23.3286465 76.6812205,23.3255068 L76.6812205,23.3255068 L70.9834356,23.3204737 L71.0028563,0.319217543 Z M56.9887802,0.306958254 L61.5075402,0.310730343 L65.1959083,14.0823132 L65.2074981,0.314188091 L68.4166133,0.316702817 L68.3971926,23.3182733 L64.6969215,23.3154442 L60.2251471,6.65161207 L60.2110514,23.3116721 L56.9693595,23.3088431 L56.9887802,0.306958254 Z M26.2424495,0.280836537 L31.2523654,0.284922967 L33.8907624,16.618383 L36.3603246,0.289323737 L41.3702405,0.293724508 L41.3508198,23.295295 L37.9456181,23.2927803 L37.9594005,6.79680606 L35.4569485,23.2905799 L32.0514335,23.2877508 L29.3801466,7.01967366 L29.3666774,23.2852361 L26.2230288,23.282407 L26.2424495,0.280836537 Z M15.6661205,0.271689221 L20.9379027,0.276089991 L24.5858632,23.2811182 L20.9510586,23.2782891 L20.3327284,19.1041582 L15.9123249,19.1007005 L15.286477,23.2732597 L11.9793185,23.2704306 L15.6661205,0.271689221 Z M74.6019519,3.60816487 L74.5881694,20.0378132 L76.6182598,20.0397003 C77.7643947,20.0406422 78.4522636,19.4496816 78.4538298,17.8066225 L78.4538298,17.8066225 L78.4638551,5.84595671 C78.4651064,4.20289758 77.7781772,3.6106796 76.6320422,3.60973658 L76.6320422,3.60973658 L74.6019519,3.60816487 Z M89.53256,4.40916799 L87.7872023,16.0404046 L91.2581838,16.0432337 L89.53256,4.40916799 Z M18.1184546,4.34837448 L16.3730968,15.9792968 L19.8440783,15.9824402 L18.1184546,4.34837448 Z"/>\n</svg>'),e.status="INIT",e.appName=c.getAppName(),t.authentication)return a.path("/");t.showBreadcrumbs=!1,e.showFirstLogin=!1,!c.getDisableWelcomeMessage()&&s.get("firstVisit",!0)&&u({method:"GET",url:"/camunda-welcome"}).then((function(t){200===t.status?(s.set("firstVisit",!0),e.showFirstLogin=!0):e.dismissInfoBox()})).catch(e.dismissInfoBox),o("FIRST_LOGIN_INFO").then((function(t){e.FirstLoginMessage=l.trustAsHtml(t)})),e.dismissInfoBox=function(){e.showFirstLogin=!1,s.set("firstVisit",!1)};var d=i('form[name="signinForm"] [autofocus]')[0];d&&d.focus(),e.login=function(){return e.status="LOADING",n.login(e.username,e.password).then((function(){e.status="DONE",r.clearAll(),e.dismissInfoBox()})).catch((function(t){e.status="ERROR",delete e.username,delete e.password,r.addError({status:o.instant("PAGE_LOGIN_FAILED"),message:t.data&&t.data.message||o.instant("PAGE_LOGIN_ERROR_MSG"),scope:e,exclusive:!0})}))}}];t.exports=["$routeProvider",function(e){e.when("/login",{template:'\x3c!-- # CE - camunda-commons-ui/lib/auth/page/login.html --\x3e\n<div class="form-signin-container">\n  <form class="form-signin"\n        ng-submit="login()"\n        name="signinForm"\n        request-aware>\n\n    <div class="login-header">\n      <div class="login-logo" ng-bind-html="logo"></div>\n\n      <div class="app-name">\n        {{ appName }}\n      </div>\n    </div>\n\n    <div notifications-panel\n         ng-if="signinForm.$dirty"\n         class="notifications-panel"></div>\n\n    <input autofocus\n           tabindex="1"\n           type="text"\n           class="form-control"\n           placeholder="{{ \'PAGE_LOGIN_USERNAME\' | translate }}"\n           auto-fill\n           required\n           ng-model="username"></input>\n    <input tabindex="2"\n           type="password"\n           class="form-control"\n           placeholder="{{ \'PAGE_LOGIN_PASSWORD\' | translate }}"\n           auto-fill\n           required\n           ng-model="password"></input>\n    <button tabindex="3"\n            class="btn btn-lg btn-primary"\n            type="submit"\n            ng-disabled="status === \'LOADING\'">{{ \'PAGE_LOGIN_SIGN_IN_ACTION\' | translate }}</button>\n\n    <div ng-if="showFirstLogin"\n         class="alert-info alert"\n         style="margin-top: 75px; margin-bottom: 0px">\n      <div>\n        <button type="button" class="close" ng-click="dismissInfoBox()">×</button>\n        <strong class="status">{{ \'FIRST_LOGIN_HEADING\' | translate }}</strong>\n        <span class="message" ng-bind-html="FirstLoginMessage" style="display: block"></span>\n      </div>\n    </div>\n  </form>\n</div>\n\x3c!-- / CE - camunda-commons-ui/lib/auth/page/login.html --\x3e\n',controller:r})}]},{jquery:"jquery"}],9:[function(e,t,n){"use strict";e("../../../../camunda-bpm-sdk-js/vendor/angular");var i=e("jquery"),r=e("../util/authentication");t.exports=["$rootScope","$q","$http","Uri","$route",function(e,t,n,a,o){function s(t,n,i){e.$broadcast(t,n,i)}function l(e){if(200!==e.status)return t.reject(e);var n=e.data;return new r({name:n.userId,authorizedApps:n.authorizedApps})}function c(t){e.authentication=t,s("authentication.changed",t)}var u;this.updateAuthentication=c,this.login=function(e,r){var o=i.param({username:e,password:r});return n.get(a.appUri("engine://engine/")).then((function(){return n({method:"POST",url:a.appUri("admin://auth/user/:engine/login/:appName"),data:o,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})})).then(l).then((function(e){return n.get(a.appUri("engine://engine/")).then((function(){c(e),s("authentication.login.success",e)})),e}),(function(e){return s("authentication.login.failure",e),t.reject(e)}))},this.logout=function(e){return n.post(a.appUri("admin://auth/user/"+(e||":engine")+"/logout")).then((function(e){c(null),s("authentication.logout.success",e)}),(function(e){return s("authentication.logout.failure",e),t.reject(e)}))},e.$on("authentication.changed",(function(e,n){u=t[n?"when":"reject"](n),n||o.reload()})),this.getAuthentication=function(){return u||(u=e.authentication?t.when(e.authentication):n.get(a.appUri("admin://auth/user/:engine")).then(l).then((function(e){return c(e),e}))),u},e.$on("$routeChangeStart",(function(e,n){n.authentication&&(n.resolve||(n.resolve={}),n.resolve.authentication||(n.resolve.authentication=["AuthenticationService",function(e){return e.getAuthentication().catch((function(e){return"optional"===n.authentication?null:(s("authentication.login.required",n),t.reject(e))}))}]))}))}]},{"../../../../camunda-bpm-sdk-js/vendor/angular":2,"../util/authentication":10,jquery:"jquery"}],10:[function(e,t,n){"use strict";var i=e("../../../../camunda-bpm-sdk-js/vendor/angular");function r(e){i.extend(this,e)}r.prototype.canAccess=function(e){return this.authorizedApps&&-1!==this.authorizedApps.indexOf(e)},t.exports=r},{"../../../../camunda-bpm-sdk-js/vendor/angular":2}],11:[function(e,t,n){"use strict";function i(e,t){var n=Math.ceil(e/t),i=""+n;return(n=(parseInt(i[0],10)+1)*Math.pow(10,i.length-1))*t}function r(){}function a(e){return Math.log(e)/Math.log(10)}function o(e){this.moment=e.moment,this.abbreviateNumber=e.abbreviateNumber,this.resize(e.width,e.height,e.disableSelection),this.lineColors=e.lineColors,this.rulersColor=e.rulersColor||"#666",this.selectingColor=e.selectingColor||"rgba(0,0,64,0.1)",this.unselectedColor=e.unselectedColor||"rgba(0,0,0,0.1)",this.handleColorHover=e.handleColorHover||"#999",this.handleColor=e.handleColor||"#aaa",this.fontSize=e.fontSize||12,this.fontFamily=e.fontFamily||"Arial",this.lineWidth=e.lineWidth||1,this.isLogScale=e.isLogScale||!1,this.valueLabelsCount=e.valueLabelsCount||8,this.timespan=e.timespan||"day",this.interval=e.interval||900,this.handleWidth=e.handleWidth||4,this.timestampFormat=e.timestampFormat||"YYYY-MM-DDTHH:mm:ss",this.timeLabelFormats=e.timeLabelFormats||{day:"HH:mm",week:"dd DD",month:"DD MMM"},this.tickSize=e.tickSize||10,this.textPadding=e.textPadding||3,this.onselection=e.onselection||r}t.exports=o;var s=o.prototype;s._mouseIsDown=!1,s._selectedIn=null,s._selectedOut=null,s._eventHandlers={},s._eventHandlers.mouseout=function(e){this.drawMouseHint().drawSelection(e)},s._eventHandlers.mousemove=function(e){var t=this.cursorPosition(e);this._hoveredSelectionHandle=this.hoveredSelectionHandle(e),this.canvas.style.cursor=this._hoveredSelectionHandle?"ew-resize":"default","in"===this._grabbedSelectionHandle?this._selectedIn=t.left:"out"===this._grabbedSelectionHandle&&(this._selectedOut=t.left),this.drawMouseHint(t.left,t.top).drawSelection(e)},s._eventHandlers.mousedown=function(e){var t=this.cursorPosition(e),n=this.verticalScaleX(),i=this.innerW();this._hoveredSelectionHandle=this.hoveredSelectionHandle(e),this.canvas.style.cursor=this._hoveredSelectionHandle?"ew-resize":"default",this._hoveredSelectionHandle?this._grabbedSelectionHandle=this._hoveredSelectionHandle:(this._mouseIsDown||(this._selectedIn=Math.min(Math.max(t.left,n),n+i),this._selectedOut=null),this._mouseIsDown=!0),this.drawMouseHint(t.left,t.top).drawSelection(e)},s._eventHandlers.mouseup=function(e){var t=this.cursorPosition(e),n=this.verticalScaleX(),i=this.innerW();this._grabbedSelectionHandle&&(this._grabbedSelectionHandle=!1),this._mouseIsDown&&(this._selectedOut=Math.max(Math.min(t.left,n+i),n)),this._mouseIsDown=!1,Math.abs(this._selectedIn-this._selectedOut)<=1&&(this._selectedIn=this._selectedOut=null,this.onselection({start:null,end:null,in:null,out:null})),this.drawMouseHint(t.left,t.top).drawSelection(e),this._selectedIn&&this._selectedOut&&this.onselection({start:this.momentAtX(this._selectedIn),end:this.momentAtX(this._selectedOut),in:this._selectedIn,out:this._selectedOut})},s._eventHandlers.wheel=function(e){if(this._selectedIn&&this._selectedOut){e.preventDefault();var t=this.cursorPosition(e);this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var n=Math.max(Math.round(Math.abs(this._selectedOut-this._selectedIn)/10),1);e.deltaY>0?(this._selectedIn+=n,this._selectedOut-=n):(this._selectedIn-=n,this._selectedOut+=n),this.drawMouseHint(t.left,t.top).drawSelection(e),this.onselection({start:this.momentAtX(this._selectedIn),end:this.momentAtX(this._selectedOut),in:this._selectedIn,out:this._selectedOut})}},s.cursorPosition=function(e){var t=this.canvas.getBoundingClientRect();return{left:e.clientX-t.left,top:e.clientY-t.top}},s.bindEvents=function(){return Object.keys(s._eventHandlers).forEach((function(e){this.canvas.addEventListener(e,s._eventHandlers[e].bind(this),!1)}),this),this},s.unbindEvents=function(){return Object.keys(s._eventHandlers).forEach((function(e){this.canvas.removeEventListener(e,s._eventHandlers[e].bind(this),!1)}),this),this},s._clearCache=function(){this._verticalLabels=null,this._verticalScaleX=null,this._horizontalScaleY=null,this._innerW=null,this._innerH=null,this._selectedIn=null,this._selectedOut=null},s.resize=function(e,t,n){return this._clearCache(),this.canvas||(this.canvas=document.createElement("canvas"),this.offCanvas=document.createElement("canvas"),!n&&this.bindEvents()),this.canvas.width=this.offCanvas.width=e,this.canvas.height=this.offCanvas.height=t,this.ctx=this.canvas.getContext("2d"),this.offCtx=this.offCanvas.getContext("2d"),this._selectedIn=null,this._selectedOut=null,"function"==typeof this.onselection&&this.onselection({start:null,end:null,in:null,out:null}),this},s.max=function(e){var t=0;return arguments.length?((this.data[e]||[]).forEach((function(e){t=Math.max(e.value,t)}),this),t):((this.data||[]).forEach((function(e,n){t=Math.max(t,this.max(n))}),this),t)},s.min=function(e){var t=this.max();return arguments.length?(t=this.max(e),(this.data[e]||[]).forEach((function(e){t=Math.min(e.value,t)}),this),t):((this.data||[]).forEach((function(e,n){t=Math.min(t,this.min(n))}),this),t)},s.momentAtX=function(e){var t=this.moment,n=this.labelFrom,i=(this.labelTo-n)/this.innerW();return t(new Date(i*(e-this.verticalScaleX())+this.labelFrom),t.ISO_8601)},s.valueAtY=function(e){return e},s.setData=function(e,t,n){this._clearCache();var r=this.moment,a=this.abbreviateNumber;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.offCtx.clearRect(0,0,this.offCanvas.width,this.offCanvas.height),t&&(this.timespan=t),n&&(this.interval=n);var o=[[{value:0,timestamp:r().format(this.dateformat)}]];e&&e.length&&e[0]||(e=o),this.data=e;var s,l=this.timespan,c=this.timestampFormat,u=i(this.max(),this.valueLabelsCount),d=this.timeLabelFormats;this.isLogScale&&(this.valueLabelsCount=this.maxLog()+1),this.valueLabels=[];for(var p=this.valueLabelsCount;p>=0;p--)s=this.isLogScale?p&&Math.pow(10,p-1):a(p*u/this.valueLabelsCount)||0,this.valueLabels.push(s);if(this.timeLabels=[],e.length&&e[0]&&e[0].length&&e[0][0].timestamp){var f=r(),m=this.labelTo=f.clone();"day"===l?m.startOf("hour").add(1,"hour"):"week"===l?m.startOf("day").add(1,"day"):"month"===l&&m.startOf("week").add(1,"week");var h,g,v=this.labelFrom=m.clone().subtract(1,l),y=1;"day"===l?(h=12,g="hour",y=2):"week"===l?(h=7,g="day"):"month"===l&&(h=4,g="week");for(var b=0;b<=h;b++)this.timeLabels.push(v.clone().add(b*y,g).format(d[l]))}return this.data=e.map((function(e){e&&e.length||(e=[{value:0}]),1===e.length&&(e=[e[0],e[0]]);var t=r(e[e.length-1].timestamp,c),n=t-undefined;return e.map((function(e){var i=r(e.timestamp,c);return e.positionPercent=(t-i)/n,e}))})),this.draw()},s._verticalLabels=null,s.verticalLabels=function(){if(this._verticalLabels)return this._verticalLabels;var e=this.ctx,t=this.timeLabels,n=this.textPadding,i=0,r=this.innerW();return t.forEach((function(t){i+=e.measureText(t).width+2*n})),this._verticalLabels=i>r,this._verticalLabels},s._innerW=null,s.innerW=function(){if(this._innerW)return this._innerW;var e=this.lineWidth,t=Math.max(2*e,10),n=this.ctx,i=n.canvas.width,r=0,a=this.textPadding;return this.timeLabels.forEach((function(e){r=Math.max(r,n.measureText(e).width+2*a)})),this._innerW=i-(t+this.verticalScaleX()),this.verticalLabels()||(this._innerW-=r/2),this._innerW},s._innerH=null,s.innerH=function(){if(this._innerH)return this._innerH;var e=this.lineWidth,t=Math.max(2*e,10),n=this.ctx.canvas.height;return this._innerH=n-(t+this.horizontalScaleY()),this._innerH},s._verticalScaleX=null,s.verticalScaleX=function(){if(this._verticalScaleX)return this._verticalScaleX;var e=0,t=this.ctx,n=this.valueLabels,i=this.textPadding,r=this.tickSize;return n.forEach((function(n){e=Math.max(e,t.measureText(n||"0").width+4*i+r)})),e=Math.round(Math.max(e,r+i))+.5,this._verticalScaleX=e,e},s._horizontalScaleY=null,s.horizontalScaleY=function(){if(this._horizontalScaleY)return this._horizontalScaleY;var e=this.ctx,t=this.timeLabels,n=this.fontSize,i=this.tickSize,r=this.textPadding,a=this.verticalLabels(),o=0;return a?(t.forEach((function(t){o=Math.max(o,e.measureText(t).width+4*r+i)})),o=Math.round(Math.max(o,i+r))):o=n+2*r+i,this._horizontalScaleY=o,o},s.drawMouseHint=function(e,t){var n=this.ctx,i=this.innerW(),r=n.canvas.height,a=n.canvas.width,o=Math.max(2*this.lineWidth,10),s=this.verticalScaleX(),l=this.horizontalScaleY(),c=this.tickSize;if(n.strokeStyle=this.rulersColor,n.fillStyle=this.rulersColor,n.lineWidth=1,n.lineCap="round",n.lineJoin="round",n.font=this.fontSize+"px "+this.fontFamily,n.clearRect(0,0,a,r),n.drawImage(this.offCanvas,0,0,a,r,0,0,a,r),e&&e>s&&e<=s+i){var u=this.momentAtX(e).format(this.timestampFormat),d=n.measureText(u).width+2*o,p=e+d>a-o?a-(o+d):e,f=t>o?t:o;n.fillText(u,p,f),n.beginPath(),n.moveTo(e+.5,r-(l+c)),n.lineTo(e+.5,r-l),n.stroke(),n.closePath()}return this},s.drawSelection=function(e){var t=this.ctx,n=this.innerH(),i=this.innerW(),r=this.verticalScaleX(),a=Math.max(2*this.lineWidth,10),o=this.cursorPosition(e),s=this.handleWidth,l=this.selectingColor,c=this.unselectedColor,u=t.fillStyle;if(this._mouseIsDown)return t.fillStyle=l,this._selectedIn<o.left?t.fillRect(this._selectedIn,a,Math.min(o.left-this._selectedIn,r+i-this._selectedIn),n):t.fillRect(Math.max(o.left,r),a,Math.min(this._selectedIn-o.left,i),n),t.fillStyle=u,this;if(this._selectedIn&&this._selectedOut){var d=t.lineWidth,p=t.strokeStyle;if(this._selectedIn<r&&(this._selectedIn=r),this._selectedOut>r+i&&(this._selectedOut=r+i),t.fillStyle=c,this._selectedOut&&this._selectedIn>this._selectedOut){var f=this._selectedOut;this._selectedOut=this._selectedIn,this._selectedIn=f}t.fillRect(r,a,this._selectedIn-r,n),t.fillRect(this._selectedOut,a,i+r-this._selectedOut,n),t.beginPath(),t.moveTo(this._selectedIn+.5,n+a),t.lineTo(this._selectedIn+.5,a+.5),t.lineTo(this._selectedOut+.5,a+.5),t.lineTo(this._selectedOut+.5,n+a),t.stroke(),t.lineWidth=s+2,t.strokeStyle=this.rulersColor,t.beginPath(),t.moveTo(this._selectedIn,a+10),t.lineTo(this._selectedIn,80),t.stroke(),t.closePath(),t.lineWidth=s,t.strokeStyle="in"===this._hoveredSelectionHandle?this.handleColorHover:this.handleColor,t.beginPath(),t.moveTo(this._selectedIn,a+10),t.lineTo(this._selectedIn,80),t.stroke(),t.lineWidth=s+2,t.strokeStyle="#333",t.beginPath(),t.moveTo(this._selectedOut,a+10),t.lineTo(this._selectedOut,80),t.stroke(),t.closePath(),t.lineWidth=s,t.strokeStyle="out"===this._hoveredSelectionHandle?this.handleColorHover:this.handleColor,t.beginPath(),t.moveTo(this._selectedOut,a+10),t.lineTo(this._selectedOut,80),t.stroke(),t.lineWidth=d,t.fillStyle=u,t.strokeStyle=p}return this},s.hoveredSelectionHandle=function(e){if(!this._selectedIn||!this._selectedOut)return!1;var t=this.cursorPosition(e),n=this.ctx,i=Math.max(2*this.lineWidth,10),r=!1,a=this.handleWidth+4,o=n.lineWidth,s=n.strokeStyle;return n.lineWidth=1,n.strokeStyle="rgba(0,0,0,0)",n.beginPath(),n.rect(this._selectedIn-a/2,i+10,a,80),n.stroke(),n.closePath(),n.isPointInPath(t.left,t.top)&&(r="in"),n.beginPath(),n.rect(this._selectedOut-a/2,i+10,a,80),n.stroke(),n.closePath(),n.isPointInPath(t.left,t.top)&&(r="out"),n.lineWidth=o,n.strokeStyle=s,r},s.maxLog=function(){var e=this.max()||1;return Math.ceil(a(e))},s.drawRulers=function(){var e,t,n,i,r,o=this.offCtx,s=this.lineWidth,l=Math.max(2*s,10),c=this.abbreviateNumber,u=this.timeLabels,d=this.valueLabels,p=o.canvas.height,f=this.textPadding,m=this.tickSize,h=this.verticalScaleX(),g=this.horizontalScaleY(),v=this.innerW(),y=this.innerH(),b=this.verticalLabels();o.strokeStyle=this.rulersColor,o.fillStyle=this.rulersColor,o.lineWidth=1,o.lineCap="round",o.lineJoin="round",o.font=this.fontSize+"px "+this.fontFamily;var _=p-g+.5;for(o.beginPath(),o.moveTo(h-m,_),o.lineTo(h+v,_),o.stroke(),o.beginPath(),o.moveTo(h,l),o.lineTo(h,_+m),o.stroke(),b?(o.textAlign="right",o.textBaseline="middle"):(o.textAlign="center",o.textBaseline="top"),u.forEach((function(e,t){var n=h+t*(v/(u.length-1));o.beginPath(),o.moveTo(n,_),o.lineTo(n,_+m),o.stroke(),b?(o.save(),o.translate(n,p-(g-(m+f))),o.rotate(-Math.PI/2),o.fillText(u[t],0,0),o.restore()):o.fillText(u[t],n,p-(g-(m+f)))})),e=y/(d.length-1),i=this.maxLog(),o.textAlign="right",o.textBaseline="middle",t=0;t<d.length;t++)n=d[t],r=this.isLogScale?y-(n&&y/(i+1)*(a(n)+1))+l:Math.round(l+e*t)-.5,o.fillText(c(n)||0,h-(m+f),r),t<d.length-1&&(o.beginPath(),o.moveTo(h-m,r),o.lineTo(h,r),o.stroke());return this},s.draw=function(){var e=this.offCtx,t=this.lineWidth,n=Math.max(2*t,10),r=e.canvas.width,o=e.canvas.height,s=this.verticalScaleX(),l=this.horizontalScaleY(),c=this.innerW(),u=this.innerH();e.clearRect(0,0,r,o);var d=this.labelFrom,p=this.labelTo-d,f=this.interval,m=o-l+.5,h=this.isLogScale,g=this.max(),v=this.maxLog(),y=i(g,this.valueLabelsCount);function b(e){if(!e)return m;var t=e&&u/(v+1)*(a(e)+1);return h?u-t+n:u-u/y*e+n}function _(e){return s+(e-d)/p*c}return this.data.forEach((function(n,i){var r,a,c,u,p=this.moment,m=this.lineColors[i];e.lineWidth=t,e.strokeStyle=m,e.beginPath(),n.forEach((function(t,n){(c=p(t.timestamp,p.ISO_8601))<=d?u=t:(0===n&&c>d&&(e.moveTo(s,o-l),e.lineTo(_(c.clone().subtract(f,"seconds")),o-l)),u&&(r=s,a=b(u.value),e.lineTo(r,a),u=null),r=_(c),a=b(t.value),e.lineTo(r,a))})),p()-c>=1e3*f&&(r=_(c.clone().add(f,"seconds")),a=o-l,e.lineTo(r,a),r=_(p()),e.lineTo(r,a)),e.stroke(),e.closePath(),n.length>=1&&(e.beginPath(),e.fillStyle=m,e.arc(r,a,2*t,0,2*Math.PI),e.fill(),e.closePath())}),this),this.ctx.drawImage(this.offCanvas,0,0,r,o,0,0,r,o),this.drawRulers().drawMouseHint()},s.remove=function(){this.unbindEvents(),this.canvas.parentNode.removeChild(this.canvas)}},{}],12:[function(e,t,n){"use strict";t.exports=["$interval",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,i,r){var a=e((function(){var t=n.val();t!==r.$viewValue&&(r.$setViewValue(t),r.$setPristine()),"function"!=typeof document.contains||document.contains(n[0])?"function"!=typeof document.contains&&e.cancel(a):e.cancel(a)}),500)}}}]},{}],13:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;i.$parsers.unshift((function(e){return r.test(e)||!e?(i.$setValidity("email",!0),e):(i.$setValidity("email",!1),null)}))}}}},{}],14:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/angular"),r=e("jquery"),a=["$scope","$http","$location","$window","Uri","Notifications","$translate",function(e,t,n,r,a,o,s){var l=a.appUri(":engine"),c={};t.get(a.appUri("engine://engine/")).then((function(t){e.engines=t.data,i.forEach(e.engines,(function(e){c[e.name]=e})),e.currentEngine=c[l],e.currentEngine||(o.addError({status:s.instant("DIRECTIVE_ENGINE_SELECT_STATUS_NOT_FOUND"),message:s.instant("DIRECTIVE_ENGINE_SELECT_MESSAGE_NOT_FOUND"),scope:e}),n.path("/dashboard"))})).catch(i.noop)}];t.exports=function(){return{template:'<li class="dropdown engine-select"\n    ng-show="engines.length > 1 && currentEngine"\n    uib-dropdown>\n\x3c!-- # CE - camunda-commons-ui/lib/directives/engineSelect.html --\x3e\n  <a href\n     class="dropdown-toggle"\n     uib-dropdown-toggle>\n    <span class="glyphicon glyphicon-info-sign glyphicon glyphicon-info-sign "\n          uib-tooltip="{{ \'DIRECTIVE_ENGINE_SELECT_TOOLTIP\' | translate }}"\n          tooltip-placement="bottom"></span>\n    {{ currentEngine.name }}\n  </a>\n  <ul uib-dropdown-menu class="dropdown-menu dropdown-menu-right">\n    <li ng-repeat="(id, engine) in engines"\n        ng-class="{ active: currentEngine.name === engine.name }">\n      <a ng-href="{{ \'app://../\' + engine.name + \'/\' | uri }}">\n        {{ engine.name }}\n      </a>\n    </li>\n  </ul>\n\x3c!-- / CE - camunda-commons-ui/lib/directives/engineSelect.html --\x3e\n</li>\n',replace:!0,controller:a,link:function(e,t,n){var i;e.$watch(n.ngShow,(function(e){e&&!i&&(i=r('<li class="divider-vertical"></li>').insertAfter(t)),!e&&i&&(i.remove(),i=null)})),e.$on("$destroy",(function(){i&&i.remove()}))}}}},{"../../../camunda-bpm-sdk-js/vendor/angular":2,jquery:"jquery"}],15:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/angular");t.exports=["$translate",function(e){return{restrict:"E",scope:{unserializeCallback:"@unserialize",serializeCallback:"@serialize",initializeCallback:"@initialize",enterCallback:"@enter",validateCallback:"@validate",submitCallback:"@submit",successCallback:"@success",errorCallback:"@error",leaveCallback:"@leave",context:"=",property:"@",defaultValue:"@default"},template:'\x3c!-- # CE - camunda-commons-ui/lib/directives/inPlaceTextField.html --\x3e\n<div in-place-text-field-root>\n  <div ng-if="!editing">\n    {{ context[property] }}\n    <span class="edit-toggle"\n          ng-click="enter()">\n      <span class="glyphicon glyphicon-pencil"></span>\n    </span>\n  </div>\n\n  <form ng-if="editing"\n        ng-submit="submit()"\n        class="inline-edit"\n        name="inPlaceTextFieldForm"\n        novalidate\n        request-aware>\n\n    <fieldset>\n      \x3c!-- {{ value }} --\x3e\n      <input name="value"\n             ng-model="value"\n             type="text"\n             class="in-place-edit form-control"\n             placeholder="{{ placeholder }}"\n             autofocus\n             ng-required="isRequired">\n    </fieldset>\n\n    <div class="inline-edit-footer">\n\n      <p class="error" ng-show="error">\n        {{ error.message }}\n      </p>\n\n      <div class="btn-group">\n        <button type="submit"\n                class="btn btn-sm btn-primary"\n                ng-disabled="inPlaceTextFieldForm.$invalid">\n          <span class="glyphicon glyphicon-ok "></span>\n        </button>\n        <button type="button"\n                class="btn btn-sm btn-default"\n                ng-click="leave()">\n          <span class="glyphicon glyphicon-ban-circle"></span>\n        </button>\n      </div>\n    </div>\n\n  </form>\n</div>\n\x3c!-- / CE - camunda-commons-ui/lib/directives/inPlaceTextField.html --\x3e\n',link:function(t,n,r){if(t.isRequired=null!==r.required&&void 0!==r.required,!t.property)throw new Error(e.instant("DIRECTIVE_INPLACE_TEXTFIELD_ERROR_MSG"));(t.initializeCallback?t.$parent[t.initializeCallback]:function(e,t){t()})(t,(function(){!function(e){e.value=e.context[e.property]||e.defaultValue||null,e.enter=function(){e.editing=!0,e.value=e.context[e.property]},e.submit=function(){var t=this;e.context[e.property]!==t.value?(e.context[e.property]=t.value,i.isFunction(e.$parent[e.submitCallback])&&e.$parent[e.submitCallback](t),e.leave()):e.leave()},e.leave=function(){e.editing=!1}}(t)}))}}}]},{"../../../camunda-bpm-sdk-js/vendor/angular":2}],16:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/angular"),r=e("./email"),a=e("./engineSelect"),o=e("./autoFill"),s=e("./inPlaceTextField"),l=e("./notificationsPanel"),c=e("./passwordRepeat"),u=e("./showIfAuthorized"),d=e("./nl2br"),p=e("./instantTypeahead"),f=e("../util/index");e("../../vendor/ui-bootstrap-tpls-2.5.0-camunda");var m=i.module("camunda.common.directives",["ui.bootstrap",f.name]);m.directive("email",r),m.directive("autoFill",o),m.directive("engineSelect",a),m.directive("camInPlaceTextField",s),m.directive("notificationsPanel",l),m.directive("passwordRepeat",c),m.directive("showIfAuthorized",u),m.directive("nl2br",d),m.directive("instantTypeahead",p),m.config(["$uibModalProvider","$uibTooltipProvider",function(e,t){e.options={animation:!0,backdrop:!0,keyboard:!0},t.options({animation:!0,popupDelay:100,appendToBody:!0})}]),t.exports=m},{"../../../camunda-bpm-sdk-js/vendor/angular":2,"../../vendor/ui-bootstrap-tpls-2.5.0-camunda":79,"../util/index":44,"./autoFill":12,"./email":13,"./engineSelect":14,"./inPlaceTextField":15,"./instantTypeahead":17,"./nl2br":18,"./notificationsPanel":19,"./passwordRepeat":20,"./showIfAuthorized":21}],17:[function(e,t,n){"use strict";var i="[$empty$]";t.exports=[function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$parsers.unshift((function(e){var t=e||i;return r.$viewValue=t,t})),r.$parsers.push((function(e){return e===i?"":e})),e.instantTypeahead=function(e,t){return t===i||(""+e).toLowerCase().indexOf((""+t).toLowerCase())>-1},t.bind("click",(function(){r.$setViewValue(" "===r.$viewValue?"":" "),t.triggerHandler("input")})),t.bind("input",(function(){r.$setViewValue(r.$viewValue)}))}}}]},{}],18:[function(e,t,n){"use strict";t.exports=[function(){return{scope:{original:"=nl2br"},link:function(e,t){t.text(e.original||"");var n=t.html().replace(/\n/g,"<br/>");t.html(n)}}}]},{}],19:[function(e,t,n){"use strict";e("angular-sanitize");t.exports=["Notifications","$filter","$sce",function(e,t,n){return{restrict:"EA",scope:{filter:"=notificationsFilter"},template:'<div class="notifications">  <div uib-alert ng-repeat="notification in notifications" class="alert" ng-class="notificationClass(notification)">    <button type="button" class="close" ng-click="removeNotification(notification)">&times;</button>    <strong class="status" ng-bind-html="trustHTML(notification.status)"></strong>     <strong ng-if="notification.message">:</strong>    <span class="message" ng-bind-html="trustHTML(notification.message)"></span>  </div></div>',link:function(i){var r=i.filter;var a=i.notifications=[],o={add:function(e){return!!function(e){return!r||!!t("filter")([e],r).length}(e)&&(a.push(e),!0)},remove:function(e){var t=a.indexOf(e);-1!=t&&a.splice(t,1)}};e.registerConsumer(o),i.removeNotification=function(e){a.splice(a.indexOf(e),1)},i.notificationClass=function(e){var t="info";return["danger","error","success","warning","info"].indexOf(e.type)>-1&&(t=e.type),"alert-"+t},i.trustHTML=function(e){return n.trustAsHtml(e)},i.$on("$destroy",(function(){e.unregisterConsumer(o)}))}}}]},{"angular-sanitize":"angular-sanitize"}],20:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r=n.passwordRepeat;i.$parsers.unshift((function(t){var n=t==e.$eval(r);return i.$setValidity("passwordRepeat",n),t})),e.$watch(r,(function(e){var t=e==i.$viewValue;i.$setValidity("passwordRepeat",t),t||i.$setViewValue(i.$viewValue)}))}}}},{}],21:[function(e,t,n){"use strict";var i={application:0,user:1,group:2,"group membership":3,authorization:4};t.exports=["$animate","AuthorizationResource",function(e,t){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(n,r,a){return function(n,o){var s,l,c=r.authPermission,u=r.authResourceName,d=n.$eval(r.authResourceId),p="true"===r.authInverse;t.check(function(e,t,n){var r={};return r.permissionName=e,r.resourceName=t,r.resourceType=i[t],n&&(r.resourceId=n),r}(c,u,d)).$promise.then((function(t){s&&(e.leave(s),s=void 0),l&&(l.$destroy(),l=void 0),(t.authorized&&!p||!t.authorized&&p)&&(l=n.$new(),a(l,(function(t){s=t,e.enter(t,o.parent(),o)})))})).catch((function(){}))}}}}]},{}],22:[function(e,t,n){"use strict";t.exports=function(){return function(e,t){if(e)return e<950?e:(t||(t=1),function(e,t){t=Math.pow(10,t);for(var n=["k","M","G","T","P","E","Z","Y"],i=n.length-1;i>=0;i--){var r=Math.pow(10,3*(i+1));if(r<=e)return 1e3==(e=Math.round(e*t/r)/t)&&i<n.length-1&&(e=1,i++),e+=n[i]}return e}(e,t))}}},{}],23:[function(e,t,n){"use strict";var i=e("../../../../camunda-bpm-sdk-js/vendor/angular"),r=e("../../../../camunda-bpm-sdk-js/vendor/moment");e("angular-translate");var a=i.module("cam.commons.filter.date",["pascalprecht.translate"]);a.provider("camDateFormat",(function(){var e={normal:"LLL",short:"LL",long:"LLLL"};this.setDateFormat=function(t,n){e[n=n||"normal"]=t},this.$get=function(){return function(t){return e[t=t||"normal"]}}})),a.config(["$filterProvider",function(e){e.register("camDate",["$translate","camDateFormat",function(e,t){return function(e,n){return e?("number"==typeof e&&(e=new Date(e)),r(e,r.ISO_8601).format(t(n))):""}}])}]),t.exports=a},{"../../../../camunda-bpm-sdk-js/vendor/angular":2,"../../../../camunda-bpm-sdk-js/vendor/moment":3,"angular-translate":"angular-translate"}],24:[function(e,t,n){"use strict";var i=e("../../camunda-bpm-sdk-js/vendor/angular"),r=e("./analytics/index"),a=e("./auth/index"),o=e("./util/index"),s=e("./pages/index"),l=e("./plugin/index"),c=e("./directives/index"),u=e("./resources/index"),d=e("./search/index"),p=e("./services/index"),f=e("./widgets/index"),m=e("./filter/date/index");e("../vendor/ui-bootstrap-tpls-2.5.0-camunda"),e("angular-translate"),e("angular-cookies"),e("angular-animate"),t.exports=i.module("cam.commons",[a.name,r.name,o.name,s.name,l.name,c.name,u.name,d.name,p.name,f.name,m.name,"ui.bootstrap","pascalprecht.translate","ngCookies","ngAnimate"])},{"../../camunda-bpm-sdk-js/vendor/angular":2,"../vendor/ui-bootstrap-tpls-2.5.0-camunda":79,"./analytics/index":4,"./auth/index":7,"./directives/index":16,"./filter/date/index":23,"./pages/index":25,"./plugin/index":26,"./resources/index":30,"./search/index":31,"./services/index":39,"./util/index":44,"./widgets/index":62,"angular-animate":"angular-animate","angular-cookies":"angular-cookies","angular-translate":"angular-translate"}],25:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/angular");e("angular-route");var r=e("jquery"),a=i.module("camunda.common.pages",["ngRoute"]),o=["$rootScope","$location","Notifications","AuthenticationService","shouldDisplayAuthenticationError","$translate","configuration",function(e,t,n,i,a,o,s){function l(e){e.http=!0,e.exclusive=["http"],n.addError(e)}e.$on("httpError",(function(n,c){var u,d=c.status,p=c.data;switch(d){case 500:p&&p.message?l({status:o.instant("PAGES_STATUS_SERVER_ERROR"),message:p.message,exceptionType:p.exceptionType}):l({status:o.instant("PAGES_STATUS_SERVER_ERROR"),message:o.instant("PAGES_MSG_SERVER_ERROR")});break;case 0:l({status:o.instant("PAGES_STATUS_REQUEST_TIMEOUT"),message:o.instant("PAGES_MSG_REQUEST_TIMEOUT")});break;case 401:-1!==t.absUrl().indexOf("/setup/#")?t.path("/setup"):(t.absUrl(),u=s.getAppVendor()+" "+s.getAppName(),r("head title").text(u),i.updateAuthentication(null),e.$broadcast("authentication.login.required"));break;case 403:if("AuthorizationException"==p.type){var f;if(p.resourceId)f=o.instant("PAGES_MSG_ACCESS_DENIED_RESOURCE_ID",{permissionName:p.permissionName.toLowerCase(),resourceName:p.resourceName.toLowerCase(),resourceId:p.resourceId});else{var m=p.missingAuthorizations.map((function(e){return"'"+e.permissionName+"' "+e.resourceName+"s"}));f=o.instant("PAGES_MSG_ACCESS_DENIED",{missingAuths:m.join()})}l({status:o.instant("PAGES_STATUS_ACCESS_DENIED"),message:f})}else l({status:o.instant("PAGES_STATUS_ACCESS_DENIED"),message:o.instant("PAGES_MSG_ACTION_DENIED")});break;case 404:a()&&l({status:o.instant("PAGES_STATUS_NOT_FOUND"),message:o.instant("PAGES_MSG_NOT_FOUND")});break;default:l({status:o.instant("PAGES_STATUS_COMMUNICATION_ERROR"),message:o.instant("PAGES_MSG_COMMUNICATION_ERROR",{status:d})})}}))}],s=["$scope","$http","$location","$window","Uri","Notifications","$translate",function(e,t,n,r,a,o,s){var l=a.appUri(":engine"),c={};t.get(a.appUri("engine://engine/")).then((function(t){e.engines=t.data,i.forEach(e.engines,(function(e){c[e.name]=e})),e.currentEngine=c[l],e.currentEngine||(o.addError({status:s.instant("PAGES_STATUS_NOT_FOUND"),message:s.instant("PAGES_MSG_ENGINE_NOT_EXISTS"),scope:e}),n.path("/"))})).catch(i.noop),e.$watch("currentEngine",(function(e){e&&l!==e.name&&(r.location.href=a.appUri("app://../"+e.name+"/"))}))}];t.exports=a.run(o).controller("ProcessEngineSelectionController",s).controller("AuthenticationController",["$scope","$window","$cacheFactory","$location","Notifications","AuthenticationService",function(e,t,n,i,r,a){e.logout=function(){a.logout()}}]).controller("NavigationController",["$scope","$location",function(e,t){e.activeClass=function(e){return-1!=t.absUrl().indexOf(e)?"active":""}}])},{"../../../camunda-bpm-sdk-js/vendor/angular":2,"angular-route":"angular-route",jquery:"jquery"}],26:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/angular"),r=e("./view"),a=e("./service"),o=i.module("cockpit.plugin",[]);r(o),a(o),t.exports=o},{"../../../camunda-bpm-sdk-js/vendor/angular":2,"./service":27,"./view":28}],27:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/angular"),r=e("jquery");t.exports=function(e){var t;e._camPlugins={};var n=[],a=r("base").attr("cam-exclude-plugins")||"";function o(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}a&&(i.forEach(a.split(","),(function(e){var t="*";(e=e.split(":")).length>=2&&o(e[1])&&(t=o(e.pop())),(e=o(e.shift()))&&n.push(e+":"+t)})),t=new RegExp("("+n.join("|")+")","i"));var s=[function(){var n={};this.registerPlugin=function(i,r,a){(e._camPlugins[r+":"+a.id]=!1,t&&t.test(r+":"+a.id))||(e._camPlugins[r+":"+a.id]=!0,function(e,t,n){!function(e,t){for(var n,i=void 0!==t.priority?t.priority:-1/0,r=0;n=e[r];r++)if(void 0===n.priority||n.priority<i)return void e.splice(r,0,t);e.push(t)}(n[e]=n[e]||[],t)}(r,a,n[i]=n[i]||{}))},this.$get=["$filter",function(e){return{getAllProviders:function(e){return n[e]||{}},getProviders:function(t,i){if(!t)throw new Error("No type given");var r=i.component;if(!r)throw new Error("No component given");var a=(n[t]||{})[r];return i.id&&(a=e("filter")(a,{id:i.id})),a||[]},getProvider:function(e,t){return(this.getProviders(e,t)||[])[0]}}}]}];e.provider("Plugins",s);var l=["PluginsProvider",function(e){this.registerDefaultView=function(n,i){t&&t.test(n+":"+i.id)||e.registerPlugin("view",n,i)},this.registerView=function(t,n){e.registerPlugin("view",t,n)},this.$get=["Uri","Plugins",function(e,t){var n=!1;function r(){var r;n||(r=t.getAllProviders("view"),i.forEach(r,(function(t){i.forEach(t,(function(t){t.url&&(t.url=e.appUri(t.url))}))})),n=!0)}return{getProviders:function(e){return r(),t.getProviders("view",e)},getProvider:function(e){return(this.getProviders(e)||[])[0]}}}]}];e.provider("Views",l);var c=["PluginsProvider",function(e){this.registerData=function(t,n){e.registerPlugin("data",t,n)},this.$get=["Plugins","$injector",function(e,t){return{getProviders:function(t){return e.getProviders("data",t)},getProvider:function(e){return(this.getProviders(e)||[])[0]},instantiateProviders:function(e,n){var r=this.getProviders({component:e});i.forEach(r,(function(e){t.instantiate(e.controller,n)}))}}}]}];e.provider("Data",c)}},{"../../../camunda-bpm-sdk-js/vendor/angular":2,jquery:"jquery"}],28:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/angular");t.exports=function(e){e.directive("view",["$q","$http","$templateCache","$anchorScroll","$compile","$controller",function(e,t,n,r,a,o){return{restrict:"ECA",terminal:!0,link:function(s,l,c){var u;function d(){u&&(u.$destroy(),u=null)}function p(){l.html(""),d()}s.$watch(c.provider,(function(){var f=s.$eval(c.provider),m=s.$eval(c.vars)||{};if(!f)return void p();e.when(function(e){var r=e.template;if(r)return r;var a=e.url;return t.get(a,{cache:n}).then((function(e){return e.data})).catch(i.noop)}(f)).then((function(e){l.html(e),d();var t,n=a(l.contents()),c={};u=s.$new(!0),m&&(m.read&&i.forEach(m.read,(function(e){u[e]=s[e],s.$watch(e,(function(t){u[e]=t}))})),m.write&&i.forEach(m.write,(function(e){u.$watch(e,(function(t){s[e]=t}))}))),f.controller&&(c.$scope=u,t=o(f.controller,c),l.children().data("$ngControllerController",t)),n(u),u.$emit("$pluginContentLoaded"),r()}),(function(e){throw p(),e}))}))}}}])}},{"../../../camunda-bpm-sdk-js/vendor/angular":2}],29:[function(e,t,n){"use strict";t.exports=["$resource","Uri",function(e,t){return e(t.appUri("engine://engine/:engine/authorization/:action"),{action:"@action"},{check:{method:"GET",params:{action:"check"},cache:!0},count:{method:"GET",params:{action:"count"}},create:{method:"POST",params:{action:"create"}}})}]},{}],30:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/angular"),r=e("./authorizationResource"),a=i.module("camunda.common.resources",[]);a.factory("AuthorizationResource",r),t.exports=a},{"../../../camunda-bpm-sdk-js/vendor/angular":2,"./authorizationResource":29}],31:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/angular"),r=["$location","$rootScope",function(e,t){var n=!1;t.$on("$routeUpdate",(function(e,i){n?n=!1:t.$broadcast("$routeChanged",i)})),t.$on("$routeChangeSuccess",(function(){n=!1}));var r=function(){return e.search.apply(e,arguments)};return r.updateSilently=function(t,r){var a=e.absUrl();i.forEach(t,(function(t,n){e.search(n,t)})),e.absUrl()!=a&&(n=!0),r&&e.replace()},r}],a=i.module("camunda.common.search",[]);a.factory("search",r),t.exports=a},{"../../../camunda-bpm-sdk-js/vendor/angular":2}],32:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/angular"),r=e("camunda-bpm-sdk-js/lib/angularjs/index");t.exports=["$rootScope","$timeout","$q","$cookies","configuration",function(e,t,n,a,o){function s(e){this._wrapped=new r.Client.HttpClient(e)}return i.forEach(["post","get","load","put","del","options","head"],(function(r){s.prototype[r]=function(s,l){var c=t((function(){}),1e5);!function(e){var t=e.headers=e.headers||{},n=a.get(o.getCsrfCookieName());n&&(t["X-XSRF-TOKEN"]=n)}(l);var u=i.isFunction(l.done)?l.done:i.noop;return l.done=function(n,i){function r(){if(n&&401===n.status)return e.$broadcast("authentication.changed",null),e.authentication=null,void e.$broadcast("authentication.login.required");u(n,i)}var a=e.$$phase;"$apply"!==a&&"$digest"!==a?e.$apply(r):r(),t.cancel(c)},n.when(this._wrapped[r](s,l))}})),i.forEach(["on","once","off","trigger"],(function(e){s.prototype[e]=function(){this._wrapped[e].apply(this,arguments)}})),s}]},{"../../../camunda-bpm-sdk-js/vendor/angular":2,"camunda-bpm-sdk-js/lib/angularjs/index":"camunda-bpm-sdk-js/lib/angularjs/index"}],33:[function(e,t,n){"use strict";t.exports=["$rootScope",function(e){var t=0;return{logStarted:function(){t||e.$broadcast("requestStarted"),t++},logFinished:function(){--t||e.$broadcast("requestFinished")}}}]},{}],34:[function(e,t,n){"use strict";t.exports=["$route","$q","$location","Notifications","$translate",function(e,t,n,i,r){return{getByRouteParam:function(a,o){var s=t.defer(),l=e.current.params[a],c=o.resolve,u=o.name||"entity";function d(e){s.resolve(e)}function p(e){var t,a,c,d=!1;404===e.status?(t=r.instant("SERVICES_RESOURCE_RESOLVER_ID_NOT_FOUND",{resourceName:u,id:l}),a=!0,"function"==typeof(c=o.redirectTo||"/dashboard")&&(d=!0,c(e))):401===e.status?(t=r.instant("SERVICES_RESOURCE_RESOLVER_AUTH_FAILED"),c="/login"):(t=r.instant("SERVICES_RESOURCE_RESOLVER_RECEIVED_STATUS",{status:e.status}),c="/dashboard"),d||(n.path(c),a&&n.replace(),i.addError({status:r.instant("SERVICES_RESOURCE_RESOLVER_DISPLAY_FAILED",{resourceName:u}),message:t,http:!0,exclusive:["http"]})),s.reject(t)}var f=c(l);if(f.$promise&&f.$promise.then)f=f.$promise.then((function(e){d(e)}),p);else{if(!f.then)throw new Error(r.instant("SERVICES_RESOURCE_RESOLVER_NO_PROMISE"));f=f.then(d,p)}return s.promise}}}]},{}],35:[function(e,t,n){"use strict";t.exports=["$window",function(e){var t=e.localStorage,n=JSON.parse(t.getItem("camunda")||"{}");return{get:function(e,t){return void 0!==n[e]?n[e]:t},set:function(e,i){n[e]=i,t.setItem("camunda",JSON.stringify(n))},remove:function(e){delete n[e],t.setItem("camunda",JSON.stringify(n))}}}]},{}],36:[function(e,t,n){"use strict";t.exports=["$timeout",function(e){return function(t,n){var i;return function r(){var a=this,o=arguments;r.$loading=!0,i&&e.cancel(i),i=e((function(){i=null,r.$loading=!1,t.apply(a,o)}),n)}}}]},{}],37:[function(e,t,n){"use strict";t.exports=function(){return function(e){return encodeURIComponent(e).replace(/%2F/g,"%252F").replace(/\*/g,"%2A").replace(/%5C/g,"%255C")}}},{}],38:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/moment");t.exports=function(){return function(e){return e?i(e,i.ISO_8601).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"):e}}},{"../../../camunda-bpm-sdk-js/vendor/moment":3}],39:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/angular"),r=e("./../util/index"),a=e("./escape"),o=e("./debounce"),s=e("./RequestLogger"),l=e("./ResourceResolver"),c=e("./HttpClient"),u=e("./unescape"),d=e("./fixDate"),p=e("./unfixDate"),f=e("./shouldDisplayAuthenticationError"),m=i.module("camunda.common.services",[r.name]);m.filter("escape",a),m.factory("debounce",o),m.factory("RequestLogger",s),m.factory("ResourceResolver",l),m.factory("camAPIHttpClient",c),m.factory("unescape",u),m.factory("fixDate",d),m.factory("unfixDate",p),m.factory("shouldDisplayAuthenticationError",f),m.config(["$httpProvider",function(e){e.interceptors.push(["$rootScope","$q","RequestLogger",function(e,t,n){return n.logStarted(),{response:function(e){return n.logFinished(),e},responseError:function(i){n.logFinished();var r={status:parseInt(i.status),response:i,data:i.data};return e.$broadcast("httpError",r),t.reject(i)}}}])}]),m.config(["$httpProvider","$windowProvider",function(e,t){var n=t.$get().location.href.match(/\/(?:app)(?!.*\/app\/)\/([\w-]+)\/([\w-]+)\//);if(!n)throw new Error("no process engine selected");e.defaults.headers.get={"X-Authorized-Engine":n[2]}}]),t.exports=m},{"../../../camunda-bpm-sdk-js/vendor/angular":2,"./../util/index":44,"./HttpClient":32,"./RequestLogger":33,"./ResourceResolver":34,"./debounce":36,"./escape":37,"./fixDate":38,"./shouldDisplayAuthenticationError":40,"./unescape":41,"./unfixDate":42}],40:[function(e,t,n){"use strict";t.exports=["$location",function(e){return function(){var t=e.path();return"/login"!==t&&"/dashboard"!==t&&"/"!==t&&"/welcome"!==t}}]},{}],41:[function(e,t,n){"use strict";t.exports=function(){return function(e){var t=e.replace(/%252F/g,"%2F").replace(/%255C/g,"%5C").replace(/%2A/g,"*");return decodeURIComponent(t)}}},{}],42:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/moment");t.exports=function(){return function(e){return e?i(e,i.ISO_8601).format("YYYY-MM-DDTHH:mm:ss"):e}}},{"../../../camunda-bpm-sdk-js/vendor/moment":3}],43:[function(e,t,n){"use strict";var i=["http://www.omg.org/spec/DMN/20151101/dmn11.xsd"];function r(e,t){return e.replace('xmlns="'+t+'"','xmlns="http://www.omg.org/spec/DMN/20151101/dmn.xsd"')}t.exports=function(e){return i.reduce(r,e)}},{}],44:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/angular"),r=e("./uriFilter"),a=e("./uriProvider"),o=e("./notifications");t.exports=i.module("cam.commons.util",[]).filter("uri",r).provider("Uri",a).service("Notifications",o)},{"../../../camunda-bpm-sdk-js/vendor/angular":2,"./notifications":46,"./uriFilter":47,"./uriProvider":48}],45:[function(e,t,n){"use strict";t.exports={load:function(){return requirejs.s.contexts._.defined}}},{}],46:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/angular");function r(e){var t=document.createTextNode(e),n=document.createElement("div");return n.appendChild(t),n.innerHTML}t.exports=["$filter","$timeout",function(e,t){return{notifications:[],consumers:[],addError:function(e){e.type||(e.type="danger"),this.add(e)},addMessage:function(e){e.type||(e.type="info"),this.add(e)},add:function(e){var n=this,a=this.notifications,o=this.consumers,s=e.exclusive;if(e.unsafe||(e.status=r(e.status),e.message=r(e.message||"")),s)if("boolean"==typeof s)this.clearAll();else{var l={};i.forEach(s,(function(t){l[t]=e[t]})),n.clear(l)}a.push(e);for(var c,u=o.length-1;(c=o[u])&&!c.add(e);u--);e.duration&&t((function(){e.scope&&delete e.scope,n.clear(e)}),e.duration),e.scope&&e.scope.$on("$destroy",(function(){delete e.scope,n.clear(e)}))},clear:function(t){var n=this.notifications,r=this.consumers,a=[];"string"==typeof t&&(t={status:t}),(a=e("filter")(n,t)).push(t),i.forEach(a,(function(e){var t=n.indexOf(e);-1!=t&&n.splice(t,1),i.forEach(r,(function(t){t.remove(e)}))}))},clearAll:function(){for(var e=this.notifications;e.length;){var t=e.pop();this.clear(t)}},registerConsumer:function(e){this.consumers.push(e)},unregisterConsumer:function(e){var t=this.consumers,n=t.indexOf(e);-1!=n&&t.splice(n,1)}}}]},{"../../../camunda-bpm-sdk-js/vendor/angular":2}],47:[function(e,t,n){"use strict";t.exports=["Uri",function(e){return function(t){return e.appUri(t)}}]},{}],48:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/angular");t.exports=function(){var e=/[\w]+:\/\/|:[\w]+/g,t={};this.replace=function(e,n){t[e]=n},this.$get=["$injector",function(n){return{appUri:function(r){return r.replace(e,(function(e){var r=t[e];return void 0===r?e:((i.isFunction(r)||i.isArray(r))&&(r=n.invoke(r)),r)}))}}}]}},{"../../../camunda-bpm-sdk-js/vendor/angular":2}],49:[function(e,t,n){"use strict";var i=e("bpmn-js/lib/NavigatedViewer").default,r={};t.exports={generateViewer:function(e){var t=i;e.disableNavigation&&(t=Object.getPrototypeOf(i.prototype).constructor);return new t(e)},cacheViewer:function(e){return e.key&&(r[e.key]=e.viewer)}}},{"bpmn-js/lib/NavigatedViewer":88}],50:[function(e,t,n){"use strict";e("angular");var i=e("./cam-annotation-modal");t.exports=["$uibModal",function(e){return{scope:{annotation:"<",readonly:"=?",onSubmit:"&"},template:'<span ng-if="annotation" cam-widget-clipboard="annotation">\n  <span ng-click="openModal()" uib-tooltip="{{ readonly ? \'PLGN_AUDIT_SHOW_ANNOTATION\' : \'PLGN_AUDIT_EDIT_ANNOTATION\' | translate}}" tooltip-placement="top-left">\n    {{annotation}}\n  </span>\n</span>\n\n<a class="edit" ng-click="openModal()" ng-if="!annotation && !readonly" uib-tooltip="{{\'PLGN_AUDIT_ADD_ANNOTATION\' | translate}}">\n  <span class="glyphicon glyphicon-pencil"></span>\n</a>\n',link:function(t){t.openModal=function(){e.open(i(t.annotation,!!t.readonly,t.onSubmit())).result.then((function(e){t.annotation=e}))}}}}]},{"./cam-annotation-modal":51,angular:"angular"}],51:[function(e,t,n){"use strict";t.exports=function(e,t,n){return{template:'\x3c!-- # CE - ui/cockpit/client/scripts/directives/incidents-tab-annotation.html --\x3e\n<div class="modal-header">\n  <h3 ng-if="!readOnly" translate="PLGN_AUDIT_EDIT_MODAL_HEADER"></h3>\n  <h3 ng-if="readOnly" translate="PLGN_AUDIT_VIEW_MODAL_HEADER"></h3>\n</div>\n\n<div class="modal-body annotation-edit">\n    <div notifications-panel></div>\n  <div class="form-group"\n       ng-show="loadingState === \'INITIAL\'">\n    <div class="textarea-container">\n      <textarea ng-model="text"\n                id="value"\n                rows="10"\n                class="form-control cam-string-variable"\n                ng-change="dirty = true"\n                ng-class="{\'ng-invalid\': text.length > maxAnnotationLength}"\n                ng-readonly="readOnly"></textarea>\n\n      <span class="pull-right label label-default character-count">{{text.length}}/{{maxAnnotationLength}}</span>\n    </div>\n  </div>\n</div>\n\n<div class="modal-footer" ng-if="loadingState === \'INITIAL\'">\n  <button class="btn btn-link"\n          ng-click="$dismiss(\'close\')">\n    {{ \'CLOSE\' | translate }}\n  </button>\n  <button class="btn btn-primary"\n          ng-show="!readOnly"\n          ng-disabled="!dirty || text.length > maxAnnotationLength"\n          ng-click="updateAnnotation()">\n    {{ \'SAVE\' | translate }}\n  </button>\n</div>\n\n<div class="modal-footer" ng-if="loadingState !== \'INITIAL\'">\n  <button class="btn btn-primary"\n          ng-click="$close(text)">\n    {{ \'OK\' | translate }}\n  </button>\n</div>\n\x3c!-- / CE - ui/cockpit/client/scripts/directives/incidents-tab-annotation.html --\x3e\n',controller:["$scope","Notifications","configuration","camAPI","$translate",function(i,r,a,o,s){i.readOnly=t,i.maxAnnotationLength=a.getUserOperationLogAnnotationLength(),i.text=e||"",i.dirty=!1,i.valid=!0,i.loadingState="INITIAL",i.updateAnnotation=function(){n(i.text).then((function(){r.addMessage({status:s.instant("SUCCESS"),message:s.instant("PLGN_AUDIT_EDIT_NOTIFICATION_SUCCESS"),exclusive:!0}),i.dirty=!1})).catch((function(t){r.addError({status:s.instant("ERROR"),message:s.instant("PLGN_AUDIT_EDIT_NOTIFICATION_FAILURE")+t,exclusive:!0}),i.text=e})).finally((function(){i.loadingState="DONE"}))}}]}}},{}],52:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o=e("../../util/moduleLoader"),s=e("../../../../camunda-bpm-sdk-js/vendor/angular"),l=e("../../util/viewer");t.exports=["$q","$document","$compile","$location","$rootScope","search","debounce",function(e,t,n,a,c,u,d){return{scope:{diagramData:"=",key:"@",control:"=?",disableNavigation:"&",onLoad:"&",onClick:"&",onMouseEnter:"&",onMouseLeave:"&",bpmnJsConf:"=?"},template:'<div uib-alert class="alert alert-danger"\n     ng-if="error">\n  <span>\n    <strong>{{ \'CAM_WIDGET_BPMN_VIEWER_ERROR\' | translate }}</strong>\n  </span>\n  <span>\n   {{ error.message }}\n  </span>\n</div>\n\n<div ng-show="!error">\n\n  <div ng-if="!loaded" class="placeholder-container">\n    <div class="placeholder-content">\n      <span class="glyphicon glyphicon-refresh animate-spin"></span>\n      <span class="loading-text">{{ \'CAM_WIDGET_BPMN_VIEWER_LOADING\' | translate }}</span>\n    </div>\n  </div>\n\n  <div class="diagram-holder" ng-class=\'{"diagram-holder": true, "grab-cursor": !disableNavigation && !grabbing, "djs-cursor-move": !disableNavigation && grabbing}\'></div>\n\n  <div class="actions"></div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation zoom">\n    <button class="btn btn-default in"\n            title="zoom in"\n            ng-click="zoomIn()">\n      <span class="glyphicon glyphicon-plus"></span>\n    </button>\n    <button class="btn btn-default out"\n            title="zoom out"\n            ng-click="zoomOut()">\n      <span class="glyphicon glyphicon-minus"></span>\n    </button>\n  </div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation reset">\n    <button class="btn btn-default"\n            title="reset zoom"\n            ng-click="resetZoom()">\n      <span class="glyphicon glyphicon-screenshot"></span>\n    </button>\n  </div>\n</div>\n',link:function(p,f){var m,h=null,g=null,v=f[0].querySelector(".diagram-holder");function y(){v.appendChild(h._container)}p.grabbing=!1,p.disableNavigation=p.$eval(p.disableNavigation),p.control=p.control||{},p.control.highlight=function(e){g.addMarker(e,"highlight"),f.find('[data-element-id="'+e+'"]>.djs-outline').attr({rx:"14px",ry:"14px"})},p.control.clearHighlight=function(e){g.removeMarker(e,"highlight")},p.control.isHighlighted=function(e){return g.hasMarker(e,"highlight")},p.control.createBadge=function(e,t){var i,r=h.get("overlays");t.html?i=t.html:(i=document.createElement("span"),t.color&&(i.style["background-color"]=t.color),t.tooltip&&(i.setAttribute("tooltip",t.tooltip),i.setAttribute("tooltip-placement","top")),t.text&&i.appendChild(document.createTextNode(t.text)));var a=r.add(e,{position:t.position||{bottom:0,right:0},show:{minZoom:-1/0,maxZoom:1/0},html:i});return n(i)(p),a},p.control.removeBadges=function(e){h.get("overlays").remove({element:e})},p.control.removeBadge=function(e){h.get("overlays").remove(e)},p.control.getViewer=function(){return h},p.control.scrollToElement=function(e){var t,n,i,r,a=h.get("elementRegistry").get(e),o=g.viewbox();t=Math.max(o.height,a.height),n=Math.max(o.width,a.width),i=Math.min(Math.max(o.x,a.x-o.width+a.width),a.x),r=Math.min(Math.max(o.y,a.y-o.height+a.height),a.y),g.viewbox({x:i,y:r,width:n,height:t})},p.control.getElement=function(e){return h.get("elementRegistry").get(e)},p.control.getElements=function(e){return h.get("elementRegistry").filter(e)},p.loaded=!1,p.control.isLoaded=function(){return p.loaded},p.control.addAction=function(e){var t=f.find(".actions"),i=e.html;t.append(i),n(i)(p)},p.control.addImage=function(n,i,r){return(a=n,o=t[0].body,l=e.defer(),c=s.element("<img>").css("position","absolute").css("left","-9999em").css("top","-9999em").attr("src",a)[0],c.onload=function(){l.resolve(c)},c.onerror=function(){l.reject(c)},o.appendChild(c),l.promise).then((function(e){var a=e.offsetWidth,o=e.offsetHeight,l=t[0].createElementNS("http://www.w3.org/2000/svg","image");return l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n),l.setAttributeNS(null,"width",a),l.setAttributeNS(null,"height",o),l.setAttributeNS(null,"x",i),l.setAttributeNS(null,"y",r),t[0].body.removeChild(e),g._viewport.appendChild(l),s.element(l)}),(function(e){t[0].body.removeChild(e)}));var a,o,l,c};var b=p.bpmnJsConf,_=[];b&&b.additionalModules&&!Array.isArray(b.additionalModules)&&s.forEach(o.load(),(function(e,t){b.additionalModules[t]&&_.push(e)})),Array.isArray(null==b?void 0:b.additionalModules)&&_.push.apply(_,r(b.additionalModules)),(h=l.generateViewer({width:"100%",height:"100%",canvas:{deferUpdate:!1},key:p.key,disableNavigation:p.disableNavigation,additionalModules:_,moddleExtensions:window.bpmnJsModdleExtensions||{}})).cached||y();var E=h.get("overlays").show.bind(h.get("overlays"));h.get("overlays").show=function(){h.get("eventBus").fire("overlays.show"),E()};var x=h.get("overlays").hide.bind(h.get("overlays"));h.get("overlays").hide=function(){h.get("eventBus").fire("overlays.hide"),x()};var w=d((function(){h.get("overlays").show()}),300),S=h.get("canvas")._viewboxChanged.bind(h.get("canvas")),C=d((function(){S(),h.get("overlays").hide(),w()}),0);h.get("canvas")._viewboxChanged=function(){C()};var k=null;function T(){var e;g=h.get("canvas"),m=h._definitions,(e=h.get("eventBus")).on("element.click",A),e.on("element.hover",D),e.on("element.out",O),e.on("element.mousedown",P),e.on("canvas.viewbox.changed",N),function(){if(g){var e=JSON.parse((a.search()||{}).viewbox||"{}")[m.id];e?g.viewbox(e):g.zoom("fit-viewport","auto")}}(),p.loaded=!0}p.$watch("diagramData",(function(e){e&&(k=e,function(){if(h.cached)return y(),T(),p.onLoad();if(k){p.loaded=!1;var e="object"===i(k),t=(e?h.open:h.importXML).bind(h),n=k;e&&(h._setDefinitions(k),n=k.diagrams[0]),t(n).then((function(t){var n=t.warnings;(e?function(e){e()}:p.$apply.bind(p))((function(){return p.warn=n,T(),p.onLoad()}))})).catch((function(e){p.error=e}))}}())}));var I=function e(){p.grabbing=!1,document.removeEventListener("mouseup",e),p.$apply()};function A(e){p.onClick({element:e.element,$event:e.originalEvent})}function D(e){p.onMouseEnter({element:e.element,$event:e.originalEvent})}function O(e){p.onMouseLeave({element:e.element,$event:e.originalEvent})}function P(){p.grabbing=!0,document.addEventListener("mouseup",I),p.$apply()}var N=d((function(e){var t=JSON.parse((a.search()||{}).viewbox||"{}");t[m.id]={x:e.viewbox.x,y:e.viewbox.y,width:e.viewbox.width,height:e.viewbox.height},u.updateSilently({viewbox:JSON.stringify(t)});var n=c.$$phase;"$apply"!==n&&"$digest"!==n?p.$apply((function(){a.replace()})):a.replace()}),500);p.zoomIn=function(){h.get("zoomScroll").zoom(1,{x:f[0].offsetWidth/2,y:f[0].offsetHeight/2})},p.zoomOut=function(){h.get("zoomScroll").zoom(-1,{x:f[0].offsetWidth/2,y:f[0].offsetHeight/2})},p.resetZoom=function(){g.resized(),g.zoom("fit-viewport","auto")},p.control.resetZoom=p.resetZoom,p.control.refreshZoom=function(){g.resized(),g.zoom(g.zoom(),"auto")},p.$on("$destroy",(function(){var e;v.removeChild(h._container),(e=h.get("eventBus")).off("element.click",A),e.off("element.hover",D),e.off("element.out",O),e.off("element.mousedown",P),e.off("canvas.viewbox.changed",N),h.get("overlays").clear(),l.cacheViewer({key:p.key,viewer:h})}))}}}]},{"../../../../camunda-bpm-sdk-js/vendor/angular":2,"../../util/moduleLoader":45,"../../util/viewer":49}],53:[function(e,t,n){"use strict";t.exports=["$location",function(e){return{restrict:"A",template:'<div cam-widget-clipboard="getLink()" icon="glyphicon-link" tooltip-text="{{ \'CAM_WIDGET_COPY_LINK\' | translate }}">\n</div>\n',link:function(t){t.getLink=e.absUrl.bind(e)}}}]},{}],54:[function(e,t,n){"use strict";var i=e("lodash").throttle,r=e("./../../chart/line"),a=e("../../../../camunda-bpm-sdk-js/vendor/moment"),o=e("./../../filter/abbreviateNumber")();t.exports=["$window",function(e){return{restrict:"A",scope:{fontFamily:"=?",fontSize:"=?",handleColor:"=?",handleColorHover:"=?",handleWidth:"=?",interval:"=?",lineColors:"=?",lineWidth:"=?",rulersColor:"=?",selectingColor:"=?",selection:"&onSelection",textPadding:"=?",tickSize:"=?",timeLabelFormats:"=?",timespan:"=?",timestampFormat:"=?",unselectedColor:"=?",valueLabelsCount:"=?",values:"=",disableSelection:"=",isLogScale:"="},link:function(t,n){var s=n[0],l=e.getComputedStyle(s);function c(){return Math.min(Math.max(.75*s.clientWidth,180),300)}t.timespan=t.timespan||"day",t.interval=t.interval||900;var u=t.chart=new r({moment:a,abbreviateNumber:o,onselection:function(e){t.$apply((function(){t.selection({info:e})}))},width:s.clientWidth,height:c(),fontFamily:t.fontFamily||l.fontFamily,fontSize:t.fontSize,handleColor:t.handleColor,handleColorHover:t.handleColorHover,handleWidth:t.handleWidth,lineColors:t.lineColors,lineWidth:t.lineWidth,rulersColor:t.rulersColor||l.color,selectingColor:t.selectingColor,textPadding:t.textPadding,tickSize:t.tickSize,timeLabelFormats:t.timeLabelFormats,timestampFormat:t.timestampFormat,unselectedColor:t.unselectedColor,valueLabelsCount:t.valueLabelsCount,disableSelection:t.disableSelection,isLogScale:t.isLogScale});t.$watch("values",(function(){var e=s.className.replace("no-data","");t.values&&t.values.length&&t.values[0]&&t.values[0].length?u.setData(t.values,t.timespan,t.interval):(e+=" no-data",u.setData([[]],t.timespan,t.interval)),s.className=e})),s.appendChild(u.canvas);var d=i((function(){u.resize(s.clientWidth,c()).draw()}),100);e.addEventListener("resize",d),t.$on("$destroy",(function(){e.removeEventListener("resize",d)}))},template:"\x3c!-- keule!! pech jehabt! --\x3e"}}]},{"../../../../camunda-bpm-sdk-js/vendor/moment":3,"./../../chart/line":11,"./../../filter/abbreviateNumber":22,lodash:"lodash"}],55:[function(e,t,n){"use strict";var i=e("clipboard");t.exports=["$timeout","$translate",function(e,t){return{transclude:!0,template:'<span ng-transclude></span>\n<a ng-if="!noTooltip"\n   uib-tooltip="{{ tooltipText }}"\n   tooltip-append-to-body="true"\n   ng-class="{\'copy-ok\': copyStatus === true, \'copy-error\': copyStatus === false}"\n   class="glyphicon {{icon}}"></a>\n<a ng-if="noTooltip"\n   ng-class="{\'copy-ok\': copyStatus === true, \'copy-error\': copyStatus === false}"\n   class="glyphicon {{icon}}"></a>\n',scope:{value:"=camWidgetClipboard"},link:function(n,r,a){var o,s;function l(){n.$apply(),s=e((function(){n.copyStatus=null}),1200,!0)}function c(){var e=r[0].querySelector("[ng-transclude]"),t=r[0].querySelector("a.glyphicon-copy"),n=window.getComputedStyle(r[0]),i=1,a=0;e&&t&&(i=e.offsetWidth+t.offsetWidth,a=parseInt(n.width)-parseInt(n.paddingRight)-parseInt(n.paddingLeft)),i-a>0?-1===e.className.indexOf("resize")&&(e.className+=" resize"):e.className=e.className.replace(" resize","")}n.noTooltip=void 0!==a.noTooltip,n.copyStatus=null,n.icon=a.icon||"glyphicon-copy",n.$watch("value",(function(){n.tooltipText=a.tooltipText||t.instant("CAM_WIDGET_COPY",{value:n.value})})),e((function(){var e=r[0].querySelector("a."+n.icon);e&&(window.addEventListener("resize",c),c(),(o=new i(e,{text:function(){return n.value}})).on("success",(function(){n.copyStatus=!0,l()})),o.on("error",(function(){n.copyStatus=!1,l()})))})),n.$on("$destroy",(function(){window.removeEventListener("resize",c),o&&o.destroy&&o.destroy(),s&&e.cancel(s)}))}}}]},{clipboard:"clipboard"}],56:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=e("cmmn-js/lib/NavigatedViewer");t.exports=["$compile","$location","$rootScope","search","debounce",function(e,t,n,a,o){return{scope:{diagramData:"=",control:"=?",disableNavigation:"&",onLoad:"&",onClick:"&",onMouseEnter:"&",onMouseLeave:"&"},template:'<div uib-alert class="alert alert-danger"\n     ng-if="error">\n  <span>\n    <strong>{{ \'CAM_WIDGET_CMMN_VIEWER_ERROR\' | translate }}</strong>\n  </span>\n  <span>\n   {{ error.message }}\n  </span>\n</div>\n\n<div ng-show="!error">\n\n  <div ng-if="!loaded" class="placeholder-container">\n    <div class="placeholder-content">\n      <span class="glyphicon glyphicon-refresh animate-spin"></span>\n      <span class="loading-text">{{ \'CAM_WIDGET_CMMN_VIEWER_LOADING\' | translate }}</span>\n    </div>\n  </div>\n\n  <div class="diagram-holder" ng-class=\'{"diagram-holder": true, "grab-cursor": !disableNavigation && !grabbing, "djs-cursor-move": !disableNavigation && grabbing}\'></div>\n\n  <div class="actions"></div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation zoom">\n    <button class="btn btn-default in"\n            title="zoom in"\n            ng-click="zoomIn()">\n      <span class="glyphicon glyphicon-plus"></span>\n    </button>\n    <button class="btn btn-default out"\n            title="zoom out"\n            ng-click="zoomOut()">\n      <span class="glyphicon glyphicon-minus"></span>\n    </button>\n  </div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation reset">\n    <button class="btn btn-default"\n            title="reset zoom"\n            ng-click="resetZoom()">\n      <span class="glyphicon glyphicon-screenshot"></span>\n    </button>\n  </div>\n</div>\n',link:function(s,l){var c;s.grabbing=!1,s.disableNavigation=s.$eval(s.disableNavigation),s.control=s.control||{},s.control.highlight=function(e){s.control.addMarker(e,"highlight");var t=e.id||e;l.find('[data-element-id="'+t+'"]>.djs-outline').attr({rx:"14px",ry:"14px"})},s.control.clearHighlight=function(e){s.control.removeMarker(e,"highlight")},s.control.isHighlighted=function(e){return s.control.hasMarker(e,"highlight")},s.control.addMarker=function(e,t){y.addMarker(e,t)},s.control.removeMarker=function(e,t){y.removeMarker(e,t)},s.control.hasMarker=function(e,t){return y.hasMarker(e,t)},s.control.createBadge=function(t,n){var i,r=d.get("overlays");n.html?i=n.html:(i=document.createElement("span"),n.color&&(i.style["background-color"]=n.color),n.tooltip&&(i.setAttribute("tooltip",n.tooltip),i.setAttribute("tooltip-placement","top")),n.text&&i.appendChild(document.createTextNode(n.text)));var a=r.add(t,{position:n.position||{bottom:0,right:0},show:{minZoom:-1/0,maxZoom:1/0},html:i});return e(i)(s),a},s.control.removeBadges=function(e){d.get("overlays").remove({element:e})},s.control.removeBadge=function(e){d.get("overlays").remove(e)},s.control.getViewer=function(){return d},s.control.scrollToElement=function(e){var t,n,i,r,a=d.get("elementRegistry").get(e),o=y.viewbox();t=Math.max(o.height,a.height),n=Math.max(o.width,a.width),i=Math.min(Math.max(o.x,a.x-o.width+a.width),a.x),r=Math.min(Math.max(o.y,a.y-o.height+a.height),a.y),y.viewbox({x:i,y:r,width:n,height:t})},s.control.getElement=function(e){return d.get("elementRegistry").get(e)},s.control.getElements=function(e){return d.get("elementRegistry").filter(e)},s.loaded=!1,s.control.isLoaded=function(){return s.loaded},s.control.addAction=function(t){var n=l.find(".actions"),i=t.html;n.append(i),e(i)(s)},s.control.addImage=function(e,t,n){return y._viewport.image(e,t,n)};var u=r;s.disableNavigation&&(u=Object.getPrototypeOf(r.prototype).constructor);var d=new u({container:l[0].querySelector(".diagram-holder"),width:"100%",height:"100%",canvas:{deferUpdate:!1}}),p=d.get("overlays").show.bind(d.get("overlays"));d.get("overlays").show=function(){d.get("eventBus").fire("overlays.show"),p()};var f=d.get("overlays").hide.bind(d.get("overlays"));d.get("overlays").hide=function(){d.get("eventBus").fire("overlays.hide"),f()};var m=o((function(){d.get("overlays").show()}),300),h=d.get("canvas")._viewboxChanged.bind(d.get("canvas")),g=o((function(){h(),d.get("overlays").hide(),m()}),0);d.get("canvas")._viewboxChanged=function(){g()};var v=null,y=null;s.$watch("diagramData",(function(e){e&&(v=e,function(){if(v){s.loaded=!1;var e="object"===i(v);(e?d.importDefinitions:d.importXML).bind(d)(v,(function(i,r){(e?function(e){e()}:s.$apply.bind(s))((function(){var e;i?s.error=i:(s.warn=r,y=d.get("canvas"),c=d._definitions,function(){if(y){var e=JSON.parse((t.search()||{}).viewbox||"{}")[c.id];e?y.viewbox(e):y.zoom("fit-viewport","auto")}}(),(e=d.get("eventBus")).on("element.click",(function(e){s.onClick({element:e.element,$event:e.originalEvent})})),e.on("element.hover",(function(e){s.onMouseEnter({element:e.element,$event:e.originalEvent})})),e.on("element.out",(function(e){s.onMouseLeave({element:e.element,$event:e.originalEvent})})),e.on("element.mousedown",(function(){s.grabbing=!0,document.addEventListener("mouseup",b),s.$apply()})),e.on("canvas.viewbox.changed",o((function(e){var i=JSON.parse((t.search()||{}).viewbox||"{}");i[c.id]={x:e.viewbox.x,y:e.viewbox.y,width:e.viewbox.width,height:e.viewbox.height},a.updateSilently({viewbox:JSON.stringify(i)});var r=n.$$phase;"$apply"!==r&&"$digest"!==r?s.$apply((function(){t.replace()})):t.replace()}),500)),s.loaded=!0,s.onLoad())}))}))}}())}));var b=function e(){s.grabbing=!1,document.removeEventListener("mouseup",e),s.$apply()};s.zoomIn=function(){d.get("zoomScroll").zoom(1,{x:l[0].offsetWidth/2,y:l[0].offsetHeight/2})},s.zoomOut=function(){d.get("zoomScroll").zoom(-1,{x:l[0].offsetWidth/2,y:l[0].offsetHeight/2})},s.resetZoom=function(){y.resized(),y.zoom("fit-viewport","auto")},s.control.resetZoom=s.resetZoom,s.control.refreshZoom=function(){y.resized(),y.zoom(y.zoom(),"auto")}}}}]},{"cmmn-js/lib/NavigatedViewer":109}],57:[function(e,t,n){"use strict";t.exports=[function(){return{template:'<div class="debug">\n  <div class="col-xs-2">\n    <button class="btn btn-default btn-round"\n            ng-click="toggleOpen()"\n            uib-tooltip="{{tooltip}}"\n            tooltip-placement="{{tooltipPlacement}}">\n      <span class="glyphicon"\n            ng-class="{\'glyphicon-eye-open\': !open, \'glyphicon-eye-close\': open}"></span>\n    </button>\n  </div>\n  <div class="col-xs-10"\n       ng-show="open">\n    <span ng-show="extended" cam-widget-clipboard="extendedInfo"\n          no-tooltip>\n      <code>{{ extensionName }}</code>\n    </span>\n    <pre ng-show="extended">{{ extendedInfo }}</pre>\n    <span cam-widget-clipboard="debugged | json "\n          no-tooltip>\n      <code>{{ varName }}</code>\n    </span>\n    <pre>{{ debugged | json }}</pre>\n  </div>\n</div>\n',scope:{debugged:"=",displayName:"@displayName",extensionName:"@extensionName",open:"@",extendedInfo:"=",tooltip:"@camWidgetDebugTooltip",tooltipPlacement:"@camWidgetDebugTooltipPlacement"},link:function(e,t,n){e.varName=n.displayName||n.debugged,e.extended=void 0!==n.extended,e.toggleOpen=function(){e.open=!e.open}}}}]},{}],58:[function(e,t,n){"use strict";var i=e("@bpmn-io/dmn-migrate").migrateDiagram,r=e("../../../../camunda-bpm-sdk-js/vendor/angular"),a=e("./lib/navigatedViewer").default,o=e("dmn-js/lib/Modeler").default,s=e("../../util/change-dmn-namespace"),l=document.addEventListener;document.addEventListener=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0];if("focusin"!==i)return l.apply(document,t)},t.exports=["$window",function(e){return{scope:{xml:"=",table:"@",width:"=",height:"=",control:"=?",editMode:"=",showDetails:"=",disableNavigation:"=",enableDrdNavigation:"=",disableLoader:"=",onLoad:"&",onClick:"&",onDblClick:"&"},template:'<div uib-alert class="alert alert-danger"\n     ng-if="error">\n  <strong>{{ \'CAM_WIDGET_DMN_VIEWER_ERROR\' | translate }}</strong><br/>\n  {{ error.message }}\n</div>\n\n<div ng-show="!error"\n     ng-if="!loaded && !disableLoader"\n     class="placeholder-container">\n  <div class="placeholder-content">\n    {{ \'CAM_WIDGET_DMN_VIEWER_LOADING\' | translate }}<br />\n    <span class="glyphicon glyphicon-refresh animate-spin"></span>\n  </div>\n</div>\n\n<div ng-show="!error"\n     ng-class="{\n      \'grab-cursor\': isDrd && !grabbing,\n      \'cursor-move\': isDrd && grabbing\n     }"\n     class="table-holder">\n</div>\n\n<div ng-if="!error && !disableNavigation && isDrd">\n  <div class="navigation zoom">\n    <button class="btn btn-default in"\n            title="zoom in"\n            ng-click="zoomIn()">\n      <span class="glyphicon glyphicon-plus"></span>\n    </button>\n    <button class="btn btn-default out"\n            title="zoom out"\n            ng-click="zoomOut()">\n      <span class="glyphicon glyphicon-minus"></span>\n    </button>\n  </div>\n\n  <div class="navigation reset">\n    <button class="btn btn-default"\n            title="reset zoom"\n            ng-click="resetZoom()">\n      <span class="glyphicon glyphicon-screenshot"></span>\n    </button>\n  </div>\n</div>\n',link:function(t,n){var l,c=e.document;t.isDrd=!1,t.grabbing=!1,t.control=t.control||{},t.control.getViewer=function(){return u},t.control.getElement=function(e){return u.getActiveViewer().get("elementRegistry").get(e)},t.loaded=!1,t.control.isLoaded=function(){return t.loaded},t.control.highlightRow=function(e,t){var n="[data-row-id = "+e+"]";r.element(n).parent().addClass(t)},t.control.highlightElement=function(e){l&&u.getActiveViewer().get("elementRegistry").get(e)&&(l.addMarker(e,"highlight"),n.find('[data-element-id="'+e+'"]>.djs-outline').attr({rx:"14px",ry:"14px"}))},t.control.clearAllElementsHighlight=function(){l&&l.getRootElement().children.forEach((function(e){var t=e.id;l.hasMarker(t,"highlight")&&l.removeMarker(t,"highlight")}))},t.control.clearElementHighlight=function(e){l&&l.removeMarker(e,"highlight")},t.control.isElementHighlighted=function(e){if(l)return l.hasMarker(e,"highlight")},t.control.getElements=function(e){if(l)return u.getActiveViewer().get("elementRegistry").filter(e)},t.control.createBadge=function(e,t){l&&function(e,t){u.getActiveViewer().get("overlays").add(e,{position:t.position||{bottom:10,right:10},show:{minZoom:-1/0,maxZoom:1/0},html:t.html})}(e,t)},t.control.resetZoom=m,t.control.refreshZoom=function(){l.resized(),l.zoom(l.zoom(),"auto")};var u=new(t.editMode?o:a)({container:n[0].querySelector(".table-holder"),width:t.width,height:t.height,hideDetails:!t.showDetails,tableViewOnly:t.table,drd:{drillDown:{enabled:t.enableDrdNavigation}}}),d=null;t.$watch("xml",(function(e){e&&i(e).then((function(e){d=e,function(){if(d){var e=s(d);t.loaded=!1,u.importXML(e,(function(e){var n=function(){return r.isDefined(t.table)};t.isDrd=u.getDefinitions().drgElement.length>1&&!n(),t.isDrd&&((l=u.getActiveViewer().get("canvas")).zoom("fit-viewport","auto"),t.control.getElements((function(e){return"dmn:Decision"===e.type})).forEach((function(e){l.addMarker(e.id,"decision-element")}))),t.$apply(f),t.$apply((function(){e?t.error=e:(t.isDrd&&t.onLoad(),t.loaded=!0)}))}))}}()}))})),u.on("import.done",(function(){u.getActiveViewer().on("element.click",(function(e){t.$apply((function(){t.onClick({element:e.element,$event:e.originalEvent})}))})),u.getActiveViewer().on("element.dblclick",(function(e){t.$apply((function(){t.onDblClick({element:e.element,$event:e.originalEvent})}))}))}));var p=t.$apply.bind(t,(function(){t.grabbing=!1,c.removeEventListener("mouseup",p)}));function f(){if(t.table){var e=/^[0-9]+$/.test(t.table);t.table=e?+t.table:t.table;var n=u.getViews().filter((function(e){return r.isString(t.table)&&e.element.id===t.table||e.element.name===t.table}))[0];u.open(n,(function(){t.onLoad()}))}else var i=t.$watch("table",(function(e){e&&(i(),f())}))}function m(){l&&(l.resized(),l.zoom("fit-viewport","auto"))}u.on("element.mousedown",t.$apply.bind(t,(function(){t.grabbing=!0,c.addEventListener("mouseup",p)}))),t.zoomIn=function(){u.getActiveViewer().get("zoomScroll").zoom(1,{x:n[0].offsetWidth/2,y:n[0].offsetHeight/2})},t.zoomOut=function(){u.getActiveViewer().get("zoomScroll").zoom(-1,{x:n[0].offsetWidth/2,y:n[0].offsetHeight/2})},t.resetZoom=m,e.addEventListener("resize",t.resetZoom),t.$on("destroy",(function(){e.removeEventListener("resize",t.resetZoom),c.removeEventListener("mouseup",p)}))}}}]},{"../../../../camunda-bpm-sdk-js/vendor/angular":2,"../../util/change-dmn-namespace":43,"./lib/navigatedViewer":59,"@bpmn-io/dmn-migrate":80,"dmn-js/lib/Modeler":"dmn-js/lib/Modeler"}],59:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(e("dmn-js-shared/lib/base/Manager")),a=u(e("dmn-js-drd/lib/NavigatedViewer")),o=u(e("dmn-js-decision-table/lib/Viewer")),s=u(e("dmn-js-literal-expression/lib/Viewer")),l=e("dmn-js-shared/lib/util/ModelUtil"),c=e("dmn-js-shared/lib/util/DiUtil");function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g(e);if(t){var r=g(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var t,n,i,r=m(u);function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,u),(e=r.call(this,t)).options=t,e}return t=u,(n=[{key:"_getViewProviders",value:function(){var e=[{id:"literalExpression",constructor:s.default,opens:function(e){return(0,l.is)(e,"dmn:Decision")&&(0,l.is)(e.decisionLogic,"dmn:LiteralExpression")}},{id:"decisionTable",constructor:o.default,opens:function(e){return(0,l.is)(e,"dmn:Decision")&&(0,l.is)(e.decisionLogic,"dmn:DecisionTable")}}];return this.options.tableViewOnly||e.push({id:"drd",constructor:a.default,opens:function(e){return(0,l.is)(e,"dmn:Definitions")&&(0,c.containsDi)(e)}}),e}}])&&p(t.prototype,n),i&&p(t,i),u}(r.default);n.default=v},{"dmn-js-decision-table/lib/Viewer":"dmn-js-decision-table/lib/Viewer","dmn-js-drd/lib/NavigatedViewer":"dmn-js-drd/lib/NavigatedViewer","dmn-js-literal-expression/lib/Viewer":"dmn-js-literal-expression/lib/Viewer","dmn-js-shared/lib/base/Manager":"dmn-js-shared/lib/base/Manager","dmn-js-shared/lib/util/DiUtil":"dmn-js-shared/lib/util/DiUtil","dmn-js-shared/lib/util/ModelUtil":"dmn-js-shared/lib/util/ModelUtil"}],60:[function(e,t,n){"use strict";t.exports=[function(){return{template:'<div class="container-fluid">\n  <div class="row">\n    <div class="col-xs-6" style="text-align: left;">\n      {{ \'CAM_WIDGET_FOOTER_TIMEZONE\' | translate }} <i>{{timezoneName}}</i>\n    </div>\n    <div class="col-xs-6">\n      {{ \'CAM_WIDGET_FOOTER_POWERED_BY\' | translate }} <a href="http://camunda.org">Camunda Platform</a> /\n      <span class="version">{{version}}</span>\n    </div>\n  </div>\n</div>\n',scope:{version:"@"},link:function(e){e.timezoneName=Intl.DateTimeFormat().resolvedOptions().timeZone}}}]},{}],61:[function(e,t,n){"use strict";var i=e("jquery"),r=e("../../../../camunda-bpm-sdk-js/vendor/angular"),a={welcome:{label:"Welcome"},admin:{label:"Admin"},cockpit:{label:"Cockpit"},tasklist:{label:"Tasklist"}};t.exports=function(){return{transclude:!0,template:'<div class="navbar-header">\n  <button type="button"\n          class="navbar-toggle"\n          ng-class="{open: !!navbarOpen}"\n          ng-click="navbarOpen = !navbarOpen">\n    <em class="sr-only">{{ toggleNavigation }}</em>\n    <span></span>\n    <span></span>\n    <span></span>\n  </button>\n\n  <a class="navbar-brand app-banner"\n     ng-if="authentication.name"\n     href="#/"\n     title="{{ brandName }} {{ appName }}">\n     <span ng-bind-html="logo" class="brand-logo"></span>\n     <span class="brand-name" ng-cloak>{{ brandName }}</span>\n  </a>\n\n  <div class="small-screen-warning">\n    <span class="glyphicon glyphicon-exclamation-sign"\n          uib-tooltip="{{ smallScreenWarning | translate }}"\n          tooltip-placement="bottom"></span>\n  </div>\n</div>\n\n<nav class="cam-nav app-menu">\n  <ul ng-class="{collapse: !navbarOpen}">\n\n    <li engine-select></li>\n\n    <li class="account dropdown"\n        ng-if="authentication.name"\n        ng-cloak\n        uib-dropdown>\n      <a href\n         class="dropdown-toggle"\n         uib-dropdown-toggle>\n        <span class="glyphicon glyphicon-user "></span>\n        {{ (userName || authentication.name) }}\n      </a>\n\n      <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n        <li class="profile"\n            ng-if="currentApp !== \'welcome\'">\n          <a ng-href="{{ \'../../welcome/:engine/\' | uri }}">\n            {{ myProfile | translate }}\n          </a>\n        </li>\n\n        <li class="divider"\n            ng-if="currentApp !== \'welcome\'"></li>\n\n        <li class="logout">\n          <a href\n             ng-click="logout()">\n            {{ signOut | translate }}\n          </a>\n        </li>\n      </ul>\n    </li>\n\n    <li class="divider-vertical"\n        ng-if="authentication.name"\n        ng-cloak></li>\n\n    <li class="app-switch dropdown"\n        ng-if="showAppDropDown"\n        uib-dropdown>\n      <a href\n         class="dropdown-toggle"\n         uib-dropdown-toggle>\n        <span class="glyphicon glyphicon-home"></span>\n        <span class="caret"></span>\n      </a>\n\n      <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu>\n        <li ng-repeat="(appName, app) in apps"\n            ng-class="appName">\n          <a ng-href="{{ (\'../../\' + appName + \'/:engine/\' | uri) + getTargetRoute() }}">\n            {{ app.label }}\n          </a>\n        </li>\n      </ul>\n    </li>\n  </ul>\n</nav>\n\n<div ng-transclude\n     class="sections-menu"\n     ng-class="{collapse: !navbarOpen}"></div>\n',scope:{authentication:"=",userName:"=?",currentApp:"@",signOut:"@?",toggleNavigation:"@?",myProfile:"@?",smallScreenWarning:"@?"},compile:function(e,t){t.toggleNavigation||(t.toggleNavigation="CAM_WIDGET_HEADER_TOGGLE_NAVIGATION"),t.myProfile||(t.myProfile="CAM_WIDGET_HEADER_MY_PROFILE"),t.signOut||(t.signOut="CAM_WIDGET_HEADER_SIGN_OUT"),t.smallScreenWarning||(t.smallScreenWarning="CAM_WIDGET_HEADER_SMALL_SCREEN_WARNING")},controller:["$scope","AuthenticationService","$sce","configuration",function(e,t,n,o){function s(){var t=r.copy(a);e.currentApp&&("welcome"===e.currentApp&&e.authentication?t={}:delete t[e.currentApp]),e.authentication&&e.authentication.name&&(delete t.welcome,Object.keys(t).forEach((function(n){e.authentication.authorizedApps.indexOf(n)<0&&delete t[n]}))),e.showAppDropDown=Object.keys(t).length>0,e.apps=t}e.logo=n.trustAsHtml(' <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26">\n    <path d="M13,0 C20.1797017,0 26,5.82029825 26,13 C26,20.1797017 20.1797017,26 13,26 C5.82029825,26 0,20.1797017 0,13 C0,5.82029825 5.82029825,0 13,0 Z M15.9924973,18.7781515 L9.99320872,18.7781515 L9.99320872,22.1683591 L15.9924973,22.1683591 L15.9924973,18.7781515 Z M13,3.83248173 C11.0249014,3.83248173 10.0058211,4.99702477 9.99320872,7.04527521 L9.99320872,7.04527521 L9.99320872,13.69284 L9.99685,13.8998115 C10.0647928,15.8025897 11.0827733,16.8913395 12.985706,16.8913395 C14.9608046,16.8913395 15.9773624,15.7267965 15.9924973,13.678546 L15.9924973,13.678546 L15.9924973,11.9834422 L14.0913912,11.9834422 L14.0913912,13.8105556 L14.0867571,13.9750837 C14.0405969,14.7638347 13.6523228,15.0490913 13.0445637,15.0490913 C12.4105815,15.0490913 11.9977362,14.7245327 11.9977362,13.8105556 L11.9977362,13.8105556 L11.9977362,6.89476748 L12.0023704,6.72991255 C12.0485306,5.93798383 12.4368047,5.62774885 13.0445637,5.64193778 C13.678546,5.64193778 14.0913912,5.99592523 14.0913912,6.90990233 L14.0913912,6.90990233 L14.0913912,8.28044758 L15.9924973,8.28044758 L15.9924973,7.04527521 L15.9888705,6.83655109 C15.9211931,4.91809617 14.9069918,3.83248173 13,3.83248173 Z"/>\n  </svg>'),e.brandName=o.getAppVendor()+" "+o.getAppName(),i("head title").text(e.brandName),e.logout=t.logout,e.getTargetRoute=function(){return e.authentication?"":"#/login"},e.$watch("currentApp",s),e.$watch("authentication",s)}]}}},{"../../../../camunda-bpm-sdk-js/vendor/angular":2,jquery:"jquery"}],62:[function(e,t,n){"use strict";var i=e("../../../camunda-bpm-sdk-js/vendor/angular"),r=e("./annotation/cam-annotation-edit"),a=e("./inline-field/cam-widget-inline-field"),o=e("./search-pill/cam-widget-search-pill"),s=e("./search-pill/cam-query-component"),l=e("./header/cam-widget-header"),c=e("./footer/cam-widget-footer"),u=e("./loader/cam-widget-loader"),d=e("./chart-line/cam-widget-chart-line"),p=e("./debug/cam-widget-debug"),f=e("./clipboard/cam-widget-clipboard"),m=e("./variable/cam-widget-variable"),h=e("./variables-table/cam-widget-variables-table"),g=e("./variables-table/cam-render-var-template"),v=e("./search/cam-widget-search"),y=e("./bpmn-viewer/cam-widget-bpmn-viewer"),b=e("./cmmn-viewer/cam-widget-cmmn-viewer"),_=e("./dmn-viewer/cam-widget-dmn-viewer"),E=e("../filter/date/index"),x=e("../directives/index"),w=e("../search/index"),S=e("./variable/cam-variable-validator"),C=e("./../services/cam-local-configuration"),k=e("./cam-share-link/cam-share-link"),T=e("./password/cam-widget-password");e("../../vendor/ui-bootstrap-tpls-2.5.0-camunda");var I=i.module("camunda.common.widgets",[E.name,x.name,w.name,"ui.bootstrap"]);I.factory("widgetLocalConf",C),I.directive("camWidgetInlineField",a),I.directive("camWidgetSearchPill",o),I.directive("camWidgetHeader",l),I.directive("camWidgetFooter",c),I.directive("camWidgetLoader",u),I.directive("camWidgetChartLine",d),I.directive("camWidgetDebug",p),I.directive("camWidgetClipboard",f),I.directive("camWidgetVariable",m),I.directive("camWidgetVariablesTable",h),I.directive("camRenderVarTemplate",g),I.directive("camWidgetSearch",v),I.directive("camWidgetBpmnViewer",y),I.directive("camWidgetCmmnViewer",b),I.directive("camWidgetDmnViewer",_),I.directive("camShareLink",k),I.directive("camWidgetPassword",T),I.directive("camVariableValidator",S),I.directive("camAnnotationEdit",r),I.filter("camQueryComponent",s),t.exports=I},{"../../../camunda-bpm-sdk-js/vendor/angular":2,"../../vendor/ui-bootstrap-tpls-2.5.0-camunda":79,"../directives/index":16,"../filter/date/index":23,"../search/index":31,"./../services/cam-local-configuration":35,"./annotation/cam-annotation-edit":50,"./bpmn-viewer/cam-widget-bpmn-viewer":52,"./cam-share-link/cam-share-link":53,"./chart-line/cam-widget-chart-line":54,"./clipboard/cam-widget-clipboard":55,"./cmmn-viewer/cam-widget-cmmn-viewer":56,"./debug/cam-widget-debug":57,"./dmn-viewer/cam-widget-dmn-viewer":58,"./footer/cam-widget-footer":60,"./header/cam-widget-header":61,"./inline-field/cam-widget-inline-field":63,"./loader/cam-widget-loader":64,"./password/cam-widget-password":65,"./search-pill/cam-query-component":66,"./search-pill/cam-widget-search-pill":67,"./search/cam-widget-search":68,"./variable/cam-variable-validator":70,"./variable/cam-widget-variable":71,"./variables-table/cam-render-var-template":72,"./variables-table/cam-widget-variables-table":73}],63:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=e("../../../../camunda-bpm-sdk-js/vendor/angular"),a=e("jquery");t.exports=["$timeout","$filter","$document",function(e,t,n){return{scope:{varValue:"=value",varType:"@type",validator:"&validate",change:"&",onStart:"&onStartEditing",onCancel:"&onCancelEditing",placeholder:"@",options:"=?",allowNonOptions:"@",flexible:"@",disableAutoselect:"=?"},template:'<span ng-show="!editing"\n      ng-click="startEditing()"\n      ng-transclude\n      class="view-value">\n</span>\n\n<span ng-if="editing && (varType === \'datetime\' || varType === \'date\' || varType === \'time\')"\n      class="preview">\n  {{ dateValue | camDate }}\n</span>\n\n<span ng-if="editing"\n      ng-form\n      name="inlineForm"\n      class="edit">\n\n  <input ng-if="simpleField && !isNumber"\n         class="form-control"\n         type="{{ varType }}"\n         ng-model="editValue"\n         ng-keydown="handleKeydown($event)"\n         placeholder="{{ placeholder }}" />\n\n   <input ng-if="isNumber"\n          name="numberField"\n          class="form-control"\n          ng-pattern="/^[0-9]{1,7}$/"\n          ng-model="editValue"\n          ng-keydown="handleKeydown($event)"\n          placeholder="{{ placeholder }}" />\n\n\n  <span ng-show="varType === \'datetime\' || varType === \'date\' || varType === \'time\'"\n        class="cam-widget-inline-field field-control datepicker">\n\n    <div class="datepicker"\n                uib-datepicker\n                ng-if="varType === \'datetime\' || varType === \'date\'"\n                type="text"\n                ng-required="true"\n                is-open="datePickerOptions.isOpen"\n                show-button-bar="false"\n                ng-click="$event.stopPropagation()"\n                ng-keydown="trapKeyboard($event, true); cancelOnEsc($event);"\n\n                ng-model="dateValue"\n                ng-change="changeDate(this)"></div>\n\n    <div class="timepicker"\n                uib-timepicker\n                ng-if="varType === \'datetime\' || varType === \'time\'"\n                show-meridian="false"\n\n                ng-model="dateValue"\n                ng-keydown="cancelOnEsc($event);"\n                ng-change="changeDate(this)"></div>\n  </span>\n\n  <input ng-if="varType === \'option\' && options[0].value"\n         class="form-control"\n         type="text"\n         ng-model="editValue"\n         ng-keydown="handleKeydown($event)"\n         uib-typeahead="option as option.value for option in options | filter:$viewValue:instantTypeahead"\n         typeahead-on-select="saveSelection($item)"\n         typeahead-focus-first="!disableAutoselect"\n         instant-typeahead />\n  <input ng-if="varType === \'option\' && !options[0].value"\n         class="form-control"\n         type="text"\n         ng-model="editValue"\n         ng-keydown="handleKeydown($event)"\n         uib-typeahead="option for option in options | filter:$viewValue:instantTypeahead"\n         typeahead-on-select="saveSelection($item)"\n         typeahead-focus-first="!disableAutoselect"\n         instant-typeahead />\n\n  <span ng-show="varType !== \'option\'"\n        class="cam-widget-inline-field btn-group">\n    <button type="button"\n            class="btn btn-xs btn-default"\n            ng-click="changeType()"\n            ng-if="flexible">\n      <span class="glyphicon"\n            ng-class="\'glyphicon-\' + (varType === \'text\' ? \'calendar\' : \'pencil\')"></span>\n    </button>\n\n    <button type="button"\n            class="btn btn-xs btn-default"\n            ng-style="{visibility: !isNumber || inlineForm.numberField.$valid ? \'visible\' : \'hidden\'}"\n            ng-click="applyChange($event);"\n            ng-keydown="cancelOnEsc($event);">\n      <span class="glyphicon glyphicon-ok"></span>\n    </button>\n\n    <button type="button"\n            class="btn btn-xs btn-default"\n            ng-click="cancelChange($event)"\n            ng-keydown="trapKeyboard($event); cancelOnEsc($event);">\n      <span class="glyphicon glyphicon-remove"></span>\n    </button>\n  </span>\n</span>\n',link:function(o,s){var l,c,u=a(function(e){var t=getComputedStyle(e),n="absolute"===t.position,i=/(auto|scroll)/;if("fixed"===t.position)return document.body;for(var r=e;r=r.parentElement;)if(t=getComputedStyle(r),(!n||"static"!==t.position)&&i.test(t.overflow+t.overflowY+t.overflowX))return r;return document.body}(s[0])),d=t("date"),p=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:.(\d\d\d)| )?$/;function f(){return["datetime","date","time"].indexOf(o.varType)>-1}function m(){return["color","email","month","number","range","tel","text","time","url","week"].indexOf(o.varType)>-1}function h(){if(o.editing=!1,o.invalid=!1,o.editValue=o.varValue,o.validator=o.validator||function(){},o.onStart=o.onStart||function(){},o.onCancel=o.onCancel||function(){},o.change=o.change||function(){},o.options=o.options||[],o.allowNonOptions=o.allowNonOptions||!1,o.flexible=o.flexible||!1,o.varType=o.varType?o.varType:"text",o.simpleField=m(),f()){var e=o.varValue,t=null;t=e?function(e){var t,n,i,r,a,o,s,l=p.exec(e);if(l)return t=parseInt(l[1]||0,10),n=parseInt(l[2]||0,10)-1,i=parseInt(l[3]||0,10),r=parseInt(l[4]||0,10),a=parseInt(l[5]||0,10),o=parseInt(l[6]||0,10),s=parseInt(l[7]||0,10),new Date(t,n,i,r,a,o,s)}(e):(new Date).setSeconds(0,0),o.dateValue=t}}function g(e){if(!e||!e.length)return!1;var t=e.parent();return!(!t||!t.length)&&"body"===t[0].tagName.toLowerCase()}function v(){var e={left:a(s).offset().left-u.offset().left,top:a(s).offset().top-u.offset().top},t=c.outerWidth()+e.left;if(t>u.prop("clientWidth")&&(e.left-=t+5-u.prop("clientWidth")),f()?l.addClass("datepicker-control").show().css({left:e.left+(c.outerWidth()-l.outerWidth()),top:e.top+c.outerHeight()}):l.removeClass("datepicker-control").show().css({left:e.left+(a(s).outerWidth()-l.outerWidth()),top:e.top-l.outerHeight()}),c.show().css({left:e.left,top:e.top+a(s).outerHeight()}),f()){var n=c[0].querySelector(".uib-daypicker");n&&n.focus()}}function y(t){e((function(){o.editing&&!t||(l&&l.remove&&l.remove(),l=null,c&&c.remove&&c.remove(),c=null)}),50)}function b(e){if(o.editing&&!function(e){return s[0].contains(e.target)||l&&l.length&&l[0].contains(e.target)||c&&c.length&&c[0].contains(e.target)}(e)){var t=a(e.target),n="ng-binding text-muted";if(!t.hasClass(n))t.children().hasClass(n)||o.$apply(o.cancelChange)}}o.editing=!1,o.isNumber="number"===o.varType,o.$on("$locationChangeSuccess",(function(){o.cancelChange()})),o.$on("$destroy",(function(){y(!0)})),o.$watch("editing",(function(t,n){t!==n&&(o.editing?(g(c=(c&&c.length?c:a(s[0].querySelector(".field-control"))).hide())||u.append(c),g(l=(l&&l.length?l:a(s[0].querySelector(".btn-group"))).hide())||u.append(l),e(v,50),s.addClass("inline-editing")):(y(),s.removeClass("inline-editing")))})),o.changeType=function(){"datetime"===o.varType?o.varType="text":o.varType="datetime",h(),o.editing=!0,s[0].attributes.type.value=o.varType,o.simpleField=m()},o.startEditing=function(){if(!o.editing){h(),o.editing=!0,o.onStart(o);var t=o.editValue;o.simpleField||(o.editValue=""),e((function(){e((function(){if(o.editValue=t,t){var n="object"===i(t);n&&r.element(s[0].querySelector('[ng-model="editValue"]')).val(t.value),e((function(){for(var e=a(s[0].querySelector("li[ng-mouseenter]")),i=n?t.value:t,r=0;r<e.length;r++){var o=e[r];if(0===o.innerText.indexOf(i))return void a(o).trigger("mouseenter")}}))}}))})),e((function(){r.element(s[0].querySelector('[ng-model="editValue"]')).triggerHandler("click"),e((function(){a('[ng-model="editValue"]').focus(),a('[ng-model="editValue"]').select(),n.bind("click",b)}),50)}))}},o.applyChange=function(e,t){if(o.invalid=o.validator(o),!o.invalid){if(o.simpleField)o.editValue=function(e){if("number"===o.varType)return e.length>0?+e:null;return e}(a('[ng-model="editValue"]').val()),o.varValue=o.editValue;else if("option"===o.varType){if(-1===o.options.indexOf(e)&&!o.allowNonOptions)return void o.cancelChange();o.editValue=e||a('[ng-model="editValue"]').val(),o.varValue=o.editValue}else f()&&(o.varValue=d(o.dateValue,"yyyy-MM-dd'T'HH:mm:ss"));o.$event=t,o.change(o),o.editing=!1,n.unbind("click",b)}},o.cancelChange=function(){o.editing&&(o.editing=!1,o.onCancel(o),n.unbind("click",b))},o.changeDate=function(e){o.editValue=o.dateValue=e.dateValue},o.selectNextInlineField=function(t){for(var n=a("[cam-widget-inline-field][type='text'], [cam-widget-inline-field][type='option']"),i=t*(n.length-1);i!==!t*(n.length-1);i+=2*!t-1)if(n[i]===s[0])return void e((function(){var r=a(n[i+2*!t-1]);r.find(".view-value").click(),e((function(){r.find("input").select()}))}));e((function(){a(n[t*n.length-1]).find(".view-value").click()}))},o.trapKeyboard=function(e,t){f()&&9===e.keyCode&&(t||e.shiftKey?t&&e.shiftKey&&(a('.cam-widget-inline-field.btn-group > button[ng-click="cancelChange($event)"]')[0].focus(),e.preventDefault()):(a(".cam-widget-inline-field.field-control > .datepicker > table")[0].focus(),e.preventDefault()))},o.cancelOnEsc=function(e){f()&&27===e.keyCode&&o.cancelChange()},o.handleKeydown=function(e){13===e.keyCode?(o.applyChange(o.selection,e),e.preventDefault()):27===e.keyCode?(o.cancelChange(e),e.preventDefault()):9===e.keyCode&&(o.applyChange(o.selection,e),o.selectNextInlineField(e.shiftKey),e.preventDefault()),o.selection=null},o.selection=null,o.saveSelection=function(t){o.selection=t,e((function(){o.selection===t&&o.applyChange(t)}))}},transclude:!0}}]},{"../../../../camunda-bpm-sdk-js/vendor/angular":2,jquery:"jquery"}],64:[function(e,t,n){"use strict";var i=e("../../../../camunda-bpm-sdk-js/vendor/angular");t.exports=[function(){return{transclude:!0,template:'<div class="loader-state loaded"\n     ng-show="loadingState === \'LOADED\'"\n     ng-transclude></div>\n\n<div class="loader-state loading"\n     ng-if="loadingState === \'LOADING\'">\n  <span class="glyphicon glyphicon-refresh animate-spin"></span>\n  {{ textLoading }}\n</div>\n\n<div class="loader-state empty"\n     ng-if="loadingState === \'EMPTY\'">\n  {{ textEmpty }}\n</div>\n\n<div uib-alert class="loader-state alert alert-danger"\n     ng-if="loadingState === \'ERROR\'">\n  {{ textError }}\n</div>\n',scope:{loadingState:"@",textEmpty:"@",textError:"@",textLoading:"@"},compile:function(e,t){i.isDefined(t.textLoading)||(t.textLoading="Loading…"),i.isDefined(t.loadingState)||(t.loadingState="INITIAL")}}}]},{"../../../../camunda-bpm-sdk-js/vendor/angular":2}],65:[function(e,t,n){"use strict";var i=e("../../../../camunda-bpm-sdk-js/vendor/angular");t.exports=["camAPI","debounce","$timeout",function(e,t,n){return{scope:{profile:"=camWidgetPasswordProfile",password:"=camWidgetPasswordPassword",isValid:"=?camWidgetPasswordValid"},link:function(r){var a=e.resource("password-policy"),o=!1;r.loadingState="DEACTIVATED",a.get().then((function(e){if(!e)return o=!1,r.isValid=!0,void(r.loadingState="DEACTIVATED");o=!0,r.tooltip="PASSWORD_POLICY_TOOLTIP",r.rules=e.rules,s()}));var s=function(){o&&(r.isValid=!1,r.password?(r.loadingState="LOADING",u()):r.loadingState="NOT_OK")},l=null;n((function(){r.$watch("profile",(function(e){e&&(l=e,s())}),!0)}));var c=function(e){return e||""},u=t((function(){r.password&&a.validate({password:r.password,profile:{id:c(l.id),firstName:c(l.firstName),lastName:c(l.lastName),email:c(l.email)}},(function(e,t){if(e)return r.loadingState="NOT_OK",void(r.tooltip="PASSWORD_POLICY_TOOLTIP_ERROR");t.valid?(r.loadingState="OK",r.isValid=!0):(r.loadingState="NOT_OK",r.isValid=!1,r.tooltip="PASSWORD_POLICY_TOOLTIP_PARTIAL",r.rules=t.rules)})).catch(i.noop)}),1e3);r.$watch("[password]",s,!0)},template:'<div class="password-input right-addon">\n  <script type="text/ng-template" id="popover">\n      <p>{{ tooltip | translate }}</p>\n\n      <ul>\n        <li ng-repeat="rule in rules"\n            translate="{{ rule.placeholder }}"\n            translate-values="{{ rule.parameter }}"\n            ng-if="!rule.valid">\n        </li>\n      </ul>\n  <\/script>\n\n  <i ng-if="loadingState === \'NOT_OK\' && password.length > 0" class="glyphicon glyphicon-remove-circle"></i>\n  <i ng-if="loadingState === \'OK\'" class="glyphicon glyphicon-ok-circle"></i>\n  <i ng-if="loadingState === \'LOADING\'" class="glyphicon glyphicon-refresh animate-spin"></i>\n  <input id="inputPassword"\n    name="inputPassword"\n    class="form-control"\n    type="password"\n    ng-model="password"\n    ng-invalid="true"\n    uib-popover-template="\'popover\'"\n    popover-enable="loadingState === \'NOT_OK\'"\n    popover-is-open="loadingState === \'NOT_OK\' && password.length > 0"\n    popover-trigger="\'focus\'"\n    required></input>\n</div>\n'}}]},{"../../../../camunda-bpm-sdk-js/vendor/angular":2}],66:[function(e,t,n){"use strict";t.exports=["$filter",function(e){var t=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:.(\d\d\d)| )?$/;var n=e("camDate");return function(e){return e&&e.match(t)?n(e):e||"??"}}]},{}],67:[function(e,t,n){"use strict";var i=e("jquery");t.exports=["$timeout",function(e){return{restrict:"A",scope:{valid:"=",extended:"=",basic:"=",allowDates:"=",enforceDates:"=",enforceString:"=",options:"=",invalidText:"@",deleteText:"@",type:"=",name:"=",potentialNames:"=?",operator:"=",value:"=",onChange:"&",onDelete:"&",disableTypeaheadAutoselect:"=?",allowNonOptions:"@?"},link:function(t,n){t.valueType=a(),t.potentialNames=t.potentialNames||[],t.changeSearch=function(e,n,i){var r=t[e].value;t[e].value=n,t[e].inEdit=!1,"function"==typeof t.onChange&&t.onChange({field:e,before:r,value:n,$event:i})},t.clearEditTrigger=function(e){t[e].inEdit=!1},t.onKeydown=function(e,n){13===e.keyCode&&e.target===e.currentTarget&&(t[n].inEdit=!0)},t.$watch("allowDates",(function(e){e||(t.valueType=a())})),t.$watch("enforceDates",(function(e){e&&(t.valueType=a())})),t.$watch("enforceString",(function(e){e&&(t.valueType=a())}));var r=function(t){e((function(){i(n[0].querySelectorAll("[cam-widget-inline-field][value='"+t+".value']")).find(".view-value").click()}))};function a(){return t.options?"option":t.enforceDates?"datetime":"text"}t.$watch("value",(function(e){return e&&e.inEdit&&r("value")}),!0),t.$watch("name",(function(e){return e&&e.inEdit&&r("name")}),!0),t.$watch("type",(function(e){return e&&e.inEdit&&r("type")}),!0),t.$watch("operator",(function(e){return e&&!e.value&&1===e.values.length&&(e.value=e.values[0]),e&&e.inEdit&&r("operator")}),!0)},template:'\x3c!-- CE # camunda-commons-ui/lib/widgets/search-pill/search-pill.html --\x3e\n<span class="search-label"\n      ng-class="{\'invalid\': !valid}">\n  <a href\n     ng-click="onDelete()"\n     tooltip-placement="top"\n     uib-tooltip="{{ deleteText | translate }}"\n     class="remove-search glyphicon glyphicon-remove">\n  </a>\n\n  <span cam-widget-inline-field\n        class="set-value type-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'type\')"\n        type="option"\n        options="type.values"\n        change="changeSearch(\'type\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'type\')"\n        value="type.value">\n    <span ng-if="type.tooltip"\n          tooltip-placement="top"\n          uib-tooltip="{{ type.tooltip | translate }}">\n      {{ type.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="!type.tooltip">\n      {{ type.value.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="extended">:</span>\n\n  <span ng-if="extended && potentialNames.length <= 0 && !!name.value.value"\n        cam-widget-inline-field\n        class="set-value name-field"\n        type="text"\n        tabindex="0"\n        ng-keydown="onKeydown($event,\'name\')"\n        change="changeSearch(\'name\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'name\')"\n        value="name.value.value">\n    <span ng-if="name.tooltip"\n          tooltip-placement="top"\n          uib-tooltip="{{name.tooltip | translate }}">\n        {{ name.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="!name.tooltip">\n        {{ name.value.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="extended && potentialNames.length <= 0 && !name.value.value"\n        cam-widget-inline-field\n        class="set-value name-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'name\')"\n        type="text"\n        change="changeSearch(\'name\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'name\')"\n        value="name.value">\n    <span ng-if="name.tooltip"\n          tooltip-placement="top"\n          uib-tooltip="{{name.tooltip | translate }}">\n        {{ name.value | camQueryComponent }}\n    </span>\n    <span ng-if="!name.tooltip">\n        {{ name.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="extended && potentialNames.length > 0"\n        cam-widget-inline-field\n        class="set-value name-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'name\')"\n        type="option"\n        options="potentialNames"\n        allow-non-options="true"\n        disable-autoselect="disableTypeaheadAutoselect"\n        change="changeSearch(\'name\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'name\')"\n        value="name.value">\n    <span ng-if="extended && name.tooltip && name.value.key">\n      {{ name.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="extended && name.tooltip && !name.value.key">\n      {{ name.value | camQueryComponent }}\n    </span>\n    <span ng-if="extended && !name.tooltip && name.value.key">\n      {{ name.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="extended && !name.tooltip && !name.value.key">\n      {{ name.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="!basic && operator.values.length > 1"\n        cam-widget-inline-field\n        class="set-value operator-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'operator\')"\n        type="option"\n        options="operator.values"\n        change="changeSearch(\'operator\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'operator\')"\n        value="operator.value">\n    <span ng-if="operator.tooltip"\n          tooltip-placement="top"\n          uib-tooltip="{{operator.tooltip | translate }}">\n      {{ operator.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="!operator.tooltip">\n      {{ operator.value.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="operator.values.length < 2 && operator.tooltip"\n        tooltip-placement="top"\n        uib-tooltip="{{operator.tooltip | translate }}"\n        class="operator-field">\n    {{ operator.value.value | camQueryComponent }}\n  </span>\n  <span ng-if="operator.values.length < 2 && !operator.tooltip"\n        class="operator-field">\n    {{ operator.value.value | camQueryComponent }}\n  </span>\n\n  <span cam-widget-inline-field\n        class="set-value value-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'value\')"\n        type="{{ valueType }}"\n        change="changeSearch(\'value\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'value\')"\n        ng-if="!basic"\n        options="options"\n        allow-non-options="allowNonOptions"\n        value="value.value"\n        flexible="{{ allowDates }}">\n    <span class="visible-whitespace"\n          ng-if="value.tooltip"\n          tooltip-placement="top"\n          uib-tooltip="{{value.tooltip | translate }}">{{ value.value | camQueryComponent }}</span>\n    <span class="visible-whitespace"\n          ng-if="!value.tooltip">{{ value.value | camQueryComponent }}</span>\n  </span>\n</span>\n\x3c!-- CE / camunda-commons-ui/lib/widgets/search-pill/search-pill.html --\x3e\n'}}]},{jquery:"jquery"}],68:[function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=e("../../../../camunda-bpm-sdk-js/vendor/angular"),l=s.copy,c=e("jquery"),u=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:.(\d\d\d)| )?$/;function d(e){return e&&"string"==typeof e&&e.match(u)?"date":o(e)}var p=function(e){return e.type.value&&(!e.extended||e.name.value)&&(e.basic||e.operator.value)&&(e.basic||e.value.value)&&("date"===d(e.value.value)||!e.enforceDates)},f=function(e){if(e.value){var t=e.values.map((function(e){return e.key})).indexOf(e.value.key);e.value=e.values[-1===t?0:t]}else e.value=e.values[0]},m=!1;t.exports=["$timeout","$location","search","widgetLocalConf","$translate",function(e,t,n,i,a){return{restrict:"A",scope:{types:"=camWidgetSearchTypes",translations:"=camWidgetSearchTranslations",operators:"=camWidgetSearchOperators",searches:"=?camWidgetSearchSearches",validSearches:"=?camWidgetSearchValidSearches",storageGroup:"=?camWidgetSearchStorageGroup",searchId:"@camWidgetSearchId",total:"=?camWidgetSearchTotal",matchAny:"=?camWidgetSearchMatchAny",disableTypeaheadAutoselect:"=?camWidgetSearchDisableTypeaheadAutoselect"},link:function(u,h){s.forEach(u.translations,(function(e,t){u.translations[t]=a.instant(e)})),u.types&&u.types.map((function(e){return e.id.value=a.instant(e.id.value),e.operators&&(e.operators=e.operators.map((function(e){return e.value=a.instant(e.value),e}))),e.options&&"object"===o(e.options[0])&&(e.mappedOptions=e.options.map((function(e){var t=e.key,n=e.value;return{key:t,value:a.instant(n)}})),e.options=e.mappedOptions.map((function(e){return e.value}))),e})),s.forEach(u.operators,(function(e){s.forEach(e,(function(e){e.value=a.instant(e.value)}))})),u.isMatchAnyActive=void 0!==u.matchAny,u.caseHandeling={},u.switchMatchType=function(){u.isMatchAnyActive&&(u.matchAny=!u.matchAny)},u.focused=!1;var g=s.element(h).find("form")[0];g.addEventListener("focus",(function(){e((function(){u.focused=!0}))}),!0),g.addEventListener("blur",(function(){e((function(){u.focused=!1}))}),!0);var v,y=function(){return(u.searches||[]).some((function(e){return e.caseOptions}))};u.searchHasVariableQuery=y(),v=function(e){if(e){var t=document.createElement("div");t.textContent=u.translations.inputPlaceholder+":",h[0].insertBefore(t,h[0].firstChild),u.$root.$broadcast("plugin:search:change")}else h[0].querySelector("input.main-field").setAttribute("placeholder",u.translations.inputPlaceholder)},e((function(){var t=document.createElement("input");t.setAttribute("type","text"),t.setAttribute("placeholder","set");var n=!1;t.addEventListener("input",(function(){n=!0})),document.body.appendChild(t),t.focus(),document.body.removeChild(t),e((function(){v(n)}))}),0,!1),u.searchTypes=u.types.map((function(e){return e.id})),u.getRightPadding=function(){return h.width()>400?"125px":"12px"};var b=u.types.reduce((function(e,t){return e||(t.default?t:null)}),null),_=function(){var e=u.searches.map((function(e){return e.type.value.key})).reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[]).map((function(e){return E(e)?E(e).groups:null})).filter((function(e){return!!e})).reduce((function(e,t){if(e){if(0===e.length)return s.copy(t);for(var n=0;n<e.length;n++)-1===t.indexOf(e[n])&&(e.splice(n,1),n--);return 0===e.length?null:e}return null}),[]);return null===e?[]:0===e.length?u.searchTypes:u.searchTypes.filter((function(t){var n=E(t.key).groups;if(!n)return!0;for(var i=0;i<n.length;i++)if(e.indexOf(n[i])>-1)return!0;return!1}))},E=function(e){return u.types.reduce((function(t,n){return t||(n.id.key===e?n:null)}),null)},x=function(e,t){return e.operators||u.operators[d(function(e,t){return t?""+e:isNaN(e)||""===e.trim()?"true"===e||"false"!==e&&("NULL"===e?null:e):+e}(t,e.enforceString))]},w=function(e){var t=function(e,t){var n=null,i=null;if(e){var r="In"===t.operator,a=e.filter((function(e){return r&&t.value.includes(e.key)}));if(r){var o=a.map((function(e){return e.key}));o.length&&(n=o),i=a.map((function(e){return e.value})).join(", ")}else{var s=(e||[]).find((function(e){return e.key===t.value}));n=null==s?void 0:s.key,i=null==s?void 0:s.value}}return i||(i=t.value),{key:n,value:i}};return e.map((function(e){var n=E(e.type);if(n){var i={extended:n.extended,basic:n.basic,type:{values:_(),value:_().reduce((function(t,n){return t||(n.key===e.type?n:null)}),null),tooltip:u.translations.type},name:{value:e.name,tooltip:u.translations.name},options:n.options,operator:{tooltip:u.translations.operator},value:r(r({},t(n.mappedOptions,e)),{},{tooltip:u.translations.value}),allowDates:n.allowDates,enforceDates:n.enforceDates,potentialNames:n.potentialNames||[],enforceString:n.enforceString,caseOptions:n.caseOptions};return i.operator.values=x(n,i.value.value),i.operator.value=i.operator.values.reduce((function(t,n){return t||(n.key===e.operator?n:null)}),null),i.valid=p(i),i}"variableNamesIgnoreCase"===e.type&&(u.caseHandeling.ignoreNames=!0),"variableValuesIgnoreCase"===e.type&&(u.caseHandeling.ignoreValues=!0)})).filter((function(e){return e}))},S=u.searchId||"search",C=function(){var e=JSON.parse((t.search()||{})[S+"Query"]||"[]");return w(e)};u.searches=u.searches||[],u.searches=C(),u.validSearchesBuffer=u.searches.reduce((function(e,t){return t.valid&&e.push(t),e}),[]),u.validSearches=s.copy(u.validSearchesBuffer);u.createSearch=function(t){if(t||u.inputQuery){var n=t?"":u.inputQuery;t=t&&E(t.key)||b;var i=x(t,n);u.searches.push({extended:t.extended,basic:t.basic,type:{values:_(),value:t.id,tooltip:u.translations.type},name:{value:"",inEdit:t.extended,tooltip:u.translations.name},operator:{value:i[0],values:i,tooltip:u.translations.operator},options:t.options,value:{value:n,inEdit:!t.extended&&!n,tooltip:u.translations.value},allowDates:t.allowDates,enforceDates:t.enforceDates,potentialNames:t.potentialNames,enforceString:t.enforceString,caseOptions:t.caseOptions});var r=u.searches[u.searches.length-1];r.valid=p(r),n?u.inputQuery="":e((function(){e((function(){u.inputQuery="",c(h[0].querySelector(".search-container > input")).blur()}))}))}},u.deleteSearch=function(t){u.searches.splice(t,1),e((function(){c(h[0].querySelector(".search-container > input")).focus()}))};var k=function(e,t){return e.toUpperCase().split(",").map((function(e){return e.trim()})).includes(t.toUpperCase())};u.handleChange=function(t,n,i,r,a){var o,s,l=u.searches[t];"type"===n?(s=E(r.key),l.extended=s.extended,l.basic=s.basic,l.allowDates=s.allowDates,!l.enforceDates&&s.enforceDates&&(l.value.value=""),l.enforceDates=s.enforceDates,l.operator.values=x(s,l.value.value),f(l.operator)):"value"===n&&(t===u.searches.length-1&&e((function(){c(h[0].querySelector(".search-container > input")).focus()})),(s=E(l.type.value.key)).operators||(l.operator.values=x(s,l.value.value),f(l.operator))),l.valid=p(l),a&&13===a.keyCode&&function(e,t){var n=u.searches[e];if(!n.valid){if(n.extended&&!n.name.value&&"name"!==t)return void(n.name.inEdit=!0);if("value"!==t)return void(n.value.inEdit=!0)}for(var i=1;i<u.searches.length;i++){var r=(i+e)%u.searches.length;if(!(n=u.searches[r]).valid)return void(n.extended&&!n.name.value?n.name.inEdit=!0:n.value.inEdit=!0)}}(t,n);var d=null===(o=u.types.find((function(e){return e.id.key===l.type.value.key})))||void 0===o?void 0:o.mappedOptions;if(d)if("In"===l.operator.value.key){var m=d.filter((function(e){return k(l.value.value,e.value)})).map((function(e){return e.key}));l.value.key=m.length?m:void 0}else{var g;l.value.key=null===(g=d.find((function(e){return l.value.value===e.value})))||void 0===g?void 0:g.key}},u.onKeydown=function(t){-1!==[38,40,13].indexOf(t.keyCode)&&(0===c(h[0].querySelectorAll('.dropdown-menu[id^="typeahead"]')).length&&e((function(){s.element(t.target).triggerHandler("input")})))};var T,I=function(e){var t=function(e){var t=u.types.find((function(t){return t.id.key===e.type.value.key})).mappedOptions,n=null;if(t)if("In"===e.operator.value.key){var i=t.filter((function(t){return k(e.value.value,t.value)})).map((function(e){return e.key}));i.length&&(n=i)}else{var r;n=null===(r=t.find((function(t){return e.value.value===t.value})))||void 0===r?void 0:r.key}return n||(n=e.value.value),n},n=[];return s.forEach(e,(function(e){n.push({type:e.type.value.key,operator:e.operator.value.key,value:t(e),name:e.name.value})})),n},A={basic:!0,type:{values:_(),value:{},tooltip:""},name:{value:"",inEdit:"",tooltip:""},operator:{value:{key:"eq",value:"="},values:[],tooltip:u.translations.operator},value:{value:"",inEdit:!1,tooltip:u.translations.value},valid:!1},D=function(){var i=u.searches;if(s.forEach(i,(function(e){e.valid&&-1===u.validSearchesBuffer.indexOf(e)&&u.validSearchesBuffer.push(e)})),u.validSearchesBuffer=u.validSearchesBuffer.filter((function(e){return e.valid&&-1!==i.indexOf(e)})),u.searchHasVariableQuery){if(u.caseHandeling.ignoreNames){var r=s.copy(A);r.type.value.key="variableNamesIgnoreCase",u.validSearchesBuffer.push(r)}if(u.caseHandeling.ignoreValues){var a=s.copy(A);a.type.value.key="variableValuesIgnoreCase",u.validSearchesBuffer.push(a)}}var o,l={};(l[S+"Query"]=JSON.stringify(I(u.validSearchesBuffer)),u.isMatchAnyActive)&&(u.matchAny&&!t.search().hasOwnProperty(S+"OrQuery")?o=t.url()+"&"+S+"OrQuery":u.matchAny||(o=t.url().replace("&"+S+"OrQuery","")),t.url(o),t.replace());u.searchHasVariableQuery=y(),m=!0,n.updateSilently(l,!t.search()[S+"Query"]),e((function(){m=!1})),O()};u.$watch("[searches, matchAny, caseHandeling]",D,!0),u.$on("$locationChangeSuccess",(function(){if(u.matchAny=t.search().hasOwnProperty(S+"OrQuery"),!m&&t.search().hasOwnProperty(S+"Query")){var e=C(),n=u.validSearchesBuffer.filter((function(e){return e.valid}));s.equals(e,n)||(s.forEach(u.searches,(function(t){t.valid||e.push(t)})),u.validSearchesBuffer=[],u.searches=e)}})),u.$watch("validSearchesBuffer",(function(){e.cancel(T),T=e((function(){u.validSearches=s.copy(u.validSearchesBuffer)}))}),!0);var O=function(){var e=_();u.dropdownTypes=e;for(var t=0;t<u.searches.length;t++)u.searches[t].type.values=e};u.$watch("types",(function(){u.searchTypes=u.types.map((function(e){return e.id})),u.dropdownTypes=_(),s.forEach(u.searches,(function(e){e.potentialNames=E(e.type.value.key)?E(e.type.value.key).potentialNames||[]:null}))}),!0),u.dropdownTypes=_();for(var P=u.searchCriteriaStorage={group:null,nameInput:"",available:{}},N={},M=u.storageGroup?[u.storageGroup]:u.types.map((function(e){return e.groups})).reduce((function(e,t){return(e||[]).concat(t)})).filter((function(e){return e})),R=[],L=0;L<M.length;L++)R.indexOf(M[L])<0&&M[L]&&R.push(M[L]);function $(){if(P.available={},P.group)return u.isSearchCriteriaStorageGrouped=!1,void(P.available=l(N[P.group]));u.isSearchCriteriaStorageGrouped=!0,R.forEach((function(e){P.available[e]=l(N[e]||{})}))}function j(e,t){return t?{group:t,name:e}:P.group?{group:P.group,name:e}:void 0}!R.length&&u.storageGroup&&R.push(u.storageGroup),R.forEach((function(e){N[e]={}})),u.$watch("validSearches",(function(){if(u.storageGroup)return P.group=u.storageGroup,void $();var e=null;u.validSearches.forEach((function(t){if(!e){var n=t.type.value.key;u.types.forEach((function(t){e||t.id.key===n&&1===(t.groups||[]).length&&(e=(t.groups||[])[0])}))}})),P.group=e,$()}),!0),N=i.get("searchCriteria",N),$(),u.$watch("storageGroup",(function(){u.storageGroup&&R.indexOf(u.storageGroup)<0||(P.group=u.storageGroup,$())})),u.storedCriteriaInputClick=function(e){e.stopPropagation()},u.searchCriteriaInputKeydown=function(e){if(13===e.keyCode)return u.storedCriteriaSaveClick(e)},u.hasCriteriaSets=function(){if(R.length>1){for(var e in P.available)if(Object.keys(P.available[e]).length>0)return!0;return!1}return!!Object.keys(P.available||{}).length},u.loadCriteriaSet=function(e,t,n){u.caseHandeling={ignoreNames:!1,ignoreValues:!1};var i=j(t,n);if(i){var r=N[i.group][i.name];u.searches=w(r),u.isMatchAnyActive&&(u.matchAny=r[r.length-1].matchAny),D()}},u.dropCriteriaSet=function(e,t,n){e.stopPropagation();var r=j(t,n);r&&(delete N[r.group][r.name],i.set("searchCriteria",N),$())},u.storedCriteriaSaveClick=function(e){e.stopPropagation();var t=P.nameInput;t&&(N[P.group]=N[P.group]||{},N[P.group][t]=I(u.validSearchesBuffer),u.isMatchAnyActive&&N[P.group][t].push({matchAny:u.matchAny}),N[P.group][t].push({caseHandeling:s.copy(u.caseHandeling)}),i.set("searchCriteria",N),$(),P.nameInput="")}},template:'<div class="search-field">\n  <form ng-submit="createSearch()"\n        ng-class="{\'has-search\': searches.length, \'focused\': focused}">\n\n    <div class="form-container search-container"\n         ng-style="{\'padding-right\': getRightPadding()}"\n         ng-class="{\'has-icon\': !!mode}">\n      <div ng-if="isMatchAnyActive && searches.length > 0"\n           class="match-any">\n        <button ng-click="switchMatchType()"\n                type="button"\n                class="btn btn-default btn-xs"\n                ng-disabled="searches.length < 2">\n          {{ (matchAny ? \'CAM_WIDGET_SEARCH_MATCH_TYPE_ANY\' : \'CAM_WIDGET_SEARCH_MATCH_TYPE_ALL\') | translate }}\n        </button>\n        <span ng-disabled="searches.length < 2">{{ \'CAM_WIDGET_SEARCH_MATCH_TYPE\' | translate }}</span>\n        </div>\n        <span ng-if="mode" class="search-type glyphicon" ng-class="\'glyphicon-\' + mode"></span>\n      <span cam-widget-search-pill\n            ng-repeat="search in searches"\n            extended="search.extended"\n            basic="search.basic"\n            allow-dates="search.allowDates"\n            enforce-dates="search.enforceDates"\n            valid="search.valid"\n            name="search.name"\n            potential-names="search.potentialNames"\n            type="search.type"\n            operator="search.operator"\n            value="search.value"\n            options="search.options"\n            allow-non-values="search.allowNonValues"\n            invalid-text="{{ translations.invalid }}"\n            delete-text="{{ translations.deleteSearch }}"\n            on-change="handleChange($index, field, before, value, $event)"\n            on-delete="deleteSearch($index)"\n            disable-typeahead-autoselect="disableTypeaheadAutoselect"></span>\n\n      <input class="form-control main-field"\n             type="text"\n             ng-model="inputQuery"\n             ng-keydown="onKeydown($event)"\n             uib-typeahead="type as type.value for type in dropdownTypes | filter:$viewValue:instantTypeahead"\n             typeahead-on-select="createSearch($item)"\n             instant-typeahead />\n\n      <div class="ignore-case" ng-if="searchHasVariableQuery">\n        {{\'CAM_WIDGET_SEARCH_VARIABLE_CASE_ATTRIBUTE\' | translate }}\n          <label>\n            <input type="checkbox" ng-model="caseHandeling.ignoreNames" >\n            {{\'CAM_WIDGET_SEARCH_VARIABLE_CASE_NAME\' | translate}}\n          </label>\n          <label>\n            <input type="checkbox" ng-model="caseHandeling.ignoreValues">\n            {{\'CAM_WIDGET_SEARCH_VARIABLE_CASE_VALUE\' | translate}}.\n          </label>\n      </div>\n\n\n\n    </div>\n  </form>\n  <div class="controls">\n    <span ng-if="total"\n          class="total-results"\n          uib-tooltip="{{ \'CAM_WIDGET_SEARCH_TOTAL_NUMBER_RESULTS\' | translate }}">\n      {{total}}\n    </span>\n\n    <span cam-share-link></span>\n\n    <span class="dropdown stored-criteria" uib-dropdown>\n      <button ng-disabled="!searches.length && !hasCriteriaSets()"\n              class="dropdown-toggle btn btn-default" uib-dropdown-toggle>\n        <span class="glyphicon glyphicon-floppy-disk"></span>\n        <span class="caret"></span>\n      </button>\n\n      <ul class="dropdown-menu dropdown-menu-right"\n          ng-if="searchCriteriaStorage.group || hasCriteriaSets()" uib-dropdown-menu>\n        <li ng-if="searchCriteriaStorage.group">\n          <div class="input-group input-group-sm">\n            <input type="text"\n                   class="form-control"\n                   ng-model="searchCriteriaStorage.nameInput"\n                   ng-click="storedCriteriaInputClick($event)"\n                   ng-keydown="searchCriteriaInputKeydown($event)" />\n            <span class="input-group-btn">\n              <button ng-disabled="!searchCriteriaStorage.nameInput"\n                      ng-click="storedCriteriaSaveClick($event)"\n                      class="btn btn-default"\n                      type="button">\n                <span class="glyphicon glyphicon-ok"></span>\n              </button>\n            </span>\n          </div>\n        </li>\n\n        <li role="separator"\n            class="divider"\n            ng-if="searchCriteriaStorage.group && hasCriteriaSets()"></li>\n\n        <li class="stored-criteria-set"\n            ng-if="hasCriteriaSets() && !isSearchCriteriaStorageGrouped"\n            ng-repeat="(key, value) in searchCriteriaStorage.available">\n          <div>\n            <a class="glyphicon glyphicon-remove-sign"\n              ng-click="dropCriteriaSet($event, key)"\n              href></a>\n\n            <a href\n              ng-click="loadCriteriaSet($event, key)">{{ key }}</a>\n          </div>\n        </li>\n\n        <li class="stored-criteria-set"\n            ng-if="hasCriteriaSets() && isSearchCriteriaStorageGrouped"\n            ng-repeat="(group, values) in searchCriteriaStorage.available">\n          <div ng-repeat="(name, value) in values">\n            <a class="glyphicon glyphicon-remove-sign"\n              ng-click="dropCriteriaSet($event, name, group)"\n              href></a>\n\n            <a href\n              ng-click="loadCriteriaSet($event, name, group)">{{ group }} : {{ name }}</a>\n          </div>\n        </li>\n\n      </ul>\n    </span>\n  </div>\n</div>\n'}}]},{"../../../../camunda-bpm-sdk-js/vendor/angular":2,jquery:"jquery"}],69:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=e("../../../../camunda-bpm-sdk-js/vendor/angular"),a=e("../../../../camunda-bpm-sdk-js/lib/forms/type-util"),o={};function s(e){return(e=e||new Date).toISOString().slice(0,-5)}o.camundaFormattedDate=s,o.templateDialog='\x3c!-- # CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html --\x3e\n<div class="modal-header">\n  <h3 translate="CAM_WIDGET_VARIABLE_DIALOG_INSPECT"\n      translate-values="{name: variable.name}"></h3>\n</div>\n\n<div class="modal-body">\n  <div ng-if="readonly"\n       class="form-group">\n    <label>{{ \'CAM_WIDGET_VARIABLE_DIALOG_LABEL_OBJECT_TYPE\' | translate }}</label>\n    <code class="form-control-static"\n          cam-widget-clipboard="variable.valueInfo.objectTypeName">{{ variable.valueInfo.objectTypeName }}</code>\n  </div>\n\n  <div ng-if="readonly"\n       class="form-group">\n    <label>{{ \'CAM_WIDGET_VARIABLE_DIALOG_LABEL_SERIALIZATION\' | translate }}</label>\n    <code class="form-control-static"\n          cam-widget-clipboard="variable.valueInfo.serializationDataFormat">{{ variable.valueInfo.serializationDataFormat }}</code>\n  </div>\n\n  <div ng-if="!readonly"\n       class="form-group">\n    <label for="object-type-name"\n           cam-widget-clipboard="variable.valueInfo.objectTypeName">{{ \'CAM_WIDGET_VARIABLE_DIALOG_LABEL_OBJECT_TYPE\' | translate }}</label>\n    <input type="text"\n           id="object-type-name"\n           class="form-control"\n           ng-model="variable.valueInfo.objectTypeName" />\n  </div>\n\n  <div ng-if="!readonly"\n       class="form-group">\n    <label for="serialization-data-format"\n           cam-widget-clipboard="variable.valueInfo.serializationDataFormat">{{ \'CAM_WIDGET_VARIABLE_DIALOG_LABEL_SERIALIZATION\' | translate }}</label>\n    <input type="text"\n           id="serialization-data-format"\n           class="form-control"\n           ng-model="variable.valueInfo.serializationDataFormat" />\n  </div>\n\n  <div class="form-group">\n    <label for="serialized-value"\n           cam-widget-clipboard="variable.value"\n           no-tooltip\n           ng-class="{hovered: hovered === \'var-value\'}">{{ \'CAM_WIDGET_VARIABLE_DIALOG_LABEL_SERIALIZED_VALUE\' | translate }}</label>\n    <textarea ng-model="variable.value"\n              id="serialized-value"\n              rows="10"\n              class="form-control"\n              ng-readonly="readonly"\n              ng-mouseenter="toggleHover(\'var-value\')"\n              ng-mouseleave="toggleHover()"></textarea>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss(\'close\')">\n    {{ \'CAM_WIDGET_VARIABLE_DIALOG_BTN_CLOSE\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-if="!readonly"\n          ng-readonly="!hasChanged(\'serialized\')"\n          ng-click="$close(variable)">\n    {{ \'CAM_WIDGET_VARIABLE_DIALOG_BTN_CHANGE\' | translate }}\n  </button>\n</div>\n\x3c!-- / CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html --\x3e\n',o.templateStringDialog='\x3c!-- # CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html --\x3e\n<div class="modal-header">\n  <h3 translate="CAM_WIDGET_STRING_DIALOG_TITLE"\n      translate-values="{name: variable.name}"></h3>\n</div>\n\n<div class="modal-body">\n  <div class="form-group">\n    <label for="value"\n           cam-widget-clipboard="variable.value"\n           no-tooltip\n           ng-class="{hovered: hovered === \'var-value\'}">\n      {{ \'CAM_WIDGET_STRING_DIALOG_LABEL_VALUE\' | translate }}\n    </label>\n    <textarea ng-model="variable.value"\n              id="value"\n              rows="10"\n              class="form-control cam-string-variable"\n              ng-readonly="readonly"\n              ng-mouseenter="toggleHover(\'var-value\')"\n              ng-mouseleave="toggleHover()"></textarea>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss(\'close\')">\n    {{ \'CAM_WIDGET_STRING_DIALOG_LABEL_CLOSE\' | translate }}\n  </button>\n</div>\n\x3c!-- / CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html --\x3e\n',o.modalCtrl=["$scope","variable","readonly",function(e,t,n){e.hovered=!1,e.toggleHover=function(t){e.hovered=t},e.variable=t,e.readonly=n;var i=r.copy(t);e.hasChanged=function(){return i.valueInfo=i.valueInfo||{},t.valueInfo=t.valueInfo||{},i.value!==t.value||i.valueInfo.serializationDataFormat!==t.valueInfo.serializationDataFormat||i.valueInfo.objectTypeName!==t.valueInfo.objectTypeName}}],o.typeUtils=a,o.types=["Boolean","Bytes","File","Date","Double","Integer","Long","Null","Object","Short","String","Json","Xml"],o.defaultValues={Boolean:!1,Bytes:null,File:null,Date:s(),Double:0,Integer:0,Long:0,Null:"",Short:0,String:"",Object:{},Json:"",Xml:""},o.isPrimitive=function(e){return function(t){return!t&&!e.variable||(!(t=t||e.variable.type)||["Boolean","Date","Double","Integer","Long","Short","String"].indexOf(t)>=0)}},o.isBinary=function(e){return function(t){return!(!t&&!e.variable)&&(!!(t=t||e.variable.type)&&["Bytes","File"].indexOf(t)>=0)}},o.useCheckbox=function(e){return function(t){return!(!t&&!e.variable)&&"Boolean"===(t=t||e.variable.type)}},o.validate=function(e){return function(){var t;(e.variable.name&&e.variable.type?null===e.variable.value||["String","Object","Null"].indexOf(e.variable.type)>-1?e.valid=!0:e.valid=a.isType(e.variable.value,e.variable.type):e.valid=!1,e.valid)&&(e.variable.type&&null!==e.variable.value&&e.isPrimitive(e.variable.type)&&(t="Boolean"!==e.variable.type?a.convertToType(e.variable.value,e.variable.type):!!e.variable.value&&"false"!==e.variable.value,i(e.variable.value)!==i(t)&&(e.variable.value=t)))}},t.exports=o},{"../../../../camunda-bpm-sdk-js/lib/forms/type-util":1,"../../../../camunda-bpm-sdk-js/vendor/angular":2}],70:[function(e,t,n){"use strict";var i=e("../../../../camunda-bpm-sdk-js/lib/forms/type-util");t.exports=[function(){return{require:"ngModel",link:function(e,t,n,r){var a=function(e){var t=n.camVariableValidator;return-1!==["String","Object","Null"].indexOf(t)?r.$setValidity("camVariableValidator",!0):r.$setValidity("camVariableValidator",!!i.isType(e,t)),e};r.$parsers.unshift(a),r.$formatters.push(a),n.$observe("camVariableValidator",(function(){return a(r.$viewValue)}))}}}]},{"../../../../camunda-bpm-sdk-js/lib/forms/type-util":1}],71:[function(e,t,n){"use strict";var i=e("../../../../camunda-bpm-sdk-js/vendor/angular"),r=e("./cam-variable-utils"),a=r.types,o=r.modalCtrl;t.exports=["$uibModal",function(e){return{template:'<div ng-if="display && isShown(\'type\')"\n     class="type">{{ variable.type }}</div>\n<div ng-if="display && isShown(\'name\')"\n     class="name">{{ variable.name }}</div>\n<div ng-if="display && isShown(\'value\') && isPrimitive()"\n     ng-class="{null: isNull()}"\n     class="value">\n  <span ng-if="isNull()"\n        class="null-symbol">{{ \'CAM_WIDGET_VARIABLE_NULL\' | translate }}</span>\n  {{ (variable.value === null ? \'\' : variable.value.toString()) }}\n</div>\n<div ng-if="display && isShown(\'value\') && variable.type === \'Object\'"\n     ng-class="{null: isNull()}"\n     class="value">\n  <a ng-click="editVariableValue()">\n    {{ variable.valueInfo.objectTypeName }}\n  </a>\n</div>\n\n\n<div ng-if="!display"\n     class="input-group editing">\n  <div ng-if="isShown(\'type\')"\n       class="input-group-btn type">\n    <select class="form-control"\n            ng-model="variable.type"\n            ng-options="variableType for variableType in variableTypes track by variableType"\n            ng-disabled="isDisabled(\'type\')"\n            required>\n    </select>\n  </div>\x3c!-- /btn-group --\x3e\n\n  <input ng-if="isShown(\'name\')"\n         type="text"\n         class="form-control name"\n         ng-model="variable.name"\n         placeholder="varName"\n         ng-disabled="isDisabled(\'name\')"\n         required />\n\n  <div ng-if="isShown(\'value\') && !isNull()"\n       class="value-wrapper input-group"\n       ng-class="{checkbox: useCheckbox()}">\n    <div ng-if="variable.type !== \'Null\'"\n         class="input-group-btn">\n      <a ng-click="setNull()"\n         class="btn btn-default set-null"\n         ng-disabled="isDisabled(\'value\')"\n         uib-tooltip="{{ \'CAM_WIDGET_VARIABLE_SET_VALUE_NULL\' | translate }}">\n        <span class="glyphicon glyphicon-remove"></span>\n      </a>\n    </div>\n\n    <input ng-if="isPrimitive() && !useCheckbox()"\n           type="text"\n           class="form-control value"\n           ng-model="variable.value"\n           ng-disabled="isDisabled(\'value\')"\n           placeholder="{{ \'CAM_WIDGET_VARIABLE_VALUE\' | translate }}"\n           cam-variable-validator="{{variable.type}}" />\n\n    <input ng-if="useCheckbox()"\n           type="checkbox"\n           class="value"\n           ng-model="variable.value"\n           ng-disabled="isDisabled(\'value\')"\n           placeholder="{{ \'CAM_WIDGET_VARIABLE_VALUE\' | translate }}"\n           cam-variable-validator="{{variable.type}}" />\n\n    <div ng-if="variable.type === \'Object\'"\n         class="value form-control-static">\n      <a ng-click="editVariableValue()" ng-disabled="isDisabled(\'value\')">\n        {{ (variable.valueInfo.objectTypeName || \'CAM_WIDGET_VARIABLE_UNDEFINED\') | translate }}\n      </a>\n    </div>\n  </div>\n\n  <div ng-if="variable.type !== \'Null\' && isShown(\'value\') && isNull()"\n       ng-click="setNonNull()"\n       class="value-wrapper value null-value btn btn-default"\n       ng-disabled="isDisabled(\'value\')"\n       uib-tooltip="{{ \'CAM_WIDGET_VARIABLE_RESET\' | translate }}">\n    <span class="null-symbol">{{ \'CAM_WIDGET_VARIABLE_NULL\' | translate }}</span>\n  </div>\n\n  <div ng-if="variable.type === \'Null\'"\n       ng-disabled="isDisabled(\'value\')"\n       class="value-wrapper value btn no-click null-value">\n    <span class="null-symbol">{{ \'CAM_WIDGET_VARIABLE_NULL\' | translate }}</span>\n  </div>\n</div>\n',scope:{variable:"=camVariable",display:"@?",shown:"=?",disabled:"=?",hiddenTypes:"=?"},link:function(t,n){t.variableTypes=a.filter((function(e){return!Array.isArray(t.hiddenTypes)||!t.hiddenTypes.length||-1===t.hiddenTypes.indexOf(e)}));var s=r.defaultValues;t.isPrimitive=r.isPrimitive(t),t.useCheckbox=r.useCheckbox(t),t.isShown=function(e){return!Array.isArray(t.shown)||!t.shown.length||t.shown.indexOf(e)>-1},t.isDisabled=function(e){return!(!Array.isArray(t.disabled)||!t.disabled.length)&&t.disabled.indexOf(e)>-1},t.shownClasses=function(){return Array.isArray(t.shown)&&t.shown.length?t.shown.map((function(e){return"show-"+e})).join(" "):""},t.$watch("shown",(function(){n.removeClass("show-type show-name show-value").addClass(t.shownClasses())}));var l=r.validate(t);t.valid=!0,t.$watch("variable.value",l),t.$watch("variable.name",l),t.$watch("variable.type",l),l();var c=t.variable.value;t.$watch("variable.type",(function(e,i){"Boolean"===e?null!==t.variable.value&&(c=t.variable.value,t.variable.value="false"!==t.variable.value&&!!t.variable.value):"Boolean"===i&&(t.variable.value=c);var r=n[0].classList;i&&r.remove("var-type-"+i.toLowerCase()),e&&r.add("var-type-"+e.toLowerCase())})),t.isNull=function(){return null===t.variable.value},t.setNonNull=function(){t.variable.value=c||s[t.variable.type]},t.setNull=function(){c=t.variable.value,t.variable.value=null},t.editVariableValue=function(){e.open({template:r.templateDialog,controller:o,windowClass:"cam-widget-variable-dialog",resolve:{variable:function(){return i.copy(t.variable)},readonly:function(){return t.display}}}).result.then((function(e){t.variable.value=e.value,t.variable.valueInfo=e.valueInfo})).catch(i.noop)}}}}]},{"../../../../camunda-bpm-sdk-js/vendor/angular":2,"./cam-variable-utils":69}],72:[function(e,t,n){"use strict";var i=e("jquery");t.exports=["$compile",function(e){return{template:"<div></div>",scope:{info:"=",headerName:"="},link:function(t,n){var r=t.info.additions[t.headerName]||{};for(var a in r.scopeVariables=r.scopeVariables||{},r.scopeVariables)t[a]=r.scopeVariables[a];t.variable=t.info.variable,n.html("<div>"+r.html+"</div>"),e(i("div",n)[0])(t)}}}]},{jquery:"jquery"}],73:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=e("../../../../camunda-bpm-sdk-js/vendor/angular"),a=e("../variable/cam-variable-utils"),o=a.typeUtils,s={variable:{name:null,type:null,value:null,valueInfo:{}},additions:{}};function l(e){return{then:function(t){t(r.copy(e.variable))}}}t.exports=["$uibModal","$translate","$document",function(e,t,n){return{template:'<table class="cam-table">\n  <thead>\n  <tr>\n    <td ng-repeat="column in headers" ng-class="col-{{column.class}}">\n      <span class="{{column.class}}">{{column.content}}</span>\n      <a ng-if="column.sortable === true"\n         ng-click="changeOrder(column.request)">\n        <span class="glyphicon" ng-class="orderClass(column.request)"></span>\n      </a>\n    </td>\n    <td class="valid"\n        ng-if="validatable">\n      {{ \'CAM_WIDGET_VARIABLES_TABLE_VALID\' | translate }}\n    </td>\n    <td class="actions"\n        ng-if="editable.length">\n      Actions\n    </td>\n  </tr>\n  </thead>\n\n  <tbody>\n    <tr ng-repeat="(v, info) in variables"\n        ng-class="rowClasses(info, v)">\n      <td ng-repeat="headerClass in headerClasses track by $index"\n          ng-init="variable=info.variable"\n          ng-class="colClasses(info, headerClass, v)"\n          ng-switch on="headerClass">\n        \x3c!-- ................................................................................... --\x3e\n        <div ng-switch-when="type"\n             ng-if="!isEditable(\'type\', info)">\n          {{ variable.type }}\n        </div>\n        <select class="form-control"\n                ng-switch-when="type"\n                ng-if="isEditable(\'type\', info)"\n                ng-model="variable.type"\n                ng-options="variableType for variableType in variableTypes track by variableType"\n                required>\n        </select>\n        \x3c!-- ................................................................................... --\x3e\n\n\n        \x3c!-- ................................................................................... --\x3e\n        <div ng-switch-when="name"\n             ng-if="!isEditable(\'name\', info)">\n          <span cam-widget-clipboard="variable.name">{{ variable.name }}</span>\n        </div>\n\n        <input class="form-control"\n               ng-switch-when="name"\n               ng-model="variable.name"\n               ng-if="isEditable(\'name\', info)" />\n        \x3c!-- ................................................................................... --\x3e\n\n\n        \x3c!-- ................................................................................... --\x3e\n        <a ng-switch-when="value"\n           ng-if="!isEditable(\'value\', info) && isBinary(variable.type)"\n           ng-href="{{ downloadLink(info) }}"\n           download="{{ variable.name }}-data">\n          Download\n        </a>\n\n        <div ng-switch-when="value"\n             ng-if="!isEditable(\'value\', info) && variable.type === \'Object\'"\n             class="read-only value-wrapper">\n          <span ng-if="variable.valueInfo.objectTypeName"\n                cam-widget-clipboard="variable.valueInfo.objectTypeName">\n            <a ng-click="editVariableValue(v)"\n               href>{{ variable.valueInfo.objectTypeName }}</a>\n          </span>\n          <a ng-if="!variable.valueInfo.objectTypeName"\n             ng-click="editVariableValue(v)"\n             href>&lt;undefined&gt;</a>\n        </div>\n        <div ng-switch-when="value"\n             ng-if="!isEditable(\'value\', info) && (variable.type === \'Json\' || variable.type === \'Xml\')"\n             class="read-only value-wrapper">\n          <span cam-widget-clipboard="variable.value">\n            <a ng-click="editVariableValue(v)"\n               href>{{ variable.value }}</a>\n          </span>\n        </div>\n\n        <div ng-switch-when="value"\n             ng-if="!isEditable(\'value\', info) && variable.type === \'String\'"\n             class="read-only value-wrapper">\n          <span cam-widget-clipboard="variable.value">\n            <span ng-click="readStringVar(v)">{{ variable.value }}</span>\n          </span>\n        </div>\n\n        <div ng-switch-when="value"\n             ng-if="!isEditable(\'value\', info) && !hasEditDialog(variable.type)"\n             class="read-only value-wrapper">\n          <span ng-if="variable.type !== \'Bytes\' && variable.type !== \'Date\'"\n                cam-widget-clipboard="variable.value">{{ variable.value }}</span>\n          <span ng-if="variable.type === \'Bytes\'">{{ variable.value }}</span>\n          <span ng-if="variable.type === \'Date\'"\n                cam-widget-clipboard="variable.value">{{ variable.value | camDate }}</span>\n        </div>\n\n        <div class="value-wrapper"\n             ng-switch-when="value"\n             ng-if="isEditable(\'value\', info)">\n          <a ng-click="setNull(v)"\n             ng-if="!isNull(v)"\n             class="set-null"\n             tooltip-append-to-body="true"\n             uib-tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_TOOLTIP_SET_NULL\' | translate }}">\n            <span class="glyphicon glyphicon-remove"></span>\n          </a>\n\n          <input ng-if="isPrimitive(variable.type) && !useCheckbox(variable.type) && !isNull(v)"\n                 type="text"\n                 class="form-control"\n                 ng-model="variable.value"\n                 placeholder="{{ \'CAM_WIDGET_VARIABLES_TABLE_PLACEHOLDER_VALUE\' | translate }}" />\n\n          <input ng-if="useCheckbox(variable.type)"\n                 type="checkbox"\n                 ng-model="variable.value"\n                 placeholder="{{ \'CAM_WIDGET_VARIABLES_TABLE_PLACEHOLDER_VALUE\' | translate }}" />\n\n          <a ng-if="variable.type === \'Object\' && !isNull(v)"\n             ng-click="editVariableValue(v)">\n            {{ variable.valueInfo.objectTypeName || \'&lt;undefined&gt;\' }}\n          </a>\n\n          <a ng-if="(variable.type === \'Json\' || variable.type === \'Xml\') && !isNull(v)"\n             ng-click="editVariableValue(v)">\n            {{ variable.value || \'&lt;undefined&gt;\' }}\n          </a>\n\n          <a ng-if="variable.type !== \'Null\' && !isBinary(variable.type) && isNull(v)"\n             ng-click="setNonNull(v)"\n             class="null-value"\n             tooltip-append-to-body="true"\n             uib-tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_TOOLTIP_DEFAULT_VALUE\' | translate }}">\n            <span class="null-symbol">&lt;null&gt;</span>\n          </a>\n\n          <a ng-if="isBinary(variable.type)"\n             ng-click="uploadVariable(v)"\n             tooltip-append-to-body="true"\n             uib-tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_TOOLTIP_UPLOAD\' | translate }}">\n            Upload\n          </a>\n\n          <span ng-if="variable.type === \'Null\'"\n                class="null-value">\n            <span class="null-symbol">{{ \'CAM_WIDGET_VARIABLES_TABLE_NULL\' | translate }}</span>\n          </span>\n        </div>\x3c!-- / value-wrapper --\x3e\n        \x3c!-- ................................................................................... --\x3e\n\n\n        <div ng-switch-default\n             cam-render-var-template\n             info="info"\n             header-name="headerClass">\n        </div>\n      </td>\n\n      <td class="valid"\n          ng-if="validatable">\n        <script type="text/ng-template" id="validation-error-popover">\n          <ul ng-if="info.failures.length > 0">\n            <li ng-repeat="failure in info.failures">\n              {{failure}}\n            </li>\n          </ul>\n        <\/script>\n        <button ng-if="info.failures.length > 0 && !info.editMode"\n                ng-click="info.showFailures = true"\n                class="btn btn-link"\n                type="button"\n                uib-popover-template="\'validation-error-popover\'"\n                popover-title="{{ \'CAM_WIDGET_VARIABLES_TABLE_VALIDATION_ERRORS\' | translate }}"\n                popover-class="cam-widget-variables-popover"\n                popover-trigger="\'none\'"\n                popover-is-open="info.showFailures"\n                popover-enable="true">\n          \x3c!-- use glyphicon-error when CAM-13580 is fixed --\x3e\n          <span class="error-sign"></span>\n        </button>\n        <span ng-if="info.failures.length === 0 && !info.editMode"\n              class="glyphicon glyphicon-ok"\n              uib-tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_TOOLTIP_VALID\' | translate }}"></span>\n        <span ng-if="info.editMode"\n              class="glyphicon glyphicon-question-sign"\n              uib-tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_TOOLTIP_VALID_PENDING\' | translate }}"></span>\n      </td>\n      <td class="actions"\n          ng-if="editable.length">\n        <div ng-if="!info.editMode"\n             class="btn-group">\n          <button class="btn btn-xs btn-primary"\n                  ng-disabled="!canEditVariable(info, v)"\n                  ng-click="enableEditMode(info, true)"\n                  tooltip-append-to-body="true"\n                  uib-tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_EDIT_VARIABLE\' | translate }}">\n            <span class="glyphicon glyphicon-pencil"></span>\n          </button>\n          <button class="btn btn-xs btn-default"\n                  ng-disabled="!canEditVariable(info, v)"\n                  ng-click="deleteVariable(v)"\n                  tooltip-append-to-body="true"\n                  uib-tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_DELETE_VARIABLE\' | translate }}">\n            <span class="glyphicon glyphicon glyphicon-trash"></span>\n          </button>\n        </div>\n\n        <div ng-if="info.editMode"\n             class="btn-group">\n          <button class="btn btn-xs btn-primary"\n                  ng-disabled="!info.valid || !info.changed"\n                  ng-click="saveVariable(v)"\n                  tooltip-append-to-body="true"\n                  uib-tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_SAVE_VARIABLE\' | translate }}">\n            <span class="glyphicon glyphicon-ok"></span>\n          </button>\n          <button class="btn btn-xs btn-default"\n                  ng-click="enableEditMode(info, false)"\n                  tooltip-append-to-body="true"\n                  uib-tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_REVERT_VARIABLE\' | translate }}">\n            <span class="glyphicon glyphicon-remove"></span>\n          </button>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n',scope:{variables:"=?camVariables",headers:"=?camHeaders",editable:"=?camEditable",validatable:"@",isVariableEditable:"=?",deleteVar:"=?onDelete",saveVar:"=?onSave",onSaved:"=?",editVar:"=?onEdit",downloadVar:"=?onDownload",uploadVar:"=?onUpload",onSortChange:"&",onValidation:"&",onChangeStart:"&",onChangeEnd:"&",onToggleEditMode:"=?",defaultSort:"=?",ignoreTypes:"=?"},link:function(c){if(c.validatable){var u=function(e){var t=r.element(".modal"),n=r.element(".modal-backdrop");(0===t.length&&0===n.length||t!==e.target&&n!==e.target&&!t[0].contains(e.target)&&!n[0].contains(e.target))&&c.$apply((function(){c.variables.forEach((function(e){return e.showFailures=!1}))}))};n.on("click",u),c.$on("$destroy",(function(){return n.off("click",u)}))}var d=[];function p(e){return(c.variables[e]||{}).variable}c.headerClasses=[],c.headers.forEach((function(e){c.headerClasses.push(e.class)})),c.editable=c.editable||c.headerClasses,c.variableTypes=r.copy(a.types),c.variableTypes=c.ignoreTypes?c.variableTypes.filter((function(e){return!c.ignoreTypes.includes(e)})):c.variableTypes,c.defaultValues=a.defaultValues,c.isPrimitive=a.isPrimitive(c),c.isBinary=a.isBinary(c),c.useCheckbox=a.useCheckbox(c),["uploadVar","deleteVar","saveVar"].forEach((function(e){c[e]=r.isFunction(c[e])?c[e]:l})),c.sortObj=c.defaultSort,c.orderClass=function(e){return"glyphicon-"+{none:"minus",desc:"chevron-down",asc:"chevron-up"}[(e=e||c.sortObj.sortBy)===c.sortObj.sortBy?c.sortObj.sortOrder:"none"]},c.changeOrder=function(e){c.sortObj.sortBy=e,c.sortObj.sortOrder="desc"===c.sortObj.sortOrder?"asc":"desc",c.onSortChange({sortObj:c.sortObj})};var f=function(e,t,n){return{template:t,controller:a.modalCtrl,windowClass:"cam-widget-variable-dialog",resolve:{variable:function(){return r.copy(p(e))},readonly:n}}};function m(e,t){var n;(e.variable.name&&e.variable.type?null===e.variable.value||["String","Object","Null"].indexOf(e.variable.type)>-1?e.valid=!0:e.valid=o.isType(e.variable.value,e.variable.type):e.valid=!1,e.valid)&&(e.variable.type&&null!==e.variable.value&&c.isPrimitive(e.variable.type)&&(n="Boolean"!==e.variable.type?o.convertToType(e.variable.value,e.variable.type):!!e.variable.value&&"false"!==e.variable.value,i(e.variable.value)!==i(n)&&(e.variable.value=n)));e.changed=function(e){if(!c.variables||!c.variables[e]||!c.variables[e]._copy)return!1;var t=p(e),n=c.variables[e]._copy;return!t||!n||t.name!==n.name||t.type!==n.type||t.value!==n.value}(t)}function h(){(c.variables||[]).forEach((function(e,t){e.valid=!0;var n="variables["+t+"].variable";function i(){m(e,t)}c.$watch(n+".value",i),c.$watch(n+".name",i),c.$watch(n+".type",i),c.$watch("variables["+t+"].editMode",(function(t,n){var i;r.isUndefined(t)||(!0===t?e._copy=(i=e.variable,JSON.parse(JSON.stringify(i))):!1===t&&!0===n&&e._copy&&(e.variable.type=e._copy.type,e.variable.name=e._copy.name,e.variable.value=e._copy.value,delete e._copy))})),m(e,t),d[t]=e.variable.value}))}c.editVar=r.isFunction(c.editVar)?c.editVar:function(t,n){var i=e.open(f(n,a.templateDialog,(function(){return!c.isEditable("value",c.variables[n])}))).result;return i.then((function(){return t.changed=!0})).catch(r.noop),i},c.readStringVar=r.isFunction(c.readStringVar)?c.readStringVar:function(t){return e.open(f(t,a.templateStringDialog,(function(){return!0}))).result},c.downloadLink=r.isFunction(c.downloadVar)?c.downloadVar:function(e){return"/camunda/api/engine/engine/default/variable-instance/"+e.variable.id+"/data"},c.$watch("variables",h),c.$on("variable.added",(function(){return h()})),h(),c.canEditVariable=r.isFunction(c.isVariableEditable)?c.isVariableEditable:function(){return!0},c.isEditable=function(e,t){return t.editMode&&c.editable.indexOf(e)>-1},c.hasEditDialog=function(e){return e&&["object","string","json","xml"].indexOf(e.toLowerCase())>-1},c.rowClasses=function(e){return[e.editMode?"editing":null,e.valid?null:"ng-invalid",e.valid?null:"ng-invalid-cam-variable-validator"]},c.colClasses=function(e,t){return[c.isEditable(t,e)?"editable":null,"type-"+(e.variable.type||"").toLowerCase(),"col-"+t]},c.isNull=function(e){return null===c.variables[e].variable.value},c.setNull=function(e){var t=p(e);d[e]=t.value,t.value=null},c.setNonNull=function(e){var t=p(e);t.value=d[e]||c.defaultValues[t.type]},c.editVariableValue=function(e){var t=c.variables[e];c.editVar(t,e).then((function(t){p(e).value=t.value,p(e).valueInfo=t.valueInfo})).catch(r.noop)},c.addVariable=function(){c.variables.push(r.copy(s))},c.deleteVariable=function(n){var i=c.variables[n];e.open({controller:["$scope",function(e){e.body=t.instant("CAM_WIDGET_VARIABLES_TABLE_DIALOGUE",{name:i.variable.name}),e.submit=function(){e.$close(),g(n)},e.dismiss=function(){e.$close()}}],template:'<div class="modal-header">\n    <h3 class="modal-title">{{ \'CAM_WIDGET_VARIABLES_TABLE_DELETE\' | translate  }}</h3>\n</div>\n\n<div class="modal-body">\n  {{ body }}\n</div>\n\n<div class="modal-footer">\n    <button ng-click="dismiss()"\n          class="btn btn-default">\n    {{ \'CAM_WIDGET_VARIABLES_TABLE_ABORT\' | translate }}\n  </button>\n  <button ng-click="submit()"\n          class="btn btn-primary"\n          ng-hide="status === \'DONE\'">\n    \n    {{ \'CAM_WIDGET_VARIABLES_TABLE_DELETE\' | translate }} \n  </button> \n</div>\n\n'}).result.catch(r.noop)};var g=function(e){var t=c.variables[e];c.deleteVar(t,e).then((function(){c.variables.splice(c.variables.indexOf(t),1)}),(function(){}))};c.saveVariable=function(e){var t=c.variables[e];c.enableEditMode(t,!1),c.saveVar(t,e).then((function(n){t.variable.name=n.name;var i=t.variable.type=n.type;t.variable.value=n.value,delete t._copy,"Object"!==i?delete t.variable.valueInfo:t.variable.valueInfo=n.valueInfo,c.onSaved&&c.onSaved(e,t)}),(function(){c.enableEditMode(t,!0)}))},c.uploadVariable=function(e){var t=c.variables[e];c.uploadVar(t,e).then((function(){delete t._copy,c.enableEditMode(t,!1)}),(function(){c.enableEditMode(t,!1)}))},c.enableEditMode=function(e,t){if(c.onToggleEditMode&&c.onToggleEditMode(e,t),e.editMode=t,t){var n=0;c.variables.forEach((function(e){e.editMode&&n++})),1===n&&c.onChangeStart()}else{var i=0;c.variables.forEach((function(e){e.editMode||i++})),i===c.variables.length&&c.onChangeEnd()}}}}}]},{"../../../../camunda-bpm-sdk-js/vendor/angular":2,"../variable/cam-variable-utils":69}],74:[function(e,t,n){"use strict";t.exports=e("../../camunda-bpm-sdk-js/vendor/angular")},{"../../camunda-bpm-sdk-js/vendor/angular":2}],75:[function(e,t,n){"use strict";t.exports=e("bootstrap")},{bootstrap:"bootstrap"}],76:[function(e,t,n){"use strict";t.exports=e("lodash")},{lodash:"lodash"}],77:[function(e,t,n){"use strict";t.exports=e("../../camunda-bpm-sdk-js/vendor/moment")},{"../../camunda-bpm-sdk-js/vendor/moment":3}],78:[function(e,t,n){(function(e){(function(){"use strict";var n="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},i=function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=n.Prism={util:{encode:function(e){return e instanceof i?new i(e.type,t.util.encode(e.content),e.alias):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){switch(t.util.type(e)){case"Object":var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t.util.clone(e[i]));return n;case"Array":return e.map&&e.map((function(e){return t.util.clone(e)}))}return e}},languages:{extend:function(e,n){var i=t.util.clone(t.languages[e]);for(var r in n)i[r]=n[r];return i},insertBefore:function(e,n,i,r){var a=(r=r||t.languages)[e];if(2==arguments.length){for(var o in i=arguments[1])i.hasOwnProperty(o)&&(a[o]=i[o]);return a}var s={};for(var l in a)if(a.hasOwnProperty(l)){if(l==n)for(var o in i)i.hasOwnProperty(o)&&(s[o]=i[o]);s[l]=a[l]}return t.languages.DFS(t.languages,(function(t,n){n===r[e]&&t!=e&&(this[t]=s)})),r[e]=s},DFS:function(e,n,i){for(var r in e)e.hasOwnProperty(r)&&(n.call(e,r,e[r],i||r),"Object"===t.util.type(e[r])?t.languages.DFS(e[r],n):"Array"===t.util.type(e[r])&&t.languages.DFS(e[r],n,r))}},plugins:{},highlightAll:function(e,n){for(var i,r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),a=0;i=r[a++];)t.highlightElement(i,!0===e,n)},highlightElement:function(i,r,a){for(var o,s,l=i;l&&!e.test(l.className);)l=l.parentNode;l&&(o=(l.className.match(e)||[,""])[1],s=t.languages[o]),i.className=i.className.replace(e,"").replace(/\s+/g," ")+" language-"+o,l=i.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+o);var c=i.textContent,u={element:i,language:o,grammar:s,code:c};if(c&&s)if(t.hooks.run("before-highlight",u),r&&n.Worker){var d=new Worker(t.filename);d.onmessage=function(e){u.highlightedCode=e.data,t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,a&&a.call(u.element),t.hooks.run("after-highlight",u),t.hooks.run("complete",u)},d.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=t.highlight(u.code,u.grammar,u.language),t.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,a&&a.call(i),t.hooks.run("after-highlight",u),t.hooks.run("complete",u);else t.hooks.run("complete",u)},highlight:function(e,n,r){var a=t.tokenize(e,n);return i.stringify(t.util.encode(a),r)},tokenize:function(e,n){var i=t.Token,r=[e],a=n.rest;if(a){for(var o in a)n[o]=a[o];delete n.rest}e:for(var o in n)if(n.hasOwnProperty(o)&&n[o]){var s=n[o];s="Array"===t.util.type(s)?s:[s];for(var l=0;l<s.length;++l){var c=s[l],u=c.inside,d=!!c.lookbehind,p=0,f=c.alias;c=c.pattern||c;for(var m=0;m<r.length;m++){var h=r[m];if(r.length>e.length)break e;if(!(h instanceof i))if(c.lastIndex=0,g=c.exec(h)){d&&(p=g[1].length);var g,v=g.index-1+p,y=v+(g=g[0].slice(p)).length,b=h.slice(0,v+1),_=h.slice(y+1),E=[m,1];b&&E.push(b);var x=new i(o,u?t.tokenize(g,u):g,f);E.push(x),_&&E.push(_),Array.prototype.splice.apply(r,E)}}}}return r},hooks:{all:{},add:function(e,n){var i=t.hooks.all;i[e]=i[e]||[],i[e].push(n)},run:function(e,n){var i=t.hooks.all[e];if(i&&i.length)for(var r,a=0;r=i[a++];)r(n)}}},i=t.Token=function(e,t,n){this.type=e,this.content=t,this.alias=n};if(i.stringify=function(e,n,r){if("string"==typeof e)return e;if("Array"===t.util.type(e))return e.map((function(t){return i.stringify(t,n,e)})).join("");var a={type:e.type,content:i.stringify(e.content,n,r),tag:"span",classes:["token",e.type],attributes:{},language:n,parent:r};if("comment"==a.type&&(a.attributes.spellcheck="true"),e.alias){var o="Array"===t.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(a.classes,o)}t.hooks.run("wrap",a);var s="";for(var l in a.attributes)s+=(s?" ":"")+l+'="'+(a.attributes[l]||"")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'" '+s+">"+a.content+"</"+a.tag+">"},!n.document)return n.addEventListener?(n.addEventListener("message",(function(e){var i=JSON.parse(e.data),r=i.language,a=i.code,o=i.immediateClose;n.postMessage(t.highlight(a,t.languages[r],r)),o&&n.close()}),!1),n.Prism):n.Prism;var r=document.getElementsByTagName("script");return(r=r[r.length-1])&&(t.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)),n.Prism}();void 0!==t&&t.exports&&(t.exports=i),void 0!==e&&(e.Prism=i),i.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},i.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),i.languages.xml=i.languages.markup,i.languages.html=i.languages.markup,i.languages.mathml=i.languages.markup,i.languages.svg=i.languages.markup,i.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},i.languages.css.atrule.inside.rest=i.util.clone(i.languages.css),i.languages.markup&&(i.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:i.languages.markup.tag.inside},rest:i.languages.css},alias:"language-css"}}),i.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:i.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:i.languages.css}},alias:"language-css"}},i.languages.markup.tag)),i.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},i.languages.javascript=i.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,function:/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),i.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),i.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:i.languages.javascript}},string:/[\s\S]+/}}}),i.languages.markup&&i.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:i.languages.markup.tag.inside},rest:i.languages.javascript},alias:"language-javascript"}}),i.languages.js=i.languages.javascript,i.languages.groovy=i.languages.extend("clike",{keyword:/\b(as|def|in|abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,string:/("""|''')[\W\w]*?\1|("|'|\/)(?:\\?.)*?\2|(\$\/)(\$\/\$|[\W\w])*?\/\$/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?[\d]+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.{1,2}(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),i.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment"}}),i.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(setup|given|when|then|and|cleanup|expect|where):/}),i.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0}}),i.hooks.add("wrap",(function(e){if("groovy"===e.language&&"string"===e.type){var t=e.content[0];if("'"!=t){var n=/([^\\])(\$(\{.*?\}|[\w\.]+))/;"$"===t&&(n=/([^\$])(\$(\{.*?\}|[\w\.]+))/),e.content=i.highlight(e.content,{expression:{pattern:n,lookbehind:!0,inside:i.languages.groovy}}),e.classes.push("/"===t?"regex":"gstring")}}})),i.languages.java=i.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/,number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+(?:e[+-]?\d+)?[df]?\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\|[|=]?|\*=?|\/=?|%=?|\^=?|[?:~])/m,lookbehind:!0}}),i.languages.php=i.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\b/i,constant:/\b[A-Z0-9_]{2,}\b/,comment:{pattern:/(^|[^\\])(?:\/\*[\w\W]*?\*\/|\/\/.*)/,lookbehind:!0}}),i.languages.insertBefore("php","class-name",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),i.languages.insertBefore("php","keyword",{delimiter:/\?>|<\?(?:php)?/i,variable:/\$\w+\b/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),i.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}}),i.languages.markup&&(i.hooks.add("before-highlight",(function(e){"php"===e.language&&(e.tokenStack=[],e.backupCode=e.code,e.code=e.code.replace(/(?:<\?php|<\?)[\w\W]*?(?:\?>)/gi,(function(t){return e.tokenStack.push(t),"{{{PHP"+e.tokenStack.length+"}}}"})))})),i.hooks.add("before-insert",(function(e){"php"===e.language&&(e.code=e.backupCode,delete e.backupCode)})),i.hooks.add("after-highlight",(function(e){if("php"===e.language){for(var t,n=0;t=e.tokenStack[n];n++)e.highlightedCode=e.highlightedCode.replace("{{{PHP"+(n+1)+"}}}",i.highlight(t,e.grammar,"php").replace(/\$/g,"$$$$"));e.element.innerHTML=e.highlightedCode}})),i.hooks.add("wrap",(function(e){"php"===e.language&&"markup"===e.type&&(e.content=e.content.replace(/(\{\{\{PHP[0-9]+\}\}\})/g,'<span class="token php">$1</span>'))})),i.languages.insertBefore("php","comment",{markup:{pattern:/<[^?]\/?(.*?)>/,inside:i.languages.markup},php:/\{\{\{PHP[0-9]+\}\}\}/})),i.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:/"""[\s\S]+?"""|'''[\s\S]+?'''|("|')(?:\\?.)*?\1/,function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)[a-z0-9_]+/i,lookbehind:!0},keyword:/\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/,boolean:/\b(?:True|False)\b/,number:/\b-?(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:or|and|not)\b/,punctuation:/[{}[\];(),.:]/},function(e){e.languages.ruby=e.languages.extend("clike",{comment:/#(?!\{[^\r\n]*?\}).*/,keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/});var t={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:e.util.clone(e.languages.ruby)}};e.languages.insertBefore("ruby","keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,inside:{interpolation:t}},{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}],variable:/[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/,symbol:/:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/}),e.languages.insertBefore("ruby","number",{builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\b)/}),e.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,inside:{interpolation:t}},{pattern:/("|')(#\{[^}]+\}|\\(?:\r?\n|\r)|\\?.)*?\1/,inside:{interpolation:t}}]}(i)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],79:[function(e,t,n){"use strict";angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,i){var r=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(i,a,o){var s=n(o.expanding),l=n(o.expanded),c=n(o.collapsing),u=n(o.collapsed),d=!1,p={},f={};function m(e){return d?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function h(){a.removeClass("collapsing").addClass("collapse").css(p),l(i)}function g(){a.css(f),a.removeClass("collapsing").addClass("collapse"),u(i)}!function(){(d=!!("horizontal"in o))?(p={width:""},f={width:"0"}):(p={height:""},f={height:"0"});i.$eval(o.uibCollapse)||a.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(p)}(),i.$watch(o.uibCollapse,(function(n){n?function(){if(!a.hasClass("collapse")&&!a.hasClass("in"))return g();t.resolve(c(i)).then((function(){a.css(m(a[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),r?r(a,{removeClass:"in",to:f}).start().finally(g):e.removeClass(a,"in",{to:f}).then(g)}),angular.noop)}():a.hasClass("collapse")&&a.hasClass("in")||t.resolve(s(i)).then((function(){a.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(a,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:m(a[0])}).start().finally(h):e.addClass(a,"in",{css:{overflow:"hidden"},to:m(a[0])}).then(h)}),angular.noop)}))}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",(function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",(function(e){n.$set("tabindex",e?-1:null)}))}}})),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers)&&angular.forEach(this.groups,(function(e){e!==i&&(e.isOpen=!1)}))},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",(function(n){t.removeGroup(e)}))},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",(function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}})).directive("uibAccordionGroup",(function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){t.addClass("panel"),i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",(function(n){t.toggleClass(e.openClass,!!n),n&&i.closeOthers(e)})),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var r="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=r+"-tab",e.panelId=r+"-panel"}}})).directive("uibAccordionHeading",(function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}})).directive("uibAccordionTransclude",(function(){return{require:"^uibAccordionGroup",link:function(e,t,n,i){e.$watch((function(){return i[n.uibAccordionTransclude]}),(function(e){if(e){var n=angular.element(t[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));n.html(""),n.append(e)}}))}}})),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,i,r){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");var a=angular.isDefined(n.dismissOnTimeout)?i(n.dismissOnTimeout)(e.$parent):null;a&&r((function(){e.close()}),parseInt(a,10))}]).directive("uibAlert",(function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}})),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,i,r){var a=r[0],o=r[1],s=e(i.uibUncheckable);n.find("input").css({display:"none"}),o.$render=function(){n.toggleClass(a.activeClass,angular.equals(o.$modelValue,t.$eval(i.uibBtnRadio)))},n.on(a.toggleEvent,(function(){if(!i.disabled){var e=n.hasClass(a.activeClass);e&&!angular.isDefined(i.uncheckable)||t.$apply((function(){o.$setViewValue(e?null:t.$eval(i.uibBtnRadio)),o.$render()}))}})),i.uibUncheckable&&t.$watch(s,(function(e){i.$set("uncheckable",e?"":void 0)}))}}}]).directive("uibBtnCheckbox",(function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,i){var r=i[0],a=i[1];function o(){return s(n.btnCheckboxTrue,!0)}function s(t,n){return angular.isDefined(t)?e.$eval(t):n}t.find("input").css({display:"none"}),a.$render=function(){t.toggleClass(r.activeClass,angular.equals(a.$modelValue,o()))},t.on(r.toggleEvent,(function(){n.disabled||e.$apply((function(){a.$setViewValue(t.hasClass(r.activeClass)?s(n.btnCheckboxFalse,!1):o()),a.$render()}))}))}}})),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,i,r){var a,o,s=this,l=s.slides=e.slides=[],c="uib-slideDirection",u=e.active,d=!1;function p(e){for(var t=0;t<l.length;t++)l[t].slide.active=t===e}function f(e){for(var t=0;t<l.length;t++)if(l[t].slide===e)return t}function m(){a&&(n.cancel(a),a=null)}function h(){m();var t=+e.interval;!isNaN(t)&&t>0&&(a=n(g,t))}function g(){var t=+e.interval;o&&!isNaN(t)&&t>0&&l.length?e.next():e.pause()}t.addClass("carousel"),s.addSlide=function(t,n){l.push({slide:t,element:n}),l.sort((function(e,t){return+e.slide.index-+t.slide.index})),(t.index===e.active||1===l.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),u=t.index,e.active=t.index,p(u),s.select(l[f(t)]),1===l.length&&e.play())},s.getCurrentIndex=function(){for(var e=0;e<l.length;e++)if(l[e].slide.index===u)return e},s.next=e.next=function(){var t=(s.getCurrentIndex()+1)%l.length;if(0!==t||!e.noWrap())return s.select(l[t],"next");e.pause()},s.prev=e.prev=function(){var t=s.getCurrentIndex()-1<0?l.length-1:s.getCurrentIndex()-1;if(!e.noWrap()||t!==l.length-1)return s.select(l[t],"prev");e.pause()},s.removeSlide=function(t){var n=f(t);l.splice(n,1),l.length>0&&u===n?n>=l.length?(u=l.length-1,e.active=u,p(u),s.select(l[l.length-1])):(u=n,e.active=u,p(u),s.select(l[n])):u>n&&(u--,e.active=u),0===l.length&&(u=null,e.active=null)},s.select=e.select=function(n,i){var a=f(n.slide);void 0===i&&(i=a>s.getCurrentIndex()?"next":"prev"),n.slide.index===u||e.$currentTransition||function(n,i,a){if(d)return;if(angular.extend(n,{direction:a}),angular.extend(l[u].slide||{},{direction:a}),r.enabled(t)&&!e.$currentTransition&&l[i].element&&s.slides.length>1){l[i].element.data(c,n.direction);var o=s.getCurrentIndex();angular.isNumber(o)&&l[o].element&&l[o].element.data(c,n.direction),e.$currentTransition=!0,r.on("addClass",l[i].element,(function(t,n){"close"===n&&(e.$currentTransition=null,r.off("addClass",t))}))}e.active=n.index,u=n.index,p(i),h()}(n.slide,a,i)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===l.length-1&&e.noWrap()},e.pause=function(){e.noPause||(o=!1,m())},e.play=function(){o||(o=!0,h())},t.on("mouseenter",e.pause),t.on("mouseleave",e.play),e.$on("$destroy",(function(){d=!0,m()})),e.$watch("noTransition",(function(e){r.enabled(t,!e)})),e.$watch("interval",h),e.$watchCollection("slides",(function(t){t.length||(e.$currentTransition=null)})),e.$watch("active",(function(e){if(angular.isNumber(e)&&u!==e){for(var t=0;t<l.length;t++)if(l[t].slide.index===e){e=t;break}l[e]&&(p(e),s.select(l[e]),u=e)}}))}]).directive("uibCarousel",(function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}})).directive("uibSlide",["$animate",function(e){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,n,i,r){n.addClass("item"),r.addSlide(t,n),t.$on("$destroy",(function(){r.removeSlide(t)})),t.$watch("active",(function(t){e[t?"addClass":"removeClass"](n,"active")}))}}}]).animation(".item",["$animateCss",function(e){var t="uib-slideDirection";function n(e,t,n){e.removeClass(t),n&&n()}return{beforeAddClass:function(i,r,a){if("active"===r){var o=i.data(t),s="next"===o?"left":"right",l=n.bind(this,i,s+" "+o,a);return i.addClass(o),e(i,{addClass:s}).start().done(l),function(){!0}}a()},beforeRemoveClass:function(i,r,a){if("active"===r){var o="next"===i.data(t)?"left":"right",s=n.bind(this,i,o,a);return e(i,{addClass:o}).start().done(s),function(){!0}}a()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(e,t,n,i,r){var a,o,s=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function l(e){return r(o,{key:e},!0)[0]}function c(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function u(e,t){for(var n=e.substr(t),i=0;i<o.length;i++)if(new RegExp("^"+o[i].key).test(n)){var r=o[i];return{endIdx:t+r.key.length,parser:r.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function d(e){return parseInt(e,10)}function p(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function f(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function m(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return f(e,n*(p(t,i)-i))}this.init=function(){a=t.id,this.parsers={},this.formatters={},o=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=e<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],i=t[2],r=t[3];this.hours+=d(n+i),this.minutes+=d(n+r)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],angular.version.major>=1&&angular.version.minor>4&&o.push({key:"LLLL",regex:t.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.getParser=function(e){var t=l(e);return t&&t.apply||null},this.overrideParser=function(e,t){var n=l(e);n&&angular.isFunction(t)&&(this.parsers={},n.apply=t)}.bind(this),this.filter=function(e,n){return angular.isDate(e)&&!isNaN(e)&&n?(n=t.DATETIME_FORMATS[n]||n,t.id!==a&&this.init(),this.formatters[n]||(this.formatters[n]=function(e){for(var t,n,i=[],r=0;r<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(r))(r+1>=e.length||"'"!==e.charAt(r+1))&&(i.push(c(e,n,r)),n=null);else if(r===e.length)for(;n<e.length;)t=u(e,n),i.push(t),n=t.endIdx;r++}else"'"!==e.charAt(r)?(t=u(e,r),i.push(t.parser),r=t.endIdx):(n=r,r++);return i}(n)),this.formatters[n].reduce((function(t,n){return t+n(e)}),"")):""},this.parse=function(n,r,l){if(!angular.isString(n)||!r)return n;r=(r=t.DATETIME_FORMATS[r]||r).replace(s,"\\$&"),t.id!==a&&this.init(),this.parsers[r]||(this.parsers[r]=function(e){var t=[],n=e.split(""),r=e.indexOf("'");if(r>-1){var a=!1;e=e.split("");for(var s=r;s<e.length;s++)a?("'"===e[s]&&(s+1<e.length&&"'"===e[s+1]?(e[s+1]="$",n[s+1]=""):(n[s]="",a=!1)),e[s]="$"):"'"===e[s]&&(e[s]="$",n[s]="",a=!0);e=e.join("")}return angular.forEach(o,(function(i){var r=e.indexOf(i.key);if(r>-1){e=e.split(""),n[r]="("+i.regex+")",e[r]="$";for(var a=r+1,o=r+i.key.length;a<o;a++)n[a]="",e[a]="$";e=e.join(""),t.push({index:r,key:i.key,apply:i.apply,matcher:i.regex})}})),{regex:new RegExp("^"+n.join("")+"$"),map:i(t,"index")}}(r));var c=this.parsers[r],u=c.regex,d=c.map,p=n.match(u),f=!1;if(p&&p.length){var m,h;angular.isDate(l)&&!isNaN(l.getTime())?m={year:l.getFullYear(),month:l.getMonth(),date:l.getDate(),hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds(),milliseconds:l.getMilliseconds()}:(l&&e.warn("dateparser:","baseDate is not a valid date"),m={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var g=1,v=p.length;g<v;g++){var y=d[g-1];"Z"===y.matcher&&(f=!0),y.apply&&y.apply.call(m,p[g])}var b=f?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,_=f?Date.prototype.setUTCHours:Date.prototype.setHours;return function(e,t,n){if(n<1)return!1;if(1===t&&n>28)return 29===n&&(e%4==0&&e%100!=0||e%400==0);if(3===t||5===t||8===t||10===t)return n<31;return!0}(m.year,m.month,m.date)&&(!angular.isDate(l)||isNaN(l.getTime())||f?(h=new Date(0),b.call(h,m.year,m.month,m.date),_.call(h,m.hours||0,m.minutes||0,m.seconds||0,m.milliseconds||0)):(h=new Date(l),b.call(h,m.year,m.month,m.date),_.call(h,m.hours,m.minutes,m.seconds,m.milliseconds))),h}},this.toTimezone=function(e,t){return e&&t?m(e,t):e},this.fromTimezone=function(e,t){return e&&t?m(e,t,!0):e},this.timezoneToOffset=p,this.addDateMinutes=f,this.convertTimezoneToLocal=m}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(i,r){var a=[],o=[],s={},l=r.uibIsClass.match(t),c=l[2],u=l[1].split(",");return function(t,i,r){a.push(t),o.push({scope:t,element:i}),u.forEach((function(i,r){!function(t,i){var r=t.match(n),a=i.$eval(r[1]),l=r[2],u=s[t];if(!u){var d=function(t){var n=null;o.some((function(e){if(e.scope.$eval(c)===t)return n=e,!0})),u.lastActivated!==n&&(u.lastActivated&&e.removeClass(u.lastActivated.element,a),n&&e.addClass(n.element,a),u.lastActivated=n)};s[t]=u={lastActivated:null,scope:i,watchFn:d,compareWithExp:l,watcher:i.$watch(l,d)}}u.watchFn(i.$eval(l))}(i,t)})),t.$on("$destroy",d)};function d(e){var t=e.targetScope,n=a.indexOf(t);if(a.splice(n,1),o.splice(n,1),a.length){var i=a[0];angular.forEach(s,(function(e){e.scope===t&&(e.watcher=i.$watch(e.compareWithExp,e.watchFn),e.scope=i)}))}else s={}}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,i,r,a,o,s,l,c,u,d){var p=this,f={$setViewValue:angular.noop},m={},h=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach((function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":p[t]=angular.isDefined(e.datepickerOptions[t])?r(e.datepickerOptions[t])(e.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":p[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:l[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?p.startingDay=e.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?p.startingDay=l.startingDay:p.startingDay=(a.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,(function(e){e?angular.isDate(e)?p[t]=d.fromTimezone(new Date(e),m.getOption("timezone")):(c&&o.warn("Literal date support has been deprecated, please switch to date object usage"),p[t]=new Date(s(e,"medium"))):p[t]=l[t]?d.fromTimezone(new Date(l[t]),m.getOption("timezone")):null,p.refreshView()}));break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch((function(){return e.datepickerOptions[t]}),(function(n){p[t]=e[t]=angular.isDefined(n)?n:e.datepickerOptions[t],("minMode"===t&&p.modes.indexOf(e.datepickerOptions.datepickerMode)<p.modes.indexOf(p[t])||"maxMode"===t&&p.modes.indexOf(e.datepickerOptions.datepickerMode)>p.modes.indexOf(p[t]))&&(e.datepickerMode=p[t],e.datepickerOptions.datepickerMode=p[t])})):p[t]=e[t]=l[t]||null}})),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&h.push(e.$parent.$watch(n.ngDisabled,(function(t){e.disabled=t,p.refreshView()}))),e.isActive=function(t){return 0===p.compare(t.date,p.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){m=function(t){var n;if(angular.version.minor<6)(n=t.$options||e.datepickerOptions.ngModelOptions||l.ngModelOptions||{}).getOption=function(e){return n[e]};else{var i=t.$options.getOption("timezone")||(e.datepickerOptions.ngModelOptions?e.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);n=t.$options.createChild(l.ngModelOptions).createChild(e.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:i})}return n}(f=t),e.datepickerOptions.initDate?(p.activeDate=d.fromTimezone(e.datepickerOptions.initDate,m.getOption("timezone"))||new Date,e.$watch("datepickerOptions.initDate",(function(e){e&&(f.$isEmpty(f.$modelValue)||f.$invalid)&&(p.activeDate=d.fromTimezone(e,m.getOption("timezone")),p.refreshView())}))):p.activeDate=new Date;var n=f.$modelValue?new Date(f.$modelValue):new Date;this.activeDate=isNaN(n)?d.fromTimezone(new Date,m.getOption("timezone")):d.fromTimezone(n,m.getOption("timezone")),f.$render=function(){p.render()}},this.render=function(){if(f.$viewValue){var e=new Date(f.$viewValue);!isNaN(e)?this.activeDate=d.fromTimezone(e,m.getOption("timezone")):u||o.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=f.$viewValue?new Date(f.$viewValue):null;t=d.fromTimezone(t,m.getOption("timezone")),f.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var i=f.$viewValue?new Date(f.$viewValue):null;i=d.fromTimezone(i,m.getOption("timezone"));var r=new Date;r=d.fromTimezone(r,m.getOption("timezone"));var a=this.compare(t,r),o={date:t,label:d.filter(t,n),selected:i&&0===this.compare(t,i),disabled:this.isDisabled(t),past:a<0,current:0===a,future:a>0,customClass:this.customClass(t)||null};return i&&0===this.compare(t,i)&&(e.selectedDt=o),p.activeDate&&0===this.compare(o.date,p.activeDate)&&(e.activeDt=o),o},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===p.minMode){var n=f.$viewValue?d.fromTimezone(new Date(f.$viewValue),m.getOption("timezone")):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=d.toTimezone(n,m.getOption("timezone")),f.$setViewValue(n),f.$render()}else p.activeDate=t,g(p.modes[p.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=p.activeDate.getFullYear()+e*(p.step.years||0),n=p.activeDate.getMonth()+e*(p.step.months||0);p.activeDate.setFullYear(t,n,1),p.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===p.maxMode&&1===t||e.datepickerMode===p.minMode&&-1===t||(g(p.modes[p.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};function g(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}e.$on("uib:datepicker.focus",(function(){p.element[0].focus()})),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),p.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(p.isDisabled(p.activeDate))return;e.select(p.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(p.handleKeyDown(n,t),p.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",(function(t){e.$apply((function(){e.keydown(t)}))})),e.$on("$destroy",(function(){for(;h.length;)h.shift()()}))}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){var i=[31,28,31,30,31,30,31,31,30,31,30,31];function r(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?i[t]:29}function a(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),r=new Date(e),a=0;a<t;)n=new Date(r),i[a++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),r=new Date(this.activeDate);r.setFullYear(t,i,1);var o=this.startingDay-r.getDay(),s=o>0?7-o:-o,l=new Date(r);s>0&&l.setDate(1-s);for(var c=this.getDates(l,42),u=0;u<42;u++)c[u]=angular.extend(this.createDateObject(c[u],this.formatDay),{secondary:c[u].getMonth()!==i,uid:e.uniqueId+"-"+u});e.labels=new Array(7);for(var d=0;d<7;d++)e.labels[d]={abbr:n(c[d].date,this.formatDayHeader),full:n(c[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(c,7),e.showWeeks){e.weekNumbers=[];for(var p=(11-this.startingDay)%7,f=e.rows.length,m=0;m<f;m++)e.weekNumbers.push(a(e.rows[m][p].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(i,1),n=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,i=new Array(12),r=this.activeDate.getFullYear(),a=0;a<12;a++)(t=new Date(this.activeDate)).setFullYear(r,a,1),i[a]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+a});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(i,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=this.monthColumns;else if("right"===e)n+=1;else if("down"===e)n+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){var i,r;function a(e){return parseInt((e-1)/r,10)*r+1}this.element=t,this.yearpickerInit=function(){i=this.yearColumns,r=this.yearRows*i,this.step={years:r}},this._refreshView=function(){for(var t,n=new Array(r),o=0,s=a(this.activeDate.getFullYear());o<r;o++)(t=new Date(this.activeDate)).setFullYear(s+o,0,1),n[o]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+o});e.title=[n[0].label,n[r-1].label].join(" - "),e.rows=this.split(n,i),e.columns=i},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=i:"right"===e?n+=1:"down"===e?n+=i:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*r:"home"===e?n=a(this.activeDate.getFullYear()):"end"===e&&(n=a(this.activeDate.getFullYear())+r-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",(function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var r=i[0],a=i[1];r.init(a)}}})).directive("uibDaypicker",(function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,i){var r=i[0];i[1].init(r)}}})).directive("uibMonthpicker",(function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,i){var r=i[0];i[1].init(r)}}})).directive("uibYearpicker",(function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,i){var r=i[0];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}})),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,i,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},a={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},o=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){var i,r=(n=this.getRawNode(n)).offsetParent||e[0].documentElement;for(;r&&r!==e[0].documentElement&&(i=r,"static"===(t.getComputedStyle(i).position||"static"));)r=r.offsetParent;return r||e[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(i)){var a=e.find("body");a.addClass("uib-position-body-scrollbar-measure"),i=t.innerWidth-a[0].clientWidth,i=isFinite(i)?i:0,a.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var o=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(o),n=o[0].offsetWidth-o[0].clientWidth,n=isFinite(n)?n:0,o.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),i=this.parseStyle(n.paddingRight),r=this.parseStyle(n.paddingBottom),a=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(o.test(a.tagName));return{scrollbarWidth:s,widthOverflow:a.scrollWidth>a.clientWidth,right:i+s,originalRight:i,heightOverflow:a.scrollHeight>a.clientHeight,bottom:r+s,originalBottom:r}},isScrollable:function(e,n){e=this.getRawNode(e);var i=n?r.hidden:r.normal,a=t.getComputedStyle(e);return i.test(a.overflow+a.overflowY+a.overflowX)},scrollParent:function(n,i,a){n=this.getRawNode(n);var o=i?r.hidden:r.normal,s=e[0].documentElement,l=t.getComputedStyle(n);if(a&&o.test(l.overflow+l.overflowY+l.overflowX))return n;var c="absolute"===l.position,u=n.parentElement||s;if(u===s||"fixed"===l.position)return s;for(;u.parentElement&&u!==s;){var d=t.getComputedStyle(u);if(c&&"static"!==d.position&&(c=!1),!c&&o.test(d.overflow+d.overflowY+d.overflowX))break;u=u.parentElement}return u},position:function(n,i){n=this.getRawNode(n);var r=this.offset(n);if(i){var a=t.getComputedStyle(n);r.top-=this.parseStyle(a.marginTop),r.left-=this.parseStyle(a.marginLeft)}var o=this.offsetParent(n),s={top:0,left:0};return o!==e[0].documentElement&&((s=this.offset(o)).top+=o.clientTop-o.scrollTop,s.left+=o.clientLeft-o.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top-s.top),left:Math.round(r.left-s.left)}},offset:function(n){var i=(n=this.getRawNode(n)).getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(i.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,r){r=!1!==r;var a=(n=this.getRawNode(n)).getBoundingClientRect(),o={top:0,left:0,bottom:0,right:0},s=i?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(o.top=l.top+s.clientTop,o.left=l.left+s.clientLeft,s===e[0].documentElement&&(o.top+=t.pageYOffset,o.left+=t.pageXOffset),o.bottom=o.top+s.clientHeight,o.right=o.left+s.clientWidth,r){var c=t.getComputedStyle(s);o.top+=this.parseStyle(c.paddingTop),o.bottom-=this.parseStyle(c.paddingBottom),o.left+=this.parseStyle(c.paddingLeft),o.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(a.top-o.top),bottom:Math.round(o.bottom-a.bottom),left:Math.round(a.left-o.left),right:Math.round(o.right-a.right)}},parsePlacement:function(e){var t=a.auto.test(e);return t&&(e=e.replace(a.auto,"")),(e=e.split("-"))[0]=e[0]||"top",a.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",a.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,n,i,r){e=this.getRawNode(e),n=this.getRawNode(n);var o=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var l=r?this.offset(e):this.position(e),c={top:0,left:0,placement:""};if(i[2]){var u=this.viewportOffset(e,r),d=t.getComputedStyle(n),p={width:o+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(i[0]="top"===i[0]&&p.height>u.top&&p.height<=u.bottom?"bottom":"bottom"===i[0]&&p.height>u.bottom&&p.height<=u.top?"top":"left"===i[0]&&p.width>u.left&&p.width<=u.right?"right":"right"===i[0]&&p.width>u.right&&p.width<=u.left?"left":i[0],i[1]="top"===i[1]&&p.height-l.height>u.bottom&&p.height-l.height<=u.top?"bottom":"bottom"===i[1]&&p.height-l.height>u.top&&p.height-l.height<=u.bottom?"top":"left"===i[1]&&p.width-l.width>u.right&&p.width-l.width<=u.left?"right":"right"===i[1]&&p.width-l.width>u.left&&p.width-l.width<=u.right?"left":i[1],"center"===i[1])if(a.vertical.test(i[0])){var f=l.width/2-o/2;u.left+f<0&&p.width-l.width<=u.right?i[1]="left":u.right+f<0&&p.width-l.width<=u.left&&(i[1]="right")}else{var m=l.height/2-p.height/2;u.top+m<0&&p.height-l.height<=u.bottom?i[1]="top":u.bottom+m<0&&p.height-l.height<=u.top&&(i[1]="bottom")}}switch(i[0]){case"top":c.top=l.top-s;break;case"bottom":c.top=l.top+l.height;break;case"left":c.left=l.left-o;break;case"right":c.left=l.left+l.width}switch(i[1]){case"top":c.top=l.top;break;case"bottom":c.top=l.top+l.height-s;break;case"left":c.left=l.left;break;case"right":c.left=l.left+l.width-o;break;case"center":a.vertical.test(i[0])?c.left=l.left+l.width/2-o/2:c.top=l.top+l.height/2-s/2}return c.top=Math.round(c.top),c.left=Math.round(c.left),c.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],c},adjustTop:function(e,t,n,i){if(-1!==e.indexOf("top")&&n!==i)return{top:t.top-i+"px"}},positionArrow:function(e,n){var i=(e=this.getRawNode(e)).querySelector(".tooltip-inner, .popover-inner");if(i){var r=angular.element(i).hasClass("tooltip-inner"),o=r?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(o){var s={top:"",bottom:"",left:"",right:""};if("center"!==(n=this.parsePlacement(n))[1]){var l="border-"+n[0]+"-width",c=t.getComputedStyle(o)[l],u="border-";a.vertical.test(n[0])?u+=n[0]+"-"+n[1]:u+=n[1]+"-"+n[0],u+="-radius";var d=t.getComputedStyle(r?i:e)[u];switch(n[0]){case"top":s.bottom=r?"0":"-"+c;break;case"bottom":s.top=r?"0":"-"+c;break;case"left":s.right=r?"0":"-"+c;break;case"right":s.left=r?"0":"-"+c}s[n[1]]=d,angular.element(o).css(s)}else angular.element(o).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,i,r,a,o,s,l,c,u,d,p,f,m,h){var g,v,y,b,_,E,x,w,S,C,k,T,I,A=!1,D=[];function O(t){var n=d.parse(t,g,e.date);if(isNaN(n))for(var i=0;i<I.length;i++)if(n=d.parse(t,I[i],e.date),!isNaN(n))return n;return n}function P(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=O(e);if(!isNaN(t))return d.toTimezone(t,k.getOption("timezone"))}return k.getOption("allowInvalid")?e:void 0}function N(e,t){var i=e||t;return!n.ngRequired&&!i||(angular.isNumber(i)&&(i=new Date(i)),!i||(!(!angular.isDate(i)||isNaN(i))||!!angular.isString(i)&&!isNaN(O(i))))}function M(n){if(e.isOpen||!e.disabled){var i=T[0],r=t[0].contains(n.target),a=void 0!==i.contains&&i.contains(n.target);!e.isOpen||r||a||e.$apply((function(){e.isOpen=!1}))}}function R(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply((function(){e.isOpen=!1})),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply((function(){e.isOpen=!0})))}function L(){if(e.isOpen){var i=angular.element(T[0].querySelector(".uib-datepicker-popup")),r=n.popupPlacement?n.popupPlacement:p.placement,a=c.positionElements(t,i,r,y);i.css({top:a.top+"px",left:a.left+"px"}),i.hasClass("uib-position-measure")&&i.removeClass("uib-position-measure")}}this.init=function(r){if(k=function(e){var t;angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null}).getOption=function(e){return t[e]}:t=e.$options;return t}(C=r),v=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):p.closeOnDateSelection,y=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):p.appendToBody,b=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):p.onOpenFocus,_=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:p.datepickerPopupTemplateUrl,E=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:p.datepickerTemplateUrl,I=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):p.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):p.showButtonBar,p.html5Types[n.type]?(g=p.html5Types[n.type],A=!0):(g=n.uibDatepickerPopup||p.datepickerPopup,n.$observe("uibDatepickerPopup",(function(e,t){var n=e||p.datepickerPopup;if(n!==g&&(g=n,C.$modelValue=null,!g))throw new Error("uibDatepickerPopup must have a date format specified.")}))),!g)throw new Error("uibDatepickerPopup must have a date format specified.");if(A&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");(x=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":_}),(w=angular.element(x.children()[0])).attr("template-url",E),e.datepickerOptions||(e.datepickerOptions={}),A&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),w.attr("datepicker-options","datepickerOptions"),A?C.$formatters.push((function(t){return e.date=d.fromTimezone(t,k.getOption("timezone")),t})):(C.$$parserName="date",C.$validators.date=N,C.$parsers.unshift(P),C.$formatters.push((function(t){return C.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=d.fromTimezone(t,k.getOption("timezone")),d.filter(e.date,g))}))),C.$viewChangeListeners.push((function(){e.date=O(C.$viewValue)})),t.on("keydown",R),T=i(x)(e),x.remove(),y?s.find("body").append(T):t.after(T),e.$on("$destroy",(function(){for(!0===e.isOpen&&(l.$$phase||e.$apply((function(){e.isOpen=!1}))),T.remove(),t.off("keydown",R),s.off("click",M),S&&S.off("scroll",L),angular.element(o).off("resize",L);D.length;)D.shift()()}))},e.getText=function(t){return e[t+"Text"]||p[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=d.fromTimezone(new Date,k.getOption("timezone")));var n={};return angular.forEach(["minDate","maxDate"],(function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(h&&r.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(u(e.datepickerOptions[t],"medium"))):n[t]=null})),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var i=e.date?d.filter(e.date,g):null;t.val(i),C.$setViewValue(i),v&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var i=new Date;angular.isDate(e.date)?(t=new Date(e.date)).setFullYear(i.getFullYear(),i.getMonth(),i.getDate()):(t=d.fromTimezone(i,k.getOption("timezone"))).setHours(0,0,0,0)}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&D.push(e.$parent.$watch(a(n.ngDisabled),(function(t){e.disabled=t}))),e.$watch("isOpen",(function(i){i?e.disabled?e.isOpen=!1:f((function(){L(),b&&e.$broadcast("uib:datepicker.focus"),s.on("click",M);var i=n.popupPlacement?n.popupPlacement:p.placement;y||c.parsePlacement(i)[2]?(S=S||angular.element(c.scrollParent(t)))&&S.on("scroll",L):S=null,angular.element(o).on("resize",L)}),0,!1):(s.off("click",M),S&&S.off("scroll",L),angular.element(o).off("resize",L))})),e.$on("uib:datepicker.mode",(function(){f(L,0,!1)}))}]).directive("uibDatepickerPopup",(function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,i){var r=i[0];i[1].init(r)}}})).directive("uibDatepickerPopupWrap",(function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}})),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var i;return function(){var r=this,a=Array.prototype.slice.call(arguments);i&&e.cancel(i),i=e((function(){t.apply(r,a)}),n)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",(function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map((function(t){return{key:t,value:e[t]}}))},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i=e[t];if(i){var r=i.indexOf(n);-1!==r&&i.splice(r,1),i.length||delete e[t]}}}}}})),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(e,t,n){var i=null,r=n.createNew();this.isOnlyOpen=function(e,t){var n=r.get(t);if(n&&n.reduce((function(t,n){return n.scope===e?n:t}),{}))return 1===n.length;return!1},this.open=function(t,n,o){if(i||e.on("click",a),i&&i!==t&&(i.isOpen=!1),i=t,o){var s=r.get(o);if(s)-1===s.map((function(e){return e.scope})).indexOf(t)&&r.put(o,{scope:t});else r.put(o,{scope:t})}},this.close=function(t,n,o){if(i===t&&(e.off("click",a),e.off("keydown",this.keybindFilter),i=null),o){var s=r.get(o);if(s){var l=s.reduce((function(e,n){return n.scope===t?n:e}),{});l&&r.remove(o,l)}}};var a=function(e){if(i&&i.isOpen&&!(e&&"disabled"===i.getAutoClose()||e&&3===e.which)){var n=i.getToggleElement();if(!(e&&n&&n[0].contains(e.target))){var r=i.getDropdownElement();e&&"outsideClick"===i.getAutoClose()&&r&&r[0].contains(e.target)||(i.focusToggleElement(),i.isOpen=!1,t.$$phase||i.$apply())}}};this.keybindFilter=function(e){if(i){var t=i.getDropdownElement(),n=i.getToggleElement(),r=t&&t[0].contains(e.target),o=n&&n[0].contains(e.target);27===e.which?(e.stopPropagation(),i.focusToggleElement(),a()):i.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&i.isOpen&&(r||o)&&(e.preventDefault(),e.stopPropagation(),i.focusDropdownEntry(e.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,i,r,a,o,s,l,c,u){var d,p,f=this,m=e.$new(),h=r.appendToOpenClass,g=r.openClass,v=angular.noop,y=n.onToggle?i(n.onToggle):angular.noop,b=!1,_=l.find("body");function E(){t.append(f.dropdownMenu)}t.addClass("dropdown"),this.init=function(){n.isOpen&&(p=i(n.isOpen),v=p.assign,e.$watch(p,(function(e){m.isOpen=!!e}))),b=angular.isDefined(n.keyboardNav)},this.toggle=function(e){return m.isOpen=arguments.length?!!e:!m.isOpen,angular.isFunction(v)&&v(m,m.isOpen),m.isOpen},this.isOpen=function(){return m.isOpen},m.getToggleElement=function(){return f.toggleElement},m.getAutoClose=function(){return n.autoClose||"always"},m.getElement=function(){return t},m.isKeynavEnabled=function(){return b},m.focusDropdownEntry=function(e){var n=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(f.selectedOption)?f.selectedOption=f.selectedOption===n.length-1?f.selectedOption:f.selectedOption+1:f.selectedOption=0;break;case 38:angular.isNumber(f.selectedOption)?f.selectedOption=0===f.selectedOption?0:f.selectedOption-1:f.selectedOption=n.length-1}n[f.selectedOption].focus()},m.getDropdownElement=function(){return f.dropdownMenu},m.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},m.$watch("isOpen",(function(r,p){var b=null,x=!1;if(angular.isDefined(n.dropdownAppendTo)){var w=i(n.dropdownAppendTo)(m);w&&(b=angular.element(w))}angular.isDefined(n.dropdownAppendToBody)&&(!1!==i(n.dropdownAppendToBody)(m)&&(x=!0));if(x&&!b&&(b=_),b&&f.dropdownMenu&&(r?(b.append(f.dropdownMenu),t.on("$destroy",E)):(t.off("$destroy",E),E())),b&&f.dropdownMenu){var S,C,k,T=s.positionElements(t,f.dropdownMenu,"bottom-left",!0),I=0;if(S={top:T.top+"px",display:r?"block":"none"},(C=f.dropdownMenu.hasClass("dropdown-menu-right"))?(S.left="auto",(k=s.scrollbarPadding(b)).heightOverflow&&k.scrollbarWidth&&(I=k.scrollbarWidth),S.right=window.innerWidth-I-(T.left+t.prop("offsetWidth"))+"px"):(S.left=T.left+"px",S.right="auto"),!x){var A=s.offset(b);S.top=T.top-A.top+"px",C?S.right=window.innerWidth-(T.left-A.left+t.prop("offsetWidth"))+"px":S.left=T.left-A.left+"px"}f.dropdownMenu.css(S)}var D=b||t,O=b?h:g,P=D.hasClass(O),N=a.isOnlyOpen(e,b);P===!r&&o[b?N?"removeClass":"addClass":r?"addClass":"removeClass"](D,O).then((function(){angular.isDefined(r)&&r!==p&&y(e,{open:!!r})}));if(r)f.dropdownMenuTemplateUrl?u(f.dropdownMenuTemplateUrl).then((function(e){d=m.$new(),c(e.trim())(d,(function(e){var t=e;f.dropdownMenu.replaceWith(t),f.dropdownMenu=t,l.on("keydown",a.keybindFilter)}))})):l.on("keydown",a.keybindFilter),m.focusToggleElement(),a.open(m,t,b);else{if(a.close(m,t,b),f.dropdownMenuTemplateUrl){d&&d.$destroy();var M=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith(M),f.dropdownMenu=M}f.selectedOption=null}angular.isFunction(v)&&v(e,r)}))}]).directive("uibDropdown",(function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}})).directive("uibDropdownMenu",(function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}})).directive("uibDropdownToggle",(function(){return{require:"?^uibDropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply((function(){i.toggle()}))};t.on("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,(function(e){t.attr("aria-expanded",!!e)})),e.$on("$destroy",(function(){t.off("click",r)}))}}}})),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",(function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t===e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}})),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",(function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var i=e.resolver?t.get(e.resolver):null;return{resolve:function(e,r,a,o){if(i)return i.resolve(e,r,a,o);var s=[];return angular.forEach(e,(function(e){angular.isFunction(e)||angular.isArray(e)?s.push(n.resolve(t.invoke(e))):angular.isString(e)?s.push(n.resolve(t.get(e))):s.push(n.resolve(e))})),n.all(s).then((function(t){var n={},i=0;return angular.forEach(e,(function(e,r){n[r]=t[i++]})),n}))}}}]})).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),i}};function i(t,i,r){r.modalInClass&&(e.addClass(i,r.modalInClass),t.$on(n.NOW_CLOSING_EVENT,(function(n,a){var o=a();t.modalOptions.animation?e.removeClass(i,r.modalInClass).then(o):o()})))}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,i){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(r,a,o){a.addClass(o.windowTopClass||""),r.size=o.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},a.on("click",r.close),r.$isRendered=!0;var s=t.defer();r.$$postDigest((function(){s.resolve()})),s.promise.then((function(){var s=null;o.modalInClass&&(s=n(a,{addClass:o.modalInClass}).start(),r.$on(e.NOW_CLOSING_EVENT,(function(e,t){var i=t();n(a,{removeClass:o.modalInClass}).start().then(i)}))),t.when(s).then((function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!i[0].activeElement||!a[0].contains(i[0].activeElement)){var n=a[0].querySelector("[autofocus]");n?n.focus():a[0].focus()}}))}))}}}]).directive("uibModalAnimationClass",(function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}})).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,i,r,a){a(t.$parent,(function(t){n.empty(),e.enter(t,n)}))}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,i,r,a,o,s,l){var c,u,d,p="modal-open",f=s.createNew(),m=o.createNew(),h={NOW_CLOSING_EVENT:"modal.stack.now-closing"},g=0,v=null,y="data-bootstrap-modal-aria-hidden-count",b=/[A-Z]/g;function _(){for(var e=-1,t=f.keys(),n=0;n<t.length;n++)f.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<g&&(e=g),e}function E(e,t){var n=f.get(e).value,i=n.appendTo;f.remove(e),(v=f.top())&&(g=parseInt(v.value.modalDomEl.attr("index"),10)),w(n.modalDomEl,n.modalScope,(function(){var t=n.openedClass||p;m.remove(t,e);var r=m.hasKey(t);i.toggleClass(t,r),!r&&d&&d.heightOverflow&&d.scrollbarWidth&&(d.originalRight?i.css({paddingRight:d.originalRight+"px"}):i.css({paddingRight:""}),d=null),x(!0)}),n.closedDeferred),function(){if(c&&-1===_()){w(c,u,(function(){null})),c=void 0,u=void 0}}(),t&&t.focus?t.focus():i.focus&&i.focus()}function x(e){var t;f.length()>0&&(t=f.top().value).modalDomEl.toggleClass(t.windowTopClass||"",e)}function w(t,n,i,r){var o,s=null;return n.$broadcast(h.NOW_CLOSING_EVENT,(function(){return o||(o=a.defer(),s=o.promise),function(){o.resolve()}})),a.when(s).then((function a(){if(a.done)return;a.done=!0,e.leave(t).then((function(){i&&i(),t.remove(),r&&r.resolve()})),n.$destroy()}))}function S(e){if(e.isDefaultPrevented())return e;var t=f.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),r.$apply((function(){h.dismiss(t.key,"escape key press")})));break;case 9:var n=h.loadFocusElementList(t),i=!1;e.shiftKey?(h.isFocusInFirstItem(e,n)||h.isModalFocused(e,t))&&(i=h.focusLastFocusableElement(n)):h.isFocusInLastItem(e,n)&&(i=h.focusFirstFocusableElement(n)),i&&(e.preventDefault(),e.stopPropagation())}}function C(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function k(){Array.prototype.forEach.call(document.querySelectorAll("["+y+"]"),(function(e){var t=parseInt(e.getAttribute(y),10)-1;e.setAttribute(y,t),t||(e.removeAttribute(y),e.removeAttribute("aria-hidden"))}))}return r.$watch(_,(function(e){u&&(u.index=e)})),n.on("keydown",S),r.$on("$destroy",(function(){n.off("keydown",S)})),h.open=function(t,a){var o=n[0].activeElement,s=a.openedClass||p;x(!1),v=f.top(),f.add(t,{deferred:a.deferred,renderDeferred:a.renderDeferred,closedDeferred:a.closedDeferred,modalScope:a.scope,backdrop:a.backdrop,keyboard:a.keyboard,openedClass:a.openedClass,windowTopClass:a.windowTopClass,animation:a.animation,appendTo:a.appendTo}),m.put(s,t);var h,E=a.appendTo,w=_();w>=0&&!c&&((u=r.$new(!0)).modalOptions=a,u.index=w,(c=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),a.backdropClass&&c.addClass(a.backdropClass),a.animation&&c.attr("modal-animation","true"),i(c)(u),e.enter(c,E),l.isScrollable(E)&&(d=l.scrollbarPadding(E)).heightOverflow&&d.scrollbarWidth&&E.css({paddingRight:d.right+"px"})),a.component?(h=document.createElement(a.component.name.replace(b,(function(e,t){return(t?"-":"")+e.toLowerCase()}))),(h=angular.element(h)).attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):h=a.content,g=v?parseInt(v.value.modalDomEl.attr("index"),10)+1:0;var S=angular.element('<div uib-modal-window="modal-window"></div>');S.attr({class:"modal","template-url":a.windowTemplateUrl,"window-top-class":a.windowTopClass,role:"dialog","aria-labelledby":a.ariaLabelledBy,"aria-describedby":a.ariaDescribedBy,size:a.size,index:g,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(h),a.windowClass&&S.addClass(a.windowClass),a.animation&&S.attr("modal-animation","true"),E.addClass(s),a.scope&&(a.scope.$$topModalIndex=g),e.enter(i(S)(a.scope),E),f.top().value.modalDomEl=S,f.top().value.modalOpener=o,function e(t){if(!t||"BODY"===t[0].tagName)return;return function(e){var t=e.parent()?e.parent().children():[];return Array.prototype.filter.call(t,(function(t){return t!==e[0]}))}(t).forEach((function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(y),10);n||(n=t?1:0),e.setAttribute(y,n+1),e.setAttribute("aria-hidden","true")})),e(t.parent())}(S)},h.close=function(e,t){var n=f.get(e);return k(),n&&C(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),E(e,n.value.modalOpener),!0):!n},h.dismiss=function(e,t){var n=f.get(e);return k(),n&&C(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),E(e,n.value.modalOpener),!0):!n},h.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},h.getTop=function(){return f.top()},h.modalRendered=function(e){var t=f.get(e);t&&t.value.renderDeferred.resolve()},h.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},h.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},h.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},h.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},h.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},h.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return n?Array.prototype.filter.call(n,(function(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}(e)})):n}}},h}]).provider("$uibModal",(function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,i,r,a,o,s){var l={};var c=null;return l.getPromiseChain=function(){return c},l.open=function(l){var u,d,p,f=n.defer(),m=n.defer(),h=n.defer(),g=n.defer(),v={result:f.promise,opened:m.promise,closed:h.promise,rendered:g.promise,close:function(e){return s.close(v,e)},dismiss:function(e){return s.dismiss(v,e)}};if((l=angular.extend({},e.options,l)).resolve=l.resolve||{},l.appendTo=l.appendTo||i.find("body").eq(0),!l.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!l.component&&!l.template&&!l.templateUrl)throw new Error("One of component or template or templateUrl options is required.");function y(){return u}return u=l.component?n.when(o.resolve(l.resolve,{},null,null)):n.all([(d=l,d.template?n.when(d.template):r(angular.isFunction(d.templateUrl)?d.templateUrl():d.templateUrl)),o.resolve(l.resolve,{},null,null)]),p=c=n.all([c]).then(y,y).then((function(e){var n=l.scope||t,i=n.$new();i.$close=v.close,i.$dismiss=v.dismiss,i.$on("$destroy",(function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")}));var r,o,c={scope:i,deferred:f,renderDeferred:g,closedDeferred:h,animation:l.animation,backdrop:l.backdrop,keyboard:l.keyboard,backdropClass:l.backdropClass,windowTopClass:l.windowTopClass,windowClass:l.windowClass,windowTemplateUrl:l.windowTemplateUrl,ariaLabelledBy:l.ariaLabelledBy,ariaDescribedBy:l.ariaDescribedBy,size:l.size,openedClass:l.openedClass,appendTo:l.appendTo},u={},d={};function p(t,n,r,a){t.$scope=i,t.$scope.$resolve={},r?t.$scope.$uibModalInstance=v:t.$uibModalInstance=v;var o=n?e[1]:e;angular.forEach(o,(function(e,n){a&&(t[n]=e),t.$scope.$resolve[n]=e}))}l.component?(p(u,!1,!0,!1),u.name=l.component,c.component=u):l.controller&&(p(d,!0,!1,!0),o=a(l.controller,d,!0,l.controllerAs),l.controllerAs&&l.bindToController&&((r=o.instance).$close=i.$close,r.$dismiss=i.$dismiss,angular.extend(r,{$resolve:d.$scope.$resolve},n)),r=o(),angular.isFunction(r.$onInit)&&r.$onInit()),l.component||(c.content=e[0]),s.open(v,c),m.resolve(!0)}),(function(e){m.reject(e),f.reject(e)})).finally((function(){c===p&&(c=null)})),v},l}]};return e})),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,i){t.setNumPages=i.numPages?e(i.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,r){t.ngModelCtrl=e,t.config=r,e.$render=function(){t.render()},i.itemsPerPage?t._watchers.push(n.$parent.$watch(i.itemsPerPage,(function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()}))):t.itemsPerPage=r.itemsPerPage,n.$watch("totalItems",(function(e,i){(angular.isDefined(e)||e!==i)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())}))},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,i){i&&i.preventDefault(),(!n.ngDisabled||!i)&&n.page!==e&&e>0&&e<=n.totalPages&&(i&&i.target&&i.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",(function(){for(;t._watchers.length;)t._watchers.shift()()}))}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,i){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):i.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,n,i,r){n.addClass("pager");var a=r[0],o=r[1];o&&a.init(o,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,i,r){var a=this,o=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):r.maxSize,s=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):r.rotate,l=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):r.forceEllipses,c=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):r.boundaryLinkNumbers,u=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;function d(e,t,n){return{number:e,text:t,active:n}}e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):r.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):r.directionLinks,t.$set("role","menu"),i.create(this,e,t),t.maxSize&&a._watchers.push(e.$parent.$watch(n(t.maxSize),(function(e){o=parseInt(e,10),a.render()})));var p=this.render;this.render=function(){p(),e.page>0&&e.page<=e.totalPages&&(e.pages=function(e,t){var n=[],i=1,r=t,a=angular.isDefined(o)&&o<t;a&&(s?(r=(i=Math.max(e-Math.floor(o/2),1))+o-1)>t&&(i=(r=t)-o+1):(i=(Math.ceil(e/o)-1)*o+1,r=Math.min(i+o-1,t)));for(var p=i;p<=r;p++){var f=d(p,u(p),p===e);n.push(f)}if(a&&o>0&&(!s||l||c)){if(i>1){if(!c||i>3){var m=d(i-1,"...",!1);n.unshift(m)}if(c){if(3===i){var h=d(2,"2",!1);n.unshift(h)}var g=d(1,"1",!1);n.unshift(g)}}if(r<t){if(!c||r<t-2){var v=d(r+1,"...",!1);n.push(v)}if(c){if(r===t-2){var y=d(t-1,t-1,!1);n.push(y)}var b=d(t,t,!1);n.push(b)}}}return n}(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,n,i,r){n.addClass("pagination");var a=r[0],o=r[1];o&&a.init(o,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",(function(){var e={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},t={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},n={};this.options=function(e){angular.extend(n,e)},this.setTriggers=function(e){angular.extend(t,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,r,a,o,s,l,c,u,d){var p=d.createNew();function f(e){if(27===e.which){var t=p.top();t&&(t.value.close(),t=null)}}return o.on("keyup",f),c.$on("$destroy",(function(){o.off("keyup",f)})),function(i,c,d,f){function m(e){var n=(e||f.trigger||d).split(" "),i=n.map((function(e){return t[e]||e}));return{show:n,hide:i}}f=angular.extend({},e,n,f);var h=i.replace(/[A-Z]/g,(function(e,t){return(t?"-":"")+e.toLowerCase()})),g=l.startSymbol(),v=l.endSymbol(),y="<div "+h+'-popup uib-title="'+g+"title"+v+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+g+"content"+v+'" ')+'origin-scope="origScope" class="uib-position-measure '+c+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var n=r(y);return function(e,t,r,l){var d,h,g,v,y,b,_,E,x=!!angular.isDefined(f.appendToBody)&&f.appendToBody,w=m(void 0),S=angular.isDefined(r[c+"Enable"]),C=e.$new(!0),k=!1,T=!!angular.isDefined(r[c+"IsOpen"])&&u(r[c+"IsOpen"]),I=!!f.useContentExp&&u(r[i]),A=[],D=function(){d&&d.html()&&(b||(b=a((function(){var e=s.positionElements(t,d,C.placement,x),n=angular.isDefined(d.offsetHeight)?d.offsetHeight:d.prop("offsetHeight"),i=x?s.offset(t):s.position(t);d.css({top:e.top+"px",left:e.left+"px"});var r=e.placement.split("-");d.hasClass(r[0])||(d.removeClass(E.split("-")[0]),d.addClass(r[0])),d.hasClass(f.placementClassPrefix+e.placement)||(d.removeClass(f.placementClassPrefix+E),d.addClass(f.placementClassPrefix+e.placement)),_=a((function(){var e=angular.isDefined(d.offsetHeight)?d.offsetHeight:d.prop("offsetHeight"),t=s.adjustTop(r,i,n,e);t&&d.css(t),_=null}),0,!1),d.hasClass("uib-position-measure")?(s.positionArrow(d,e.placement),d.removeClass("uib-position-measure")):E!==e.placement&&s.positionArrow(d,e.placement),E=e.placement,b=null}),0,!1)))};function O(){C.isOpen?N():P()}function P(){S&&!e.$eval(r[c+"Enable"])||($(),function(){C.title=r[c+"Title"],C.content=I?I(e):r[i];C.popupClass=r[c+"Class"],C.placement=angular.isDefined(r[c+"Placement"])?r[c+"Placement"]:f.placement;var t=s.parsePlacement(C.placement);E=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(r[c+"PopupDelay"],10),a=parseInt(r[c+"PopupCloseDelay"],10);C.popupDelay=isNaN(n)?f.popupDelay:n,C.popupCloseDelay=isNaN(a)?f.popupCloseDelay:a}(),C.popupDelay?v||(v=a(M,C.popupDelay,!1)):M())}function N(){R(),C.popupCloseDelay?y||(y=a(L,C.popupCloseDelay,!1)):L()}function M(){if(R(),$(),!C.content)return angular.noop;!function(){if(d)return;h=C.$new(),d=n(h,(function(e){x?o.find("body").append(e):t.after(e)})),p.add(C,{close:L}),function(){A.length=0,I?(A.push(e.$watch(I,(function(e){C.content=e,!e&&C.isOpen&&L()}))),A.push(h.$watch((function(){k||(k=!0,h.$$postDigest((function(){k=!1,C&&C.isOpen&&D()})))})))):A.push(r.$observe(i,(function(e){C.content=e,!e&&C.isOpen?L():D()})));A.push(r.$observe(c+"Title",(function(e){C.title=e,C.isOpen&&D()}))),A.push(r.$observe(c+"Placement",(function(e){C.placement=e||f.placement,C.isOpen&&D()})))}()}(),C.$evalAsync((function(){C.isOpen=!0,F(!0),D()}))}function R(){v&&(a.cancel(v),v=null),b&&(a.cancel(b),b=null)}function L(){C&&C.$evalAsync((function(){C&&(C.isOpen=!1,F(!1),C.animation?g||(g=a(j,150,!1)):j())}))}function $(){y&&(a.cancel(y),y=null),g&&(a.cancel(g),g=null)}function j(){R(),$(),A.length&&(angular.forEach(A,(function(e){e()})),A.length=0),d&&(d.remove(),d=null,_&&a.cancel(_)),p.remove(C),h&&(h.$destroy(),h=null)}function F(t){T&&angular.isFunction(T.assign)&&T.assign(e,t)}function B(e){C&&C.isOpen&&d&&(t[0].contains(e.target)||d[0].contains(e.target)||N())}function V(e){27===e.which&&N()}C.origScope=e,C.isOpen=!1,C.contentExp=function(){return C.content},r.$observe("disabled",(function(e){e&&R(),e&&C.isOpen&&L()})),T&&e.$watch(T,(function(e){C&&!e===C.isOpen&&O()}));var U,H,z,q=function(){w.show.forEach((function(e){"outsideClick"===e?t.off("click",O):(t.off(e,P),t.off(e,O)),t.off("keypress",V)})),w.hide.forEach((function(e){"outsideClick"===e?o.off("click",B):t.off(e,N)}))};U=[],H=[],z=e.$eval(r[c+"Trigger"]),q(),angular.isObject(z)?(Object.keys(z).forEach((function(e){U.push(e),H.push(z[e])})),w={show:U,hide:H}):w=m(z),"none"!==w.show&&w.show.forEach((function(e,n){"outsideClick"===e?(t.on("click",O),o.on("click",B)):e===w.hide[n]?t.on(e,O):e&&(t.on(e,P),t.on(w.hide[n],N)),t.on("keypress",V)}));var G,W=e.$eval(r[c+"Animation"]);C.animation=angular.isDefined(W)?!!W:f.animation;var Y=c+"AppendToBody";G=Y in r&&void 0===r[Y]||e.$eval(r[Y]),x=angular.isDefined(G)?G:x,e.$on("$destroy",(function(){q(),j(),C=null}))}}}}}]})).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(r,a,o){var s,l,c,u=r.$eval(o.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then((function(){l=null})),l=c,c=null)};r.$watch(t.parseAsResourceUrl(o.uibTooltipTemplateTransclude),(function(t){var o=++d;t?(i(t,!0).then((function(i){if(o===d){var r=u.$new(),l=n(i)(r,(function(t){p(),e.enter(t,a)}));c=l,(s=r).$emit("$includeContentLoaded",t)}}),(function(){o===d&&(p(),r.$emit("$includeContentError",t))})),r.$emit("$includeContentRequested",t)):p()})),r.$on("$destroy",p)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,i){if(t.placement){var r=e.parsePlacement(t.placement);n.addClass(r[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",(function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}})).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",(function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}})).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",(function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}})).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",(function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}})).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",(function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}})).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",(function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}})).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){var i=this,r=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;function a(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}this.bars=[],e.max=a(),this.addBar=function(e,t,n){r||t.css({transition:"none"}),this.bars.push(e),e.max=a(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",(function(t){e.recalculatePercentage()})),e.recalculatePercentage=function(){var t=i.bars.reduce((function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent}),0);t>100&&(e.percent-=t-100)},e.$on("$destroy",(function(){t=null,i.removeBar(e)}))},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach((function(e){e.recalculatePercentage()}))},e.$watch("maxParam",(function(e){i.bars.forEach((function(e){e.max=a(),e.recalculatePercentage()}))}))}]).directive("uibProgress",(function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}})).directive("uibBar",(function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}})).directive("uibProgressbar",(function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}})),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var i={$setViewValue:angular.noop},r=this;this.init=function(r){(i=r).$render=this.render,i.$formatters.push((function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e})),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var a=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(a)&&a.length>0?a:n.titles;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=r.enableReset&&i.$viewValue===t?0:t;i.$setViewValue(n),i.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue,e.title=r.getTitle(e.value-1)}}]).directive("uibRating",(function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,i){var r=i[0],a=i[1];r.init(a)}}})),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var t,n,i=this;function r(e){for(var t=0;t<i.tabs.length;t++)if(i.tabs[t].index===e)return t}i.tabs=[],i.select=function(e,a){if(!n){var o=r(t),s=i.tabs[o];if(s){if(s.tab.onDeselect({$event:a,$selectedIndex:e}),a&&a.isDefaultPrevented())return;s.tab.active=!1}var l=i.tabs[e];l?(l.tab.onSelect({$event:a}),l.tab.active=!0,i.active=l.index,t=l.index):!l&&angular.isDefined(t)&&(i.active=null,t=null)}},i.addTab=function(e){if(i.tabs.push({tab:e,index:e.index}),i.tabs.sort((function(e,t){return e.index>t.index?1:e.index<t.index?-1:0})),e.index===i.active||!angular.isDefined(i.active)&&1===i.tabs.length){var t=r(e.index);i.select(t)}},i.removeTab=function(e){for(var t,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===e){t=n;break}if(i.tabs[t].index===i.active){var r=t===i.tabs.length-1?t-1:t+1%i.tabs.length;i.select(r)}i.tabs.splice(t,1)},e.$watch("tabset.active",(function(e){angular.isDefined(e)&&e!==t&&i.select(r(e))})),e.$on("$destroy",(function(){n=!0}))}]).directive("uibTabset",(function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}})).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,i,r,a){t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),(function(e){t.disabled=!!e})),angular.isUndefined(i.index)&&(r.tabs&&r.tabs.length?t.index=Math.max.apply(null,r.tabs.map((function(e){return e.index})))+1:t.index=0),angular.isUndefined(i.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,i=0;i<r.tabs.length;i++)if(r.tabs[i].tab===t){n=i;break}r.select(n,e)}},r.addTab(t),t.$on("$destroy",(function(){r.removeTab(t)})),t.$transcludeFn=a}}}]).directive("uibTabHeadingTransclude",(function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",(function(e){e&&(t.html(""),t.append(e))}))}}})).directive("uibTabContentTransclude",(function(){return{restrict:"A",require:"^uibTabset",link:function(e,t,n){var i=e.$eval(n.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,(function(e){angular.forEach(e,(function(e){!function(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}(e)?t.append(e):i.headingElement=e}))}))}}})),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,i,r,a,o){var s,l,c,u=new Date,d=[],p={$setViewValue:angular.noop},f=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):o.meridians||a.DATETIME_FORMATS.AMPMS,m=!angular.isDefined(n.padHours)||e.$parent.$eval(n.padHours);e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,i){(p=t).$render=this.render,p.$formatters.unshift((function(e){return e?new Date(e):null}));var r=i.eq(0),a=i.eq(1),u=i.eq(2);s=r.controller("ngModel"),l=a.controller("ngModel"),c=u.controller("ngModel"),(angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):o.mousewheel)&&this.setupMousewheelEvents(r,a,u),(angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):o.arrowkeys)&&this.setupArrowkeyEvents(r,a,u),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):o.readonlyInput,this.setupInputEvents(r,a,u)};var h=o.hourStep;n.hourStep&&d.push(e.$parent.$watch(i(n.hourStep),(function(e){h=+e})));var g,v,y=o.minuteStep;n.minuteStep&&d.push(e.$parent.$watch(i(n.minuteStep),(function(e){y=+e}))),d.push(e.$parent.$watch(i(n.min),(function(e){var t=new Date(e);g=isNaN(t)?void 0:t}))),d.push(e.$parent.$watch(i(n.max),(function(e){var t=new Date(e);v=isNaN(t)?void 0:t})));var b=!1;n.ngDisabled&&d.push(e.$parent.$watch(i(n.ngDisabled),(function(e){b=e}))),e.noIncrementHours=function(){var e=I(u,60*h);return b||e>v||e<u&&e<g},e.noDecrementHours=function(){var e=I(u,60*-h);return b||e<g||e>u&&e>v},e.noIncrementMinutes=function(){var e=I(u,y);return b||e>v||e<u&&e<g},e.noDecrementMinutes=function(){var e=I(u,-y);return b||e<g||e>u&&e>v},e.noIncrementSeconds=function(){var e=A(u,_);return b||e>v||e<u&&e<g},e.noDecrementSeconds=function(){var e=A(u,-_);return b||e<g||e>u&&e>v},e.noToggleMeridian=function(){return u.getHours()<12?b||I(u,720)>v:b||I(u,-720)<g};var _=o.secondStep;function E(){var t=+e.hours;if((e.showMeridian?t>0&&t<13:t>=0&&t<24)&&""!==e.hours)return e.showMeridian&&(12===t&&(t=0),e.meridian===f[1]&&(t+=12)),t}function x(){var t=+e.minutes;if(t>=0&&t<60&&""!==e.minutes)return t}function w(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function S(e){C(),p.$setViewValue(new Date(u)),k(e)}function C(){s&&s.$setValidity("hours",!0),l&&l.$setValidity("minutes",!0),c&&c.$setValidity("seconds",!0),p.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function k(t){if(p.$modelValue){var n=u.getHours(),i=u.getMinutes(),r=u.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:w(n,!m),"m"!==t&&(e.minutes=w(i)),e.meridian=u.getHours()<12?f[0]:f[1],"s"!==t&&(e.seconds=w(r)),e.meridian=u.getHours()<12?f[0]:f[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=f[0]}function T(e){u=A(u,e),S()}function I(e,t){return A(e,60*t)}function A(e,t){var n=new Date(e.getTime()+1e3*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function D(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}n.secondStep&&d.push(e.$parent.$watch(i(n.secondStep),(function(e){_=+e}))),e.showSeconds=o.showSeconds,n.showSeconds&&d.push(e.$parent.$watch(i(n.showSeconds),(function(t){e.showSeconds=!!t}))),e.showMeridian=o.showMeridian,n.showMeridian&&d.push(e.$parent.$watch(i(n.showMeridian),(function(t){if(e.showMeridian=!!t,p.$error.time){var n=E(),i=x();angular.isDefined(n)&&angular.isDefined(i)&&(u.setHours(n),S())}else k()}))),this.setupMousewheelEvents=function(t,n,i){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.on("mousewheel wheel",(function(t){b||e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()})),n.on("mousewheel wheel",(function(t){b||e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})),i.on("mousewheel wheel",(function(t){b||e.$apply(r(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()}))},this.setupArrowkeyEvents=function(t,n,i){t.on("keydown",(function(t){b||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))})),n.on("keydown",(function(t){b||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))})),i.on("keydown",(function(t){b||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))}))},this.setupInputEvents=function(t,n,i){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var r=function(t,n,i){p.$setViewValue(null),p.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t,s&&s.$setValidity("hours",!1)),angular.isDefined(n)&&(e.invalidMinutes=n,l&&l.$setValidity("minutes",!1)),angular.isDefined(i)&&(e.invalidSeconds=i,c&&c.$setValidity("seconds",!1))};e.updateHours=function(){var e=E(),t=x();p.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(u.setHours(e),u.setMinutes(t),u<g||u>v?r(!0):S("h")):r(!0)},t.on("blur",(function(t){p.$setTouched(),D()?C():null===e.hours||""===e.hours?r(!0):!e.invalidHours&&e.hours<10&&e.$apply((function(){e.hours=w(e.hours,!m)}))})),e.updateMinutes=function(){var e=x(),t=E();p.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(u.setHours(t),u.setMinutes(e),u<g||u>v?r(void 0,!0):S("m")):r(void 0,!0)},n.on("blur",(function(t){p.$setTouched(),D()?C():null===e.minutes?r(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply((function(){e.minutes=w(e.minutes)}))})),e.updateSeconds=function(){var t=function(){var t=+e.seconds;return t>=0&&t<60?t:void 0}();p.$setDirty(),angular.isDefined(t)?(u.setSeconds(t),S("s")):r(void 0,void 0,!0)},i.on("blur",(function(t){D()?C():!e.invalidSeconds&&e.seconds<10&&e.$apply((function(){e.seconds=w(e.seconds)}))}))},this.render=function(){var t=p.$viewValue;isNaN(t)?(p.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(u=t),u<g||u>v?(p.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):C(),k())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):o.showSpinners,e.incrementHours=function(){e.noIncrementHours()||T(60*h*60)},e.decrementHours=function(){e.noDecrementHours()||T(60*-h*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||T(60*y)},e.decrementMinutes=function(){e.noDecrementMinutes()||T(60*-y)},e.incrementSeconds=function(){e.noIncrementSeconds()||T(_)},e.decrementSeconds=function(){e.noDecrementSeconds()||T(-_)},e.toggleMeridian=function(){var t=x(),n=E();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?T(720*(u.getHours()<12?60:-60)):e.meridian=e.meridian===f[0]?f[1]:f[0])},e.blur=function(){p.$setTouched()},e.$on("$destroy",(function(){for(;d.length;)d.shift()()}))}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,i){var r=i[0],a=i[1];a&&r.init(a,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,i,r,a,o,s,l,c,u,d,p){var f,m,h=[9,13,27,38,40],g=e.$eval(n.typeaheadMinLength);g||0===g||(g=1),e.$watch(n.typeaheadMinLength,(function(e){g=e||0===e?e:1}));var v=e.$eval(n.typeaheadWaitMs)||0,y=!1!==e.$eval(n.typeaheadEditable);e.$watch(n.typeaheadEditable,(function(e){y=!1!==e}));var b,_,E=r(n.typeaheadLoading).assign||angular.noop,x=n.typeaheadShouldSelect?r(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},w=r(n.typeaheadOnSelect),S=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),C=r(n.typeaheadNoResults).assign||angular.noop,k=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,T=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),I=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,A=!1!==e.$eval(n.typeaheadFocusFirst),D=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),O=r(n.typeaheadIsOpen).assign||angular.noop,P=e.$eval(n.typeaheadShowHint)||!1,N=r(n.ngModel),M=r(n.ngModel+"($$$p)"),R=p.parse(n.uibTypeahead),L=e.$new(),$=e.$on("$destroy",(function(){L.$destroy()}));L.$on("$destroy",$);var j,F,B="typeahead-"+L.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":B}),P&&((j=angular.element("<div></div>")).css("position","relative"),t.after(j),(F=t.clone()).attr("placeholder",""),F.attr("tabindex","-1"),F.val(""),F.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),F.attr("id")&&F.removeAttr("id"),j.append(F),F.after(t));var V=angular.element("<div uib-typeahead-popup></div>");V.attr({id:B,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&V.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&V.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var U=function(){L.matches=[],L.activeIdx=-1,t.attr("aria-expanded",!1),P&&F.val("")},H=function(e){return B+"-option-"+e};L.$watch("activeIdx",(function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",H(e))}));var z=function(n,i){var r={$viewValue:n};E(e,!0),C(e,!1),a.when(R.source(e,r)).then((function(a){var o=n===f.$viewValue;if(o&&b)if(a&&a.length>0){L.activeIdx=A?0:-1,C(e,!1),L.matches.length=0;for(var s=0;s<a.length;s++)r[R.itemName]=a[s],L.matches.push({id:H(s),label:R.viewMapper(L,r),model:a[s]});if(L.query=n,Y(),t.attr("aria-expanded",!0),D&&1===L.matches.length&&function(e,t){return!!(L.matches.length>t&&e)&&e.toUpperCase()===L.matches[t].label.toUpperCase()}(n,0)&&(angular.isNumber(L.debounceUpdate)||angular.isObject(L.debounceUpdate)?u((function(){L.select(0,i)}),angular.isNumber(L.debounceUpdate)?L.debounceUpdate:L.debounceUpdate.default):L.select(0,i)),P){var l=L.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?F.val(n+l.slice(n.length)):F.val("")}}else U(),C(e,!0);o&&E(e,!1)}),(function(){U(),E(e,!1),C(e,!0)}))};T&&(angular.element(l).on("resize",W),s.find("body").on("scroll",W));var q,G=u((function(){L.matches.length&&Y(),L.moveInProgress=!1}),200);function W(){L.moveInProgress||(L.moveInProgress=!0,L.$digest()),G()}function Y(){L.position=T?d.offset(t):d.position(t),L.position.top+=t.prop("offsetHeight")}L.moveInProgress=!1,L.query=void 0;var K=function(){q&&o.cancel(q)};U(),L.assignIsOpen=function(t){O(e,t)},L.select=function(i,r){var a,s,l={};_=!0,l[R.itemName]=s=L.matches[i].model,a=R.modelMapper(e,l),function(t,n){angular.isFunction(N(e))&&m.getOption("getterSetter")?M(t,{$$$p:n}):N.assign(t,n)}(e,a),f.$setValidity("editable",!0),f.$setValidity("parse",!0),w(e,{$item:s,$model:a,$label:R.viewMapper(e,l),$event:r}),U(),!1!==L.$eval(n.typeaheadFocusOnSelect)&&o((function(){t[0].focus()}),0,!1)},t.on("keydown",(function(t){if(0!==L.matches.length&&-1!==h.indexOf(t.which)){var n,i=x(e,{$event:t});if(-1===L.activeIdx&&i||9===t.which&&t.shiftKey)return U(),void L.$digest();switch(t.preventDefault(),t.which){case 27:t.stopPropagation(),U(),e.$digest();break;case 38:L.activeIdx=(L.activeIdx>0?L.activeIdx:L.matches.length)-1,L.$digest(),(n=V[0].querySelectorAll(".uib-typeahead-match")[L.activeIdx]).parentNode.scrollTop=n.offsetTop;break;case 40:L.activeIdx=(L.activeIdx+1)%L.matches.length,L.$digest(),(n=V[0].querySelectorAll(".uib-typeahead-match")[L.activeIdx]).parentNode.scrollTop=n.offsetTop;break;default:i&&L.$apply((function(){angular.isNumber(L.debounceUpdate)||angular.isObject(L.debounceUpdate)?u((function(){L.select(L.activeIdx,t)}),angular.isNumber(L.debounceUpdate)?L.debounceUpdate:L.debounceUpdate.default):L.select(L.activeIdx,t)}))}}})),t.on("focus",(function(e){b=!0,0!==g||f.$viewValue||o((function(){z(f.$viewValue,e)}),0)})),t.on("blur",(function(e){S&&L.matches.length&&-1!==L.activeIdx&&!_&&(_=!0,L.$apply((function(){angular.isObject(L.debounceUpdate)&&angular.isNumber(L.debounceUpdate.blur)?u((function(){L.select(L.activeIdx,e)}),L.debounceUpdate.blur):L.select(L.activeIdx,e)}))),!y&&f.$error.editable&&(f.$setViewValue(),L.$apply((function(){f.$setValidity("editable",!0),f.$setValidity("parse",!0)})),t.val("")),b=!1,_=!1}));var X=function(n){t[0]!==n.target&&3!==n.which&&0!==L.matches.length&&(U(),c.$$phase||e.$digest())};s.on("click",X),e.$on("$destroy",(function(){s.off("click",X),(T||I)&&J.remove(),T&&(angular.element(l).off("resize",W),s.find("body").off("scroll",W)),V.remove(),P&&j.remove()}));var J=i(V)(L);T?s.find("body").append(J):I?angular.element(I).eq(0).append(J):t.after(J),this.init=function(t){m=function(e){var t;angular.version.minor<6?(t=e.$options||{}).getOption=function(e){return t[e]}:t=e.$options;return t}(f=t),L.debounceUpdate=r(m.getOption("debounce"))(e),f.$parsers.unshift((function(t){return b=!0,0===g||t&&t.length>=g?v>0?(K(),function(e){q=o((function(){z(e)}),v)}(t)):z(t):(E(e,!1),K(),U()),y?t:t?void f.$setValidity("editable",!1):(f.$setValidity("editable",!0),null)})),f.$formatters.push((function(t){var n,i={};return y||f.$setValidity("editable",!0),k?(i.$model=t,k(e,i)):(i[R.itemName]=t,n=R.viewMapper(e,i),i[R.itemName]=void 0,n!==R.viewMapper(e,i)?n:t)}))}}]).directive("uibTypeahead",(function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(e,t,n,i){i[1].init(i[0])}}})).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,i){t.templateUrl=i.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,i){var r=t.debounce();angular.isNumber(r)||angular.isObject(r)?e((function(){t.select({activeIdx:n,evt:i})}),angular.isNumber(r)?r:r.default):t.select({activeIdx:n,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,a){var o=n(a.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";e(o).then((function(e){var n=angular.element(e.trim());r.replaceWith(n),t(n)(i)}))}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){var i;return i=t.has("$sanitize"),function(t,r){return!i&&function(e){return/<.*>/g.test(e)}(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(r.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):t,i||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0})),angular.module("ui.bootstrap.datepicker").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0})),angular.module("ui.bootstrap.position").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0})),angular.module("ui.bootstrap.datepickerPopup").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0})),angular.module("ui.bootstrap.tooltip").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0})),angular.module("ui.bootstrap.timepicker").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0})),angular.module("ui.bootstrap.typeahead").run((function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}))},{}],80:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return e&&"object"===i(e)&&"default"in e?e.default:e}Object.defineProperty(n,"__esModule",{value:!0});var a=r(e("dmn-moddle")),o=r(e("ids")),s=e("min-dash"),l={name:"bpmn.io DI for DMN",uri:"http://bpmn.io/schema/dmn/biodi/1.0",prefix:"biodi",xml:{tagAlias:"lowerCase"},types:[{name:"Bounds",superClass:["dc:Bounds","Element"]},{name:"Edge",superClass:["Element"],properties:[{name:"source",type:"String",isAttr:!0},{name:"waypoints",type:"Waypoint",isMany:!0,xml:{serialize:"property"}}]},{name:"Waypoint",superClass:["dc:Point"]}]},c=new o([32,36,1]),u=new a({biodi:l}),d='"http://www.omg.org/spec/DMN/20151101/dmn.xsd"',p='"http://www.omg.org/spec/DMN/20180521/MODEL/"',f='"https://www.omg.org/spec/DMN/20191111/MODEL/"';function m(e,t){return t.includes(e)}function h(e){e.id||_(e,["dmn:DMNElement","dmndi:DMNDiagram","dmndi:DMNDiagramElement"])&&(e.id=c.nextPrefixed(e.$type.split(":")[1]+"_",e))}function g(e){h(e),Object.values(e).forEach((function(e){e.$type&&(h(e),g(e)),s.isArray(e)&&e.forEach(g)}))}function v(e){b(e,"dmn:NamedElement")&&!e.name&&(e.name=e.id)}function y(e){v(e),Object.values(e).forEach((function(e){e.$type&&(v(e),y(e)),s.isArray(e)&&e.forEach(y)}))}function b(e,t){return s.isFunction(e.$instanceOf)&&e.$instanceOf(t)}function _(e,t){return s.some(t,(function(t){return b(e,t)}))}n.TARGET_DMN_VERSION="1.3",n.migrateDiagram=function(e){return new Promise((function(t,n){if(!s.isString(e))return t(e);try{if(m(d,e))return t(function(e){return new Promise((function(t,n){var i=e.replace(d,f);u.fromXML(i,"dmn:Definitions",(function(i,r){if(i)return t(e);try{g(r),y(r),function(e,t){var n=[];if([].concat(e.get("drgElement"),e.get("artifact")).forEach((function(e){var i=e.get("extensionElements");i&&(i.get("values").forEach((function(i){if(b(i,"biodi:Bounds")){var r=t.create("dc:Bounds",{height:i.get("height"),width:i.get("width"),x:i.get("x"),y:i.get("y")}),a=t.create("dmndi:DMNShape",{bounds:r,dmnElementRef:e});r.$parent=a,h(a),n.push(a),a.$parent=n}if(b(i,"biodi:Edge")){var o=function(e,t){if(b(e,"dmn:Association"))return e;return Object.values(e).reduce((function(e,n){return s.isArray(n)?e||n.find((function(e){if(b(e,"dmn:DMNElement"))return Object.values(e).find((function(e){if(b(e,"dmn:DMNElementReference"))return e.href.replace("#","").includes(t)}))})):e}),null)}(e,i.get("source"));if(!o)return;var l=i.get("waypoints").map((function(e){return t.create("dc:Point",{x:e.get("x"),y:e.get("y")})})),c=t.create("dmndi:DMNEdge",{dmnElementRef:o,waypoint:l});o.$parent=c,h(c),l.forEach((function(e){return e.$parent=c})),n.push(c),c.$parent=n}})),i.set("values",i.get("values").filter((function(e){return!_(e,["biodi:Bounds","biodi:Edge"])}))),i.get("values").length||e.set("extensionElements",void 0))})),n.length){var i=function(e){var t=e.create("dmndi:DMNDiagram",{diagramElements:[]});h(t);var n=e.create("dmndi:DMNDI",{diagrams:[t]});return t.$parent=n,n}(t);e.set("dmnDI",i),i.$parent=e;var r=i.get("diagrams")[0];r.set("diagramElements",n),n.forEach((function(e){return e.$parent=r}))}}(r,u)}catch(e){return n(e)}u.toXML(r,{format:!0},(function(e,i){return e?n(e):t(i)}))}))}))}(e));if(m(p,e))return t(function(e){return new Promise((function(t){return t(e.replace(p,f).replace('"http://www.omg.org/spec/DMN/20180521/DMNDI/"','"https://www.omg.org/spec/DMN/20191111/DMNDI/"'))}))}(e));if(m(f,e))return t(e)}catch(e){return n(e)}return t(e)}))}},{"dmn-moddle":299,ids:313,"min-dash":324}],81:[function(e,t,n){"use strict";var i=["styles"],r=["styles"],a=["styles"],o=["styles"],s=["styles"],l=["styles"],c=["styles"],u=["styles"],d=["styles"],p=["styles"],f=["styles"],m=["styles"],h=["schema"];function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=k(e);if(t){var r=k(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function P(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0});var M=e("min-dash"),R=e("@bpmn-io/form-js-viewer"),L=e("ids"),$=e("preact"),j=e("preact/hooks"),F=e("preact/compat"),B=e("preact/jsx-runtime"),V=e("dragula"),U=e("min-dom"),H=e("array-move");function z(e){return e&&"object"===N(e)&&"default"in e?e:{default:e}}var q=z(L),G=z(F),W=z(V),Y=Array.prototype.slice;function K(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function X(){}function J(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t="number"==typeof e?e:e?300:0;return t?function(e){return M.debounce(e,t)}:function(e){return e}}K.prototype.on=function(e,t,n,i){if(e=M.isArray(e)?e:[e],M.isFunction(t)&&(i=n,n=t,t=1e3),!M.isNumber(t))throw new Error("priority must be a number");var r=n;i&&((r=M.bind(n,i)).__fn=n.__fn||n);var a=this;e.forEach((function(e){a._addListener(e,{priority:t,callback:r,next:null})}))},K.prototype.once=function(e,t,n,i){var r=this;if(M.isFunction(t)&&(i=n,n=t,t=1e3),!M.isNumber(t))throw new Error("priority must be a number");function a(){a.__isTomb=!0;var t=n.apply(i,arguments);return r.off(e,a),t}a.__fn=n,this.on(e,t,a)},K.prototype.off=function(e,t){e=M.isArray(e)?e:[e];var n=this;e.forEach((function(e){n._removeListener(e,t)}))},K.prototype.createEvent=function(e){var t=new X;return t.init(e),t},K.prototype.fire=function(e,t){var n,i,r,a;if(a=Y.call(arguments),"object"===N(e)&&(e=(t=e).type),!e)throw new Error("no event type specified");if(i=this._listeners[e]){n=t instanceof X?t:this.createEvent(t),a[0]=n;var o=n.type;e!==o&&(n.type=e);try{r=this._invokeListeners(n,a,i)}finally{e!==o&&(n.type=o)}return void 0===r&&n.defaultPrevented&&(r=!1),r}},K.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},K.prototype._destroy=function(){this._listeners={}},K.prototype._invokeListeners=function(e,t,n){for(var i;n&&!e.cancelBubble;)i=this._invokeListener(e,t,n),n=n.next;return i},K.prototype._invokeListener=function(e,t,n){var i;if(n.callback.__isTomb)return i;try{void 0!==(i=function(e,t){return e.apply(null,t)}(n.callback,t))&&(e.returnValue=i,e.stopPropagation()),!1===i&&e.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener",e),e}return i},K.prototype._addListener=function(e,t){var n,i=this._getListeners(e);if(i){for(;i;){if(i.priority<t.priority)return t.next=i,void(n?n.next=t:this._setListeners(e,t));n=i,i=i.next}n.next=t}else this._setListeners(e,t)},K.prototype._getListeners=function(e){return this._listeners[e]},K.prototype._setListeners=function(e,t){this._listeners[e]=t},K.prototype._removeListener=function(e,t){var n,i,r,a=this._getListeners(e);if(t)for(;a;)n=a.next,(r=a.callback)!==t&&r.__fn!==t||(i?i.next=n:this._setListeners(e,n)),i=a,a=n;else this._setListeners(e,null)},X.prototype.stopPropagation=function(){this.cancelBubble=!0},X.prototype.preventDefault=function(){this.defaultPrevented=!0},X.prototype.init=function(e){M.assign(this,e||{})},J.$inject=["config.debounce"];var Q=function(){function e(t,n){var i=this;D(this,e),this._ids=new q.default([32,36,1]),this._num=0,this._formFields=t,n.on("diagram.clear",(function(){i._num=0,i._ids.clear()}))}return P(e,[{key:"create",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.type,i=this._formFields.get(n);if(!i)throw new Error("form field of type <".concat(n,"> not supported"));var r=t&&i.label?{label:i.label}:{},a=t&&i.keyed?{key:"field_".concat(this._num++)}:{},o=i.create(I(I(I({},a),r),e));return this._ensureId(o),o}},{key:"_ensureId",value:function(e){if(!e.id){var t="Field";"default"===e.type&&(t="Form"),e.id=this._ids.nextPrefixed("".concat(t,"_"))}}}]),e}();Q.$inject=["formFields","eventBus"];var Z=function(e){E(n,e);var t=w(n);function n(){return D(this,n),t.apply(this,arguments)}return P(n,[{key:"updateId",value:function(e,t){if(this._validateId(t),this._eventBus.fire("formField.updateId",{formField:e,newId:t}),this.remove(e),e.id=t,this.add(e),"components"in e){var n,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(e.components);try{for(i.s();!(n=i.n()).done;){n.value._parent=t}}catch(e){i.e(e)}finally{i.f()}}}},{key:"_validateId",value:function(e){if(!e)throw new Error("formField must have an id");if(this.get(e))throw new Error("formField with id "+e+" already added")}}]),n}(R.FormFieldRegistry),ee=function(){function e(t,n){D(this,e),this._formFieldRegistry=t,this._fieldFactory=n}return P(e,[{key:"importSchema",value:function(e){var t=[];try{return{schema:this.importFormField(R.clone(e)),warnings:t}}catch(e){throw e.warnings=t,e}}},{key:"importFormField",value:function(e,t,n){var i,r,a=e.components,o=e.id,s=e.key;t&&(i=this._formFieldRegistry.get(t)),o&&this._formFieldRegistry.forEach((function(e){if(e.id===o)throw new Error("form field with id <".concat(o,"> already exists"))})),s&&this._formFieldRegistry.forEach((function(e){if(e.key===s)throw new Error("form field with key <".concat(s,"> already exists"))})),r=i?[].concat(y(i._path),["components",n]):[];var l=this._fieldFactory.create(I(I({},e),{},{_path:r,_parent:i&&i.id}),!1);return this._formFieldRegistry.add(l),a&&(l.components=this.importFormFields(a,l.id)),l}},{key:"importFormFields",value:function(e,t){var n=this;return e.map((function(e,i){return n.importFormField(e,t,i)}))}}]),e}();ee.$inject=["formFieldRegistry","fieldFactory"];var te={importer:["type",ee]},ne=$.createContext({drake:null});var ie=$.createContext({getService:function(e,t){}});function re(e,t){return(0,j.useContext(ie).getService)(e,t)}function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var pe=function(e){e.styles;var t=v(e,c);return G.default.createElement("svg",de({xmlns:"http://www.w3.org/2000/svg",width:"54",height:"54"},t),G.default.createElement("path",{d:"M20.58 33.77h-3l-1.18-3.08H11l-1.1 3.08H7l5.27-13.54h2.89zm-5-5.36l-1.86-5-1.83 5zM22 20.23h5.41a15.47 15.47 0 012.4.14 3.42 3.42 0 011.41.55 3.47 3.47 0 011 1.14 3 3 0 01.42 1.58 3.26 3.26 0 01-1.91 2.94 3.63 3.63 0 011.91 1.22 3.28 3.28 0 01.66 2 4 4 0 01-.43 1.8 3.63 3.63 0 01-1.09 1.4 3.89 3.89 0 01-1.83.65q-.69.07-3.3.09H22zm2.73 2.25v3.13h3.8a1.79 1.79 0 001.1-.49 1.41 1.41 0 00.41-1 1.49 1.49 0 00-.35-1 1.54 1.54 0 00-1-.48c-.27 0-1.05-.05-2.34-.05zm0 5.39v3.62h2.57a11.52 11.52 0 001.88-.09 1.65 1.65 0 001-.54 1.6 1.6 0 00.38-1.14 1.75 1.75 0 00-.29-1 1.69 1.69 0 00-.86-.62 9.28 9.28 0 00-2.41-.23zM44.35 28.79l2.65.84a5.94 5.94 0 01-2 3.29A5.74 5.74 0 0141.38 34a5.87 5.87 0 01-4.44-1.84 7.09 7.09 0 01-1.73-5A7.43 7.43 0 0137 21.87 6 6 0 0141.54 20a5.64 5.64 0 014 1.47A5.33 5.33 0 0147 24l-2.7.65a2.8 2.8 0 00-2.86-2.27A3.09 3.09 0 0039 23.42a5.31 5.31 0 00-.93 3.5 5.62 5.62 0 00.93 3.65 3 3 0 002.4 1.09 2.72 2.72 0 001.82-.66 4 4 0 001.13-2.21z"}))};function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var me={button:function(e){e.styles;var t=v(e,i);return G.default.createElement("svg",ae({xmlns:"http://www.w3.org/2000/svg",width:"54",height:"54"},t),G.default.createElement("path",{fillRule:"evenodd",d:"M45 17a3 3 0 013 3v14a3 3 0 01-3 3H9a3 3 0 01-3-3V20a3 3 0 013-3h36zm-9 8.889H18v2.222h18V25.89z"}))},checkbox:function(e){e.styles;var t=v(e,r);return G.default.createElement("svg",oe({xmlns:"http://www.w3.org/2000/svg",width:"54",height:"54"},t),G.default.createElement("path",{d:"M34 18H20a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V20a2 2 0 00-2-2zm-9 14l-5-5 1.41-1.41L25 29.17l7.59-7.59L34 23l-9 9z"}))},columns:function(e){e.styles;var t=v(e,a);return G.default.createElement("svg",se({xmlns:"http://www.w3.org/2000/svg",width:"54",height:"54"},t),G.default.createElement("path",{fillRule:"evenodd",d:"M8 33v5a1 1 0 001 1h4v2H9a3 3 0 01-3-3v-5h2zm18 6v2H15v-2h11zm13 0v2H28v-2h11zm9-6v5a3 3 0 01-3 3h-4v-2h4a1 1 0 00.993-.883L46 38v-5h2zM8 22v9H6v-9h2zm40 0v9h-2v-9h2zm-35-9v2H9a1 1 0 00-.993.883L8 16v4H6v-4a3 3 0 013-3h4zm32 0a3 3 0 013 3v4h-2v-4a1 1 0 00-.883-.993L45 15h-4v-2h4zm-6 0v2H28v-2h11zm-13 0v2H15v-2h11z"}))},number:function(e){e.styles;var t=v(e,o);return G.default.createElement("svg",le({xmlns:"http://www.w3.org/2000/svg",width:"54",height:"54"},t),G.default.createElement("path",{fillRule:"evenodd",d:"M45 16a3 3 0 013 3v16a3 3 0 01-3 3H9a3 3 0 01-3-3V19a3 3 0 013-3h36zm0 2H9a1 1 0 00-1 1v16a1 1 0 001 1h36a1 1 0 001-1V19a1 1 0 00-1-1zM35 28.444h7l-3.5 4-3.5-4zM35 26h7l-3.5-4-3.5 4z"}))},radio:function(e){e.styles;var t=v(e,s);return G.default.createElement("svg",ce({xmlns:"http://www.w3.org/2000/svg",width:"54",height:"54"},t),G.default.createElement("path",{d:"M27 22c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}))},select:function(e){e.styles;var t=v(e,l);return G.default.createElement("svg",ue({xmlns:"http://www.w3.org/2000/svg",width:"54",height:"54"},t),G.default.createElement("path",{fillRule:"evenodd",d:"M45 16a3 3 0 013 3v16a3 3 0 01-3 3H9a3 3 0 01-3-3V19a3 3 0 013-3h36zm0 2H9a1 1 0 00-1 1v16a1 1 0 001 1h36a1 1 0 001-1V19a1 1 0 00-1-1zm-12 7h9l-4.5 6-4.5-6z"}))},text:pe,textfield:function(e){e.styles;var t=v(e,u);return G.default.createElement("svg",fe({xmlns:"http://www.w3.org/2000/svg",width:"54",height:"54"},t),G.default.createElement("path",{fillRule:"evenodd",d:"M45 16a3 3 0 013 3v16a3 3 0 01-3 3H9a3 3 0 01-3-3V19a3 3 0 013-3h36zm0 2H9a1 1 0 00-1 1v16a1 1 0 001 1h36a1 1 0 001-1V19a1 1 0 00-1-1zm-32 4v10h-2V22h2z"}))},default:pe},he=[{label:"Text Field",type:"textfield"},{label:"Number",type:"number"},{label:"Checkbox",type:"checkbox"},{label:"Radio",type:"radio"},{label:"Select",type:"select"},{label:"Text",type:"text"},{label:"Button",type:"button"}];function ge(e){return B.jsxs("div",{class:"fjs-palette",children:[B.jsxs("div",{class:"fjs-palette-header",title:"Form elements library",children:[B.jsx("span",{class:"fjs-hide-compact",children:"FORM ELEMENTS "}),"LIBRARY"]}),B.jsx("div",{class:"fjs-palette-fields fjs-drag-container fjs-no-drop",children:he.map((function(e){var t=e.label,n=e.type,i=me[n];return B.jsxs("div",{class:"fjs-palette-field fjs-drag-copy fjs-no-drop","data-field-type":n,title:"Create a ".concat(t," element"),children:[i?B.jsx(i,{class:"fjs-palette-field-icon",width:"36",height:"36",viewBox:"0 0 54 54"}):null,B.jsx("span",{class:"fjs-palette-field-text fjs-hide-compact",children:t})]})}))})]})}function ve(e){return"fjs-properties-panel-".concat(e)}function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"...";return e.length>10?"".concat(e.substring(0,30),"..."):e}var be=["checkbox","number","radio","select","textfield"];function _e(e){var t=e.id,n=e.label,i=e.onChange,r=e.value,a=void 0!==r&&r;return B.jsxs("div",{class:"fjs-properties-panel-textfield",children:[B.jsx("label",{for:ve(t),class:"fjs-properties-panel-label",children:n}),B.jsx("input",{id:ve(t),type:"checkbox",class:"fjs-properties-panel-input",onChange:function(e){var t=e.target;i(t.checked)},checked:a})]})}function Ee(e){var t=re("debounce"),n=re("eventBus"),i=e.id,r=e.label,a=e.max,o=e.min,s=e.value,l=void 0===s?"":s,c=t((function(t){var n=t.target,i=n.validity,r=n.value;i.valid&&e.onInput(r?parseInt(r,10):void 0)}));return B.jsxs("div",{class:"fjs-properties-panel-textfield",children:[B.jsx("label",{for:ve(i),class:"fjs-properties-panel-label",children:r}),B.jsx("input",{id:ve(i),type:"number",class:"fjs-properties-panel-input",max:a,min:o,onInput:c,onFocus:function(){return n.fire("propertiesPanel.focusin")},onBlur:function(){return n.fire("propertiesPanel.focusout")},value:l})]})}function xe(e){var t=e.id,n=e.label,i=e.onChange,r=e.options,a=e.value;return B.jsxs("div",{class:"fjs-properties-panel-textfield",children:[B.jsx("label",{for:ve(t),class:"fjs-properties-panel-label",children:n}),B.jsx("select",{id:ve(t),class:"fjs-properties-panel-input",onInput:function(e){var t=e.target;i(t.value)},children:r.map((function(e){return B.jsx("option",{value:e.value,selected:e.value===a,children:e.label})}))})]})}function we(e){var t=re("debounce"),n=re("eventBus"),i=e.id,r=e.label,a=e.rows,o=void 0===a?10:a,s=e.value,l=void 0===s?"":s,c=t((function(t){var n=t.target.value;e.onInput(n.length?n:void 0)}));return B.jsxs("div",{class:"fjs-properties-panel-textfield",children:[B.jsx("label",{for:ve(i),class:"fjs-properties-panel-label",children:r}),B.jsx("textarea",{id:ve(i),spellcheck:!1,class:"fjs-properties-panel-input",onInput:c,onFocus:function(){return n.fire("propertiesPanel.focusin")},onBlur:function(){return n.fire("propertiesPanel.focusout")},rows:o,value:l})]})}function Se(e){var t=re("debounce"),n=re("eventBus"),i=e.id,r=e.label,a=e.validate,o=void 0===a?function(){return null}:a,s=e.value,l=void 0===s?"":s,c=function(e){var t=j.useRef();return j.useEffect((function(){return t.current=e})),t.current}(l),u=g(j.useState(null),2),d=u[0],p=u[1],f=g(j.useState(null),2),m=f[0],h=f[1];j.useEffect((function(){return h(o(l))}),[l]);var v=t((function(t){var n=t.target.value,i=o(n);i?p(n):e.onInput(n.length?n:void 0),h(i)}));c===l&&m&&(l=d);var y=["fjs-properties-panel-input"];return m&&y.push("fjs-has-error"),B.jsxs("div",{class:"fjs-properties-panel-textfield",children:[B.jsx("label",{for:ve(i),class:"fjs-properties-panel-label",children:r}),B.jsx("input",{id:ve(i),type:"text",spellcheck:!1,class:y.join(" "),onInput:v,onFocus:function(){return n.fire("propertiesPanel.focusin")},onBlur:function(){return n.fire("propertiesPanel.focusout")},value:l}),m&&B.jsx("div",{class:"fjs-properties-panel-error",children:m})]})}function Ce(e){var t=e.editField,n=e.field,i=e.id,r=e.label,a=e.path,o=a?M.get(n,a,!1):e.value;return B.jsx("div",{class:"fjs-properties-panel-entry",children:B.jsx(_e,{id:i,label:r,onChange:function(i){t&&a?t(n,a,i):e.onChange(i)},value:o})})}function ke(e){var t=e.editField,n=e.field,i=e.id,r=e.label,a=e.max,o=e.min,s=e.onChange,l=e.path,c=l?M.get(n,l,""):e.value;return B.jsx("div",{class:"fjs-properties-panel-entry",children:B.jsx(Ee,{id:i,label:r,max:a,min:o,onInput:function(e){t&&l?t(n,l,e):s(e)},value:c})})}function Te(e){var t=e.editField,n=e.field,i=e.id,r=e.description,a=e.label,o=e.onChange,s=e.path,l=s?M.get(n,s,""):e.value;return B.jsxs("div",{class:"fjs-properties-panel-entry",children:[B.jsx(we,{id:i,label:a,onInput:function(e){t&&s?t(n,s,e):o(e)},value:l}),r&&B.jsx("div",{class:"fjs-properties-panel-description",children:r})]})}function Ie(e){var t=e.editField,n=e.field,i=e.id,r=e.description,a=e.label,o=e.onChange,s=e.path,l=e.validate,c=s?M.get(n,s,""):e.value;return B.jsxs("div",{class:"fjs-properties-panel-entry",children:[B.jsx(Se,{id:i,label:a,onInput:function(e){t&&s?t(n,s,e):o(e)},validate:l,value:c}),r&&B.jsx("div",{class:"fjs-properties-panel-description",children:r})]})}function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var De=function(e){e.styles;var t=v(e,d);return G.default.createElement("svg",Ae({xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12"},t),G.default.createElement("path",{fillRule:"evenodd",d:"M7 0v5h5v2H7v5H5V7H0V5h5V0h2z"}))};function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Pe=function(e){e.styles;var t=v(e,p);return G.default.createElement("svg",Oe({xmlns:"http://www.w3.org/2000/svg",width:"7",height:"9"},t),G.default.createElement("path",{fillRule:"evenodd",d:"M6.25 4.421L4.836 5.835h-.001L2.007 8.663.593 7.249 3.421 4.42.593 1.593 2.007.178 6.25 4.421z"}))};function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Me=function(e){e.styles;var t=v(e,f);return G.default.createElement("svg",Ne({xmlns:"http://www.w3.org/2000/svg",width:"11",height:"14"},t),G.default.createElement("path",{d:"M10 4v8c0 1.1-.9 2-2 2H3c-1.1 0-2-.9-2-2V4h9zM8 6H3v4.8c0 .66.5 1.2 1.111 1.2H6.89C7.5 12 8 11.46 8 10.8V6zm3-5H8.5l-1-1h-4l-1 1H0v1.5h11V1z"}))};function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Le=function(e){e.styles;var t=v(e,m);return G.default.createElement("svg",Re({xmlns:"http://www.w3.org/2000/svg",width:"8",height:"12"},t),G.default.createElement("path",{fillRule:"evenodd",d:"M2.007 11.66L.593 10.248l4.242-4.243L.593 1.761 2.007.347l5.657 5.657-5.657 5.657z"}))};function $e(e){var t,n=e.children,i=e.label,r=e.removeEntry,a=void 0===r?function(){}:r,o=g(j.useState(!1),2),s=o[0],l=o[1],c=["fjs-properties-panel-collapsible-entry"];return s&&c.push("fjs-properties-panel-collapsible-entry-collapsed"),B.jsxs("div",{class:c.join(" "),children:[B.jsxs("div",{class:"fjs-properties-panel-collapsible-entry-header",onClick:function(){return l(!s)},children:[B.jsxs("div",{children:[B.jsx(Pe,{class:s?"fjs-arrow-right":"fjs-arrow-down"}),B.jsx("span",{class:"fjs-properties-panel-collapsible-entry-header-label",children:i})]}),B.jsx("button",{class:"fjs-properties-panel-collapsible-entry-header-remove-entry",onClick:(t=a,function(e){e.stopPropagation(),t(e)}),children:B.jsx(Me,{})})]}),s?null:B.jsx("div",{class:"fjs-properties-panel-collapsible-entry-entries",children:n})]})}function je(e){var t=e.children,n=e.hasEntries,i=void 0===n||n,r=e.label,a=g(j.useState(i),2),o=a[0],s=a[1];return B.jsxs("div",{class:"fjs-properties-panel-group",children:[B.jsxs("div",{class:"fjs-properties-panel-group-header",onClick:i?function(){return s(!o)}:function(){},children:[B.jsx("span",{class:"fjs-properties-panel-group-header-label",children:r}),B.jsxs("div",{class:"fjs-properties-panel-group-header-buttons",children:[e.addEntry?B.jsx("button",{class:"fjs-properties-panel-group-header-button fjs-properties-panel-group-header-button-add-entry",onClick:function(t){t.stopPropagation(),s(!0),e.addEntry()},children:B.jsx(De,{})}):null,B.jsx("button",{class:"fjs-properties-panel-group-header-button fjs-properties-panel-group-header-button-toggle-open",children:B.jsx(Le,{class:i&&o?"fjs-arrow-down":"fjs-arrow-right"})})]})]}),i&&o?B.jsx("div",{class:"fjs-properties-panel-group-entries",children:t}):null]})}function Fe(e){var t=e.editField,n=e.field,i=n.action;return B.jsx("div",{class:"fjs-properties-panel-entry",children:B.jsx(xe,{id:"action",label:"Action",options:[{label:"Submit",value:"submit"},{label:"Reset",value:"reset"}],onChange:function(e){t(n,"action",e)},value:i})})}function Be(e){var t=e.editField,n=e.field,i=n.components.length;return B.jsx("div",{class:"fjs-properties-panel-entry",children:B.jsx(ke,{id:"columns",label:"Columns",onInput:function(e){var i=n.components.slice();if(e>i.length)for(;e>i.length;)i.push(R.Default.create({_parent:n.id}));else i=i.slice(0,e);t(n,"components",i)},value:i,min:"1",max:"3"})})}function Ve(e){var t=e.editField,n=e.field;return B.jsx(Ie,{editField:t,field:n,id:"description",label:"Field Description",path:["description"]})}function Ue(e){var t=e.editField,n=e.field,i=re("formFieldRegistry");return B.jsx(Ie,{editField:t,field:n,id:"id",label:"Id",path:["id"],validate:function(e){return M.isUndefined(e)||!e.length?"Must not be empty.":function(e,t,n){return!n.getAll().find((function(n){return n!==t&&n.id===e}))}(e,n,i)?function(e){if(function(e){return He.test(e)}(e))return"Must not contain spaces.";if(!qe.test(e))return ze.test(e)?"Must not contain prefix.":"Must be a valid QName."}(e)||null:"Must be unique."}})}var He=/\s/,ze=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,qe=/^[a-z_][\w-.]*$/i;function Ge(e){var t=e.editField,n=e.field,i=re("formFieldRegistry");return B.jsx(Ie,{editField:t,field:n,id:"key",label:"Key",description:"Maps to a process variable.",path:["key"],validate:function(e){return M.isUndefined(e)||!e.length?"Must not be empty.":/\s/.test(e)?"Must not contain spaces.":function(e,t,n){return!n.getAll().find((function(n){return n!==t&&n.key===e}))}(e,n,i)?null:"Must be unique."}})}function We(e){var t=e.editField,n=e.field;return B.jsx(Ie,{editField:t,field:n,id:"label",label:"Field Label",path:["label"]})}function Ye(e){var t=e.editField,n=e.field;return B.jsx(Te,{editField:t,field:n,id:"text",label:"Text",path:["text"],description:"Use Markdown or basic HTML to format."})}function Ke(e){var t=e.editField,n=e.field,i=e.index,r=function(e){var r=M.get(n,["values"]);return function(a){t(n,"values",M.set(r,[i,e],a))}};return B.jsxs(B.Fragment,{children:[B.jsx(Ie,{id:"value-label-".concat(i),label:"Label",onChange:r("label"),value:M.get(n,["values",i,"label"])}),B.jsx(Ie,{id:"value-value-".concat(i),label:"Value",onChange:r("value"),value:M.get(n,["values",i,"value"])})]})}function Xe(e,t){var n=e.type,i=[];return"default"===n&&i.push(B.jsx(Ue,{editField:t,field:e})),(be.includes(n)||"button"===n)&&i.push(B.jsx(We,{editField:t,field:e})),be.includes(n)&&i.push(B.jsx(Ve,{editField:t,field:e})),be.includes(n)&&i.push(B.jsx(Ge,{editField:t,field:e})),"button"===n&&i.push(B.jsx(Fe,{editField:t,field:e})),"columns"===n&&i.push(B.jsx(Be,{editField:t,field:e})),"text"===n&&i.push(B.jsx(Ye,{editField:t,field:e})),B.jsx(je,{label:"General",children:i.length?i:null})}function Je(e,t){var n=e.id,i=e.values,r=void 0===i?[]:i,a=r.length>0;return B.jsx(je,{label:"Values",addEntry:function(){var n,i,a,o;t(e,["values"],(n=r,i=r.length,a={label:"Value",value:"value"},(o=y(n)).splice(i,0,a),o))},hasEntries:a,children:r.map((function(i,a){var o=i.label;return B.jsx($e,{label:o,removeEntry:function(){t(e,["values"],function(e,t){var n=y(e);return n.splice(t,1),n}(r,a))},children:B.jsx(Ke,{editField:t,field:e,index:a})},"".concat(n,"-").concat(i.value))}))})}var Qe={button:"BUTTON",checkbox:"CHECKBOX",columns:"COLUMNS",default:"FORM",number:"NUMBER",radio:"RADIO",select:"SELECT",text:"TEXT",textfield:"TEXT FIELD"};function Ze(e,t){var n=e.type,i=[Xe(e,t)];return"radio"!==n&&"select"!==n||i.push(Je(e,t)),be.includes(n)&&"checkbox"!==n&&i.push(function(e,t){var n=e.type,i=function(n){return function(i){var r=M.get(e,["validate"],{});t(e,["validate"],M.set(r,[n],i))}},r=[B.jsx(Ce,{id:"required",label:"Required",onChange:i("required"),value:M.get(e,["validate","required"])})];return"textfield"===n&&r.push(B.jsx(ke,{id:"minLength",label:"Minimum Length",min:"0",onChange:i("minLength"),value:M.get(e,["validate","minLength"])}),B.jsx(ke,{id:"maxLength",label:"Maximum Length",min:"0",onChange:i("maxLength"),value:M.get(e,["validate","maxLength"])}),B.jsx(Ie,{id:"regularExpressionPattern",label:"Regular Expression Pattern",onChange:i("regularExpressionPattern"),value:M.get(e,["validate","regularExpressionPattern"])})),"number"===n&&r.push(B.jsx(ke,{id:"min",label:"Minimum",onChange:i("min"),value:M.get(e,["validate","min"])}),B.jsx(ke,{id:"max",label:"Maximum",onChange:i("max"),value:M.get(e,["validate","max"])})),B.jsx(je,{label:"Validation",children:r.length?r:null})}(e,t)),i}function et(e){var t=e.editField,n=e.field;if(!n)return B.jsx("div",{class:"fjs-properties-panel-placeholder",children:"Select a form field to edit its properties."});var i=n.type,r=me[i],a=Qe[i];return B.jsxs("div",{class:"fjs-properties-panel","data-field":n.id,children:[B.jsxs("div",{class:"fjs-properties-panel-header",children:[B.jsx("div",{class:"fjs-properties-panel-header-icon",children:B.jsx(r,{width:"36",height:"36",viewBox:"0 0 54 54"})}),B.jsxs("div",{children:[B.jsx("span",{class:"fjs-properties-panel-header-type",children:a}),"text"===i?B.jsx("div",{class:"fjs-properties-panel-header-label",children:ye(n.text)}):"default"===i?B.jsx("div",{class:"fjs-properties-panel-header-label",children:n.id}):B.jsx("div",{class:"fjs-properties-panel-header-label",children:n.label})]})]}),Ze(n,t)]})}function tt(e){return e.children?B.jsx("div",{class:"fjs-context-pad",children:e.children}):null}function nt(e){return null}function it(e){var t=re("eventBus"),n=re("formEditor"),i=re("formFieldRegistry"),r=re("modeling"),a=re("selection"),o=e.field,s=o.id,l=o.type,c=j.useRef();function u(e){var t=e.selection;if(t&&t.id===s&&c.current){var i=c.current.getBoundingClientRect(),r=n._container.getBoundingClientRect();(i.top<0||i.top>r.bottom)&&c.current.scrollIntoView()}}j.useEffect((function(){return t.on("selection.changed",u),function(){return t.off("selection.changed",u)}}),[s]);var d=["fjs-element"];e.class&&d.push.apply(d,y(e.class.split(" "))),a.isSelected(o)&&d.push("fjs-editor-selected");return B.jsxs("div",{class:d.join(" "),"data-id":s,"data-field-type":l,onClick:function(e){e.stopPropagation(),a.toggle(o)},ref:c,children:[B.jsx(tt,{children:a.isSelected(o)&&"default"!==o.type?B.jsx("button",{class:"fjs-context-pad-item",onClick:function(e){e.stopPropagation();var t=i.get(o._parent),n=ot(t,o);r.removeFormField(o,t,n)},children:B.jsx(Me,{})}):null}),e.children]})}function rt(e){var t=e.field.id,n=["fjs-children","fjs-drag-container"];return e.class&&n.push.apply(n,y(e.class.split(" "))),B.jsx("div",{class:n.join(" "),"data-id":t,children:e.children})}function at(e){var t=re("eventBus"),n=re("formEditor"),i=re("formFieldRegistry"),r=re("injector"),a=re("modeling"),o=re("selection"),s=n._getState().schema,l=g(j.useState(s),2),c=l[0],u=l[1];j.useEffect((function(){function e(e){u(e.selection||s)}return t.on("selection.changed",e),u(o.get()||s),function(){t.off("selection.changed",e)}}),[s,o]);var d=g(j.useState(null),2),p=d[0],f=d[1],m={drake:p};j.useEffect((function(){var e=function(){var e=W.default({isContainer:function(e){return e.classList.contains("fjs-drag-container")},copy:function(e){return e.classList.contains("fjs-drag-copy")},accepts:function(e,t){return!t.classList.contains("fjs-no-drop")},slideFactorX:10,slideFactorY:5});return e.on("drop",(function(t,n,r,o){if(e.remove(),n){var s=i.get(n.dataset.id),l=o&&i.get(o.dataset.id),c=l?ot(s,l):s.components.length;if(r.classList.contains("fjs-palette-fields")){var u=t.dataset.fieldType;a.addFormField({type:u},s,c)}else{var d=i.get(t.dataset.id),p=i.get(r.dataset.id),f=ot(p,d);a.moveFormField(d,p,s,f,c)}}})),t.fire("dragula.created"),f(e),e},n=e(),r=function(){n&&(n.destroy(),t.fire("dragula.destroyed"))},o=function(){r(),n=e()};return t.on("attach",o),t.on("detach",r),function(){r(),t.off("attach",o),t.off("detach",r)}}),[]);var h={Children:rt,Element:it,Empty:nt},v={getService:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"formFieldRegistry"===e?new Map:"form"===e?{_getState:function(){return{data:{},errors:{},properties:{readOnly:!0},schema:s}}}:r.get(e,t)}},y=j.useCallback((function(){}),[]),b=j.useCallback((function(){}),[]),_=j.useCallback((function(e,t,n){return a.editFormField(e,t,n)}),[a]);return B.jsxs("div",{class:"fjs-form-editor",children:[B.jsxs(ne.Provider,{value:m,children:[B.jsx("div",{class:"fjs-palette-container",children:B.jsx(ge,{})}),B.jsx("div",{class:"fjs-form-container",children:B.jsx(R.FormContext.Provider,{value:v,children:B.jsx(R.FormRenderContext.Provider,{value:h,children:B.jsx(R.FormComponent,{onSubmit:y,onReset:b})})})}),B.jsx(st,{})]}),B.jsx("div",{class:"fjs-properties-container",children:B.jsx(et,{field:c,editField:_})})]})}function ot(e,t){var n=e.components.length;return e.components.forEach((function(e,i){e.id===t.id&&(n=i)})),n}function st(e){var t=j.useContext(ne).drake;function n(e,t,n){var i=e.dataset.fieldType,r=me[i];i&&(e.innerHTML="",e.class="gu-mirror",$.render(B.jsx(r,{}),e))}return j.useEffect((function(){if(t)return t.on("cloned",n),function(){return t.off("cloned",n)}}),[t]),null}var lt=function e(t,n,i,r){D(this,e);var a=t.container,o=t.compact,s=void 0!==o&&o,l=function(){var e=g(j.useState(i._getState()),2),t=e[0],n=e[1],a={getService:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r.get(e,t)}};return i.on("changed",(function(e){n(e)})),t.schema?B.jsx("div",{class:"fjs-container fjs-editor-container ".concat(s?"fjs-editor-compact":""),children:B.jsx(ie.Provider,{value:a,children:B.jsx(at,{})})}):null};n.on("form.init",(function(){$.render(B.jsx(l,{}),a)})),n.on("form.destroy",(function(){$.render(null,a)}))};lt.$inject=["config.renderer","eventBus","formEditor","injector"];var ct={__depends__:[te,{__init__:["formFields","renderer"],formFields:["type",R.FormFields],renderer:["type",lt]}],eventBus:["type",K],formFieldRegistry:["type",Z],fieldFactory:["type",Q],debounce:["factory",J]},ut="is not a registered action";function dt(e,t){this._actions={};var n=this;e.on("diagram.init",(function(){n._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:n})}))}function pt(e,t){return new Error(e+" "+t)}dt.$inject=["eventBus","injector"],dt.prototype._registerDefaultActions=function(e){var t=e.get("commandStack",!1),n=e.get("modeling",!1),i=e.get("selection",!1),r=e.get("zoomScroll",!1),a=e.get("copyPaste",!1),o=e.get("canvas",!1),s=e.get("rules",!1),l=e.get("keyboardMove",!1),c=e.get("keyboardMoveSelection",!1);t&&(this.register("undo",(function(){t.undo()})),this.register("redo",(function(){t.redo()}))),a&&i&&this.register("copy",(function(){var e=i.get();a.copy(e)})),a&&this.register("paste",(function(){a.paste()})),r&&this.register("stepZoom",(function(e){r.stepZoom(e.value)})),o&&this.register("zoom",(function(e){o.zoom(e.value)})),n&&i&&s&&this.register("removeSelection",(function(){var e=i.get();if(e.length){var t,r=s.allowed("elements.delete",{elements:e});!1!==r&&(t=M.isArray(r)?r:e).length&&n.removeElements(t.slice())}})),l&&this.register("moveCanvas",(function(e){l.moveCanvas(e)})),c&&this.register("moveSelection",(function(e){c.moveSelection(e.direction,e.accelerated)}))},dt.prototype.trigger=function(e,t){if(!this._actions[e])throw pt(e,ut);return this._actions[e](t)},dt.prototype.register=function(e,t){var n=this;if("string"==typeof e)return this._registerAction(e,t);M.forEach(e,(function(e,t){n._registerAction(t,e)}))},dt.prototype._registerAction=function(e,t){if(this.isRegistered(e))throw pt(e,"is already registered");this._actions[e]=t},dt.prototype.unregister=function(e){if(!this.isRegistered(e))throw pt(e,ut);this._actions[e]=void 0},dt.prototype.getActions=function(){return Object.keys(this._actions)},dt.prototype.isRegistered=function(e){return!!this._actions[e]};var ft={__init__:["editorActions"],editorActions:["type",dt]},mt=function(e){E(n,e);var t=w(n);function n(e,i){var r;return D(this,n),r=t.call(this,e,i),e.on("form.init",(function(){r._registerDefaultActions(i),e.fire("editorActions.init",{editorActions:C(r)})})),r}return P(n,[{key:"_registerDefaultActions",value:function(e){var t=e.get("commandStack",!1),n=e.get("formFieldRegistry",!1),i=e.get("selection",!1);t&&(this.register("undo",(function(){t.undo()})),this.register("redo",(function(){t.redo()}))),n&&i&&this.register("selectFormField",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;if(t){var r=n.get(t);r&&i.set(r)}}))}}]),n}(dt);mt.$inject=["eventBus","injector"];var ht={__depends__:[ft],editorActions:["type",mt]};function gt(e){return!e.altKey&&(e.ctrlKey||e.metaKey)}function vt(e,t){return-1!==(e=M.isArray(e)?e:[e]).indexOf(t.key)||-1!==e.indexOf(t.keyCode)}function yt(e){return e.shiftKey}var bt="keyboard.keydown";function _t(e,t){var n=this;this._config=e||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",(function(){n._fire("destroy"),n.unbind()})),t.on("diagram.init",(function(){n._fire("init")})),t.on("attach",(function(){e&&e.bindTo&&n.bind(e.bindTo)})),t.on("detach",(function(){n.unbind()}))}_t.$inject=["config.keyboard","eventBus"],_t.prototype._keydownHandler=function(e){this._keyHandler(e,bt)},_t.prototype._keyupHandler=function(e){this._keyHandler(e,"keyboard.keyup")},_t.prototype._keyHandler=function(e,t){if(!this._isEventIgnored(e)){var n={keyEvent:e};this._eventBus.fire(t||bt,n)&&e.preventDefault()}},_t.prototype._isEventIgnored=function(e){return(t=e.target)&&(U.matches(t,"input, textarea")||"true"===t.contentEditable)&&!gt(e);var t},_t.prototype.bind=function(e){this.unbind(),this._node=e,U.event.bind(e,"keydown",this._keydownHandler,!0),U.event.bind(e,"keyup",this._keyupHandler,!0),this._fire("bind")},_t.prototype.getBinding=function(){return this._node},_t.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),U.event.unbind(e,"keydown",this._keydownHandler,!0),U.event.unbind(e,"keyup",this._keyupHandler,!0)),this._node=null},_t.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})},_t.prototype.addListener=function(e,t,n){M.isFunction(e)&&(n=t,t=e,e=1e3),this._eventBus.on(n||bt,e,t)},_t.prototype.removeListener=function(e,t){this._eventBus.off(t||bt,e)},_t.prototype.hasModifier=function(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey},_t.prototype.isCmd=gt,_t.prototype.isShift=yt,_t.prototype.isKey=vt;var Et=["c","C",67],xt=["v","V",86],wt=["y","Y",89],St=["z","Z",90];function Ct(e,t){var n=this;e.on("editorActions.init",500,(function(e){var i=e.editorActions;n.registerBindings(t,i)}))}Ct.$inject=["eventBus","keyboard"],Ct.prototype.registerBindings=function(e,t){function n(n,i){t.isRegistered(n)&&e.addListener(i)}n("undo",(function(e){var n=e.keyEvent;if(gt(n)&&!yt(n)&&vt(St,n))return t.trigger("undo"),!0})),n("redo",(function(e){var n=e.keyEvent;if(gt(n)&&(vt(wt,n)||vt(St,n)&&yt(n)))return t.trigger("redo"),!0})),n("copy",(function(e){var n=e.keyEvent;if(gt(n)&&vt(Et,n))return t.trigger("copy"),!0})),n("paste",(function(e){var n=e.keyEvent;if(gt(n)&&vt(xt,n))return t.trigger("paste"),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if(vt(["+","Add","="],n)&&gt(n))return t.trigger("stepZoom",{value:1}),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if(vt(["-","Subtract"],n)&&gt(n))return t.trigger("stepZoom",{value:-1}),!0})),n("zoom",(function(e){var n=e.keyEvent;if(vt("0",n)&&gt(n))return t.trigger("zoom",{value:1}),!0})),n("removeSelection",(function(e){if(vt(["Backspace","Delete","Del"],e.keyEvent))return t.trigger("removeSelection"),!0}))};var kt={__init__:["keyboard","keyboardBindings"],keyboard:["type",_t],keyboardBindings:["type",Ct]},Tt=function(){function e(t,n){var i=this;D(this,e),t.on("editorActions.init",500,(function(e){var t=e.editorActions;i.registerBindings(n,t)}))}return P(e,[{key:"registerBindings",value:function(e,t){function n(n,i){t.isRegistered(n)&&e.addListener(i)}n("undo",(function(e){var n=e.keyEvent;if(gt(n)&&!yt(n)&&vt(St,n))return t.trigger("undo"),!0})),n("redo",(function(e){var n=e.keyEvent;if(gt(n)&&(vt(wt,n)||vt(St,n)&&yt(n)))return t.trigger("redo"),!0}))}}]),e}();Tt.$inject=["eventBus","keyboard"];var It={__depends__:[kt],__init__:["keyboardBindings"],keyboardBindings:["type",Tt]};function At(e,t,n){return e.splice(t,0,n),e}function Dt(e,t){return e.splice(t,1),e}function Ot(e,t,n){var i=e.get(t._parent);return t._path=[].concat(y(i._path),["components",n]),t}var Pt=function(){function e(t,n){D(this,e),this._formEditor=t,this._formFieldRegistry=n}return P(e,[{key:"execute",value:function(e){var t=this,n=e.formField,i=e.targetFormField,r=e.targetIndex,a=this._formEditor._getState().schema,o=[].concat(y(i._path),["components"]);n._parent=i.id,At(M.get(a,o),r,n),M.get(a,o).forEach((function(e,n){return Ot(t._formFieldRegistry,e,n)})),this._formFieldRegistry.add(n),this._formEditor._setState({schema:a})}},{key:"revert",value:function(e){var t=this,n=e.formField,i=e.targetFormField,r=e.targetIndex,a=this._formEditor._getState().schema,o=[].concat(y(i._path),["components"]);Dt(M.get(a,o),r),M.get(a,o).forEach((function(e,n){return Ot(t._formFieldRegistry,e,n)})),this._formFieldRegistry.remove(n),this._formEditor._setState({schema:a})}}]),e}();Pt.$inject=["formEditor","formFieldRegistry"];var Nt=function(){function e(t,n){D(this,e),this._formEditor=t,this._formFieldRegistry=n}return P(e,[{key:"execute",value:function(e){var t=e.formField,n=e.properties,i=this._formEditor._getState().schema,r={};for(var a in n){r[a]=t[a];var o=n[a];"id"===a?o!==t.id&&this._formFieldRegistry.updateId(t,o):t[a]=o}return e.oldProperties=r,this._formEditor._setState({schema:i}),t}},{key:"revert",value:function(e){var t=e.formField,n=e.oldProperties,i=this._formEditor._getState().schema;for(var r in n){var a=n[r];"id"===r?a!==t.id&&this._formFieldRegistry.updateId(t,a):t[r]=a}return this._formEditor._setState({schema:i}),t}}]),e}();Nt.$inject=["formEditor","formFieldRegistry"];var Mt=function(){function e(t,n){D(this,e),this._formEditor=t,this._formFieldRegistry=n}return P(e,[{key:"execute",value:function(e){this.moveFormField(e)}},{key:"revert",value:function(e){var t=e.sourceFormField,n=e.targetFormField,i=e.sourceIndex,r=e.targetIndex;this.moveFormField({sourceFormField:n,targetFormField:t,sourceIndex:r,targetIndex:i},!0)}},{key:"moveFormField",value:function(e,t){var n=this,i=e.sourceFormField,r=e.targetFormField,a=e.sourceIndex,o=e.targetIndex,s=this._formEditor._getState().schema,l=[].concat(y(i._path),["components"]);if(i.id===r.id)t?a>o&&a--:a<o&&o--,H.mutate(M.get(s,l),a,o),M.get(s,l).forEach((function(e,t){return Ot(n._formFieldRegistry,e,t)}));else{var c=M.get(s,[].concat(y(l),[a]));c._parent=r.id,Dt(M.get(s,l),a),M.get(s,l).forEach((function(e,t){return Ot(n._formFieldRegistry,e,t)}));var u=[].concat(y(r._path),["components"]);At(M.get(s,u),o,c),M.get(s,u).forEach((function(e,t){return Ot(n._formFieldRegistry,e,t)}))}this._formEditor._setState({schema:s})}}]),e}();Mt.$inject=["formEditor","formFieldRegistry"];var Rt=function(){function e(t,n){D(this,e),this._formEditor=t,this._formFieldRegistry=n}return P(e,[{key:"execute",value:function(e){var t=this,n=e.sourceFormField,i=e.sourceIndex,r=this._formEditor._getState().schema,a=[].concat(y(n._path),["components"]),o=e.formField=M.get(r,[].concat(y(a),[i]));Dt(M.get(r,a),i),M.get(r,a).forEach((function(e,n){return Ot(t._formFieldRegistry,e,n)})),this._formFieldRegistry.remove(o),this._formEditor._setState({schema:r})}},{key:"revert",value:function(e){var t=this,n=e.formField,i=e.sourceFormField,r=e.sourceIndex,a=this._formEditor._getState().schema,o=[].concat(y(i._path),["components"]);At(M.get(a,o),r,n),M.get(a,o).forEach((function(e,n){return Ot(t._formFieldRegistry,e,n)})),this._formFieldRegistry.add(n),this._formEditor._setState({schema:a})}}]),e}();Rt.$inject=["formEditor","formFieldRegistry"];var Lt=function(){function e(t,n,i,r,a){var o=this;D(this,e),this._commandStack=t,this._formEditor=i,this._formFieldRegistry=r,this._fieldFactory=a,n.on("form.init",(function(){o.registerHandlers()}))}return P(e,[{key:"registerHandlers",value:function(){var e=this;Object.entries(this.getHandlers()).forEach((function(t){var n=g(t,2),i=n[0],r=n[1];e._commandStack.registerHandler(i,r)}))}},{key:"getHandlers",value:function(){return{"formField.add":Pt,"formField.edit":Nt,"formField.move":Mt,"formField.remove":Rt}}},{key:"addFormField",value:function(e,t,n){var i=this._fieldFactory.create(e),r={formField:i,targetFormField:t,targetIndex:n};return this._commandStack.execute("formField.add",r),i}},{key:"editFormField",value:function(e,t,n){M.isObject(t)||(t=A({},t,n));var i={formField:e,properties:t};this._commandStack.execute("formField.edit",i)}},{key:"moveFormField",value:function(e,t,n,i,r){var a={formField:e,sourceFormField:t,targetFormField:n,sourceIndex:i,targetIndex:r};this._commandStack.execute("formField.move",a)}},{key:"removeFormField",value:function(e,t,n){var i={formField:e,sourceFormField:t,sourceIndex:n};this._commandStack.execute("formField.remove",i)}}]),e}();function $t(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],(function(){this.clear(!1)}),this)}Lt.$inject=["commandStack","eventBus","formEditor","formFieldRegistry","fieldFactory"],$t.$inject=["eventBus","injector"],$t.prototype.execute=function(e,t){if(!e)throw new Error("command required");this._currentExecution.trigger="execute";var n={command:e,context:t};this._pushAction(n),this._internalExecute(n),this._popAction(n)},$t.prototype.canExecute=function(e,t){var n={command:e,context:t},i=this._getHandler(e),r=this._fire(e,"canExecute",n);if(void 0===r){if(!i)return!1;i.canExecute&&(r=i.canExecute(t))}return r},$t.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,!1!==e&&this._fire("changed",{trigger:"clear"})},$t.prototype.undo=function(){var e,t=this._getUndoAction();if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),(e=this._getUndoAction())&&e.id===t.id);)t=e;this._popAction()}},$t.prototype.redo=function(){var e,t=this._getRedoAction();if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),(e=this._getRedoAction())&&e.id===t.id);)t=e;this._popAction()}},$t.prototype.register=function(e,t){this._setHandler(e,t)},$t.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");var n=this._injector.instantiate(t);this.register(e,n)},$t.prototype.canUndo=function(){return!!this._getUndoAction()},$t.prototype.canRedo=function(){return!!this._getRedoAction()},$t.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},$t.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},$t.prototype._internalUndo=function(e){var t=this,n=e.command,i=e.context,r=this._getHandler(n);this._atomicDo((function(){t._fire(n,"revert",e),r.revert&&t._markDirty(r.revert(i)),t._revertedAction(e),t._fire(n,"reverted",e)}))},$t.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);var i,r,a,o=t?[e+"."+t,t]:[e];for(n=this._eventBus.createEvent(n),i=0;(r=o[i])&&(a=this._eventBus.fire("commandStack."+r,n),!n.cancelBubble);i++);return a},$t.prototype._createId=function(){return this._uid++},$t.prototype._atomicDo=function(e){var t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}},$t.prototype._internalExecute=function(e,t){var n=this,i=e.command,r=e.context,a=this._getHandler(i);if(!a)throw new Error("no command handler registered for <"+i+">");this._pushAction(e),t||(this._fire(i,"preExecute",e),a.preExecute&&a.preExecute(r),this._fire(i,"preExecuted",e)),this._atomicDo((function(){n._fire(i,"execute",e),a.execute&&n._markDirty(a.execute(r)),n._executedAction(e,t),n._fire(i,"executed",e)})),t||(this._fire(i,"postExecute",e),a.postExecute&&a.postExecute(r),this._fire(i,"postExecuted",e)),this._popAction(e)},$t.prototype._pushAction=function(e){var t=this._currentExecution,n=t.actions,i=n[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=i&&i.id||this._createId()),n.push(e)},$t.prototype._popAction=function(){var e=this._currentExecution,t=e.trigger,n=e.actions,i=e.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:M.uniqueBy("id",i.reverse())}),i.length=0,this._fire("changed",{trigger:t}),e.trigger=null)},$t.prototype._markDirty=function(e){var t=this._currentExecution;e&&(e=M.isArray(e)?e:[e],t.dirty=t.dirty.concat(e))},$t.prototype._executedAction=function(e,t){var n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)},$t.prototype._revertedAction=function(e){this._stackIdx--},$t.prototype._getHandler=function(e){return this._handlerMap[e]},$t.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t};var jt={__depends__:[{commandStack:["type",$t]}],__init__:["modeling"],modeling:["type",Lt]},Ft=function(){function e(t){D(this,e),this._eventBus=t,this._selection=null}return P(e,[{key:"get",value:function(){return this._selection}},{key:"set",value:function(e){this._selection!==e&&(this._selection=e,this._eventBus.fire("selection.changed",{selection:this._selection}))}},{key:"toggle",value:function(e){var t=this._selection===e?null:e;this.set(t)}},{key:"clear",value:function(){this.set(null)}},{key:"isSelected",value:function(e){return this._selection===e}}]),e}();Ft.$inject=["eventBus"];var Bt=function e(t,n){D(this,e),t.on(["commandStack.formField.add.postExecuted","commandStack.formField.move.postExecuted"],(function(e){var t=e.context.formField;n.set(t)})),t.on("commandStack.formField.remove.postExecuted",(function(e){var t=e.context,i=t.sourceFormField,r=t.sourceIndex,a=i.components[r]||i.components[r-1];a?n.set(a):n.clear()})),t.on("formField.remove",(function(e){var t=e.formField;n.isSelected(t)&&n.clear()}))};Bt.$inject=["eventBus","selection"];var Vt={__init__:["selection","selectionBehavior"],selection:["type",Ft],selectionBehavior:["type",Bt]},Ut=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D(this,e),this._container=R.createFormContainer();var n=t.container,i=t.exporter,r=t.injector,a=void 0===r?this._createInjector(t,this._container):r,o=t.properties,s=void 0===o?{}:o;this.exporter=i,this._state={properties:s,schema:null},this.get=a.get,this.invoke=a.invoke,this.get("eventBus").fire("form.init"),n&&this.attachTo(n)}return P(e,[{key:"clear",value:function(){this._emit("diagram.clear"),this._emit("form.clear")}},{key:"destroy",value:function(){this.get("eventBus").fire("form.destroy"),this.get("eventBus").fire("diagram.destroy"),this._detach(!1)}},{key:"importSchema",value:function(e){var t=this;return new Promise((function(n,i){try{t.clear();var r=t.get("importer").importSchema(e),a=r.schema,o=r.warnings;return t._setState({schema:a}),t._emit("import.done",{warnings:o}),n({warnings:o})}catch(e){return t._emit("import.done",{error:e,warnings:e.warnings||[]}),i(e)}}))}},{key:"saveSchema",value:function(){return this.getSchema()}},{key:"getSchema",value:function(){return function(e,t,n){var i=t?{exporter:t}:{},r=R.clone(e,(function(e,t){if(!["_parent","_path"].includes(e))return t}));return I(I({schemaVersion:n},i),r)}(this._getState().schema,this.exporter,R.schemaVersion)}},{key:"attachTo",value:function(e){if(!e)throw new Error("parentNode required");this.detach(),M.isString(e)&&(e=document.querySelector(e));var t=this._container;e.appendChild(t),this._emit("attach")}},{key:"detach",value:function(){this._detach()}},{key:"_detach",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this._container,n=t.parentNode;n&&(e&&this._emit("detach"),n.removeChild(t))}},{key:"setProperty",value:function(e,t){var n=M.set(this._getState().properties,[e],t);this._setState({properties:n})}},{key:"on",value:function(e,t,n){this.get("eventBus").on(e,t,n)}},{key:"off",value:function(e,t){this.get("eventBus").off(e,t)}},{key:"_createInjector",value:function(e,t){var n=e.additionalModules,i=void 0===n?[]:n,r=e.modules,a=void 0===r?this._getModules():r,o=e.renderer,s=void 0===o?{}:o,l=I(I({},e),{},{renderer:I(I({},s),{},{container:t})});return R.createInjector([{config:["value",l]},{formEditor:["value",this]},ct].concat(y(a),y(i)))}},{key:"_emit",value:function(e,t){this.get("eventBus").fire(e,t)}},{key:"_getState",value:function(){return this._state}},{key:"_setState",value:function(e){this._state=I(I({},this._state),e),this._emit("changed",this._getState())}},{key:"_getModules",value:function(){return[jt,ht,It,Vt]}}]),e}();Object.defineProperty(n,"schemaVersion",{enumerable:!0,get:function(){return R.schemaVersion}}),n.FormEditor=Ut,n.createFormEditor=function(e){var t=e.schema,n=v(e,h),i=new Ut(n);return i.importSchema(t).then((function(){return i}))}},{"@bpmn-io/form-js-viewer":82,"array-move":85,dragula:302,ids:313,"min-dash":324,"min-dom":325,preact:334,"preact/compat":333,"preact/hooks":335,"preact/jsx-runtime":336}],82:[function(e,t,n){"use strict";var i=["data","schema"];function r(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function m(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0});var g=e("min-dash"),v=e("@bpmn-io/snarkdown"),y=e("preact/jsx-runtime"),b=e("preact/hooks"),_=e("preact"),E=e("preact-markup"),x=e("preact/compat"),w=e("didi");function S(e){return e&&"object"===h(e)&&"default"in e?e:{default:e}}var C=S(v),k=S(E);function T(e){var t=[],n=[];function i(e){return t.includes(e)}e.forEach((function e(r){i(r)||((r.__depends__||[]).forEach(e),i(r)||(!function(e){t.push(e)}(r),(r.__init__||[]).forEach((function(e){n.push(e)}))))}));var r=new w.Injector(t);return n.forEach((function(e){try{r["string"==typeof e?"get":"invoke"](e)}catch(e){throw console.error("Failed to instantiate component"),console.error(e.stack),e}})),r}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fjs",t=document.createElement("div");return t.classList.add("".concat(e,"-container")),t}function A(e,t){return e[D(t)]}function D(e){return e?e.join("."):""}var O={};function P(e){return e in O?O[e]++:O[e]=1,O[e]}function N(e){return"".concat(e).concat(P(e))}function M(e,t){return JSON.parse(JSON.stringify(e,t))}var R=Array.prototype.slice;function L(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function $(){}L.prototype.on=function(e,t,n,i){if(e=g.isArray(e)?e:[e],g.isFunction(t)&&(i=n,n=t,t=1e3),!g.isNumber(t))throw new Error("priority must be a number");var r=n;i&&((r=g.bind(n,i)).__fn=n.__fn||n);var a=this;e.forEach((function(e){a._addListener(e,{priority:t,callback:r,next:null})}))},L.prototype.once=function(e,t,n,i){var r=this;if(g.isFunction(t)&&(i=n,n=t,t=1e3),!g.isNumber(t))throw new Error("priority must be a number");function a(){a.__isTomb=!0;var t=n.apply(i,arguments);return r.off(e,a),t}a.__fn=n,this.on(e,t,a)},L.prototype.off=function(e,t){e=g.isArray(e)?e:[e];var n=this;e.forEach((function(e){n._removeListener(e,t)}))},L.prototype.createEvent=function(e){var t=new $;return t.init(e),t},L.prototype.fire=function(e,t){var n,i,r,a;if(a=R.call(arguments),"object"===h(e)&&(e=(t=e).type),!e)throw new Error("no event type specified");if(i=this._listeners[e]){n=t instanceof $?t:this.createEvent(t),a[0]=n;var o=n.type;e!==o&&(n.type=e);try{r=this._invokeListeners(n,a,i)}finally{e!==o&&(n.type=o)}return void 0===r&&n.defaultPrevented&&(r=!1),r}},L.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},L.prototype._destroy=function(){this._listeners={}},L.prototype._invokeListeners=function(e,t,n){for(var i;n&&!e.cancelBubble;)i=this._invokeListener(e,t,n),n=n.next;return i},L.prototype._invokeListener=function(e,t,n){var i;if(n.callback.__isTomb)return i;try{void 0!==(i=function(e,t){return e.apply(null,t)}(n.callback,t))&&(e.returnValue=i,e.stopPropagation()),!1===i&&e.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener",e),e}return i},L.prototype._addListener=function(e,t){var n,i=this._getListeners(e);if(i){for(;i;){if(i.priority<t.priority)return t.next=i,void(n?n.next=t:this._setListeners(e,t));n=i,i=i.next}n.next=t}else this._setListeners(e,t)},L.prototype._getListeners=function(e){return this._listeners[e]},L.prototype._setListeners=function(e,t){this._listeners[e]=t},L.prototype._removeListener=function(e,t){var n,i,r,a=this._getListeners(e);if(t)for(;a;)n=a.next,(r=a.callback)!==t&&r.__fn!==t||(i?i.next=n:this._setListeners(e,n)),i=a,a=n;else this._setListeners(e,null)},$.prototype.stopPropagation=function(){this.cancelBubble=!0},$.prototype.preventDefault=function(){this.defaultPrevented=!0},$.prototype.init=function(e){g.assign(this,e||{})};var j=function(){function e(){p(this,e)}return m(e,[{key:"validateField",value:function(e,t){var n=e.validate,i=[];return n?(n.pattern&&t&&!new RegExp(n.pattern).test(t)&&(i=[].concat(c(i),["Field must match pattern ".concat(n.pattern,".")])),!n.required||void 0!==t&&""!==t||(i=[].concat(c(i),["Field is required."])),"min"in n&&t&&t<n.min&&(i=[].concat(c(i),["Field must have minimum value of ".concat(n.min,".")])),"max"in n&&t&&t>n.max&&(i=[].concat(c(i),["Field must have maximum value of ".concat(n.max,".")])),"minLength"in n&&t&&t.trim().length<n.minLength&&(i=[].concat(c(i),["Field must have minimum length of ".concat(n.minLength,".")])),"maxLength"in n&&t&&t.trim().length>n.maxLength&&(i=[].concat(c(i),["Field must have maximum length of ".concat(n.maxLength,".")])),i):i}}]),e}(),F=function(){function e(t){var n=this;p(this,e),this._eventBus=t,this._formFields={},t.on("form.clear",(function(){return n.clear()}))}return m(e,[{key:"add",value:function(e){var t=e.id;if(this._formFields[t])throw new Error("form field with ID ".concat(t," already exists"));this._eventBus.fire("formField.add",{formField:e}),this._formFields[t]=e}},{key:"remove",value:function(e){var t=e.id;this._formFields[t]&&(this._eventBus.fire("formField.remove",{formField:e}),delete this._formFields[t])}},{key:"get",value:function(e){return this._formFields[e]}},{key:"getAll",value:function(){return Object.values(this._formFields)}},{key:"forEach",value:function(e){this.getAll().forEach((function(t){return e(t)}))}},{key:"clear",value:function(){this._formFields={}}}]),e}();F.$inject=["eventBus"];var B=function(){function e(t,n){p(this,e),this._formFieldRegistry=t,this._formFields=n}return m(e,[{key:"importSchema",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];try{var i=M(t),r=this.importFormField(M(e),i);return{warnings:n,schema:r,data:i}}catch(e){throw e.warnings=n,e}}},{key:"importFormField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=e.components,r=e.key,a=e.type,o=e.id,s=void 0===o?N(a):o;if(n&&(e._parent=n),!this._formFields.get(a))throw new Error("form field of type <".concat(a,"> not supported"));return r&&(this._formFieldRegistry.forEach((function(e){if(e.key===r)throw new Error("form field with key <".concat(r,"> already exists"))})),e._path=[r]),s&&this._formFieldRegistry.forEach((function(e){if(e.id===s)throw new Error("form field with id <".concat(s,"> already exists"))})),e.id=s,this._formFieldRegistry.add(e),i&&this.importFormFields(i,t,s),e}},{key:"importFormFields",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;e.forEach((function(e){t.importFormField(e,n,i)}))}}]),e}();B.$inject=["formFieldRegistry","formFields"];var V={importer:["type",B]},U=["h1","h2","h3","h4","h5","span","em","a","p","div","ul","ol","li","hr","blockquote","img","pre","code","br","strong"],H=["align","alt","class","href","id","name","rel","target","src"],z=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,q=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,G=document.createElement("form");function W(e){var t=(new DOMParser).parseFromString("<!DOCTYPE html>\n<html><body><div>".concat(e),"text/html");t.normalize();var n=t.body.firstChild;return n?(Y(n),(new XMLSerializer).serializeToString(n)):""}function Y(e){if(3!==e.nodeType){if(1!==e.nodeType)return e.remove();var t=e.tagName.toLowerCase();if(!U.includes(t))return e.remove();for(var n=e.attributes,i=n.length;i--;){var r=n[i],a=r.name,o=a.toLowerCase(),s=r.value.trim();e.removeAttribute(a),K(t,o,s)&&e.setAttribute(a,s)}"a"===t&&"_blank"===e.getAttribute("target")&&"noopener"!==e.getAttribute("rel")&&e.setAttribute("rel","noopener");for(var l=e.childNodes.length;l--;)Y(e.childNodes[l])}}function K(e,t,n){return!!H.includes(t)&&(("id"!==t&&"name"!==t||!(n in document)&&!(n in G))&&(("target"!==t||"_blank"===n)&&!("href"===t&&!z.test(n.replace(q,"")))))}function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)throw new Error("type required");var n=["fjs-form-field","fjs-form-field-".concat(e)];return t.length&&n.push("fjs-has-errors"),n.join(" ")}function J(e){return"fjs-form-".concat(e)}function Q(e){return W(function(e){return e.split(/(?:\r?\n){2,}/).map((function(e){return/^((\d+.)|[><\s#-*])/.test(e)?C.default(e):"<p>".concat(C.default(e),"</p>")})).join("\n\n")}(e))}var Z="button";function ee(e){var t=e.disabled,n=e.field,i=n.action,r=void 0===i?"submit":i;return y.jsx("div",{class:X(Z),children:y.jsx("button",{class:"fjs-button",type:r,disabled:t,children:n.label})})}function te(e){var t=e.description;return t?y.jsx("div",{class:"fjs-form-field-description",children:t}):null}function ne(e){var t=e.errors;return t.length?y.jsx("div",{class:"fjs-form-field-error",children:y.jsx("ul",{children:t.map((function(e){return y.jsx("li",{children:e})}))})}):null}function ie(e){var t=e.id,n=e.label,i=e.required,r=void 0!==i&&i;return n?y.jsxs("label",{for:t,class:"fjs-form-field-label",children:[e.children,n,r&&y.jsx("span",{class:"fjs-asterix",children:"*"})]}):null}ee.create=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s({action:"submit"},e)},ee.type=Z,ee.label="Button",ee.keyed=!0;var re="checkbox";function ae(e){var t=e.disabled,n=e.errors,i=void 0===n?[]:n,r=e.field,a=e.value,o=void 0!==a&&a,s=r.description,l=r.id,c=r.label;return y.jsxs("div",{class:X(re,i),children:[y.jsx(ie,{id:J(l),label:c,required:!1,children:y.jsx("input",{checked:o,class:"fjs-input",disabled:t,id:J(l),type:"checkbox",onChange:function(t){var n=t.target;e.onChange({field:r,value:n.checked})}})}),y.jsx(te,{description:s}),y.jsx(ne,{errors:i})]})}ae.create=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s({},e)},ae.type=re,ae.label="Checkbox",ae.keyed=!0;var oe=_.createContext({Empty:function(e){return null},Children:function(e){return e.children},Element:function(e){return e.children}});var se=_.createContext({getService:function(e,t){}});function le(e,t){return(0,b.useContext(se).getService)(e,t)}var ce=function(){return!1};function ue(e){var t=e.field,n=e.onChange,i=t._path,r=le("formFields"),a=le("form")._getState(),o=a.data,l=a.errors,c=a.properties,u=b.useContext(oe).Element,d=r.get(t.type);if(!d)throw new Error("cannot render field <".concat(t.type,">"));var p=g.get(o,i),f=A(l,i),m=c.readOnly||t.disabled||!1;return y.jsx(u,{field:t,children:y.jsx(d,s(s({},e),{},{disabled:m,errors:f,onChange:m?ce:n,value:p}))})}function de(e){var t=b.useContext(oe),n=t.Children,i=t.Empty,r=e.field,a=r.components,o=void 0===a?[]:a;return y.jsxs(n,{class:"fjs-vertical-layout",field:r,children:[o.map((function(t){return _.createElement(ue,s(s({},e),{},{key:t.id,field:t}))})),o.length?null:y.jsx(i,{})]})}function pe(){return y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14.02 5.57",width:"53",height:"21",style:"vertical-align:middle",children:[y.jsx("path",{fill:"currentColor",d:"M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"}),y.jsx("path",{fill:"currentColor",d:"M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"})]})}function fe(e){return e.open?y.jsxs("div",{class:"fjs-powered-by-lightbox",style:"z-index: 100; position: fixed; top: 0; left: 0;right: 0; bottom: 0",children:[y.jsx("div",{class:"backdrop",style:"width: 100%; height: 100%; background: rgba(40 40 40 / 20%)",onClick:e.onBackdropClick}),y.jsxs("div",{class:"notice",style:"position: absolute; left: 50%; top: 40%; transform: translate(-50%); width: 260px; padding: 10px; background: white; box-shadow: 0  1px 4px rgba(0 0 0 / 30%); font-family: Helvetica, Arial, sans-serif; font-size: 14px; display: flex; line-height: 1.3",children:[y.jsx("a",{href:"https://bpmn.io",target:"_blank",rel:"noopener",style:"margin: 15px 20px 15px 10px; align-self: center; color: #404040",children:y.jsx(pe,{})}),y.jsxs("span",{children:["Web-based tooling for BPMN, DMN, and forms powered by ",y.jsx("a",{href:"https://bpmn.io",target:"_blank",rel:"noopener",children:"bpmn.io"}),"."]})]})]}):null}function me(e){return y.jsx("div",{class:"fjs-powered-by fjs-form-field",style:"text-align: right",children:y.jsx("a",{href:"https://bpmn.io",target:"_blank",rel:"noopener",class:"fjs-powered-by-link",title:"Powered by bpmn.io",style:"color: #404040",onClick:e.onClick,children:y.jsx(pe,{})})})}function he(e){var t=a(b.useState(!1),2),n=t[0],i=t[1];function r(e){return function(t){t.preventDefault(),i(e)}}return y.jsxs(_.Fragment,{children:[x.createPortal(y.jsx(fe,{open:n,onBackdropClick:r(!1)}),document.body),y.jsx(me,{onClick:r(!0)})]})}de.create=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s({components:[]},e)},de.type="default",de.keyed=!1;var ge=function(){};function ve(e){var t=le("form")._getState().schema,n=e.onSubmit,i=void 0===n?ge:n,r=e.onReset,a=void 0===r?ge:r,o=e.onChange,s=void 0===o?ge:o;return y.jsxs("form",{class:"fjs-form",onSubmit:function(e){e.preventDefault(),i()},onReset:function(e){e.preventDefault(),a()},children:[y.jsx(ue,{field:t,onChange:s}),y.jsx(he,{})]})}var ye="number";function be(e){var t=e.disabled,n=e.errors,i=void 0===n?[]:n,r=e.field,a=e.value,o=void 0===a?"":a,s=r.description,l=r.id,c=r.label,u=r.validate,d=(void 0===u?{}:u).required;return y.jsxs("div",{class:X(ye,i),children:[y.jsx(ie,{id:J(l),label:c,required:d}),y.jsx("input",{class:"fjs-input",disabled:t,id:J(l),onInput:function(t){var n=t.target,i=parseInt(n.value,10);e.onChange({field:r,value:isNaN(i)?void 0:i})},type:"number",value:o}),y.jsx(te,{description:s}),y.jsx(ne,{errors:i})]})}be.create=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s({},e)},be.type=ye,be.keyed=!0,be.label="Number";var _e="radio";function Ee(e){var t=e.disabled,n=e.errors,i=void 0===n?[]:n,r=e.field,a=e.value,o=r.description,s=r.id,l=r.label,c=r.validate,u=void 0===c?{}:c,d=r.values,p=u.required;return y.jsxs("div",{class:X(_e,i),children:[y.jsx(ie,{label:l,required:p}),d.map((function(n,i){return y.jsx(ie,{id:J("".concat(s,"-").concat(i)),label:n.label,required:!1,children:y.jsx("input",{checked:n.value===a,class:"fjs-input",disabled:t,id:J("".concat(s,"-").concat(i)),type:"radio",onClick:function(){return function(t){e.onChange({field:r,value:t===a?void 0:t})}(n.value)}})},n.value)})),y.jsx(te,{description:o}),y.jsx(ne,{errors:i})]})}Ee.create=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s({values:[{label:"Value",value:"value"}]},e)},Ee.type=_e,Ee.label="Radio",Ee.keyed=!0;var xe="select";function we(e){var t=e.disabled,n=e.errors,i=void 0===n?[]:n,r=e.field,a=e.value,o=r.description,s=r.id,l=r.label,c=r.validate,u=void 0===c?{}:c,d=r.values,p=u.required;return y.jsxs("div",{class:X(xe,i),children:[y.jsx(ie,{id:J(s),label:l,required:p}),y.jsxs("select",{class:"fjs-select",disabled:t,id:J(s),onChange:function(t){var n=t.target;e.onChange({field:r,value:""===n.value?void 0:n.value})},value:a,children:[y.jsx("option",{value:""}),d.map((function(e){return y.jsx("option",{value:e.value,children:e.label},e.value)}))]}),y.jsx(te,{description:o}),y.jsx(ne,{errors:i})]})}we.create=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s({values:[{label:"Value",value:"value"}]},e)},we.type=xe,we.label="Select",we.keyed=!0;var Se="text";function Ce(e){var t=e.field.text,n=void 0===t?"":t;return y.jsx("div",{class:X(Se),children:y.jsx(k.default,{markup:Q(n),trim:!1})})}Ce.create=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s({text:"# Text"},e)},Ce.type=Se,Ce.keyed=!1;var ke="textfield";function Te(e){var t=e.disabled,n=e.errors,i=void 0===n?[]:n,r=e.field,a=e.value,o=void 0===a?"":a,s=r.description,l=r.id,c=r.label,u=r.validate,d=(void 0===u?{}:u).required;return y.jsxs("div",{class:X(ke,i),children:[y.jsx(ie,{id:J(l),label:c,required:d}),y.jsx("input",{class:"fjs-input",disabled:t,id:J(l),onInput:function(t){var n=t.target;e.onChange({field:r,value:n.value})},type:"text",value:o}),y.jsx(te,{description:s}),y.jsx(ne,{errors:i})]})}Te.create=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s({},e)},Te.type=ke,Te.label="Text Field",Te.keyed=!0;var Ie=[ee,ae,de,be,Ee,we,Ce,Te],Ae=function(){function e(){var t=this;p(this,e),this._formFields={},Ie.forEach((function(e){var n=e.type;t.register(n,e)}))}return m(e,[{key:"register",value:function(e,t){this._formFields[e]=t}},{key:"get",value:function(e){return this._formFields[e]}}]),e}();function De(e,t,n,i){var r=function(){var e=a(b.useState(n._getState()),2),r=e[0],o=e[1],s={getService:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return i.get(e,t)}};t.on("changed",(function(e){o(e)}));var l=b.useCallback((function(e){return n._update(e)}),[n]),c=r.properties.readOnly,u=b.useCallback((function(){c||n.submit()}),[n,c]),d=b.useCallback((function(){return n.reset()}),[n]);return r.schema?y.jsx(se.Provider,{value:s,children:y.jsx(ve,{onChange:l,onSubmit:u,onReset:d})}):null},o=e.container;t.on("form.init",(function(){_.render(y.jsx(r,{}),o)})),t.on("form.destroy",(function(){_.render(null,o)}))}De.$inject=["config.renderer","eventBus","form","injector"];var Oe={__depends__:[V,{__init__:["formFields","renderer"],formFields:["type",Ae],renderer:["type",De]}],eventBus:["type",L],formFieldRegistry:["type",F],validator:["type",j]},Pe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,e),this._container=I();var n=t.container,i=t.injector,r=void 0===i?this._createInjector(t,this._container):i,a=t.properties,o=void 0===a?{}:a;this._state={initialData:null,data:null,properties:o,errors:{},schema:null},this.get=r.get,this.invoke=r.invoke,this.get("eventBus").fire("form.init"),n&&this.attachTo(n)}return m(e,[{key:"clear",value:function(){this._emit("diagram.clear"),this._emit("form.clear")}},{key:"destroy",value:function(){this.get("eventBus").fire("form.destroy"),this.get("eventBus").fire("diagram.destroy"),this._detach(!1)}},{key:"importSchema",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i,r){try{t.clear();var a=t.get("importer").importSchema(e,n),o=a.schema,s=a.data,l=a.warnings;return t._setState({data:s,errors:{},schema:o,initialData:M(s)}),t._emit("import.done",{warnings:l}),i({warnings:l})}catch(e){return t._emit("import.done",{error:e,warnings:e.warnings||[]}),r(e)}}))}},{key:"submit",value:function(){if(this._getState().properties.readOnly)throw new Error("form is read-only");var e=this.get("formFieldRegistry").getAll().reduce((function(e,t){var n=t.disabled,i=t._path;return n&&g.set(e,i,void 0),e}),M(this._getState().data)),t=this.validate();return this._emit("submit",{data:e,errors:t}),{data:e,errors:t}}},{key:"reset",value:function(){this._emit("reset"),this._setState({data:M(this._state.initialData),errors:{}})}},{key:"validate",value:function(){var e=this.get("formFieldRegistry"),t=this.get("validator"),n=this._getState().data,i=e.getAll().reduce((function(e,i){var r=i.disabled,a=i._path;if(r)return e;var o=g.get(n,a),s=t.validateField(i,o);return g.set(e,[D(a)],s.length?s:void 0)}),{});return this._setState({errors:i}),i}},{key:"attachTo",value:function(e){if(!e)throw new Error("parentNode required");this.detach(),g.isString(e)&&(e=document.querySelector(e));var t=this._container;e.appendChild(t),this._emit("attach")}},{key:"detach",value:function(){this._detach()}},{key:"_detach",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this._container,n=t.parentNode;n&&(e&&this._emit("detach"),n.removeChild(t))}},{key:"setProperty",value:function(e,t){var n=g.set(this._getState().properties,[e],t);this._setState({properties:n})}},{key:"on",value:function(e,t,n){this.get("eventBus").on(e,t,n)}},{key:"off",value:function(e,t){this.get("eventBus").off(e,t)}},{key:"_createInjector",value:function(e,t){var n=e.additionalModules,i=void 0===n?[]:n,r=e.modules;return T([{config:["value",{renderer:{container:t}}]},{form:["value",this]},Oe].concat(c(void 0===r?[]:r),c(i)))}},{key:"_emit",value:function(e,t){this.get("eventBus").fire(e,t)}},{key:"_update",value:function(e){var t=e.field,n=e.value,i=t._path,r=this._getState(),a=r.data,o=r.errors,s=this.get("validator").validateField(t,n);g.set(a,i,n),g.set(o,[D(i)],s.length?s:void 0),this._setState({data:M(a),errors:M(o)})}},{key:"_getState",value:function(){return this._state}},{key:"_setState",value:function(e){this._state=s(s({},this._state),e),this._emit("changed",this._getState())}}]),e}();n.Button=ee,n.Checkbox=ae,n.Default=de,n.Form=Pe,n.FormComponent=ve,n.FormContext=se,n.FormFieldRegistry=F,n.FormFields=Ae,n.FormRenderContext=oe,n.Number=be,n.Radio=Ee,n.Select=we,n.Text=Ce,n.Textfield=Te,n.clone=M,n.createForm=function(e){var t=e.data,n=e.schema,a=r(e,i),o=new Pe(a);return o.importSchema(n,t).then((function(){return o}))},n.createFormContainer=I,n.createInjector=T,n.findErrors=A,n.formFields=Ie,n.generateIdForType=N,n.generateIndexForType=P,n.isRequired=function(e){return e.required},n.pathParse=function(e){return e?e.split(".").map((function(e){return isNaN(parseInt(e))?e:parseInt(e)})):[]},n.pathStringify=D,n.pathsEqual=function(e,t){return e&&t&&e.length===t.length&&e.every((function(e,n){return e===t[n]}))},n.schemaVersion=2},{"@bpmn-io/snarkdown":84,didi:298,"min-dash":324,preact:334,"preact-markup":332,"preact/compat":333,"preact/hooks":335,"preact/jsx-runtime":336}],83:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("@bpmn-io/form-js-viewer"),r=e("@bpmn-io/form-js-editor");Object.defineProperty(n,"Form",{enumerable:!0,get:function(){return i.Form}}),Object.defineProperty(n,"createForm",{enumerable:!0,get:function(){return i.createForm}}),Object.defineProperty(n,"FormEditor",{enumerable:!0,get:function(){return r.FormEditor}}),Object.defineProperty(n,"createFormEditor",{enumerable:!0,get:function(){return r.createFormEditor}})},{"@bpmn-io/form-js-editor":81,"@bpmn-io/form-js-viewer":82}],84:[function(e,t,n){"use strict";var i={"":["<em>","</em>"],_:["<strong>","</strong>"],"*":["<strong>","</strong>"],"~":["<s>","</s>"],"\n":["<br />"]," ":["<br />"],"-":["<hr />"]};function r(e){return e.replace(RegExp("^"+(e.match(/^(\t| )+/)||"")[0],"gm"),"")}function a(e){return(e+"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}t.exports=function e(t,n){var o,s,l,c,u,d=/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^``` *(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:!\[([^\]]*?)\]\(([^)]+?)\))|(\[)|(\](?:\(([^)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,6})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*]|~~)|<([^>]+)>/gm,p=[],f="",m=n||{},h=0;function g(e){var t=i[e[1]||""],n=p[p.length-1]==e;return t?t[1]?(n?p.pop():p.push(e),t[0|n]):t[0]:e}function v(){for(var e="";p.length;)e+=g(p[p.length-1]);return e}for(t=t.replace(/^\[(.+?)\]:\s*(.+)$/gm,(function(e,t,n){return m[t.toLowerCase()]=n,""})).replace(/^\n+|\n+$/g,"");l=d.exec(t);)s=t.substring(h,l.index),h=d.lastIndex,o=l[0],s.match(/[^\\](\\\\)*\\$/)||((u=l[3]||l[4])?o='<pre class="code '+(l[4]?"poetry":l[2].toLowerCase())+'"><code'+(l[2]?' class="language-'+l[2].toLowerCase()+'"':"")+">"+r(a(u).replace(/^\n+|\n+$/g,""))+"</code></pre>":(u=l[6])?(u.match(/\./)&&(l[5]=l[5].replace(/^\d+/gm,"")),c=e(r(l[5].replace(/^\s*[>*+.-]/gm,""))),">"==u?u="blockquote":(u=u.match(/\./)?"ol":"ul",c=c.replace(/^(.*)(\n|$)/gm,"<li>$1</li>")),o="<"+u+">"+c+"</"+u+">"):l[8]?o='<img src="'+a(l[8])+'" alt="'+a(l[7])+'">':l[10]?(f=f.replace("<a>",'<a href="'+a(l[11]||m[s.toLowerCase()])+'">'),o=v()+"</a>"):l[18]&&/^(https?|mailto):/.test(l[18])?o='<a href="'+a(l[18])+'">'+a(l[18])+"</a>":l[9]?o="<a>":l[12]||l[14]?o="<"+(u="h"+(l[14]?l[14].length:l[13]>"="?1:2))+">"+e(l[12]||l[15],m)+"</"+u+">":l[16]?o="<code>"+a(l[16])+"</code>":(l[17]||l[1])&&(o=g(l[17]||"--"))),f+=s,f+=o;return(f+t.substring(h)+v()).replace(/^\n+|\n+$/g,"")}},{}],85:[function(e,t,n){"use strict";function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s=function(e,t,n){var i=t<0?e.length+t:t;if(i>=0&&i<e.length){var a=n<0?e.length+n:n,o=r(e.splice(t,1),1)[0];e.splice(a,0,o)}};t.exports=function(e,t,n){return e=i(e),s(e,t,n),e},t.exports.mutate=s},{}],86:[function(e,t,n){"use strict";t.exports=function(e,t){return Array.prototype.slice.call(e,t)}},{}],87:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var i=e("min-dash"),r=e("min-dom"),a=e("tiny-svg"),o=p(e("diagram-js")),s=p(e("bpmn-moddle")),l=p(e("inherits")),c=e("./import/Importer"),u=e("./util/CompatibilityUtil"),d=e("./util/PoweredByUtil");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){var t,n,a,o;e=(0,i.assign)({},h,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),t=this._container,n=d.BPMNIO_IMG,a='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100; '+d.LINK_STYLES+'">'+n+"</a>",o=(0,r.domify)(a),t.appendChild(o),r.event.bind(o,"click",(function(e){(0,d.open)(),e.preventDefault()})),this._init(this._container,this._moddle,e)}function m(e,t){return e.warnings=t,e}(0,l.default)(f,o.default),f.prototype.importXML=(0,u.wrapForCompatibility)((function(e,t){var n=this;return new Promise((function(i,r){e=n._emit("import.parse.start",{xml:e})||e,n._moddle.fromXML(e,"bpmn:Definitions").then((function(e){var a,o,s=e.rootElement,l=e.references,c=e.warnings,u=e.elementsById;s=n._emit("import.parse.complete",(a={error:null,definitions:s,elementsById:u,references:l,warnings:c},o=n.get("eventBus").createEvent(a),Object.defineProperty(o,"context",{enumerable:!0,get:function(){return console.warn(new Error("import.parse.complete <context> is deprecated and will be removed in future library versions")),{warnings:a.warnings,references:a.references,elementsById:a.elementsById}}}),o))||s,n.importDefinitions(s,t).then((function(e){var t=[].concat(c,e.warnings||[]);return n._emit("import.done",{error:null,warnings:t}),i({warnings:t})})).catch((function(e){var t=[].concat(c,e.warnings||[]);return n._emit("import.done",{error:e,warnings:t}),r(m(e,t))}))})).catch((function(e){return n._emit("import.parse.complete",{error:e}),e=function(e){var t=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);t&&(e.message="unparsable content <"+t[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+t[2]);return e}(e),n._emit("import.done",{error:e,warnings:e.warnings}),r(e)}))}))})),f.prototype.importDefinitions=(0,u.wrapForCompatibility)((function(e,t){var n=this;return new Promise((function(i,r){n._setDefinitions(e),n.open(t).then((function(e){var t=e.warnings;return i({warnings:t})})).catch((function(e){return r(e)}))}))})),f.prototype.open=(0,u.wrapForCompatibility)((function(e){var t=this._definitions,n=e,r=this;return new Promise((function(a,o){if(!t){var s=new Error("no XML imported");return o(m(s,[]))}if("string"==typeof e&&!(n=function(e,t){if(!t)return null;return(0,i.find)(e.diagrams,(function(e){return e.id===t}))||null}(t,e))){var l=new Error("BPMNDiagram <"+e+"> not found");return o(m(l,[]))}try{r.clear()}catch(e){return o(m(e,[]))}(0,c.importBpmnDiagram)(r,t,n).then((function(e){var t=e.warnings;return a({warnings:t})})).catch((function(e){return o(e)}))}))})),f.prototype.saveXML=(0,u.wrapForCompatibility)((function(e){e=e||{};var t=this,n=this._definitions;return new Promise((function(i,r){if(!n){var a=new Error("no definitions loaded");return r(a)}n=t._emit("saveXML.start",{definitions:n})||n,t._moddle.toXML(n,e).then((function(e){var n=e.xml;try{n=t._emit("saveXML.serialized",{error:null,xml:n})||n,t._emit("saveXML.done",{error:null,xml:n})}catch(e){console.error("error in saveXML life-cycle listener",e)}return i({xml:n})})).catch((function(e){return r(e)}))}))})),f.prototype.saveSVG=(0,u.wrapForCompatibility)((function(e){e=e||{};var t=this;return new Promise((function(e,n){var i,o;t._emit("saveSVG.start");try{var s=t.get("canvas"),l=s.getDefaultLayer(),c=(0,r.query)("defs",s._svg),u=(0,a.innerSVG)(l),d=c?"<defs>"+(0,a.innerSVG)(c)+"</defs>":"",p=l.getBBox();i='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+p.width+'" height="'+p.height+'" viewBox="'+p.x+" "+p.y+" "+p.width+" "+p.height+'" version="1.1">'+d+u+"</svg>"}catch(e){o=e}return t._emit("saveSVG.done",{error:o,svg:i}),o?n(o):e({svg:i})}))})),f.prototype._setDefinitions=function(e){this._definitions=e},f.prototype.getModules=function(){return this._modules},f.prototype.clear=function(){this.getDefinitions()&&(this.get("elementRegistry").forEach((function(e){var t=e.businessObject;t&&t.di&&delete t.di})),o.default.prototype.clear.call(this))},f.prototype.destroy=function(){o.default.prototype.destroy.call(this),(0,r.remove)(this._container)},f.prototype.on=function(e,t,n,i){return this.get("eventBus").on(e,t,n,i)},f.prototype.off=function(e,t){this.get("eventBus").off(e,t)},f.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),"string"==typeof e&&(e=(0,r.query)(e)),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},f.prototype.getDefinitions=function(){return this._definitions},f.prototype.detach=function(){var e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))},f.prototype._init=function(e,t,n){var r=n.modules||this.getModules(),a=n.additionalModules||[],s=[].concat([{bpmnjs:["value",this],moddle:["value",t]}],r,a),l=(0,i.assign)((0,i.omit)(n,["additionalModules"]),{canvas:(0,i.assign)({},n.canvas,{container:e}),modules:s});o.default.call(this,l),n&&n.container&&this.attachTo(n.container)},f.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)},f.prototype._createContainer=function(e){var t=(0,r.domify)('<div class="bjs-container"></div>');return(0,i.assign)(t.style,{width:g(e.width),height:g(e.height),position:e.position}),t},f.prototype._createModdle=function(e){var t=(0,i.assign)({},this._moddleExtensions,e.moddleExtensions);return new s.default(t)},f.prototype._modules=[];var h={width:"100%",height:"100%",position:"relative"};function g(e){return e+((0,i.isNumber)(e)?"px":"")}},{"./import/Importer":99,"./util/CompatibilityUtil":102,"./util/PoweredByUtil":106,"bpmn-moddle":107,"diagram-js":246,inherits:314,"min-dash":324,"min-dom":325,"tiny-svg":342}],88:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var i=l(e("inherits")),r=l(e("./Viewer")),a=l(e("diagram-js/lib/navigation/keyboard-move")),o=l(e("diagram-js/lib/navigation/movecanvas")),s=l(e("diagram-js/lib/navigation/zoomscroll"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){r.default.call(this,e)}(0,i.default)(c,r.default),c.prototype._navigationModules=[a.default,o.default,s.default],c.prototype._modules=[].concat(r.default.prototype._modules,c.prototype._navigationModules)},{"./Viewer":89,"diagram-js/lib/navigation/keyboard-move":277,"diagram-js/lib/navigation/movecanvas":279,"diagram-js/lib/navigation/zoomscroll":282,inherits:314}],89:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var i=c(e("inherits")),r=c(e("./core")),a=c(e("diagram-js/lib/i18n/translate")),o=c(e("diagram-js/lib/features/selection")),s=c(e("diagram-js/lib/features/overlays")),l=c(e("./BaseViewer"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){l.default.call(this,e)}(0,i.default)(u,l.default),u.prototype._modules=[r.default,a.default,o.default,s.default],u.prototype._moddleExtensions={}},{"./BaseViewer":87,"./core":90,"diagram-js/lib/features/overlays":267,"diagram-js/lib/features/selection":271,"diagram-js/lib/i18n/translate":272,inherits:314}],90:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("../draw")),r=a(e("../import"));function a(e){return e&&e.__esModule?e:{default:e}}var o={__depends__:[i.default,r.default]};n.default=o},{"../draw":95,"../import":101}],91:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isTypedEvent=function(e,t,n){return(0,i.some)(e.eventDefinitions,(function(r){return r.$type===t&&function(e,t){return(0,i.every)(t,(function(t,n){return e[n]==t}))}(e,n)}))},n.isThrowEvent=function(e){return"bpmn:IntermediateThrowEvent"===e.$type||"bpmn:EndEvent"===e.$type},n.isCollection=function(e){var t=e.dataObjectRef;return e.isCollection||t&&t.isCollection},n.getDi=a,n.getSemantic=function(e){return e.businessObject},n.getFillColor=function(e,t){return a(e).get("bioc:fill")||t||"white"},n.getStrokeColor=function(e,t){return a(e).get("bioc:stroke")||t||"black"},n.getCirclePath=function(e){var t=e.x+e.width/2,n=e.y+e.height/2,i=e.width/2,a=[["M",t,n],["m",0,-i],["a",i,i,0,1,1,0,2*i],["a",i,i,0,1,1,0,-2*i],["z"]];return(0,r.componentsToPath)(a)},n.getRoundRectPath=function(e,t){var n=e.x,i=e.y,a=e.width,o=e.height,s=[["M",n+t,i],["l",a-2*t,0],["a",t,t,0,0,1,t,t],["l",0,o-2*t],["a",t,t,0,0,1,-t,t],["l",2*t-a,0],["a",t,t,0,0,1,-t,-t],["l",0,2*t-o],["a",t,t,0,0,1,t,-t],["z"]];return(0,r.componentsToPath)(s)},n.getDiamondPath=function(e){var t=e.width,n=e.height,i=e.x,a=e.y,o=t/2,s=n/2,l=[["M",i+o,a],["l",o,s],["l",-o,s],["l",-o,-s],["z"]];return(0,r.componentsToPath)(l)},n.getRectPath=function(e){var t=e.x,n=e.y,i=e.width,a=e.height,o=[["M",t,n],["l",i,0],["l",0,a],["l",-i,0],["z"]];return(0,r.componentsToPath)(o)};var i=e("min-dash"),r=e("diagram-js/lib/util/RenderUtil");function a(e){return e.businessObject.di}},{"diagram-js/lib/util/RenderUtil":295,"min-dash":324}],92:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var i=m(e("inherits")),r=e("min-dash"),a=m(e("diagram-js/lib/draw/BaseRenderer")),o=e("../util/DiUtil"),s=e("../features/label-editing/LabelUtil"),l=e("../util/ModelUtil"),c=e("diagram-js/lib/util/RenderUtil"),u=e("./BpmnRenderUtil"),d=e("min-dom"),p=e("tiny-svg"),f=e("diagram-js/lib/util/SvgTransformUtil");function m(e){return e&&e.__esModule?e:{default:e}}var h=new(m(e("ids")).default),g=.95;function v(e,t,n,i,l,m,v){a.default.call(this,t,v);var y=e&&e.defaultFillColor,b=e&&e.defaultStrokeColor,_=h.next(),E={},x=n.computeStyle;function w(e,t){var n=(0,r.assign)({fill:"black",strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},t.attrs),i=t.ref||{x:0,y:0},a=t.scale||1;"none"===n.strokeDasharray&&(n.strokeDasharray=[1e4,1]);var o=(0,p.create)("marker");(0,p.attr)(t.element,n),(0,p.append)(o,t.element),(0,p.attr)(o,{id:e,viewBox:"0 0 20 20",refX:i.x,refY:i.y,markerWidth:20*a,markerHeight:20*a,orient:"auto"});var s=(0,d.query)("defs",l._svg);s||(s=(0,p.create)("defs"),(0,p.append)(l._svg,s)),(0,p.append)(s,o),E[e]=o}function S(e){return e.replace(/[^0-9a-zA-z]+/g,"_")}function C(e,t,n){var i=e+"-"+S(t)+"-"+S(n)+"-"+_;return E[i]||function(e,t,n,i){if("sequenceflow-end"===t){var r=(0,p.create)("path");(0,p.attr)(r,{d:"M 1 5 L 11 10 L 1 15 Z"}),w(e,{element:r,ref:{x:11,y:10},scale:.5,attrs:{fill:i,stroke:i}})}if("messageflow-start"===t){var a=(0,p.create)("circle");(0,p.attr)(a,{cx:6,cy:6,r:3.5}),w(e,{element:a,attrs:{fill:n,stroke:i},ref:{x:6,y:6}})}if("messageflow-end"===t){var o=(0,p.create)("path");(0,p.attr)(o,{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z"}),w(e,{element:o,attrs:{fill:n,stroke:i,strokeLinecap:"butt"},ref:{x:8.5,y:5}})}if("association-start"===t){var s=(0,p.create)("path");(0,p.attr)(s,{d:"M 11 5 L 1 10 L 11 15"}),w(e,{element:s,attrs:{fill:"none",stroke:i,strokeWidth:1.5},ref:{x:1,y:10},scale:.5})}if("association-end"===t){var l=(0,p.create)("path");(0,p.attr)(l,{d:"M 1 5 L 11 10 L 1 15"}),w(e,{element:l,attrs:{fill:"none",stroke:i,strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}if("conditional-flow-marker"===t){var c=(0,p.create)("path");(0,p.attr)(c,{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z"}),w(e,{element:c,attrs:{fill:n,stroke:i},ref:{x:-1,y:10},scale:.5})}if("conditional-default-flow-marker"===t){var u=(0,p.create)("path");(0,p.attr)(u,{d:"M 6 4 L 10 16"}),w(e,{element:u,attrs:{stroke:i},ref:{x:0,y:10},scale:.5})}}(i,e,t,n),"url(#"+i+")"}function k(e,t,n,i,a){(0,r.isObject)(i)&&(a=i,i=0),i=i||0,"none"===(a=x(a,{stroke:"black",strokeWidth:2,fill:"white"})).fill&&delete a.fillOpacity;var o=t/2,s=n/2,l=(0,p.create)("circle");return(0,p.attr)(l,{cx:o,cy:s,r:Math.round((t+n)/4-i)}),(0,p.attr)(l,a),(0,p.append)(e,l),l}function T(e,t,n,i,a,o){(0,r.isObject)(a)&&(o=a,a=0),a=a||0,o=x(o,{stroke:"black",strokeWidth:2,fill:"white"});var s=(0,p.create)("rect");return(0,p.attr)(s,{x:a,y:a,width:t-2*a,height:n-2*a,rx:i,ry:i}),(0,p.attr)(s,o),(0,p.append)(e,s),s}function I(e,t,n){n=x(n,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});var i=(0,c.createLine)(t,n);return(0,p.append)(e,i),i}function A(e,t,n){n=x(n,["no-fill"],{strokeWidth:2,stroke:"black"});var i=(0,p.create)("path");return(0,p.attr)(i,{d:t}),(0,p.attr)(i,n),(0,p.append)(e,i),i}function D(e,t,n,i){return A(t,n,(0,r.assign)({"data-marker":e},i))}function O(e){return function(t,n){return j[e](t,n)}}function P(e){return j[e]}function N(e,t){var n=(0,u.getSemantic)(e),i=(0,u.isThrowEvent)(n);return n.eventDefinitions&&n.eventDefinitions.length>1?n.parallelMultiple?P("bpmn:ParallelMultipleEventDefinition")(t,e,i):P("bpmn:MultipleEventDefinition")(t,e,i):(0,u.isTypedEvent)(n,"bpmn:MessageEventDefinition")?P("bpmn:MessageEventDefinition")(t,e,i):(0,u.isTypedEvent)(n,"bpmn:TimerEventDefinition")?P("bpmn:TimerEventDefinition")(t,e,i):(0,u.isTypedEvent)(n,"bpmn:ConditionalEventDefinition")?P("bpmn:ConditionalEventDefinition")(t,e):(0,u.isTypedEvent)(n,"bpmn:SignalEventDefinition")?P("bpmn:SignalEventDefinition")(t,e,i):(0,u.isTypedEvent)(n,"bpmn:EscalationEventDefinition")?P("bpmn:EscalationEventDefinition")(t,e,i):(0,u.isTypedEvent)(n,"bpmn:LinkEventDefinition")?P("bpmn:LinkEventDefinition")(t,e,i):(0,u.isTypedEvent)(n,"bpmn:ErrorEventDefinition")?P("bpmn:ErrorEventDefinition")(t,e,i):(0,u.isTypedEvent)(n,"bpmn:CancelEventDefinition")?P("bpmn:CancelEventDefinition")(t,e,i):(0,u.isTypedEvent)(n,"bpmn:CompensateEventDefinition")?P("bpmn:CompensateEventDefinition")(t,e,i):(0,u.isTypedEvent)(n,"bpmn:TerminateEventDefinition")?P("bpmn:TerminateEventDefinition")(t,e,i):null}function M(e,t,n){n=(0,r.assign)({size:{width:100}},n);var i=m.createText(t||"",n);return(0,p.classes)(i).add("djs-label"),(0,p.append)(e,i),i}function R(e,t,n){return M(e,(0,u.getSemantic)(t).name,{box:t,align:n,padding:5,style:{fill:(0,u.getStrokeColor)(t,b)}})}function L(e,t,n){var i=M(e,t,{box:{height:30,width:n.height},align:"center-middle",style:{fill:(0,u.getStrokeColor)(n,b)}}),r=-1*n.height;(0,f.transform)(i,0,-r,270)}function $(e){for(var t=e.waypoints,n="m  "+t[0].x+","+t[0].y,i=1;i<t.length;i++)n+="L"+t[i].x+","+t[i].y+" ";return n}var j=this.handlers={"bpmn:Event":function(e,t,n){return"fillOpacity"in n||(n.fillOpacity=g),k(e,t.width,t.height,n)},"bpmn:StartEvent":function(e,t){var n={fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)};(0,u.getSemantic)(t).isInterrupting||(n={strokeDasharray:"6",strokeLinecap:"round",fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)});var i=P("bpmn:Event")(e,t,n);return N(t,e),i},"bpmn:MessageEventDefinition":function(e,t,n){return A(e,i.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:t.width,containerHeight:t.height,position:{mx:.235,my:.315}}),{strokeWidth:1,fill:n?(0,u.getStrokeColor)(t,b):(0,u.getFillColor)(t,y),stroke:n?(0,u.getFillColor)(t,y):(0,u.getStrokeColor)(t,b)})},"bpmn:TimerEventDefinition":function(e,t){var n=k(e,t.width,t.height,.2*t.height,{strokeWidth:2,fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)});A(e,i.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),{strokeWidth:2,strokeLinecap:"square",stroke:(0,u.getStrokeColor)(t,b)});for(var r=0;r<12;r++){var a=i.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),o=t.width/2;A(e,a,{strokeWidth:1,strokeLinecap:"square",transform:"rotate("+30*r+","+t.height/2+","+o+")",stroke:(0,u.getStrokeColor)(t,b)})}return n},"bpmn:EscalationEventDefinition":function(e,t,n){return A(e,i.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:n?(0,u.getStrokeColor)(t,b):"none",stroke:(0,u.getStrokeColor)(t,b)})},"bpmn:ConditionalEventDefinition":function(e,t){return A(e,i.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.222}}),{strokeWidth:1,stroke:(0,u.getStrokeColor)(t,b)})},"bpmn:LinkEventDefinition":function(e,t,n){return A(e,i.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.57,my:.263}}),{strokeWidth:1,fill:n?(0,u.getStrokeColor)(t,b):"none",stroke:(0,u.getStrokeColor)(t,b)})},"bpmn:ErrorEventDefinition":function(e,t,n){return A(e,i.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:t.width,containerHeight:t.height,position:{mx:.2,my:.722}}),{strokeWidth:1,fill:n?(0,u.getStrokeColor)(t,b):"none",stroke:(0,u.getStrokeColor)(t,b)})},"bpmn:CancelEventDefinition":function(e,t,n){var r=A(e,i.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.638,my:-.055}}),{strokeWidth:1,fill:n?(0,u.getStrokeColor)(t,b):"none",stroke:(0,u.getStrokeColor)(t,b)});return(0,f.rotate)(r,45),r},"bpmn:CompensateEventDefinition":function(e,t,n){return A(e,i.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.22,my:.5}}),{strokeWidth:1,fill:n?(0,u.getStrokeColor)(t,b):"none",stroke:(0,u.getStrokeColor)(t,b)})},"bpmn:SignalEventDefinition":function(e,t,n){return A(e,i.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:n?(0,u.getStrokeColor)(t,b):"none",stroke:(0,u.getStrokeColor)(t,b)})},"bpmn:MultipleEventDefinition":function(e,t,n){return A(e,i.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:t.width,containerHeight:t.height,position:{mx:.222,my:.36}}),{strokeWidth:1,fill:n?(0,u.getStrokeColor)(t,b):"none"})},"bpmn:ParallelMultipleEventDefinition":function(e,t){return A(e,i.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:t.width,containerHeight:t.height,position:{mx:.458,my:.194}}),{strokeWidth:1,fill:(0,u.getStrokeColor)(t,b),stroke:(0,u.getStrokeColor)(t,b)})},"bpmn:EndEvent":function(e,t){var n=P("bpmn:Event")(e,t,{strokeWidth:4,fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)});return N(t,e),n},"bpmn:TerminateEventDefinition":function(e,t){return k(e,t.width,t.height,8,{strokeWidth:4,fill:(0,u.getStrokeColor)(t,b),stroke:(0,u.getStrokeColor)(t,b)})},"bpmn:IntermediateEvent":function(e,t){var n=P("bpmn:Event")(e,t,{strokeWidth:1,fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)});return k(e,t.width,t.height,3,{strokeWidth:1,fill:(0,u.getFillColor)(t,"none"),stroke:(0,u.getStrokeColor)(t,b)}),N(t,e),n},"bpmn:IntermediateCatchEvent":O("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":O("bpmn:IntermediateEvent"),"bpmn:Activity":function(e,t,n){return"fillOpacity"in(n=n||{})||(n.fillOpacity=g),T(e,t.width,t.height,10,n)},"bpmn:Task":function(e,t){var n={fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)},i=P("bpmn:Activity")(e,t,n);return R(e,t,"center-middle"),F(e,t),i},"bpmn:ServiceTask":function(e,t){var n=P("bpmn:Task")(e,t);return A(e,i.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{strokeWidth:1,fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)}),A(e,i.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}}),{strokeWidth:0,fill:(0,u.getFillColor)(t,y)}),A(e,i.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{strokeWidth:1,fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)}),n},"bpmn:UserTask":function(e,t){var n=P("bpmn:Task")(e,t);return A(e,i.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)}),A(e,i.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)}),A(e,i.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:(0,u.getStrokeColor)(t,b),stroke:(0,u.getStrokeColor)(t,b)}),n},"bpmn:ManualTask":function(e,t){var n=P("bpmn:Task")(e,t);return A(e,i.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{strokeWidth:.5,fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)}),n},"bpmn:SendTask":function(e,t){var n=P("bpmn:Task")(e,t);return A(e,i.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{strokeWidth:1,fill:(0,u.getStrokeColor)(t,b),stroke:(0,u.getFillColor)(t,y)}),n},"bpmn:ReceiveTask":function(e,t){var n,r=(0,u.getSemantic)(t),a=P("bpmn:Task")(e,t);return r.instantiate?(k(e,28,28,4.4,{strokeWidth:1}),n=i.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):n=i.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),A(e,n,{strokeWidth:1,fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)}),a},"bpmn:ScriptTask":function(e,t){var n=P("bpmn:Task")(e,t);return A(e,i.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{strokeWidth:1,stroke:(0,u.getStrokeColor)(t,b)}),n},"bpmn:BusinessRuleTask":function(e,t){var n=P("bpmn:Task")(e,t),r=A(e,i.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}));(0,p.attr)(r,{strokeWidth:1,fill:(0,u.getFillColor)(t,"#aaaaaa"),stroke:(0,u.getStrokeColor)(t,b)});var a=A(e,i.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}));return(0,p.attr)(a,{strokeWidth:1,stroke:(0,u.getStrokeColor)(t,b)}),n},"bpmn:SubProcess":function(e,t,n){n=(0,r.assign)({fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)},n);var i=P("bpmn:Activity")(e,t,n),a=(0,o.isExpanded)(t);return(0,o.isEventSubProcess)(t)&&(0,p.attr)(i,{strokeDasharray:"1,2"}),R(e,t,a?"center-top":"center-middle"),a?F(e,t):F(e,t,["SubProcessMarker"]),i},"bpmn:AdHocSubProcess":function(e,t){return P("bpmn:SubProcess")(e,t)},"bpmn:Transaction":function(e,t){var i=P("bpmn:SubProcess")(e,t),r=n.style(["no-fill","no-events"],{stroke:(0,u.getStrokeColor)(t,b)});return T(e,t.width,t.height,8,3,r),i},"bpmn:CallActivity":function(e,t){return P("bpmn:SubProcess")(e,t,{strokeWidth:5})},"bpmn:Participant":function(e,t){var n={fillOpacity:g,fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)},i=P("bpmn:Lane")(e,t,n);(0,o.isExpanded)(t)?(I(e,[{x:30,y:0},{x:30,y:t.height}],{stroke:(0,u.getStrokeColor)(t,b)}),L(e,(0,u.getSemantic)(t).name,t)):M(e,(0,u.getSemantic)(t).name,{box:t,align:"center-middle",style:{fill:(0,u.getStrokeColor)(t,b)}});return!!(0,u.getSemantic)(t).participantMultiplicity&&P("ParticipantMultiplicityMarker")(e,t),i},"bpmn:Lane":function(e,t,n){var i=T(e,t.width,t.height,0,(0,r.assign)({fill:(0,u.getFillColor)(t,y),fillOpacity:.35,stroke:(0,u.getStrokeColor)(t,b)},n)),a=(0,u.getSemantic)(t);"bpmn:Lane"===a.$type&&L(e,a.name,t);return i},"bpmn:InclusiveGateway":function(e,t){var n=P("bpmn:Gateway")(e,t);return k(e,t.width,t.height,.24*t.height,{strokeWidth:2.5,fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)}),n},"bpmn:ExclusiveGateway":function(e,t){var n=P("bpmn:Gateway")(e,t),r=i.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:t.width,containerHeight:t.height,position:{mx:.32,my:.3}});return(0,u.getDi)(t).isMarkerVisible&&A(e,r,{strokeWidth:1,fill:(0,u.getStrokeColor)(t,b),stroke:(0,u.getStrokeColor)(t,b)}),n},"bpmn:ComplexGateway":function(e,t){var n=P("bpmn:Gateway")(e,t);return A(e,i.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:t.width,containerHeight:t.height,position:{mx:.46,my:.26}}),{strokeWidth:1,fill:(0,u.getStrokeColor)(t,b),stroke:(0,u.getStrokeColor)(t,b)}),n},"bpmn:ParallelGateway":function(e,t){var n=P("bpmn:Gateway")(e,t);return A(e,i.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:t.width,containerHeight:t.height,position:{mx:.46,my:.2}}),{strokeWidth:1,fill:(0,u.getStrokeColor)(t,b),stroke:(0,u.getStrokeColor)(t,b)}),n},"bpmn:EventBasedGateway":function(e,t){var n=(0,u.getSemantic)(t),r=P("bpmn:Gateway")(e,t);k(e,t.width,t.height,.2*t.height,{strokeWidth:1,fill:"none",stroke:(0,u.getStrokeColor)(t,b)});var a=n.eventGatewayType,o=!!n.instantiate;if("Parallel"===a){var s=i.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}}),l=A(e,s);(0,p.attr)(l,{strokeWidth:1,fill:"none"})}else if("Exclusive"===a){if(!o){var c=k(e,t.width,t.height,.26*t.height);(0,p.attr)(c,{strokeWidth:1,fill:"none",stroke:(0,u.getStrokeColor)(t,b)})}!function(){var n=i.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:t.width,containerHeight:t.height,position:{mx:.36,my:.44}}),r={strokeWidth:2,fill:(0,u.getFillColor)(t,"none"),stroke:(0,u.getStrokeColor)(t,b)};A(e,n,r)}()}return r},"bpmn:Gateway":function(e,t){var n={fill:(0,u.getFillColor)(t,y),fillOpacity:g,stroke:(0,u.getStrokeColor)(t,b)};return function(e,t,n,i){var r=t/2,a=n/2,o=[{x:r,y:0},{x:t,y:a},{x:r,y:n},{x:0,y:a}].map((function(e){return e.x+","+e.y})).join(" ");i=x(i,{stroke:"black",strokeWidth:2,fill:"white"});var s=(0,p.create)("polygon");return(0,p.attr)(s,{points:o}),(0,p.attr)(s,i),(0,p.append)(e,s),s}(e,t.width,t.height,n)},"bpmn:SequenceFlow":function(e,t){var n,i=$(t),r=(0,u.getFillColor)(t,y),a=(0,u.getStrokeColor)(t,b),o=A(e,i,{strokeLinejoin:"round",markerEnd:C("sequenceflow-end",r,a),stroke:(0,u.getStrokeColor)(t,b)}),s=(0,u.getSemantic)(t);return t.source&&(n=t.source.businessObject,s.conditionExpression&&n.$instanceOf("bpmn:Activity")&&(0,p.attr)(o,{markerStart:C("conditional-flow-marker",r,a)}),n.default&&(n.$instanceOf("bpmn:Gateway")||n.$instanceOf("bpmn:Activity"))&&n.default===s&&(0,p.attr)(o,{markerStart:C("conditional-default-flow-marker",r,a)})),o},"bpmn:Association":function(e,t,n){var i=(0,u.getSemantic)(t),a=(0,u.getFillColor)(t,y),o=(0,u.getStrokeColor)(t,b);return n=(0,r.assign)({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",stroke:(0,u.getStrokeColor)(t,b)},n||{}),"One"!==i.associationDirection&&"Both"!==i.associationDirection||(n.markerEnd=C("association-end",a,o)),"Both"===i.associationDirection&&(n.markerStart=C("association-start",a,o)),I(e,t.waypoints,n)},"bpmn:DataInputAssociation":function(e,t){var n=(0,u.getFillColor)(t,y),i=(0,u.getStrokeColor)(t,b);return P("bpmn:Association")(e,t,{markerEnd:C("association-end",n,i)})},"bpmn:DataOutputAssociation":function(e,t){var n=(0,u.getFillColor)(t,y),i=(0,u.getStrokeColor)(t,b);return P("bpmn:Association")(e,t,{markerEnd:C("association-end",n,i)})},"bpmn:MessageFlow":function(e,t){var n=(0,u.getSemantic)(t),r=(0,u.getDi)(t),a=(0,u.getFillColor)(t,y),o=(0,u.getStrokeColor)(t,b),s=A(e,$(t),{markerEnd:C("messageflow-end",a,o),markerStart:C("messageflow-start",a,o),strokeDasharray:"10, 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5px",stroke:(0,u.getStrokeColor)(t,b)});if(n.messageRef){var l=s.getPointAtLength(s.getTotalLength()/2),c=i.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:l.x,y:l.y}}),d={strokeWidth:1};"initiating"===r.messageVisibleKind?(d.fill="white",d.stroke="black"):(d.fill="#888",d.stroke="white"),A(e,c,d)}return s},"bpmn:DataObject":function(e,t){var n=A(e,i.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}}),{fill:(0,u.getFillColor)(t,y),fillOpacity:g,stroke:(0,u.getStrokeColor)(t,b)}),r=(0,u.getSemantic)(t);return(0,u.isCollection)(r)&&function(e,t){var n=(t.height-18)/t.height,r=i.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.33,my:n}});A(e,r,{strokeWidth:2})}(e,t),n},"bpmn:DataObjectReference":O("bpmn:DataObject"),"bpmn:DataInput":function(e,t){var n=i.getRawPath("DATA_ARROW"),r=P("bpmn:DataObject")(e,t);return A(e,n,{strokeWidth:1}),r},"bpmn:DataOutput":function(e,t){var n=i.getRawPath("DATA_ARROW"),r=P("bpmn:DataObject")(e,t);return A(e,n,{strokeWidth:1,fill:"black"}),r},"bpmn:DataStoreReference":function(e,t){return A(e,i.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:.133}}),{strokeWidth:2,fill:(0,u.getFillColor)(t,y),fillOpacity:g,stroke:(0,u.getStrokeColor)(t,b)})},"bpmn:BoundaryEvent":function(e,t){var n=(0,u.getSemantic)(t).cancelActivity,i={strokeWidth:1,fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)};n||(i.strokeDasharray="6",i.strokeLinecap="round");var a=(0,r.assign)({},i,{fillOpacity:1}),o=(0,r.assign)({},i,{fill:"none"}),s=P("bpmn:Event")(e,t,a);return k(e,t.width,t.height,3,o),N(t,e),s},"bpmn:Group":function(e,t){return T(e,t.width,t.height,10,{stroke:(0,u.getStrokeColor)(t,b),strokeWidth:1,strokeDasharray:"8,3,1,3",fill:"none",pointerEvents:"none"})},label:function(e,t){return function(e,t){var n={width:90,height:30,x:t.width/2+t.x,y:t.height/2+t.y};return M(e,(0,s.getLabel)(t),{box:n,fitBox:!0,style:(0,r.assign)({},m.getExternalStyle(),{fill:(0,u.getStrokeColor)(t,b)})})}(e,t)},"bpmn:TextAnnotation":function(e,t){var n=T(e,t.width,t.height,0,0,{fill:"none",stroke:"none"});return A(e,i.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:0}}),{stroke:(0,u.getStrokeColor)(t,b)}),M(e,(0,u.getSemantic)(t).text||"",{box:t,align:"left-top",padding:5,style:{fill:(0,u.getStrokeColor)(t,b)}}),n},ParticipantMultiplicityMarker:function(e,t){D("participant-multiplicity",e,i.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:t.width/2/t.width,my:(t.height-15)/t.height}}),{strokeWidth:2,fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)})},SubProcessMarker:function(e,t){var n=T(e,14,14,0,{strokeWidth:1,fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)});(0,f.translate)(n,t.width/2-7.5,t.height-20),D("sub-process",e,i.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2-7.5)/t.width,my:(t.height-20)/t.height}}),{fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)})},ParallelMarker:function(e,t,n){D("parallel",e,i.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.parallel)/t.width,my:(t.height-20)/t.height}}),{fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)})},SequentialMarker:function(e,t,n){D("sequential",e,i.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.seq)/t.width,my:(t.height-19)/t.height}}),{fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)})},CompensationMarker:function(e,t,n){D("compensation",e,i.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.compensation)/t.width,my:(t.height-13)/t.height}}),{strokeWidth:1,fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b)})},LoopMarker:function(e,t,n){D("loop",e,i.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.loop)/t.width,my:(t.height-7)/t.height}}),{strokeWidth:1,fill:(0,u.getFillColor)(t,y),stroke:(0,u.getStrokeColor)(t,b),strokeLinecap:"round",strokeMiterlimit:.5})},AdhocMarker:function(e,t,n){D("adhoc",e,i.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.adhoc)/t.width,my:(t.height-15)/t.height}}),{strokeWidth:1,fill:(0,u.getStrokeColor)(t,b),stroke:(0,u.getStrokeColor)(t,b)})}};function F(e,t,n){var i,a=(0,u.getSemantic)(t),o=n&&-1!==n.indexOf("SubProcessMarker");i=o?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},(0,r.forEach)(n,(function(n){P(n)(e,t,i)})),a.isForCompensation&&P("CompensationMarker")(e,t,i),"bpmn:AdHocSubProcess"===a.$type&&P("AdhocMarker")(e,t,i);var s=a.loopCharacteristics,l=s&&s.isSequential;s&&(void 0===l&&P("LoopMarker")(e,t,i),!1===l&&P("ParallelMarker")(e,t,i),!0===l&&P("SequentialMarker")(e,t,i))}this._drawPath=A}(0,i.default)(v,a.default),v.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],v.prototype.canRender=function(e){return(0,l.is)(e,"bpmn:BaseElement")},v.prototype.drawShape=function(e,t){var n=t.type;return(0,this.handlers[n])(e,t)},v.prototype.drawConnection=function(e,t){var n=t.type;return(0,this.handlers[n])(e,t)},v.prototype.getShapePath=function(e){return(0,l.is)(e,"bpmn:Event")?(0,u.getCirclePath)(e):(0,l.is)(e,"bpmn:Activity")?(0,u.getRoundRectPath)(e,10):(0,l.is)(e,"bpmn:Gateway")?(0,u.getDiamondPath)(e):(0,u.getRectPath)(e)}},{"../features/label-editing/LabelUtil":96,"../util/DiUtil":103,"../util/ModelUtil":105,"./BpmnRenderUtil":91,"diagram-js/lib/draw/BaseRenderer":254,"diagram-js/lib/util/RenderUtil":295,"diagram-js/lib/util/SvgTransformUtil":296,ids:313,inherits:314,"min-dash":324,"min-dom":325,"tiny-svg":342}],93:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,t){var n,a,o=this.pathMap[e];t.abspos?(n=t.abspos.x,a=t.abspos.y):(n=t.containerWidth*t.position.mx,a=t.containerHeight*t.position.my);var s,l,c={};if(t.position){for(var u=t.containerHeight/o.height*t.yScaleFactor,d=t.containerWidth/o.width*t.xScaleFactor,p=0;p<o.heightElements.length;p++)c["y"+p]=o.heightElements[p]*u;for(var f=0;f<o.widthElements.length;f++)c["x"+f]=o.widthElements[f]*d}return s=o.d,l={mx:n,my:a,e:c},String(s).replace(i,(function(e,t){return function(e,t,n){var i=n;return t.replace(r,(function(e,t,n,r,a){t=t||r,i&&(t in i&&(i=i[t]),"function"==typeof i&&a&&(i=i()))})),i=(null==i||i==n?e:i)+""}(e,t,l)}))}};var i=/\{([^}]+)\}/g,r=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g},{}],94:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i,r=e("min-dash"),a=(i=e("diagram-js/lib/util/Text"))&&i.__esModule?i:{default:i};function o(e){var t=(0,r.assign)({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},e&&e.defaultStyle||{}),n=parseInt(t.fontSize,10)-1,i=(0,r.assign)({},t,{fontSize:n},e&&e.externalStyle||{}),o=new a.default({style:t});this.getExternalLabelBounds=function(e,t){var n=o.getDimensions(t,{box:{width:90,height:30,x:e.width/2+e.x,y:e.height/2+e.y},style:i});return{x:Math.round(e.x+e.width/2-n.width/2),y:Math.round(e.y),width:Math.ceil(n.width),height:Math.ceil(n.height)}},this.getTextAnnotationBounds=function(e,n){var i=o.getDimensions(n,{box:e,style:t,align:"left-top",padding:5});return{x:e.x,y:e.y,width:e.width,height:Math.max(30,Math.round(i.height))}},this.createText=function(e,t){return o.createText(e,t||{})},this.getDefaultStyle=function(){return t},this.getExternalStyle=function(){return i}}o.$inject=["config.textRenderer"]},{"diagram-js/lib/util/Text":297,"min-dash":324}],95:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("./BpmnRenderer")),r=o(e("./TextRenderer")),a=o(e("./PathMap"));function o(e){return e&&e.__esModule?e:{default:e}}var s={__init__:["bpmnRenderer"],bpmnRenderer:["type",i.default],textRenderer:["type",r.default],pathMap:["type",a.default]};n.default=s},{"./BpmnRenderer":92,"./PathMap":93,"./TextRenderer":94}],96:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getLabel=function(e){var t=e.businessObject,n=r(t);if(n)return"categoryValueRef"===n?function(e){var t=e.categoryValueRef;if(!t)return"";return t.value||""}(t):t[n]||""},n.setLabel=function(e,t,n){var i=e.businessObject,a=r(i);a&&("categoryValueRef"===a?i.categoryValueRef.value=t:i[a]=t);return e};var i=e("../../util/ModelUtil");function r(e){return(0,i.is)(e,"bpmn:FlowElement")||(0,i.is)(e,"bpmn:Participant")||(0,i.is)(e,"bpmn:Lane")||(0,i.is)(e,"bpmn:SequenceFlow")||(0,i.is)(e,"bpmn:MessageFlow")||(0,i.is)(e,"bpmn:DataInput")||(0,i.is)(e,"bpmn:DataOutput")?"name":(0,i.is)(e,"bpmn:TextAnnotation")?"text":(0,i.is)(e,"bpmn:Group")?"categoryValueRef":void 0}},{"../../util/ModelUtil":105}],97:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var i=e("min-dash"),r=e("../util/ModelUtil"),a=e("../util/LabelUtil"),o=e("diagram-js/lib/layout/LayoutUtil"),s=e("../util/DiUtil"),l=e("../features/label-editing/LabelUtil"),c=e("./Util");function u(e,t){return(0,i.assign)({id:e.id,type:e.$type,businessObject:e},t)}function d(e,t,n){var i=e.di.waypoint;return!i||i.length<2?[(0,o.getMid)(t),(0,o.getMid)(n)]:i.map((function(e){return{x:e.x,y:e.y}}))}function p(e,t,n,i){return new Error(e("element {element} referenced by {referenced}#{property} not yet drawn",{element:(0,c.elementToString)(n),referenced:(0,c.elementToString)(t),property:i}))}function f(e,t,n,i,r,a){this._eventBus=e,this._canvas=t,this._elementFactory=n,this._elementRegistry=i,this._translate=r,this._textRenderer=a}f.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],f.prototype.add=function(e,t){var n,i,p,f,m,h,g,v=e.di,y=this._translate;if((0,r.is)(v,"bpmndi:BPMNPlane"))n=this._elementFactory.createRoot(u(e)),this._canvas.setRootElement(n);else if((0,r.is)(v,"bpmndi:BPMNShape")){var b=!(0,s.isExpanded)(e),_=function(e){return(0,r.is)(e,"bpmn:Group")}(e);i=t&&(t.hidden||t.collapsed);var E=e.di.bounds;n=this._elementFactory.createShape(u(e,{collapsed:b,hidden:i,x:Math.round(E.x),y:Math.round(E.y),width:Math.round(E.width),height:Math.round(E.height),isFrame:_})),(0,r.is)(e,"bpmn:BoundaryEvent")&&this._attachBoundary(e,n),(0,r.is)(e,"bpmn:Lane")&&(p=0),(0,r.is)(e,"bpmn:DataStoreReference")&&(f=t,m=(0,o.getMid)(E),h=m.x,g=m.y,h>=f.x&&h<=f.x+f.width&&g>=f.y&&g<=f.y+f.height||(t=this._canvas.getRootElement())),this._canvas.addShape(n,t,p)}else{if(!(0,r.is)(v,"bpmndi:BPMNEdge"))throw new Error(y("unknown di {di} for element {semantic}",{di:(0,c.elementToString)(v),semantic:(0,c.elementToString)(e)}));var x=this._getSource(e),w=this._getTarget(e);i=t&&(t.hidden||t.collapsed),n=this._elementFactory.createConnection(u(e,{hidden:i,source:x,target:w,waypoints:d(e,x,w)})),(0,r.is)(e,"bpmn:DataAssociation")&&(t=null),(0,r.is)(e,"bpmn:SequenceFlow")&&(p=0),this._canvas.addConnection(n,t,p)}return(0,a.isLabelExternal)(e)&&(0,l.getLabel)(n)&&this.addLabel(e,n),this._eventBus.fire("bpmnElement.added",{element:n}),n},f.prototype._attachBoundary=function(e,t){var n=this._translate,i=e.attachedToRef;if(!i)throw new Error(n("missing {semantic}#attachedToRef",{semantic:(0,c.elementToString)(e)}));var r=this._elementRegistry.get(i.id),a=r&&r.attachers;if(!r)throw p(n,e,i,"attachedToRef");t.host=r,a||(r.attachers=a=[]),-1===a.indexOf(t)&&a.push(t)},f.prototype.addLabel=function(e,t){var n,i,r;return n=(0,a.getExternalLabelBounds)(e,t),(i=(0,l.getLabel)(t))&&(n=this._textRenderer.getExternalLabelBounds(n,i)),r=this._elementFactory.createLabel(u(e,{id:e.id+"_label",labelTarget:t,type:"label",hidden:t.hidden||!(0,l.getLabel)(t),x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)})),this._canvas.addShape(r,t.parent)},f.prototype._getEnd=function(e,t){var n,i,r=e.$type,a=this._translate;if(i=e[t+"Ref"],"source"===t&&"bpmn:DataInputAssociation"===r&&(i=i&&i[0]),("source"===t&&"bpmn:DataOutputAssociation"===r||"target"===t&&"bpmn:DataInputAssociation"===r)&&(i=e.$parent),n=i&&this._getElement(i))return n;throw i?p(a,e,i,t+"Ref"):new Error(a("{semantic}#{side} Ref not specified",{semantic:(0,c.elementToString)(e),side:t}))},f.prototype._getSource=function(e){return this._getEnd(e,"source")},f.prototype._getTarget=function(e){return this._getEnd(e,"target")},f.prototype._getElement=function(e){return this._elementRegistry.get(e.id)}},{"../features/label-editing/LabelUtil":96,"../util/DiUtil":103,"../util/LabelUtil":104,"../util/ModelUtil":105,"./Util":100,"diagram-js/lib/layout/LayoutUtil":274,"min-dash":324}],98:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n={},i=[];function a(e,t){return function(n){e(n,t)}}function c(e){n[e.id]=e}function u(n,i){try{var r=n.di&&function(n,i){if(n.gfx)throw new Error(t("already rendered {element}",{element:(0,o.elementToString)(n)}));return e.element(n,i)}(n,i);return c(n),r}catch(e){d(e.message,{element:n,error:e}),console.error(t("failed to import {element}",{element:(0,o.elementToString)(n)})),console.error(e)}}function d(t,n){e.error(t,n)}function p(e){var n=e.bpmnElement;n?n.di?d(t("multiple DI elements defined for {element}",{element:(0,o.elementToString)(n)}),{element:n}):(s.bind(n,"di"),n.di=e):d(t("no bpmnElement referenced in {element}",{element:(0,o.elementToString)(e)}),{element:e})}function f(e){var t;p(t=e.plane),(0,r.forEach)(t.planeElement,m)}function m(e){p(e)}function h(){for(;i.length;)i.shift()()}function g(e,t){A(e,t),w(e.ioSpecification,t),x(e.artifacts,t),c(e)}function v(e,t){u(e,t)}function y(e,t){u(e,t)}function b(e,t){u(e,t)}function _(e,t){u(e,t)}function E(e,t){u(e,t)}function x(e,t){(0,r.forEach)(e,(function(e){l(e,"bpmn:Association")?i.push((function(){E(e,t)})):E(e,t)}))}function w(e,t){e&&((0,r.forEach)(e.dataInputs,a(b,t)),(0,r.forEach)(e.dataOutputs,a(_,t)))}function S(e,t){A(e,t),x(e.artifacts,t)}function C(e,t){var n=u(e,t);l(e,"bpmn:SubProcess")&&S(e,n||t),l(e,"bpmn:Activity")&&w(e.ioSpecification,t),i.push((function(){(0,r.forEach)(e.dataInputAssociations,a(y,t)),(0,r.forEach)(e.dataOutputAssociations,a(y,t))}))}function k(e,t){u(e,t)}function T(e,t){i.push((function(){var n=u(e,t);e.childLaneSet&&I(e.childLaneSet,n||t),function(e){(0,r.forEach)(e.flowNodeRef,(function(t){var n=t.get("lanes");n&&n.push(e)}))}(e)}))}function I(e,t){(0,r.forEach)(e.lanes,a(T,t))}function A(e,n){!function(e,n){(0,r.forEach)(e,(function(e){l(e,"bpmn:SequenceFlow")?i.push((function(){!function(e,t){u(e,t)}(e,n)})):l(e,"bpmn:BoundaryEvent")?i.unshift((function(){C(e,n)})):l(e,"bpmn:FlowNode")?C(e,n):l(e,"bpmn:DataObject")||(l(e,"bpmn:DataStoreReference")||l(e,"bpmn:DataObjectReference")?k(e,n):d(t("unrecognized flowElement {element} in context {context}",{element:(0,o.elementToString)(e),context:n?(0,o.elementToString)(n.businessObject):"null"}),{element:e,context:n}))}))}(e.flowElements,n),e.laneSets&&function(e,t){(0,r.forEach)(e,a(I,t))}(e.laneSets,n)}function D(e,t){var n=u(e,t),i=e.processRef;i&&g(i,n||t)}return{handleDeferred:h,handleDefinitions:function(s,c){var u=s.diagrams;if(c&&-1===u.indexOf(c))throw new Error(t("diagram not part of bpmn:Definitions"));if(!c&&u&&u.length&&(c=u[0]),!c)throw new Error(t("no diagram to display"));f(c);var m=c.plane;if(!m)throw new Error(t("no plane for {element}",{element:(0,o.elementToString)(c)}));var y=m.bpmnElement;if(!y){if(!(y=function(e){return(0,r.find)(e.rootElements,(function(e){return l(e,"bpmn:Process")||l(e,"bpmn:Collaboration")}))}(s)))throw new Error(t("no process or collaboration to display"));d(t("correcting missing bpmnElement on {plane} to {rootElement}",{plane:(0,o.elementToString)(m),rootElement:(0,o.elementToString)(y)})),m.bpmnElement=y,p(m)}var b,_=function(t,n){return e.root(t,n)}(y,m);if(l(y,"bpmn:Process"))g(y,_);else{if(!l(y,"bpmn:Collaboration"))throw new Error(t("unsupported bpmnElement for {plane}: {rootElement}",{plane:(0,o.elementToString)(m),rootElement:(0,o.elementToString)(y)}));b=y,(0,r.forEach)(b.participants,a(D)),x(b.artifacts),i.push((function(){var e,t;e=b.messageFlows,(0,r.forEach)(e,a(v,t))})),function(e,t){(0,r.filter)(e,(function(e){return!n[e.id]&&l(e,"bpmn:Process")&&e.laneSets})).forEach(a(g,t))}(s.rootElements,_)}h()},handleSubProcess:S,registerDi:p}};var i,r=e("min-dash"),a=(i=e("object-refs"))&&i.__esModule?i:{default:i},o=e("./Util");var s=new a.default({name:"bpmnElement",enumerable:!0},{name:"di",configurable:!0});function l(e,t){return e.$instanceOf(t)}},{"./Util":100,"min-dash":324,"object-refs":328}],99:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.importBpmnDiagram=function(e,t,n){var i,a,o,s=[];return new Promise((function(l,c){try{return i=e.get("bpmnImporter"),a=e.get("eventBus"),o=e.get("translate"),a.fire("import.render.start",{definitions:t}),function(e,t){var n={root:function(e){return i.add(e)},element:function(e,t){return i.add(e,t)},error:function(e,t){s.push({message:e,context:t})}};new r.default(n,o).handleDefinitions(e,t)}(t,n),a.fire("import.render.complete",{error:undefined,warnings:s}),l({warnings:s})}catch(e){return e.warnings=s,c(e)}}))};var i,r=(i=e("./BpmnTreeWalker"))&&i.__esModule?i:{default:i}},{"./BpmnTreeWalker":98}],100:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.elementToString=function(e){if(!e)return"<null>";return"<"+e.$type+(e.id?' id="'+e.id:"")+'" />'}},{}],101:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("diagram-js/lib/i18n/translate")),r=a(e("./BpmnImporter"));function a(e){return e&&e.__esModule?e:{default:e}}var o={__depends__:[i.default],bpmnImporter:["type",r.default]};n.default=o},{"./BpmnImporter":97,"diagram-js/lib/i18n/translate":272}],102:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.wrapForCompatibility=function(e){return function(){if(!window.Promise)throw new Error("Promises is not supported in this environment. Please polyfill Promise.");var t=arguments.length;if(!(t>=1&&(0,i.isFunction)(arguments[t-1])))return e.apply(this,arguments);var n=arguments[t-1];console.warn(new Error("Passing callbacks to "+e.name+" is deprecated and will be removed in a future major release. Please switch to promises: https://bpmn.io/l/moving-to-promises.html"));var r=Array.prototype.slice.call(arguments,0,-1);e.apply(this,r).then((function(e){var t=Object.keys(e)[0];return n(null,e[t])}),(function(e){return n(e,e.warnings)}))}};var i=e("min-dash")},{"min-dash":324}],103:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isExpanded=function(e){if((0,i.is)(e,"bpmn:CallActivity"))return!1;if((0,i.is)(e,"bpmn:SubProcess"))return(0,i.getBusinessObject)(e).di&&!!(0,i.getBusinessObject)(e).di.isExpanded;if((0,i.is)(e,"bpmn:Participant"))return!!(0,i.getBusinessObject)(e).processRef;return!0},n.isInterrupting=function(e){return e&&!1!==(0,i.getBusinessObject)(e).isInterrupting},n.isEventSubProcess=function(e){return e&&!!(0,i.getBusinessObject)(e).triggeredByEvent},n.hasEventDefinition=a,n.hasErrorEventDefinition=function(e){return a(e,"bpmn:ErrorEventDefinition")},n.hasEscalationEventDefinition=function(e){return a(e,"bpmn:EscalationEventDefinition")},n.hasCompensateEventDefinition=function(e){return a(e,"bpmn:CompensateEventDefinition")};var i=e("./ModelUtil"),r=e("min-dash");function a(e,t){var n=(0,i.getBusinessObject)(e),a=!1;return n.eventDefinitions&&(0,r.forEach)(n.eventDefinitions,(function(e){(0,i.is)(e,t)&&(a=!0)})),a}},{"./ModelUtil":105,"min-dash":324}],104:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isLabelExternal=function(e){return(0,r.is)(e,"bpmn:Event")||(0,r.is)(e,"bpmn:Gateway")||(0,r.is)(e,"bpmn:DataStoreReference")||(0,r.is)(e,"bpmn:DataObjectReference")||(0,r.is)(e,"bpmn:DataInput")||(0,r.is)(e,"bpmn:DataOutput")||(0,r.is)(e,"bpmn:SequenceFlow")||(0,r.is)(e,"bpmn:MessageFlow")||(0,r.is)(e,"bpmn:Group")},n.hasExternalLabel=function(e){return c(e.label)},n.getFlowLabelPosition=o,n.getWaypointsMid=s,n.getExternalLabelMid=l,n.getExternalLabelBounds=function(e,t){var n,r,o,s=e.di.label;s&&s.bounds?(o=s.bounds,r={width:Math.max(a.width,o.width),height:o.height},n={x:o.x+o.width/2,y:o.y+o.height/2}):(n=l(t),r=a);return(0,i.assign)({x:n.x-r.width/2,y:n.y-r.height/2},r)},n.isLabel=c,n.FLOW_LABEL_INDENT=n.DEFAULT_LABEL_SIZE=void 0;var i=e("min-dash"),r=e("./ModelUtil"),a={width:90,height:20};n.DEFAULT_LABEL_SIZE=a;function o(e){var t=e.length/2-1,n=e[Math.floor(t)],i=e[Math.ceil(t+.01)],r=s(e),a=Math.atan((i.y-n.y)/(i.x-n.x)),o=r.x,l=r.y;return Math.abs(a)<Math.PI/2?l-=15:o+=15,{x:o,y:l}}function s(e){var t=e.length/2-1,n=e[Math.floor(t)],i=e[Math.ceil(t+.01)];return{x:n.x+(i.x-n.x)/2,y:n.y+(i.y-n.y)/2}}function l(e){return e.waypoints?o(e.waypoints):(0,r.is)(e,"bpmn:Group")?{x:e.x+e.width/2,y:e.y+a.height/2}:{x:e.x+e.width/2,y:e.y+e.height+a.height/2}}function c(e){return e&&!!e.labelTarget}n.FLOW_LABEL_INDENT=15},{"./ModelUtil":105,"min-dash":324}],105:[function(e,t,n){"use strict";function i(e){return e&&e.businessObject||e}Object.defineProperty(n,"__esModule",{value:!0}),n.is=function(e,t){var n=i(e);return n&&"function"==typeof n.$instanceOf&&n.$instanceOf(t)},n.getBusinessObject=i},{}],106:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.open=function(){s||(s=(0,i.domify)(l),i.delegate.bind(s,".backdrop","click",(function(e){document.body.removeChild(s)})));document.body.appendChild(s)},n.LINK_STYLES=n.BPMNIO_IMG=void 0;var i=e("min-dom"),r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21" style="vertical-align:middle"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>';function a(e){return e.join(";")}n.BPMNIO_IMG=r;var o=a(["color: #404040"]);n.LINK_STYLES=o;var s,l='<div class="bjs-powered-by-lightbox" style="'+a(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"])+'"><div class="backdrop" style="'+a(["width: 100%","height: 100%","background: rgba(40,40,40,0.2)"])+'"></div><div class="notice" style="'+a(["position: absolute","left: 50%","top: 40%","transform: translate(-50%)","width: 260px","padding: 10px","background: white","box-shadow: 0 1px 4px rgba(0,0,0,0.3)","font-family: Helvetica, Arial, sans-serif","font-size: 14px","display: flex","line-height: 1.3"])+'"><a href="https://bpmn.io" target="_blank" rel="noopener" style="margin: 15px 20px 15px 10px; align-self: center;'+o+'">'+r+'</a><span>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>'},{"min-dom":325}],107:[function(e,t,n){"use strict";var i=e("min-dash"),r=e("moddle"),a=e("moddle-xml");function o(e,t){r.Moddle.call(this,e,t)}o.prototype=Object.create(r.Moddle.prototype),o.prototype.fromXML=function(e,t,n){i.isString(t)||(n=t,t="bpmn:Definitions");var r=new a.Reader(i.assign({model:this,lax:!0},n)),o=r.handler(t);return r.fromXML(e,o)},o.prototype.toXML=function(e,t){var n=new a.Writer(t);return new Promise((function(t,i){try{return t({xml:n.toXML(e)})}catch(e){return i(e)}}))};var s={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isAttr:!0,isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};t.exports=function(e,t){return new o(i.assign({},s,e),t)}},{"min-dash":324,moddle:327,"moddle-xml":108}],108:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("min-dash"),r=e("saxen"),a=e("moddle");function o(e){return e.xml&&"lowerCase"===e.xml.tagAlias}var s={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},l="xsi:type";function c(e){return e.xml&&e.xml.serialize}function u(e){return c(e)===l}function d(e,t){return o(t)?e.prefix+":"+((n=e.localName).charAt(0).toUpperCase()+n.slice(1)):e.name;var n}function p(e){return new Error(e)}function f(e){return e.$descriptor}function m(e){i.assign(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw p("expected element");var t,n=this.elementsById,i=f(e).idProperty;if(i&&(t=e.get(i.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(t))throw new Error("illegal ID <"+t+">");if(n[t])throw p("duplicate ID <"+t+">");n[t]=e}},this.addWarning=function(e){this.warnings.push(e)}}function h(){}function g(){}function v(){}function y(e,t){this.property=e,this.context=t}function b(e,t){this.element=t,this.propertyDesc=e}function _(){}function E(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function x(e,t,n){E.call(this,e,t,n)}function w(e,t,n){this.model=e,this.context=n}function S(e){e instanceof a.Moddle&&(e={model:e}),i.assign(this,{lax:!1},e)}h.prototype.handleEnd=function(){},h.prototype.handleText=function(){},h.prototype.handleNode=function(){},g.prototype=Object.create(h.prototype),g.prototype.handleNode=function(){return this},v.prototype=Object.create(h.prototype),v.prototype.handleText=function(e){this.body=(this.body||"")+e},y.prototype=Object.create(v.prototype),y.prototype.handleNode=function(e){if(this.element)throw p("expected no sub nodes");return this.element=this.createReference(e),this},y.prototype.handleEnd=function(){this.element.id=this.body},y.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},b.prototype=Object.create(v.prototype),b.prototype.handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=a.coerceType(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},_.prototype=Object.create(v.prototype),_.prototype.handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t},E.prototype=Object.create(_.prototype),E.prototype.addReference=function(e){this.context.addReference(e)},E.prototype.handleText=function(e){if(!f(this.element).bodyProperty)throw p("unexpected body text <"+e+">");v.prototype.handleText.call(this,e)},E.prototype.handleEnd=function(){var e=this.body,t=this.element,n=f(t).bodyProperty;n&&void 0!==e&&(e=a.coerceType(n.type,e),t.set(n.name,e))},E.prototype.createElement=function(e){var t,n=e.attributes,r=this.type,o=f(r),s=this.context,l=new r({}),c=this.model;return i.forEach(n,(function(e,n){var r,u=o.propertiesByName[n];u&&u.isReference?u.isMany?(r=e.split(" "),i.forEach(r,(function(e){s.addReference({element:l,property:u.ns.name,id:e})}))):s.addReference({element:l,property:u.ns.name,id:e}):(u?e=a.coerceType(u.type,e):"xmlns"!==n&&(t=a.parseNameNS(n,o.ns.prefix),c.getPackage(t.prefix)&&s.addWarning({message:"unknown attribute <"+n+">",element:l,property:n,value:e})),l.set(n,e))})),l},E.prototype.getPropertyForNode=function(e){var t,n,r=e.name,o=a.parseNameNS(r),s=this.type,c=this.model,m=f(s),h=o.name,g=m.propertiesByName[h];if(g&&!g.isAttr)return u(g)&&(t=e.attributes[l])?(t=function(e,t){var n=a.parseNameNS(e);return function(e,t){var n=e.name,i=e.localName,r=t.xml&&t.xml.typePrefix;return r&&0===i.indexOf(r)?e.prefix+":"+i.slice(r.length):n}(n,t.getPackage(n.prefix))}(t,c),n=c.getType(t),i.assign({},g,{effectiveType:f(n).name})):g;var v=c.getPackage(o.prefix);if(v){if(t=d(o,v),n=c.getType(t),g=i.find(m.properties,(function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)})))return i.assign({},g,{effectiveType:f(n).name})}else if(g=i.find(m.properties,(function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type})))return g;throw p("unrecognized element <"+o.name+">")},E.prototype.toString=function(){return"ElementDescriptor["+f(this.type).name+"]"},E.prototype.valueHandler=function(e,t){return new b(e,t)},E.prototype.referenceHandler=function(e){return new y(e,this.context)},E.prototype.handler=function(e){return"Element"===e?new w(this.model,e,this.context):new E(this.model,e,this.context)},E.prototype.handleChild=function(e){var t,n,r,o;if(t=this.getPropertyForNode(e),r=this.element,n=t.effectiveType||t.type,a.isSimpleType(n))return this.valueHandler(t,r);var s=(o=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e)).element;return void 0!==s&&(t.isMany?r.get(t.name).push(s):r.set(t.name,s),t.isReference?(i.assign(s,{element:r}),this.context.addReference(s)):s.$parent=r),o},x.prototype=Object.create(E.prototype),x.prototype.createElement=function(e){var t=e.name,n=a.parseNameNS(t),i=this.model,r=this.type,o=i.getPackage(n.prefix),s=o&&d(n,o)||t;if(!r.hasType(s))throw p("unexpected element <"+e.originalName+">");return E.prototype.createElement.call(this,e)},w.prototype=Object.create(_.prototype),w.prototype.createElement=function(e){var t=e.name,n=a.parseNameNS(t).prefix,i=e.ns[n+"$uri"],r=e.attributes;return this.model.createAny(t,i,r)},w.prototype.handleChild=function(e){var t=new w(this.model,"Element",this.context).handleNode(e),n=this.element,i=t.element;return void 0!==i&&((n.$children=n.$children||[]).push(i),i.$parent=n),t},w.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},S.prototype.fromXML=function(e,t,n){var a=t.rootHandler;t instanceof E?(a=t,t={}):"string"==typeof t?(a=this.handler(t),t={}):"string"==typeof a&&(a=this.handler(a));var o=this.model,s=this.lax,l=new m(i.assign({},t,{rootHandler:a})),c=new r.Parser({proxy:!0}),u=function(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}();function d(e,t,n){var i=t(),r=i.line,a=i.column,o=i.data;"<"===o.charAt(0)&&-1!==o.indexOf(" ")&&(o=o.slice(0,o.indexOf(" "))+">");var s="unparsable content "+(o?o+" ":"")+"detected\n\tline: "+r+"\n\tcolumn: "+a+"\n\tnested error: "+e.message;if(n)return l.addWarning({message:s,error:e}),!0;throw p(s)}function h(e,t){return d(e,t,!0)}a.context=l,u.push(a);var v=/^<\?xml /i,y=/ encoding="([^"]+)"/i,b=/^utf-8$/i;function _(e,t){try{u.peek().handleText(e)}catch(e){h(e,t)}}var x=o.getPackages().reduce((function(e,t){return e[t.uri]=t.prefix,e}),{"http://www.w3.org/XML/1998/namespace":"xml"});return c.ns(x).on("openTag",(function(e,t,n,i){var r=e.attrs||{},a=Object.keys(r).reduce((function(e,n){var i=t(r[n]);return e[n]=i,e}),{});!function(e,t){var n=u.peek();try{u.push(n.handleNode(e))}catch(e){d(e,t,s)&&u.push(new g)}}({name:e.name,originalName:e.originalName,attributes:a,ns:e.ns},i)})).on("question",(function(e){if(v.test(e)){var t=y.exec(e),n=t&&t[1];n&&!b.test(n)&&l.addWarning({message:"unsupported document encoding <"+n+">, falling back to UTF-8"})}})).on("closeTag",(function(){u.pop().handleEnd()})).on("cdata",_).on("text",(function(e,t,n){!function(e,t){e.trim()&&_(e,t)}(t(e),n)})).on("error",d).on("warn",h),new Promise((function(t,n){var i;try{c.parse(e),function(){var e,t,n=l.elementsById,i=l.references;for(e=0;t=i[e];e++){var r=t.element,a=n[t.id],o=f(r).propertiesByName[t.property];if(a||l.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),o.isMany){var s=r.get(o.name),c=s.indexOf(t);-1===c&&(c=s.length),a?s[c]=a:s.splice(c,1)}else r.set(o.name,a)}}()}catch(e){i=e}var r=a.element;i||r||(i=p("failed to parse document as <"+a.type.$descriptor.name+">"));var o=l.warnings,s=l.references,u=l.elementsById;return i?(i.warnings=o,n(i)):t({rootElement:r,elementsById:u,references:s,warnings:o})}))},S.prototype.handler=function(e){return new x(this.model,e)};var C=/<|>|'|"|&|\n\r|\n/g,k=/<|>|&/g;function T(e){var t={},n={},i={},r=[],a=[];this.byUri=function(t){return n[t]||e&&e.byUri(t)},this.add=function(e,t){n[e.uri]=e,t?r.push(e):a.push(e),this.mapPrefix(e.prefix,e.uri)},this.uriByPrefix=function(e){return t[e||"xmlns"]},this.mapPrefix=function(e,n){t[e||"xmlns"]=n},this.getNSKey=function(e){return void 0!==e.prefix?e.uri+"|"+e.prefix:e.uri},this.logUsed=function(t){var n=t.uri,r=this.getNSKey(t);i[r]=this.byUri(n),e&&e.logUsed(t)},this.getUsed=function(e){var t=this;return[].concat(r,a).filter((function(e){var n=t.getNSKey(e);return i[n]}))}}function I(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function A(e){return i.isString(e)?e:(e.prefix?e.prefix+":":"")+e.localName}var D={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},O={"<":"lt",">":"gt","&":"amp"};function P(e,t,n){return(e=i.isString(e)?e:""+e).replace(t,(function(e){return"&"+n[e]+";"}))}function N(e){this.tagName=e}function M(){}function R(e){this.tagName=e}function L(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}function $(e,t){L.call(this,e,t)}function j(){this.value="",this.write=function(e){this.value+=e}}function F(e,t){var n=[""];this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}N.prototype.build=function(e){return this.element=e,this},N.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},M.prototype.serializeValue=M.prototype.serializeTo=function(e){e.append(this.escape?P(this.value,k,O):this.value)},M.prototype.build=function(e,t){return this.value=t,"String"===e.type&&-1!==t.search(k)&&(this.escape=!0),this},I(R,M),R.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},L.prototype.build=function(e){this.element=e;var t,n,r,a=e.$descriptor,o=this.propertyDescriptor,s=a.isGeneric;return t=s?this.parseGeneric(e):this.parseNsAttributes(e),this.ns=o?this.nsPropertyTagName(o):this.nsTagName(a),this.tagName=this.addTagName(this.ns),s||(n=function(e){var t=e.$descriptor;return i.filter(t.properties,(function(t){var n=t.name;if(t.isVirtual)return!1;if(!i.has(e,n))return!1;var r=e[n];return r!==t.default&&null!==r&&(!t.isMany||r.length)}))}(e),this.parseAttributes((r=n,i.filter(r,(function(e){return e.isAttr})))),this.parseContainments(function(e){return i.filter(e,(function(e){return!e.isAttr}))}(n))),this.parseGenericAttributes(e,t),this},L.prototype.nsTagName=function(e){return function(e,t){return t.isGeneric?i.assign({localName:t.ns.localName},e):i.assign({localName:(n=t.ns.localName,r=t.$pkg,o(r)?(a=n).charAt(0).toLowerCase()+a.slice(1):n)},e);var n,r,a}(this.logNamespaceUsed(e.ns),e)},L.prototype.nsPropertyTagName=function(e){return function(e,t){return i.assign({localName:t.ns.localName},e)}(this.logNamespaceUsed(e.ns),e)},L.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},L.prototype.nsAttributeName=function(e){var t;if(t=i.isString(e)?a.parseNameNS(e):e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:i.assign({localName:t.localName},n)},L.prototype.parseGeneric=function(e){var t=this,n=this.body,r=[];return i.forEach(e,(function(a,o){"$body"===o?n.push((new M).build({type:"String"},a)):"$children"===o?i.forEach(a,(function(e){n.push(new L(t).build(e))})):0!==o.indexOf("$")&&t.parseNsAttribute(e,o,a)&&r.push({name:o,value:a})})),r},L.prototype.parseNsAttribute=function(e,t,n){var i,r=e.$model,o=a.parseNameNS(t);if("xmlns"===o.prefix&&(i={prefix:o.localName,uri:n}),o.prefix||"xmlns"!==o.localName||(i={uri:n}),!i)return{name:t,value:n};if(r&&r.getPackage(n))this.logNamespace(i,!0,!0);else{var s=this.logNamespaceUsed(i,!0);this.getNamespaces().logUsed(s)}},L.prototype.parseNsAttributes=function(e,t){var n=this,r=e.$attrs,a=[];return i.forEach(r,(function(t,i){var r=n.parseNsAttribute(e,i,t);r&&a.push(r)})),a},L.prototype.parseGenericAttributes=function(e,t){var n=this;i.forEach(t,(function(t){if(t.name!==l)try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(n){console.warn("missing namespace information for ",t.name,"=",t.value,"on",e,n)}}))},L.prototype.parseContainments=function(e){var t=this,n=this.body,r=this.element;i.forEach(e,(function(e){var o=r.get(e.name),s=e.isReference;if(e.isMany||(o=[o]),e.isBody)n.push((new M).build(e,o[0]));else if(a.isSimpleType(e.type))i.forEach(o,(function(i){n.push(new R(t.addTagName(t.nsPropertyTagName(e))).build(e,i))}));else if(s)i.forEach(o,(function(i){n.push(new N(t.addTagName(t.nsPropertyTagName(e))).build(i))}));else{var l=u(e),d=function(e){return"property"===c(e)}(e);i.forEach(o,(function(i){var r;r=l?new $(t,e):d?new L(t,e):new L(t),n.push(r.build(i))}))}}))},L.prototype.getNamespaces=function(e){var t,n=this.namespaces,i=this.parent;return n||(t=i&&i.getNamespaces(),e||!t?this.namespaces=n=new T(t):n=t),n},L.prototype.logNamespace=function(e,t,n){var i=this.getNamespaces(n),r=e.uri,a=e.prefix;return i.byUri(r)&&!n||i.add(e,t),i.mapPrefix(a,r),e},L.prototype.logNamespaceUsed=function(e,t){var n,i,r,a=this.element.$model,o=this.getNamespaces(t),l=e.prefix,c=e.uri;if(!l&&!c)return{localName:e.localName};if(r=s[l]||a&&(a.getPackage(l)||{}).uri,!(c=c||r||o.uriByPrefix(l)))throw new Error("no namespace uri given for prefix <"+l+">");if(!(e=o.byUri(c))){for(n=l,i=1;o.uriByPrefix(n);)n=l+"_"+i++;e=this.logNamespace({prefix:n,uri:c},r===c)}return l&&o.mapPrefix(l,c),e},L.prototype.parseAttributes=function(e){var t=this,n=this.element;i.forEach(e,(function(e){var r=n.get(e.name);if(e.isReference)if(e.isMany){var a=[];i.forEach(r,(function(e){a.push(e.id)})),r=a.join(" ")}else r=r.id;t.addAttribute(t.nsAttributeName(e),r)}))},L.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),A(e)},L.prototype.addAttribute=function(e,t){var n=this.attrs;i.isString(t)&&(t=P(t,C,D)),n.push({name:e,value:t})},L.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=function(e){return e.getUsed().filter((function(e){return"xml"!==e.prefix})).map((function(e){return{name:"xmlns"+(e.prefix?":"+e.prefix:""),value:e.uri}}))}(n).concat(t)),i.forEach(t,(function(t){e.append(" ").append(A(t.name)).append('="').append(t.value).append('"')}))},L.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==M;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),i.forEach(this.body,(function(t){t.serializeTo(e)})),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()},I($,L),$.prototype.parseNsAttributes=function(e){var t=L.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var i=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var r=e.$model.getPackage(i.uri),a=r.xml&&r.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(l),(i.prefix?i.prefix+":":"")+a+n.ns.localName),t},$.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri},n.Reader=S,n.Writer=function(e){return e=i.assign({format:!1,preamble:!0},e||{}),{toXML:function(t,n){var i=n||new j,r=new F(i,e.format);if(e.preamble&&r.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new L).build(t).serializeTo(r),!n)return i.value}}}},{"min-dash":324,moddle:327,saxen:339}],109:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./Viewer");function a(e){r.call(this,e)}i(a,r),t.exports=a,a.prototype._navigationModules=[e("diagram-js/lib/navigation/zoomscroll").default,e("diagram-js/lib/navigation/movecanvas").default],a.prototype._modules=[].concat(a.prototype._modules,a.prototype._navigationModules)},{"./Viewer":110,"diagram-js/lib/navigation/movecanvas":150,"diagram-js/lib/navigation/zoomscroll":153,inherits:314}],110:[function(e,t,n){"use strict";var i=e("min-dash").assign,r=e("min-dash").omit,a=e("min-dash").isNumber,o=e("inherits"),s=e("min-dom").domify,l=e("min-dom").query,c=e("min-dom").remove,u=e("tiny-svg").innerSVG,d=e("diagram-js").default,p=e("cmmn-moddle").default,f=e("./import/Importer");var m={width:"100%",height:"100%",position:"relative"};function h(e){return e+(a(e)?"px":"")}function g(e){var t,n,r;e=i({},m,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),t=this._container,n='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100; '+v.LINK_STYLES+'">'+v.BPMNIO_IMG+"</a>",r=s(n),t.appendChild(r),y.bind(r,"click",(function(e){v.open(),e.preventDefault()})),this._init(this._container,this._moddle,e)}o(g,d),t.exports=g,g.prototype.importXML=function(e,t){t=t||function(){};var n=this;e=this._emit("import.parse.start",{xml:e})||e,this._moddle.fromXML(e,"cmmn:Definitions",(function(e,i,r){i=n._emit("import.parse.complete",{error:e,definitions:i,context:r})||i;var a=r.warnings;if(e)return e=function(e){var t=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);return t&&(e.message="unparsable content <"+t[1]+"> detected; this may indicate an invalid CMMN 1.1 diagram file"+t[2]),e}(e),n._emit("import.done",{error:e,warnings:a}),t(e,a);n.importDefinitions(i,(function(e,i){var r=[].concat(a,i||[]);n._emit("import.done",{error:e,warnings:r}),t(e,r)}))}))},g.prototype.saveXML=function(e,t){t||(t=e,e={});var n=this,i=this._definitions;if(!i)return t(new Error("no definitions loaded"));i=this._emit("saveXML.start",{definitions:i})||i,this._moddle.toXML(i,e,(function(e,i){try{i=n._emit("saveXML.serialized",{error:e,xml:i})||i,n._emit("saveXML.done",{error:e,xml:i})}catch(e){console.error("error in saveXML life-cycle listener",e)}t(e,i)}))},g.prototype.saveSVG=function(e,t){t||(t=e,e={});var n=this.get("canvas"),i=n.getDefaultLayer(),r=l("defs",n._svg),a=u(i),o=r&&r.outerHTML||"",s=i.getBBox();t(null,'<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with cmmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+s.width+'" height="'+s.height+'" viewBox="'+s.x+" "+s.y+" "+s.width+" "+s.height+'" version="1.1">'+o+a+"</svg>")},g.prototype.importDefinitions=function(e,t){try{this._definitions&&this.clear(),this._definitions=e,f.importCmmnDiagram(this,e,t)}catch(e){t(e)}},g.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),"string"==typeof e&&(e=l(e)),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},g.prototype.getDefinitions=function(){return this._definitions},g.prototype.detach=function(){var e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))},g.prototype.getModules=function(){return this._modules},g.prototype.destroy=function(){d.prototype.destroy.call(this),c(this._container)},g.prototype.on=function(e,t,n,i){return this.get("eventBus").on(e,t,n,i)},g.prototype.off=function(e,t){this.get("eventBus").off(e,t)},g.prototype._init=function(e,t,n){var a=n.modules||this.getModules(),o=n.additionalModules||[],s=[].concat([{cmmnjs:["value",this],moddle:["value",t]}],a,o),l=i(r(n,"additionalModules"),{canvas:i({},n.canvas,{container:e}),modules:s});d.call(this,l),n&&n.container&&this.attachTo(n.container)},g.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)},g.prototype._createContainer=function(e){var t=s('<div class="cjs-container"></div>');return i(t.style,{width:h(e.width),height:h(e.height),position:e.position}),t},g.prototype._createModdle=function(e){var t=i({},this._moddleExtensions,e.moddleExtensions);return new p(t)},g.prototype._modules=[e("./core"),e("diagram-js/lib/features/selection").default,e("diagram-js/lib/features/overlays").default];var v=e("./util/PoweredByUtil"),y=e("min-dom").event},{"./core":112,"./import/Importer":119,"./util/PoweredByUtil":125,"cmmn-moddle":169,"diagram-js":126,"diagram-js/lib/features/overlays":143,"diagram-js/lib/features/selection":147,inherits:314,"min-dash":324,"min-dom":325,"tiny-svg":342}],111:[function(e,t,n){"use strict";var i=e("../util/ModelUtil"),r=i.getDefinition,a=i.getSentry,o=e("../features/modeling/util/ModelingUtil").isAny,s=e("min-dash").forEach,l=e("min-dash").isArray;function c(e,t){this._items={},this._referencedBy={},this._elementRegistry=e,this._eventBus=t,this._init()}function u(e){return r(e)||a(e)}function d(e){return o(e,["cmmn:PlanItemDefinition","cmmn:Sentry","cmmn:CaseFileItemDefinition"])}c.$inject=["elementRegistry","eventBus"],t.exports=c,c.prototype._init=function(e){var t=this._eventBus;t.on("diagram.destroy",500,this._clear,this),t.on("diagram.clear",500,this._clear,this)},c.prototype._clear=function(){this._items={},this._referencedBy={}},c.prototype.add=function(e){var t=this._items,n=e.id,i=this._referencedBy,r=u(e),a=r&&r.id;t[n]=e,r&&(i[a]=i[a]||[],-1===i[a].indexOf(e)&&i[a].push(e))},c.prototype.remove=function(e){var t=this._items,n=e.id,i=this._referencedBy,r=u(e),a=r&&r.id;if(delete t[n],r){var o=i[a]||[],s=o.indexOf(e);-1!==s&&o.splice(s,1),o.length||delete i[a]}},c.prototype.updateId=function(e,t){var n,i;"string"==typeof e&&(e=this.get(e)),n=d(e)?this._referencedBy:this._items,e&&(i=n[e.id],delete n[e.id],n[t]=i)},c.prototype.updateReference=function(e,t){var n=this._referencedBy,i=u(e),r=i&&i.id;if(i){var a=n[r]||[],o=a.indexOf(e);-1!==o&&a.splice(o,1),a.length||delete n[r]}if(t){var s=t.id;s&&(n[s]=n[s]||[],-1===n[s].indexOf(e)&&n[s].push(e))}},c.prototype.get=function(e){return this._items[e]},c.prototype.filter=function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(n)})),t},c.prototype.getAll=function(){return this.filter((function(e){return e}))},c.prototype.forEach=function(e){var t=this._items;s(t,(function(t){return e(t,u(t))}))},c.prototype.getReferences=function(e){var t=e.id||e;return(this._referencedBy[t]||[]).slice()},c.prototype.getShape=function(e){var t=e.id||e;return this._elementRegistry&&this._elementRegistry.get(t)},c.prototype.getShapes=function(e){var t=[],n=this;function i(e){e&&t.push(e)}if(l(e))s(e,(function(e){i(n.getShape(e))}));else if(d(e)){var r=n.getReferences(e);s(r,(function(e){i(n.getShape(e))}))}else i(n.getShape(e));return t}},{"../features/modeling/util/ModelingUtil":116,"../util/ModelUtil":124,"min-dash":324}],112:[function(e,t,n){"use strict";t.exports={__depends__:[e("../draw"),e("../import")],itemRegistry:["type",e("./ItemRegistry")]}},{"../draw":115,"../import":121,"./ItemRegistry":111}],113:[function(e,t,n){"use strict";var i=e("inherits"),r=e("min-dash").isArray,a=e("min-dash").isObject,o=e("min-dash").assign,s=e("diagram-js/lib/draw/BaseRenderer").default,l=e("diagram-js/lib/util/Text").default,c=e("../util/DiUtil"),u=e("../util/ModelUtil"),d=c.isStandardEventVisible,p=c.isPlanningTableCollapsed,f=c.isCollapsed,m=u.isCasePlanModel,h=u.getBusinessObject,g=u.getDefinition,v=u.isRequired,y=u.isRepeatable,b=u.isManualActivation,_=u.isAutoComplete,E=u.hasPlanningTable,x=u.getName,w=u.is,S=u.getStandardEvent,C=e("min-dom").query,k=e("tiny-svg").append,T=e("tiny-svg").attr,I=e("tiny-svg").classes,A=e("tiny-svg").create,D=e("diagram-js/lib/util/SvgTransformUtil").translate,O=e("diagram-js/lib/util/RenderUtil").createLine;function P(e,t,n){s.call(this,e);var i=new l({style:{fontFamily:"Arial, sans-serif",fontSize:"12px"},size:{width:100}}),c={};function u(e){return c[e]}function P(e){function t(t,n){var i=o({fill:"black",strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},n.attrs),r=n.ref||{x:0,y:0},a=n.scale||1;"none"===i.strokeDasharray&&(i.strokeDasharray=[1e4,1]);var s=A("marker");T(n.element,i),k(s,n.element),T(s,{id:t,viewBox:"0 0 20 20",refX:r.x,refY:r.y,markerWidth:20*a,markerHeight:20*a,orient:"auto"});var l=C("defs",e);return l||(l=A("defs"),k(e,l)),k(l,s),function(e,t){c[e]=t}(t,s)}var n=A("path");T(n,{d:"M 11 5 L 1 10 L 11 15"}),t("association-start",{element:n,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:1,y:10},scale:.5});var i=A("path");T(i,{d:"M 1 5 L 11 10 L 1 15"}),t("association-end",{element:i,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}function N(e,n,i){return r(n)||(i=n,n=[]),t.style(n||[],o(i,e||{}))}function M(e,t,n,i,r){a(i)&&(r=i,i=0),i=i||0,r=N(r,{stroke:"black",strokeWidth:2,fill:"white"});var o=t/2,s=n/2,l=A("circle");return T(l,{cx:o,cy:s,r:Math.round((t+n)/4-i)}),T(l,r),k(e,l),l}function R(e,t,n,i,r,o){a(r)&&(o=r,r=0),r=r||0,o=N(o,{stroke:"black",strokeWidth:2,fill:"white"});var s=A("rect");return T(s,{x:r,y:r,width:t-2*r,height:n-2*r,rx:i,ry:i}),T(s,o),k(e,s),s}function L(e,t,n,i){var r=t/2,a=n/2,o=[{x:r,y:0},{x:t,y:a},{x:r,y:n},{x:0,y:a}].map((function(e){return e.x+","+e.y})).join(" ");i=N(i,{stroke:"black",strokeWidth:2,fill:"white"});var s=A("polygon");return T(s,{points:o}),T(s,i),k(e,s),s}function $(e,t,n){n=N(n,["no-fill"],{strokeWidth:2,stroke:"black"});var i=A("path");return T(i,{d:t}),T(i,n),k(e,i),i}function j(e,t,n){var i=t.map((function(e){return e.x+","+e.y})).join(" "),r=A("polygon");return T(r,{points:i}),T(r,n),k(e,r),r}function F(e){for(var t=e.waypoints,n="m  "+t[0].x+","+t[0].y,i=1;i<t.length;i++)n+="L"+t[i].x+","+t[i].y+" ";return n}function B(e,t,n){var r=i.createText(t||"",n);return I(r).add("djs-label"),k(e,r),r}function V(e,t,n){return B(e,x(t),{box:t,align:n,padding:5})}function U(e){return H[e]}var H={"cmmn:PlanItem":function(e,t){return U(g(t).$type)(e,t)},"cmmn:DiscretionaryItem":function(e,t){var n=g(t),i={strokeDasharray:"10, 12"};return w(n,"cmmn:Task")&&o(i,{strokeDasharray:"12, 12.4",strokeDashoffset:13.6}),U(n.$type)(e,t,i)},"cmmn:Stage":function(e,t,n){var i;return n=o({fillOpacity:.95},n),m(t)?H["cmmn:CasePlanModel"](e,t):(i=function(e,t,n,i,r){var a=[{x:i=i||20,y:n},{x:0,y:n-i},{x:0,y:i},{x:i,y:0},{x:t-i,y:0},{x:t,y:i},{x:t,y:n-i},{x:t-i,y:n}];return(r=r||{}).fill="white",r.stroke="black",r.strokeWidth=2,j(e,a,r)}(e,t.width,t.height,20,n),f(t)?V(e,t,"center-middle"):function(e,t,n){var i=B(e,x(t),{box:t,align:n,padding:5});D(i,20,0)}(e,t,"left-top"),G(e,t),q(e,t),i)},"cmmn:PlanFragment":function(e,t,n){var i=R(e,t.width,t.height,10,{strokeDasharray:"10, 12",fillOpacity:.95});return V(e,t,f(t)?"center-middle":"left-top"),q(e,t),i},"cmmn:CasePlanModel":function(e,t){var n=R(e,t.width,t.height,0,{fillOpacity:.95});return function(e,t){var n=h(t),i=t.width/2-60,r=B(e,n.name,{box:{height:18,width:i},align:"left-top"}),a=r.getBBox().width,o=a+40;a<60&&(o=100);var s=j(e,[{x:10,y:0},{x:20,y:-18},{x:o,y:-18},{x:o+10,y:0}],{fill:"white",stroke:"black",strokeWidth:2,fillOpacity:.95,"pointer-events":"all"});r.parentNode.insertBefore(s,r),D(r,25,-13)}(e,t),G(e,t),function(e,t){var n=h(t);_(n)&&W("AutoCompleteMarker",e,t,-7)}(e,t),n},"cmmn:Milestone":function(e,t,n){var i=R(e,t.width,t.height,24,n);return V(e,t,"center-middle"),z(e,t),i},"cmmn:EventListener":function(e,t,n){var i=M(e,t.width,t.height,n);return(n=n||{}).strokeWidth=2,M(e,t.width,t.height,.1*t.height,n),i},"cmmn:TimerEventListener":function(e,t,i){var r=U("cmmn:EventListener")(e,t,i);$(e,n.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),{strokeWidth:2,strokeLinecap:"square"});for(var a=0;a<12;a++){var o=n.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),s=t.width/2;$(e,o,{strokeWidth:1,strokeLinecap:"square",transform:"rotate("+30*a+","+t.height/2+","+s+")"})}return r},"cmmn:UserEventListener":function(e,t,i){var r=U("cmmn:EventListener")(e,t,i);return $(e,n.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:20,y:15}}),{strokeWidth:.5,fill:"none"}),$(e,n.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:20,y:15}}),{strokeWidth:.5,fill:"none"}),$(e,n.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:20,y:15}}),{strokeWidth:.5,fill:"black"}),r},"cmmn:Task":function(e,t,n){var i=R(e,t.width,t.height,10,n);return V(e,t,"center-middle"),z(e,t),i},"cmmn:HumanTask":function(e,t,i){var r=U("cmmn:Task")(e,t,i);if(t.businessObject.definitionRef.isBlocking){$(e,n.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:"none"}),$(e,n.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:"none"}),$(e,n.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{strokeWidth:.5,fill:"black"})}else{$(e,n.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{strokeWidth:1.25,fill:"white",stroke:"black"})}return G(e,t),r},"cmmn:CaseTask":function(e,t,i){var r=U("cmmn:Task")(e,t,i);return $(e,n.getScaledPath("TASK_TYPE_FOLDER",{abspos:{x:7,y:7}}),{strokeWidth:1.25,fill:"white",stroke:"black"}),r},"cmmn:ProcessTask":function(e,t,i){var r=U("cmmn:Task")(e,t,i);return $(e,n.getScaledPath("TASK_TYPE_CHEVRON",{abspos:{x:5,y:5}}),{strokeWidth:1.25,fill:"white",stroke:"black"}),r},"cmmn:DecisionTask":function(e,t,i){var r=U("cmmn:Task")(e,t,i);return $(e,n.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}),{strokeWidth:1,fill:"000"}),$(e,n.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}),{strokeWidth:1}),r},"cmmn:CaseFileItem":function(e,t,i){return $(e,n.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}}),{fill:"white"})},"cmmn:TextAnnotation":function(e,t){var i=R(e,t.width,t.height,0,0,{fill:"none",stroke:"none"});return $(e,n.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:0}})),B(e,h(t).text||"",{box:t,align:"left-middle",padding:5}),i},"cmmn:Association":function(e,t,n){var i=h(t);return n=o({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round"},n||{}),"One"!==i.associationDirection&&"Both"!==i.associationDirection||(n.markerEnd=u("association-end")),"Both"===i.associationDirection&&(n.markerStart=u("association-start")),function(e,t,n){n=N(n,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});var i=O(t,n);return k(e,i),i}(e,t.waypoints,n)},StageMarker:function(e,t){var i=R(e,14,14,0,{strokeWidth:1,stroke:"black"});D(i,t.width/2-7,t.height-17);var r=f(t)?"MARKER_STAGE_COLLAPSED":"MARKER_STAGE_EXPANDED";$(e,n.getScaledPath(r,{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2-7)/t.width,my:(t.height-17)/t.height}}))},RequiredMarker:function(e,t,i){$(e,n.getScaledPath("MARKER_REQUIRED",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+i)/t.width,my:(t.height-17)/t.height}}),{strokeWidth:3})},AutoCompleteMarker:function(e,t,n){var i=R(e,11,14,0,{strokeWidth:1,stroke:"black",fill:"black"});D(i,t.width/2+n+2,t.height-17)},ManualActivationMarker:function(e,t,i){$(e,n.getScaledPath("MARKER_MANUAL_ACTIVATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+i)/t.width,my:(t.height-17)/t.height}}),{strokeWidth:1})},RepetitionMarker:function(e,t,i){$(e,n.getScaledPath("MARKER_REPEATABLE",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+i)/t.width,my:(t.height-17)/t.height}}))},PlanningTableMarker:function(e,t,i){var r=R(e,30,24,0,{strokeWidth:1.5,stroke:"black"});D(r,t.width/2-15,-17);var a=p(t)?"MARKER_PLANNING_TABLE_COLLAPSED":"MARKER_PLANNING_TABLE_EXPANDED";$(e,n.getScaledPath(a,{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2-15)/t.width,my:-17/t.height}}),{strokeWidth:1.5})},"cmmn:OnPart":function(e,t){return $(e,F(t),{strokeDasharray:"10, 5, 2, 5, 2, 5",strokeWidth:1.5})},"cmmn:PlanItemOnPart":function(e,t){return U("cmmn:OnPart")(e,t)},"cmmn:CaseFileItemOnPart":function(e,t){return U("cmmn:OnPart")(e,t)},"cmmn:EntryCriterion":function(e,t){return L(e,t.width,t.height,{fill:"white"})},"cmmn:ExitCriterion":function(e,t){return L(e,t.width,t.height,{fill:"black"})},"cmmndi:CMMNEdge":function(e,t){var n=h(t);return n.cmmnElementRef?U(n.cmmnElementRef.$type)(e,t):$(e,F(t),{strokeDasharray:"3, 5",strokeWidth:1})},label:function(e,t){var n,i=function(e,t){var n=x(t),i=!1,r=S(t);if(r){var a=d(t);r="["+r+"]",n?a&&(n=n+" "+r):(n=r,t.hidden=i=!a)}var o={width:90,height:30,x:t.width/2+t.x,y:t.height/2+t.y};return t.hidden=t.labelTarget.hidden||i||!n,B(e,n,{box:o,style:{fontSize:"11px"}})}(e,t);try{n=i.getBBox()}catch(e){n={width:0,height:0,x:0}}return t.x=Math.ceil(t.x+t.width/2)-Math.ceil(n.width/2),t.width=Math.ceil(n.width),t.height=Math.ceil(n.height),T(i,{transform:"translate("+-1*n.x+",0)"}),i}};function z(e,t){var n=h(t),i=[];v(n)&&i.push({marker:"RequiredMarker",width:1}),b(n)&&i.push({marker:"ManualActivationMarker",width:14}),y(n)&&i.push({marker:"RepetitionMarker",width:14}),i.length&&(1===i.length?W(i[0].marker,e,t,i[0].width/2*-1):2===i.length?(W(i[0].marker,e,t,-1*i[0].width-3),W(i[1].marker,e,t,3)):3===i.length&&(W(i[1].marker,e,t,i[1].width/2*-1),W(i[0].marker,e,t,i[1].width/2*-1-6-i[0].width),W(i[2].marker,e,t,i[1].width/2+6)))}function q(e,t,n){var i=h(t);W("StageMarker",e,t,-7);var r=[];v(i)&&r.push({marker:"RequiredMarker",width:1}),_(i)&&r.push({marker:"AutoCompleteMarker",width:14}),r.length&&(1===r.length?W(r[0].marker,e,t,-1*r[0].width-7-6):2===r.length&&(W(r[0].marker,e,t,-1*r[1].width-7-6- -1*r[0].width-6),W(r[1].marker,e,t,-1*r[1].width-7-6)));var a=[];b(i)&&a.push({marker:"ManualActivationMarker",width:14}),y(i)&&a.push({marker:"RepetitionMarker",width:14}),a.length&&(1===a.length?W(a[0].marker,e,t,13):2===a.length&&(W(a[0].marker,e,t,13),W(a[1].marker,e,t,13+a[0].width+6)))}function G(e,t){E(t)&&W("PlanningTableMarker",e,t)}function W(e,t,n,i){U(e)(t,n,i)}this.canRender=function(e){return w(e,"cmmn:CMMNElement")||w(e,"cmmndi:CMMNEdge")},this.drawShape=function(e,t){var n=H[t.type];return n?n(e,t):s.prototype.drawShape.apply(this,[e,t])},this.drawConnection=function(e,t){var n=t.type,i=H[n];return i?i(e,t):s.prototype.drawConnection.apply(this,[e,t])},e.on("canvas.init",(function(e){P(e.svg)}))}i(P,s),P.$inject=["eventBus","styles","pathMap"],t.exports=P},{"../util/DiUtil":122,"../util/ModelUtil":124,"diagram-js/lib/draw/BaseRenderer":134,"diagram-js/lib/util/RenderUtil":165,"diagram-js/lib/util/SvgTransformUtil":166,"diagram-js/lib/util/Text":167,inherits:314,"min-dash":324,"min-dom":325,"tiny-svg":342}],114:[function(e,t,n){"use strict";t.exports=function(){var e="m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5",t="m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005",n="m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z";this.pathMap={TASK_TYPE_FOLDER:{d:"m {mx},{my} l18,0 l0,12 l-18,0 l0,-12 m 2,0 l3,-4 l5,0 l3,4"},TASK_TYPE_CHEVRON:{d:"m {mx},{my} l15,0 l6,6 l-6,6 l-15,0 l6,-6 l-6,-6"},TASK_TYPE_USER_1:{d:e},TASK_TYPE_USER_2:{d:t},TASK_TYPE_USER_3:{d:n},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_USER_1:{d:e,height:36,width:36,heightElements:[],widthElements:[]},EVENT_USER_2:{d:t,height:36,width:36,heightElements:[],widthElements:[]},EVENT_USER_3:{d:n,height:36,width:36,heightElements:[],widthElements:[]},MARKER_STAGE_EXPANDED:{d:"m{mx},{my} m 2,7 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_STAGE_COLLAPSED:{d:"m{mx},{my} m 2,7 l 10,0 m -5,-5 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_REQUIRED:{d:"m{mx},{my} l 0,9 m 0,2 l0,3",height:14,width:3,heightElements:[],widthElements:[]},MARKER_MANUAL_ACTIVATION:{d:"m{mx}, {my} l 14,7 l -14,7 l 0,-14 z",height:14,width:14,heightElements:[],widthElements:[]},MARKER_REPEATABLE:{d:"m{mx},{my} m 3,0 l 0,14 m 6,-14 l 0,14 m -10,-10 l 14,0 m -14,6 l 14,0",height:14,width:14,heightElements:[],widthElements:[]},MARKER_PLANNING_TABLE_EXPANDED:{d:"m{mx},{my} m 0,12 l 30,0 m -20,-12 l 0, 24 m 10, -24 l 0, 24 m -10, -6 l 10,0",height:24,width:30,heightElements:[],widthElements:[]},MARKER_PLANNING_TABLE_COLLAPSED:{d:"m{mx},{my} m 0,12 l 30,0 m -20,-12 l 0, 24 m 10, -24 l 0, 24 m -10, -6 l 10,0 m -5, -6 l 0,12",height:10,width:10,heightElements:[],widthElements:[]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,t){var n,a,o=this.pathMap[e];t.abspos?(n=t.abspos.x,a=t.abspos.y):(n=t.containerWidth*t.position.mx,a=t.containerHeight*t.position.my);var s,l,c={};if(t.position){for(var u=t.containerHeight/o.height*t.yScaleFactor,d=t.containerWidth/o.width*t.xScaleFactor,p=0;p<o.heightElements.length;p++)c["y"+p]=o.heightElements[p]*u;for(var f=0;f<o.widthElements.length;f++)c["x"+f]=o.widthElements[f]*d}return s=o.d,l={mx:n,my:a,e:c},String(s).replace(i,(function(e,t){return function(e,t,n){var i=n;return t.replace(r,(function(e,t,n,r,a){t=t||r,i&&(t in i&&(i=i[t]),"function"==typeof i&&a&&(i=i()))})),i=(null==i||i==n?e:i)+""}(e,t,l)}))}};var i=/\{([^}]+)\}/g,r=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g},{}],115:[function(e,t,n){"use strict";t.exports={__init__:["cmmnRenderer"],cmmnRenderer:["type",e("./CmmnRenderer")],pathMap:["type",e("./PathMap")]}},{"./CmmnRenderer":113,"./PathMap":114}],116:[function(e,t,n){"use strict";var i=e("min-dash").some,r=e("../../../util/ModelUtil"),a=r.is,o=r.getBusinessObject,s=e("diagram-js/lib/model");function l(e,t){return e===t}function c(e){return u(o(e),"cmmn:Case")}function u(e,t){for("string"==typeof t&&(t=[t]);e=e.$parent||e.parent;){if(!t)return e;if(d(e,t))return e}return null}function d(e,t){return i(t,(function(t){return a(e,t)}))}t.exports.isSame=l,t.exports.isSameCase=function(e,t){return l(c(e),c(t))},t.exports.getCase=c,t.exports.getParents=function(e,t){var n=[];for("string"==typeof t&&(t=[t]);e;)(e=e.$parent||e.parent)&&(t?d(e,t)&&n.push(e):n.push(e));return n},t.exports.getParent=u,t.exports.isAny=d,t.exports.isLabel=function(e){return e instanceof s.Label}},{"../../../util/ModelUtil":124,"diagram-js/lib/model":148,"min-dash":324}],117:[function(e,t,n){"use strict";var i=e("min-dash").assign,r=e("min-dash").map,a=e("../util/LabelUtil"),o=e("../util/ModelUtil").is,s=a.hasExternalLabel,l=a.getExternalLabelBounds,c=e("../util/DiUtil").isCollapsed,u=e("./Util").elementToString;function d(e,t){return i({id:e.id,type:e.$type,businessObject:e},t)}function p(e,t,n){return new Error("element "+u(t)+" referenced by "+u(e)+"#"+n+" not yet drawn")}function f(e,t,n,i){this._eventBus=e,this._canvas=t,this._elementFactory=n,this._elementRegistry=i}f.$inject=["eventBus","canvas","elementFactory","elementRegistry"],t.exports=f,f.prototype.root=function(e){var t=this._elementFactory.createRoot(d(e));return this._canvas.setRootElement(t),t},f.prototype.add=function(e,t){var n,i,a,l=e.di;if(l&&o(l,"cmmndi:CMMNShape")&&!this._getElement(e)){var p=c(e);i=t&&(t.hidden||t.collapsed);var f=e.di.bounds;n=this._elementFactory.createShape(d(e,{collapsed:p,hidden:i,x:Math.round(f.x),y:Math.round(f.y),width:Math.round(f.width),height:Math.round(f.height)})),o(e,"cmmn:Criterion")&&this._attachCriterion(e,n),this._canvas.addShape(n,t)}else{if(!(l&&o(l,"cmmndi:CMMNEdge")||o(e,"cmmndi:CMMNEdge")))throw new Error("unknown di "+u(l)+" for element "+u(e));var m=this._getSource(e),h=this._getTarget(e);i=t&&(t.hidden||t.collapsed)||m&&m.hidden||h&&h.hidden;var g=(e.di||{}).waypoint||e.waypoint;n=this._elementFactory.createConnection(d(e,{hidden:i,source:m,target:h,waypoints:(a=g,r(a,(function(e){return{x:e.x,y:e.y}})))})),this._canvas.addConnection(n,t)}return s(e)&&this.addLabel(e,n),this._eventBus.fire("cmmnElement.added",{element:n}),n},f.prototype._attachCriterion=function(e,t){var n=e.$parent;if(!n)throw new Error("missing "+u(e)+"$parent");var i=this._elementRegistry.get(n.id),r=i&&i.attachers;if(!i)throw p(e,n,"criterion");t.host=i,r||(i.attachers=r=[]),-1===r.indexOf(t)&&r.push(t)},f.prototype.addLabel=function(e,t){var n=l(e,t),i=this._elementFactory.createLabel(d(e,{id:e.id+"_label",labelTarget:t,type:"label",hidden:t.hidden,x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)}));return this._canvas.addShape(i,t.parent)},f.prototype._getSource=function(e){var t=e.cmmnElementRef;if(t){if(o(t,"cmmn:OnPart"))return t.exitCriterionRef?this._getEnd(t,"exitCriterionRef"):this._getEnd(t,"sourceRef");if(o(t,"cmmn:Association"))return this._getEnd(t,"sourceRef")}if(o(e,"cmmndi:CMMNEdge"))return this._getEnd(e,"sourceCMMNElementRef")},f.prototype._getTarget=function(e){var t=e.cmmnElementRef;return t&&o(t,"cmmn:Association")?this._getEnd(t,"targetRef"):this._getEnd(e,"targetCMMNElementRef")},f.prototype._getEnd=function(e,t){var n=e[t],i=n&&this._getElement(n);if(i)return i;throw n?p(e,n,t):new Error(u(e)+"#"+t+"Ref not specified")},f.prototype._getElement=function(e){return this._elementRegistry.get(e.id)}},{"../util/DiUtil":122,"../util/LabelUtil":123,"../util/ModelUtil":124,"./Util":120,"min-dash":324}],118:[function(e,t,n){"use strict";var i=e("min-dash").forEach,r=e("min-dash").filter,a=e("object-refs"),o=e("./Util").elementToString,s=e("../util/ModelUtil").is,l=e("diagram-js/lib/util/Collections"),c=new a({name:"cmmnElement",enumerable:!0},{name:"di"});t.exports=function(e){var t=[],n=[],a={},u=[],d={},p=[],f=[];function m(t,n){return e.element(t,n)}function h(t,n){try{return e.addItem(t),t.di&&m(t,n)}catch(e){g(e.message,{element:t,error:e}),console.error("failed to import "+o(t)),console.error(e)}}function g(t,n){e.error(t,n)}function v(e,t){return function(n){e(n,t)}}function y(e){var t=e.cmmnElementRef;if(t&&!s(e,"cmmndi:CMMNEdge"))if(t.di)g("multiple DI elements defined for "+o(t),{element:t});else{var i=function(e){for(;e&&!s(e,"cmmn:Case");)e=e.$parent;return e}(t);i&&-1===u.indexOf(i)&&u.push(i),(s(t,"cmmn:TextAnnotation")||s(t,"cmmn:CaseFileItem"))&&p.push(t),c.bind(t,"di"),t.di=e}else if(s(e,"cmmndi:CMMNEdge")){var r=!0;if(function(e){if(s(e.cmmnElementRef,"cmmn:Association"))return!!e.cmmnElementRef.targetRef;return!!e.targetCMMNElementRef}(e)||(r=!1,g("no target referenced in "+o(e),{element:e})),function(e){if(s(e.cmmnElementRef,"cmmn:OnPart"))return!(!e.cmmnElementRef.exitCriterionRef&&!e.cmmnElementRef.sourceRef);if(s(e.cmmnElementRef,"cmmn:Association"))return!!e.cmmnElementRef.sourceRef;return!!e.sourceCMMNElementRef}(e)||(r=!1,g("no source referenced in "+o(e),{element:e})),r)if(s(t,"cmmn:Association"))f.push(e);else if(t)n.push((function(t){m(e,t)}));else{var l=e.sourceCMMNElementRef;a[l.id]=a[l.id]||[],a[l.id].push(e)}}else g("no cmmnElement referenced in "+o(e),{element:e})}function b(e){var t;t=e.diagramElements,i(t,_)}function _(e){y(e)}function E(e,t){!function(e,t){i(e,v(w,t))}(e.planItems,t),s(e,"cmmn:Stage")&&function(e,t){x(e.planningTable,t)}(e,t)}function x(e,t){e&&i(e.tableItems,(function(e){s(e,"cmmn:DiscretionaryItem")?function(e,t){if(n=e,d[n.id])return;var n;(function(e){d[e.id]=e})(e),w(e,t)}(e,t):s(e,"cmmn:PlanningTable")&&x(e,t)}))}function w(e,t){var n=h(e,t);i(e.exitCriteria,v(S,t)),i(e.entryCriteria,v(S,t));var r=e.definitionRef;if(s(r,"cmmn:PlanFragment"))E(r,n),C(e,n);else if(s(r,"cmmn:HumanTask")){x(r.planningTable,t);var o=a[e.id];i(o,v(I,t)),delete a[e.id]}}function S(e,n){t.unshift((function(){h(e,n)}))}function C(e,t){if(e.di&&e.di.bounds){var n=function(e,t){var n=t.di.bounds;return r(e,(function(e){return e.di.bounds.x>n.x&&e.di.bounds.x<n.x+n.width&&e.di.bounds.y>n.y&&e.di.bounds.y<n.y+n.height}))}(p,e);i(n,(function(e){l.remove(p,e),k(e,t)}))}}function k(e,t){s(e,"cmmn:TextAnnotation")?function(e,t){h(e,t)}(e,t):s(e,"cmmn:CaseFileItem")&&function(e,t){h(e,t)}(e,t)}function T(e,t){m(e,t)}function I(e,n){t.push((function(){m(e,n)}))}return{handleDefinitions:function(r,a){var o=r.CMMNDI;if(o){var s=o.diagrams;if(a&&-1===s.indexOf(a))throw new Error("diagram not part of cmmn:Definitions");!a&&s&&s.length&&(a=s[0]),b(a);var l=function(t,n){return e.root(t,n)}(a,a);!function(e,r){i(e,(function(e){!function(e,r){var a,o=e.casePlanModel;o&&(a=function(e,t){var n=h(e,t);return i(e.exitCriteria,v(S,n)),E(e,n),C(e,n),n}(o,r));(function(e){i(e,(function(e){e()}))})(t),i(n,(function(e){e(a)}))}(e,r),t=[],n=[]}))}(u,l),i(p,v(k)),i(f,v(T))}}}}},{"../util/ModelUtil":124,"./Util":120,"diagram-js/lib/util/Collections":155,"min-dash":324,"object-refs":328}],119:[function(e,t,n){"use strict";var i=e("./CmmnTreeWalker");t.exports.importCmmnDiagram=function(e,t,n){var r,a=e.get("cmmnImporter"),o=e.get("eventBus"),s=e.get("itemRegistry"),l=[];o.fire("import.render.start",{definitions:t});try{!function(e){new i({root:function(e){return a.root(e)},element:function(e,t){return a.add(e,t)},error:function(e,t){l.push({message:e,context:t})},addItem:function(e){s.add(e)}}).handleDefinitions(e)}(t)}catch(e){r=e}o.fire("import.render.complete",{error:r,warnings:l}),n(r,l)}},{"./CmmnTreeWalker":118}],120:[function(e,t,n){"use strict";t.exports.elementToString=function(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}},{}],121:[function(e,t,n){"use strict";t.exports={cmmnImporter:["type",e("./CmmnImporter")]}},{"./CmmnImporter":117}],122:[function(e,t,n){"use strict";var i=e("./ModelUtil").is,r=e("./ModelUtil").getBusinessObject,a=e("./ModelUtil").isCasePlanModel;t.exports.isCollapsed=function(e){if(!a(e)){var t=(e=r(e)).definitionRef;if(i(t,"cmmn:PlanFragment"))return!!(e&&e.di&&e.di.isCollapsed)}return!1},t.exports.isPlanningTableCollapsed=function(e){return e=r(e),!!(i(e,"cmmn:Stage")||e.definitionRef&&(i(e.definitionRef,"cmmn:Stage")||i(e.definitionRef,"cmmn:HumanTask")))&&(e.di&&e.di.isPlanningTableCollapsed)},t.exports.isStandardEventVisible=function(e){var t=(e=r(e)).cmmnElementRef;return!(!i(t,"cmmn:OnPart")||!e.isStandardEventVisible)}},{"./ModelUtil":124}],123:[function(e,t,n){"use strict";var i=e("../util/ModelUtil").is,r=e("min-dash").assign,a=t.exports.DEFAULT_LABEL_SIZE={width:90,height:20};t.exports.hasExternalLabel=function(e){return(i(e,"cmmn:PlanItem")||i(e,"cmmn:DiscretionaryItem"))&&(e=e.definitionRef),i(e,"cmmndi:CMMNEdge")&&e.cmmnElementRef&&i(e.cmmnElementRef,"cmmn:OnPart")&&(e=e.cmmnElementRef),i(e,"cmmn:EventListener")||i(e,"cmmn:OnPart")||i(e,"cmmn:CaseFileItem")};var o=t.exports.getWaypointsMid=function(e){var t=e.length/2-1,n=e[Math.floor(t)],i=e[Math.ceil(t+.01)];return{x:n.x+(i.x-n.x)/2,y:n.y+(i.y-n.y)/2}},s=t.exports.getExternalLabelMid=function(e){var t=e.businessObject,n=t.di;return!n&&i(t,"cmmndi:CMMNEdge")&&t.cmmnElementRef&&(n=t),t&&n&&n.waypoint?o(n.waypoint):{x:e.x+e.width/2,y:e.y+e.height+a.height/2}};t.exports.getExternalLabelBounds=function(e,t){var n,i,o,l=(e.di||e).label;return l&&l.bounds?(o=l.bounds,i={width:Math.max(a.width,o.width),height:o.height},n={x:o.x+o.width/2,y:o.y+o.height/2}):(n=s(t),i=a),r({x:n.x-i.width/2,y:n.y-i.height/2},i)};var l=t.exports.hasLabelBounds=function(e){return e&&e.di&&e.di.label&&e.di.label.bounds};t.exports.getLabelBounds=function(e){if(l(e))return e.di.label.bounds}},{"../util/ModelUtil":124,"min-dash":324}],124:[function(e,t,n){"use strict";function i(e,t){return function(e,t){return!(!e||"function"!=typeof e.$instanceOf||!e.$instanceOf(t))}(r(e),t)}function r(e){return e&&e.businessObject?e.businessObject:e}function a(e){return i(e=r(e),"cmmn:Stage")&&e.$parent&&i(e.$parent,"cmmn:Case")}function o(e){var t=r(e);return i(e,"cmmn:PlanItemDefinition")||i(e,"cmmn:CaseFileItemDefinition")?t:t&&t.definitionRef}function s(e){var t=o(e);return t&&t.defaultControl}function l(e){return(e=r(e))&&e.itemControl}function c(e,t){var n=l(e),i=s(e);return n&&n[t]?n[t]:i&&i[t]}function u(e){if(i(e=r(e),"cmmn:CaseFileItem"))return["addChild","addReference","create","delete","removeChild","removeReference","replace","update"];if(i(e,"cmmn:PlanItem")||i(e,"cmmn:DiscretionaryItem")){var t=o(e);return i(t,"cmmn:EventListener")||i(t,"cmmn:Milestone")?["create","occur","resume","suspend","terminate"]:["complete","create","disable","enable","exit","fault","manualStart","parentResume","parentSuspend","reactivate","reenable","resume","start","suspend","terminate"]}return a(e)?["close","complete","create","fault","reactivate","suspend","terminate"]:[]}t.exports.is=i,t.exports.getBusinessObject=r,t.exports.isCasePlanModel=a,t.exports.getDefinition=o,t.exports.getDefaultControl=s,t.exports.getItemControl=l,t.exports.isRequired=function(e){return!!c(e,"requiredRule")},t.exports.isRepeatable=function(e){return!!c(e,"repetitionRule")},t.exports.isManualActivation=function(e){return!!c(e,"manualActivationRule")},t.exports.isAutoComplete=function(e){var t=o(e=r(e));return e.autoComplete||t&&t.autoComplete},t.exports.hasPlanningTable=function(e){return(e=r(e)).planningTable||o(e)&&o(e).planningTable},t.exports.getName=function(e){i(e=r(e),"cmmndi:CMMNEdge")&&e.cmmnElementRef&&(e=e.cmmnElementRef);var t=e.name;return t||e.definitionRef&&(t=e.definitionRef.name),t},t.exports.getSentry=function(e){var t=r(e);return i(t,"cmmn:Sentry")?t:t&&t.sentryRef},t.exports.getStandardEvent=function(e){return(e=r(e)).cmmnElementRef&&e.cmmnElementRef.standardEvent},t.exports.getStandardEvents=function(e){return i(e,"cmmndi:CMMNEdge")&&(e=r(e).cmmnElementRef),i(e,"cmmn:OnPart")?i(e.exitCriterionRef,"cmmn:ExitCriterion")?["exit"]:u(e.sourceRef):[]},t.exports.getTransitions=u},{}],125:[function(e,t,n){"use strict";var i=e("min-dom").domify,r=e("min-dom").delegate,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21" style="vertical-align:middle"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>';function o(e){return e.join(";")}var s,l=o(["color: #404040"]),c='<div class="bjs-powered-by-lightbox" style="'+o(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"])+'"><div class="backdrop" style="'+o(["width: 100%","height: 100%","background: rgba(40,40,40,0.2)"])+'"></div><div class="notice" style="'+o(["position: absolute","left: 50%","top: 40%","transform: translate(-50%)","width: 260px","padding: 10px","background: white","box-shadow: 0 1px 4px rgba(0,0,0,0.3)","font-family: Helvetica, Arial, sans-serif","font-size: 14px","display: flex","line-height: 1.3"])+'"><a href="https://bpmn.io" target="_blank" rel="noopener" style="margin: 15px 20px 15px 10px; align-self: center;'+l+'">'+a+'</a><span>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>';t.exports.open=function(){s||(s=i(c),r.bind(s,".backdrop","click",(function(e){document.body.removeChild(s)}))),document.body.appendChild(s)},t.exports.BPMNIO_IMG=a,t.exports.LINK_STYLES=l},{"min-dom":325}],126:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var i,r=(i=e("./lib/Diagram"))&&i.__esModule?i:{default:i}},{"./lib/Diagram":127}],127:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var i,r=e("didi"),a=(i=e("./core"))&&i.__esModule?i:{default:i};function o(e){var t=[],n=[];function i(e){return t.indexOf(e)>=0}e.forEach((function e(r){i(r)||((r.__depends__||[]).forEach(e),i(r)||(!function(e){t.push(e)}(r),(r.__init__||[]).forEach((function(e){n.push(e)}))))}));var a=new r.Injector(t);return n.forEach((function(e){try{a["string"==typeof e?"get":"invoke"](e)}catch(e){throw console.error("Failed to instantiate component"),console.error(e.stack),e}})),a}function s(e,t){this.injector=t=t||function(e){return o([{config:["value",e=e||{}]},a.default].concat(e.modules||[]))}(e),this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("diagram.init")}s.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},s.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},{"./core":133,didi:168}],128:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var i=e("min-dash"),r=e("../util/Collections"),a=e("../util/Elements"),o=e("tiny-svg");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return Math.round(e*t)/t}function c(e){return(0,i.isNumber)(e)?e+"px":e}function u(e,t,n){var i=(0,o.create)("g");(0,o.classes)(i).add(t);var r=void 0!==n?n:e.childNodes.length-1;return e.insertBefore(i,e.childNodes[r]||null),i}var d={shape:["x","y","width","height"],connection:["waypoints"]};function p(e,t,n,i){this._eventBus=t,this._elementRegistry=i,this._graphicsFactory=n,this._init(e||{})}function f(e,t){var n="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",n)}p.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],p.prototype._init=function(e){var t=this._eventBus,n=this._container=function(e){var t=(e=(0,i.assign)({},{width:"100%",height:"100%"},e)).container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container"),(0,i.assign)(n.style,{position:"relative",overflow:"hidden",width:c(e.width),height:c(e.height)}),t.appendChild(n),n}(e),r=this._svg=(0,o.create)("svg");(0,o.attr)(r,{width:"100%",height:"100%"}),(0,o.append)(n,r);var a=this._viewport=u(r,"viewport");this._layers={},!1!==e.deferUpdate&&(this._viewboxChanged=(0,i.debounce)((0,i.bind)(this._viewboxChanged,this),300)),t.on("diagram.init",(function(){t.fire("canvas.init",{svg:r,viewport:a})}),this),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],(function(){delete this._cachedViewbox}),this),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)},p.prototype._destroy=function(e){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},p.prototype._clear=function(){var e=this;this._elementRegistry.getAll().forEach((function(t){var n=(0,a.getType)(t);"root"===n?e.setRootElement(null,!0):e._removeElement(t,n)})),delete this._cachedViewbox},p.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},p.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");var n=this._layers[e];if(n||(n=this._layers[e]=this._createLayer(e,t)),void 0!==t&&n.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return n.group},p.prototype._createLayer=function(e,t){t||(t=0);var n=(0,i.reduce)(this._layers,(function(e,n){return t>=n.index&&e++,e}),0);return{group:u(this._viewport,"layer-"+e,n),index:t}},p.prototype.getContainer=function(){return this._container},p.prototype._updateMarker=function(e,t,n){var r;e.id||(e=this._elementRegistry.get(e)),(r=this._elementRegistry._elements[e.id])&&((0,i.forEach)([r.gfx,r.secondaryGfx],(function(e){e&&(n?(0,o.classes)(e).add(t):(0,o.classes)(e).remove(t))})),this._eventBus.fire("element.marker.update",{element:e,gfx:r.gfx,marker:t,add:!!n}))},p.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)},p.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)},p.prototype.hasMarker=function(e,t){e.id||(e=this._elementRegistry.get(e));var n=this.getGraphics(e);return(0,o.classes)(n).has(t)},p.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)},p.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},p.prototype.setRootElement=function(e,t){e&&this._ensureValid("root",e);var n=this._rootElement,i=this._elementRegistry,r=this._eventBus;if(n){if(!t)throw new Error("rootElement already set, need to specify override");r.fire("root.remove",{element:n}),r.fire("root.removed",{element:n}),i.remove(n)}if(e){var a=this.getDefaultLayer();r.fire("root.add",{element:e}),i.add(e,a,this._svg),r.fire("root.added",{element:e,gfx:a})}return this._rootElement=e,e},p.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element with id "+t.id+" already exists");var n=d[e];if(!(0,i.every)(n,(function(e){return void 0!==t[e]})))throw new Error("must supply { "+n.join(", ")+" } with "+e)},p.prototype._setParent=function(e,t,n){(0,r.add)(t.children,e,n),e.parent=t},p.prototype._addElement=function(e,t,n,i){n=n||this.getRootElement();var r=this._eventBus,a=this._graphicsFactory;this._ensureValid(e,t),r.fire(e+".add",{element:t,parent:n}),this._setParent(t,n,i);var o=a.create(e,t,i);return this._elementRegistry.add(t,o),a.update(e,t,o),r.fire(e+".added",{element:t,gfx:o}),t},p.prototype.addShape=function(e,t,n){return this._addElement("shape",e,t,n)},p.prototype.addConnection=function(e,t,n){return this._addElement("connection",e,t,n)},p.prototype._removeElement=function(e,t){var n=this._elementRegistry,i=this._graphicsFactory,a=this._eventBus;if(e=n.get(e.id||e))return a.fire(t+".remove",{element:e}),i.remove(e),(0,r.remove)(e.parent&&e.parent.children,e),e.parent=null,a.fire(t+".removed",{element:e}),n.remove(e),e},p.prototype.removeShape=function(e){return this._removeElement(e,"shape")},p.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},p.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)},p.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},p.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},p.prototype.viewbox=function(e){if(void 0===e&&this._cachedViewbox)return this._cachedViewbox;var t,n,i,r,a,s,c=this._viewport,u=this.getSize();return e?(this._changeViewbox((function(){r=Math.min(u.width/e.width,u.height/e.height);var t=this._svg.createSVGMatrix().scale(r).translate(-e.x,-e.y);(0,o.transform)(c,t)})),e):(t=this.getDefaultLayer().getBBox(),n=(i=(0,o.transform)(c))?i.matrix:(0,o.createMatrix)(),r=l(n.a,1e3),a=l(-n.e||0,1e3),s=l(-n.f||0,1e3),e=this._cachedViewbox={x:a?a/r:0,y:s?s/r:0,width:u.width/r,height:u.height/r,scale:r,inner:{width:t.width,height:t.height,x:t.x,y:t.y},outer:u})},p.prototype.scroll=function(e){var t=this._viewport,n=t.getCTM();return e&&this._changeViewbox((function(){e=(0,i.assign)({dx:0,dy:0},e||{}),n=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(n),f(t,n)})),{x:n.e,y:n.f}},p.prototype.zoom=function(e,t){return e?"fit-viewport"===e?this._fitViewport(t):(this._changeViewbox((function(){"object"!==s(t)&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),i=this._setZoom(e,t)})),l(i.a,1e3)):this.viewbox(e).scale;var n,i},p.prototype._fitViewport=function(e){var t,n,i=this.viewbox(),r=i.outer,a=i.inner;return a.x>=0&&a.y>=0&&a.x+a.width<=r.width&&a.y+a.height<=r.height&&!e?n={x:0,y:0,width:Math.max(a.width+a.x,r.width),height:Math.max(a.height+a.y,r.height)}:(t=Math.min(1,r.width/a.width,r.height/a.height),n={x:a.x+(e?a.width/2-r.width/t/2:0),y:a.y+(e?a.height/2-r.height/t/2:0),width:r.width/t,height:r.height/t}),this.viewbox(n),this.viewbox(!1).scale},p.prototype._setZoom=function(e,t){var n,r,a,o,s=this._svg,l=this._viewport,c=s.createSVGMatrix(),u=s.createSVGPoint(),d=(r=l.getCTM()).a;return t?(n=(0,i.assign)(u,t).matrixTransform(r.inverse()),a=c.translate(n.x,n.y).scale(1/d*e).translate(-n.x,-n.y),o=r.multiply(a)):o=c.scale(e),f(this._viewport,o),o},p.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},p.prototype.getAbsoluteBBox=function(e){var t,n=this.viewbox();e.waypoints?t=this.getGraphics(e).getBBox():t=e;return{x:t.x*n.scale-n.x*n.scale,y:t.y*n.scale-n.y*n.scale,width:t.width*n.scale,height:t.height*n.scale}},p.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")}},{"../util/Collections":155,"../util/Elements":157,"min-dash":324,"tiny-svg":342}],129:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var i=e("../model"),r=e("min-dash");function a(){this._uid=12}a.prototype.createRoot=function(e){return this.create("root",e)},a.prototype.createLabel=function(e){return this.create("label",e)},a.prototype.createShape=function(e){return this.create("shape",e)},a.prototype.createConnection=function(e){return this.create("connection",e)},a.prototype.create=function(e,t){return(t=(0,r.assign)({},t||{})).id||(t.id=e+"_"+this._uid++),(0,i.create)(e,t)}},{"../model":148,"min-dash":324}],130:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var i=e("tiny-svg"),r="data-element-id";function a(e){this._elements={},this._eventBus=e}a.$inject=["eventBus"],a.prototype.add=function(e,t,n){var a=e.id;this._validateId(a),(0,i.attr)(t,r,a),n&&(0,i.attr)(n,r,a),this._elements[a]={element:e,gfx:t,secondaryGfx:n}},a.prototype.remove=function(e){var t=this._elements,n=e.id||e,a=n&&t[n];a&&((0,i.attr)(a.gfx,r,""),a.secondaryGfx&&(0,i.attr)(a.secondaryGfx,r,""),delete t[n])},a.prototype.updateId=function(e,t){this._validateId(t),"string"==typeof e&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var n=this.getGraphics(e),i=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,i)},a.prototype.get=function(e){var t;t="string"==typeof e?e:e&&(0,i.attr)(e,r);var n=this._elements[t];return n&&n.element},a.prototype.filter=function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(n)})),t},a.prototype.getAll=function(){return this.filter((function(e){return e}))},a.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach((function(n){var i=t[n],r=i.element,a=i.gfx;return e(r,a)}))},a.prototype.getGraphics=function(e,t){var n=e.id||e,i=this._elements[n];return i&&(t?i.secondaryGfx:i.gfx)},a.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")}},{"tiny-svg":342}],131:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("min-dash");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=Array.prototype.slice;function o(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function s(){}o.prototype.on=function(e,t,n,r){if(e=(0,i.isArray)(e)?e:[e],(0,i.isFunction)(t)&&(r=n,n=t,t=1e3),!(0,i.isNumber)(t))throw new Error("priority must be a number");var a=n;r&&((a=(0,i.bind)(n,r)).__fn=n.__fn||n);var o=this;e.forEach((function(e){o._addListener(e,{priority:t,callback:a,next:null})}))},o.prototype.once=function(e,t,n,r){var a=this;if((0,i.isFunction)(t)&&(r=n,n=t,t=1e3),!(0,i.isNumber)(t))throw new Error("priority must be a number");function o(){var t=n.apply(r,arguments);return a.off(e,o),t}o.__fn=n,this.on(e,t,o)},o.prototype.off=function(e,t){e=(0,i.isArray)(e)?e:[e];var n=this;e.forEach((function(e){n._removeListener(e,t)}))},o.prototype.createEvent=function(e){var t=new s;return t.init(e),t},o.prototype.fire=function(e,t){var n,i,o,l;if(l=a.call(arguments),"object"===r(e)&&(e=(n=e).type),!e)throw new Error("no event type specified");if(i=this._listeners[e]){n=t instanceof s?t:this.createEvent(t),l[0]=n;var c=n.type;e!==c&&(n.type=e);try{o=this._invokeListeners(n,l,i)}finally{e!==c&&(n.type=c)}return void 0===o&&n.defaultPrevented&&(o=!1),o}},o.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},o.prototype._destroy=function(){this._listeners={}},o.prototype._invokeListeners=function(e,t,n){for(var i;n&&!e.cancelBubble;)i=this._invokeListener(e,t,n),n=n.next;return i},o.prototype._invokeListener=function(e,t,n){var i;try{void 0!==(i=function(e,t){return e.apply(null,t)}(n.callback,t))&&(e.returnValue=i,e.stopPropagation()),!1===i&&e.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener"),console.error(e.stack),e}return i},o.prototype._addListener=function(e,t){var n,i=this._getListeners(e);if(i){for(;i;){if(i.priority<t.priority)return t.next=i,void(n?n.next=t:this._setListeners(e,t));n=i,i=i.next}n.next=t}else this._setListeners(e,t)},o.prototype._getListeners=function(e){return this._listeners[e]},o.prototype._setListeners=function(e,t){this._listeners[e]=t},o.prototype._removeListener=function(e,t){var n,i,r,a=this._getListeners(e);if(t)for(;a;)n=a.next,(r=a.callback)!==t&&r.__fn!==t||(i?i.next=n:this._setListeners(e,n)),i=a,a=n;else this._setListeners(e,null)},s.prototype.stopPropagation=function(){this.cancelBubble=!0},s.prototype.preventDefault=function(){this.defaultPrevented=!0},s.prototype.init=function(e){(0,i.assign)(this,e||{})}},{"min-dash":324}],132:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var i=e("min-dash"),r=e("../util/GraphicsUtil"),a=e("../util/SvgTransformUtil"),o=e("min-dom"),s=e("tiny-svg"),l=e("../util/Elements");function c(e,t){this._eventBus=e,this._elementRegistry=t}function u(e,t,n){var i=n||t.firstChild;e!==i&&t.insertBefore(e,i)}c.$inject=["eventBus","elementRegistry"],c.prototype._getChildren=function(e){var t,n=this._elementRegistry.getGraphics(e);return e.parent?(t=(0,r.getChildren)(n))||(t=(0,s.create)("g"),(0,s.classes)(t).add("djs-children"),(0,s.append)(n.parentNode,t)):t=n,t},c.prototype._clear=function(e){var t=(0,r.getVisual)(e);return(0,o.clear)(t),t},c.prototype._createContainer=function(e,t,n,i){var r=(0,s.create)("g");(0,s.classes)(r).add("djs-group"),void 0!==n?u(r,t,t.childNodes[n]):(0,s.append)(t,r);var a=(0,s.create)("g");(0,s.classes)(a).add("djs-element"),(0,s.classes)(a).add("djs-"+e),i&&(0,s.classes)(a).add("djs-frame"),(0,s.append)(r,a);var o=(0,s.create)("g");return(0,s.classes)(o).add("djs-visual"),(0,s.append)(a,o),a},c.prototype.create=function(e,t,n){var i=this._getChildren(t.parent);return this._createContainer(e,i,n,(0,l.isFrameElement)(t))},c.prototype.updateContainments=function(e){var t,n=this,r=this._elementRegistry;t=(0,i.reduce)(e,(function(e,t){return t.parent&&(e[t.parent.id]=t.parent),e}),{}),(0,i.forEach)(t,(function(e){var t=e.children;if(t){var a=n._getChildren(e);(0,i.forEach)(t.slice().reverse(),(function(e){u(r.getGraphics(e).parentNode,a)}))}}))},c.prototype.drawShape=function(e,t){return this._eventBus.fire("render.shape",{gfx:e,element:t})},c.prototype.getShapePath=function(e){return this._eventBus.fire("render.getShapePath",e)},c.prototype.drawConnection=function(e,t){return this._eventBus.fire("render.connection",{gfx:e,element:t})},c.prototype.getConnectionPath=function(e){return this._eventBus.fire("render.getConnectionPath",e)},c.prototype.update=function(e,t,n){if(t.parent){var i=this._clear(n);if("shape"===e)this.drawShape(i,t),(0,a.translate)(n,t.x,t.y);else{if("connection"!==e)throw new Error("unknown type: "+e);this.drawConnection(i,t)}t.hidden?(0,s.attr)(n,"display","none"):(0,s.attr)(n,"display","block")}},c.prototype.remove=function(e){var t=this._elementRegistry.getGraphics(e);(0,s.remove)(t.parentNode)}},{"../util/Elements":157,"../util/GraphicsUtil":159,"../util/SvgTransformUtil":166,"min-dash":324,"min-dom":325,"tiny-svg":342}],133:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=c(e("../draw")),r=c(e("./Canvas")),a=c(e("./ElementRegistry")),o=c(e("./ElementFactory")),s=c(e("./EventBus")),l=c(e("./GraphicsFactory"));function c(e){return e&&e.__esModule?e:{default:e}}var u={__depends__:[i.default],__init__:["canvas"],canvas:["type",r.default],elementRegistry:["type",a.default],elementFactory:["type",o.default],eventBus:["type",s.default],graphicsFactory:["type",l.default]};n.default=u},{"../draw":137,"./Canvas":128,"./ElementFactory":129,"./ElementRegistry":130,"./EventBus":131,"./GraphicsFactory":132}],134:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(e,t){var n=this;t=t||1e3,e.on(["render.shape","render.connection"],t,(function(e,t){var i=e.type,r=t.element,a=t.gfx;if(n.canRender(r))return"render.shape"===i?n.drawShape(a,r):n.drawConnection(a,r)})),e.on(["render.getShapePath","render.getConnectionPath"],t,(function(e,t){if(n.canRender(t))return"render.getShapePath"===e.type?n.getShapePath(t):n.getConnectionPath(t)}))}i.prototype.canRender=function(){},i.prototype.drawShape=function(){},i.prototype.drawConnection=function(){},i.prototype.getShapePath=function(){},i.prototype.getConnectionPath=function(){}},{}],135:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var i=l(e("inherits")),r=l(e("./BaseRenderer")),a=e("../util/RenderUtil"),o=e("tiny-svg"),s=e("../util/Elements");function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){r.default.call(this,e,1),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}(0,i.default)(c,r.default),c.prototype.canRender=function(){return!0},c.prototype.drawShape=function(e,t){var n=(0,o.create)("rect");return(0,o.attr)(n,{x:0,y:0,width:t.width||0,height:t.height||0}),(0,s.isFrameElement)(t)?(0,o.attr)(n,this.FRAME_STYLE):(0,o.attr)(n,this.SHAPE_STYLE),(0,o.append)(e,n),n},c.prototype.drawConnection=function(e,t){var n=(0,a.createLine)(t.waypoints,this.CONNECTION_STYLE);return(0,o.append)(e,n),n},c.prototype.getShapePath=function(e){var t=e.x,n=e.y,i=e.width,r=[["M",t,n],["l",i,0],["l",0,e.height],["l",-i,0],["z"]];return(0,a.componentsToPath)(r)},c.prototype.getConnectionPath=function(e){var t,n,i=e.waypoints,r=[];for(t=0;n=i[t];t++)n=n.original||n,r.push([0===t?"M":"L",n.x,n.y]);return(0,a.componentsToPath)(r)},c.$inject=["eventBus","styles"]},{"../util/Elements":157,"../util/RenderUtil":165,"./BaseRenderer":134,inherits:314,"tiny-svg":342}],136:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(e,t,n){var r=this.style(t,n);return(0,i.assign)(r,{class:e})},this.style=function(t,n){(0,i.isArray)(t)||n||(n=t,t=[]);var r=(0,i.reduce)(t,(function(t,n){return(0,i.assign)(t,e[n]||{})}),{});return n?(0,i.assign)(r,n):r},this.computeStyle=function(e,n,r){return(0,i.isArray)(n)||(r=n,n=[]),t.style(n||[],(0,i.assign)({},r,e||{}))}};var i=e("min-dash")},{"min-dash":324}],137:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("./DefaultRenderer")),r=a(e("./Styles"));function a(e){return e&&e.__esModule?e:{default:e}}var o={__init__:["defaultRenderer"],defaultRenderer:["type",i.default],styles:["type",r.default]};n.default=o},{"./DefaultRenderer":135,"./Styles":136}],138:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var i=e("min-dash"),r=e("min-dom"),a=e("../../util/Mouse"),o=e("tiny-svg"),s=e("../../util/RenderUtil");function l(e){return!0}function c(e,t,n){var c=n.cls("djs-hit",["no-fill","no-border"],{stroke:"white",strokeWidth:15});function u(n,i,r){var o,s;(function(e,t){return!(m[e]||a.isPrimaryButton)(t)})(n,i)||(r?s=t.getGraphics(r):(o=i.delegateTarget||i.target)&&(s=o,r=t.get(s)),s&&r&&!1===e.fire(n,{element:r,gfx:s,originalEvent:i})&&(i.stopPropagation(),i.preventDefault()))}var d={};function p(e){return d[e]}var f={mouseover:"element.hover",mouseout:"element.out",click:"element.click",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseup:"element.mouseup",contextmenu:"element.contextmenu"},m={"element.contextmenu":l};function h(e,t,n,i){var a=d[n]=function(e){u(n,e)};i&&(m[n]=i),a.$delegate=r.delegate.bind(e,"svg, .djs-element",t,a)}function g(e,t,n){var i=p(n);i&&r.delegate.unbind(e,t,i.$delegate)}e.on("canvas.destroy",(function(e){var t;t=e.svg,(0,i.forEach)(f,(function(e,n){g(t,n,e)}))})),e.on("canvas.init",(function(e){var t;t=e.svg,(0,i.forEach)(f,(function(e,n){h(t,n,e)}))})),e.on(["shape.added","connection.added"],(function(e){var t,n=e.element,i=e.gfx;n.waypoints?t=(0,s.createLine)(n.waypoints):(t=(0,o.create)("rect"),(0,o.attr)(t,{x:0,y:0,width:n.width,height:n.height})),(0,o.attr)(t,c),(0,o.append)(i,t)})),e.on("shape.changed",500,(function(e){var t=e.element,n=e.gfx,i=(0,r.query)(".djs-hit",n);(0,o.attr)(i,{width:t.width,height:t.height})})),e.on("connection.changed",(function(e){var t=e.element,n=e.gfx,i=(0,r.query)(".djs-hit",n);(0,s.updateLine)(i,t.waypoints)})),this.fire=u,this.triggerMouseEvent=function(e,t,n){var i=f[e];if(!i)throw new Error("unmapped DOM event name <"+e+">");return u(i,t,n)},this.mouseHandler=p,this.registerEvent=h,this.unregisterEvent=g}c.$inject=["eventBus","elementRegistry","styles"]},{"../../util/Mouse":162,"../../util/RenderUtil":165,"min-dash":324,"min-dom":325,"tiny-svg":342}],139:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={__init__:["interactionEvents"],interactionEvents:["type",((i=e("./InteractionEvents"))&&i.__esModule?i:{default:i}).default]};n.default=r},{"./InteractionEvents":138}],140:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var i=e("../../util/Elements"),r=e("tiny-svg"),a=e("min-dom"),o=e("min-dash");function s(e,t,n){this.offset=6;var i=t.cls("djs-outline",["no-fill"]),s=this;function l(e,t){var n=(0,r.create)("rect");return(0,r.attr)(n,(0,o.assign)({x:10,y:10,width:100,height:100},i)),(0,r.append)(e,n),n}e.on(["shape.added","shape.changed"],500,(function(e){var t=e.element,n=e.gfx,i=(0,a.query)(".djs-outline",n);i||(i=l(n)),s.updateShapeOutline(i,t)})),e.on(["connection.added","connection.changed"],(function(e){var t=e.element,n=e.gfx,i=(0,a.query)(".djs-outline",n);i||(i=l(n)),s.updateConnectionOutline(i,t)}))}s.prototype.updateShapeOutline=function(e,t){(0,r.attr)(e,{x:-this.offset,y:-this.offset,width:t.width+2*this.offset,height:t.height+2*this.offset})},s.prototype.updateConnectionOutline=function(e,t){var n=(0,i.getBBox)(t);(0,r.attr)(e,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+2*this.offset,height:n.height+2*this.offset})},s.$inject=["eventBus","styles","elementRegistry"]},{"../../util/Elements":157,"min-dash":324,"min-dom":325,"tiny-svg":342}],141:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={__init__:["outline"],outline:["type",((i=e("./Outline"))&&i.__esModule?i:{default:i}).default]};n.default=r},{"./Outline":140}],142:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var i,r=e("min-dash"),a=e("min-dom"),o=e("../../util/Elements");var s=new(((i=e("../../util/IdGenerator"))&&i.__esModule?i:{default:i}).default)("ov");function l(e,t,n,i){var o,l;this._eventBus=t,this._canvas=n,this._elementRegistry=i,this._ids=s,this._overlayDefaults=(0,r.assign)({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(o=n.getContainer(),l=(0,a.domify)('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />'),o.insertBefore(l,o.firstChild),l),this._init()}function c(e,t,n){(0,r.assign)(e.style,{left:t+"px",top:n+"px"})}function u(e,t){e.style.display=!1===t?"none":""}function d(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach((function(n){e.style[n+"transform"]=t}))}l.$inject=["config.overlays","eventBus","canvas","elementRegistry"],l.prototype.get=function(e){if((0,r.isString)(e)&&(e={id:e}),(0,r.isString)(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?(0,r.filter)(t.overlays,(0,r.matchPattern)({type:e.type})):t.overlays.slice():[]}return e.type?(0,r.filter)(this._overlays,(0,r.matchPattern)({type:e.type})):e.id?this._overlays[e.id]:null},l.prototype.add=function(e,t,n){if((0,r.isObject)(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var i=this._ids.next();return n=(0,r.assign)({},this._overlayDefaults,n,{id:i,type:t,element:e,html:n.html}),this._addOverlay(n),i},l.prototype.remove=function(e){var t=this.get(e)||[];(0,r.isArray)(t)||(t=[t]);var n=this;(0,r.forEach)(t,(function(e){var t=n._getOverlayContainer(e.element,!0);if(e&&((0,a.remove)(e.html),(0,a.remove)(e.htmlContainer),delete e.htmlContainer,delete e.element,delete n._overlays[e.id]),t){var i=t.overlays.indexOf(e);-1!==i&&t.overlays.splice(i,1)}}))},l.prototype.show=function(){u(this._overlayRoot)},l.prototype.hide=function(){u(this._overlayRoot,!1)},l.prototype.clear=function(){this._overlays={},this._overlayContainers=[],(0,a.clear)(this._overlayRoot)},l.prototype._updateOverlayContainer=function(e){var t=e.element,n=e.html,i=t.x,r=t.y;if(t.waypoints){var s=(0,o.getBBox)(t);i=s.x,r=s.y}c(n,i,r),(0,a.attr)(e.html,"data-container-id",t.id)},l.prototype._updateOverlay=function(e){var t,n,i=e.position,r=e.htmlContainer,a=e.element,s=i.left,l=i.top;void 0!==i.right&&(t=a.waypoints?(0,o.getBBox)(a).width:a.width,s=-1*i.right+t);void 0!==i.bottom&&(n=a.waypoints?(0,o.getBBox)(a).height:a.height,l=-1*i.bottom+n);c(r,s||0,l||0)},l.prototype._createOverlayContainer=function(e){var t=(0,a.domify)('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(t);var n={html:t,element:e,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n},l.prototype._updateRoot=function(e){var t=e.scale||1,n="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";d(this._overlayRoot,n)},l.prototype._getOverlayContainer=function(e,t){var n=(0,r.find)(this._overlayContainers,(function(t){return t.element===e}));return n||t?n:this._createOverlayContainer(e)},l.prototype._addOverlay=function(e){var t,n,i=e.id,o=e.element,s=e.html;s.get&&s.constructor.prototype.jquery&&(s=s.get(0)),(0,r.isString)(s)&&(s=(0,a.domify)(s)),n=this._getOverlayContainer(o),(t=(0,a.domify)('<div class="djs-overlay" data-overlay-id="'+i+'" style="position: absolute">')).appendChild(s),e.type&&(0,a.classes)(t).add("djs-overlay-"+e.type),e.htmlContainer=t,n.overlays.push(e),n.html.appendChild(t),this._overlays[i]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())},l.prototype._updateOverlayVisibilty=function(e,t){var n=e.show,i=n&&n.minZoom,a=n&&n.maxZoom,o=e.htmlContainer,s=!0;n&&(((0,r.isDefined)(i)&&i>t.scale||(0,r.isDefined)(a)&&a<t.scale)&&(s=!1),u(o,s)),this._updateOverlayScale(e,t)},l.prototype._updateOverlayScale=function(e,t){var n,i,a,o=e.scale,s=e.htmlContainer,l="";!0!==o&&(!1===o?(n=1,i=1):(n=o.min,i=o.max),(0,r.isDefined)(n)&&t.scale<n&&(a=(1/t.scale||1)*n),(0,r.isDefined)(i)&&t.scale>i&&(a=(1/t.scale||1)*i)),(0,r.isDefined)(a)&&(l="scale("+a+","+a+")"),d(s,l)},l.prototype._updateOverlaysVisibilty=function(e){var t=this;(0,r.forEach)(this._overlays,(function(n){t._updateOverlayVisibilty(n,e)}))},l.prototype._init=function(){var e=this._eventBus,t=this;e.on("canvas.viewbox.changing",(function(e){t.hide()})),e.on("canvas.viewbox.changed",(function(e){var n;n=e.viewbox,t._updateRoot(n),t._updateOverlaysVisibilty(n),t.show()})),e.on(["shape.remove","connection.remove"],(function(e){var n=e.element,i=t.get({element:n});(0,r.forEach)(i,(function(e){t.remove(e.id)}));var o=t._getOverlayContainer(n);if(o){(0,a.remove)(o.html);var s=t._overlayContainers.indexOf(o);-1!==s&&t._overlayContainers.splice(s,1)}})),e.on("element.changed",500,(function(e){var n=e.element,i=t._getOverlayContainer(n,!0);i&&((0,r.forEach)(i.overlays,(function(e){t._updateOverlay(e)})),t._updateOverlayContainer(i))})),e.on("element.marker.update",(function(e){var n=t._getOverlayContainer(e.element,!0);n&&(0,a.classes)(n.html)[e.add?"add":"remove"](e.marker)})),e.on("diagram.clear",this.clear,this)}},{"../../util/Elements":157,"../../util/IdGenerator":160,"min-dash":324,"min-dom":325}],143:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={__init__:["overlays"],overlays:["type",((i=e("./Overlays"))&&i.__esModule?i:{default:i}).default]};n.default=r},{"./Overlays":142}],144:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var i=e("min-dash");function r(e){this._eventBus=e,this._selectedElements=[];var t=this;e.on(["shape.remove","connection.remove"],(function(e){var n=e.element;t.deselect(n)})),e.on(["diagram.clear"],(function(e){t.select(null)}))}r.$inject=["eventBus"],r.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e);if(-1!==n){var i=t.slice();t.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:t})}},r.prototype.get=function(){return this._selectedElements},r.prototype.isSelected=function(e){return-1!==this._selectedElements.indexOf(e)},r.prototype.select=function(e,t){var n=this._selectedElements,r=n.slice();(0,i.isArray)(e)||(e=e?[e]:[]),t?(0,i.forEach)(e,(function(e){-1===n.indexOf(e)&&n.push(e)})):this._selectedElements=n=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:n})}},{"min-dash":324}],145:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var i=e("../../util/Mouse"),r=e("min-dash");function a(e,t,n,a){e.on("create.end",500,(function(e){e.context.canExecute&&t.select(e.context.shape)})),e.on("connect.end",500,(function(e){e.context.canExecute&&e.context.target&&t.select(e.context.target)})),e.on("shape.move.end",500,(function(e){var n=e.previousSelection||[],i=a.get(e.context.shape.id);(0,r.find)(n,(function(e){return i.id===e.id}))||t.select(i)})),e.on("element.click",(function(e){var r=e.element;r===n.getRootElement()&&(r=null);var a=t.isSelected(r),o=t.get().length>1,s=(0,i.hasPrimaryModifier)(e);if(a&&o)return s?t.deselect(r):t.select(r);a?t.deselect(r):t.select(r,s)}))}a.$inject=["eventBus","selection","canvas","elementRegistry"]},{"../../util/Mouse":162,"min-dash":324}],146:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("min-dash"),r="hover",a="selected";function o(e,t,n,o){function s(e,n){t.addMarker(e,n)}function l(e,n){t.removeMarker(e,n)}this._multiSelectionBox=null,e.on("element.hover",(function(e){s(e.element,r)})),e.on("element.out",(function(e){l(e.element,r)})),e.on("selection.changed",(function(e){var t=e.oldSelection,n=e.newSelection;(0,i.forEach)(t,(function(e){-1===n.indexOf(e)&&l(e,a)})),(0,i.forEach)(n,(function(e){-1===t.indexOf(e)&&s(e,a)}))}))}o.$inject=["eventBus","canvas","selection","styles"]},{"min-dash":324}],147:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(e("../interaction-events")),r=l(e("../outline")),a=l(e("./Selection")),o=l(e("./SelectionVisuals")),s=l(e("./SelectionBehavior"));function l(e){return e&&e.__esModule?e:{default:e}}var c={__init__:["selectionVisuals","selectionBehavior"],__depends__:[i.default,r.default],selection:["type",a.default],selectionVisuals:["type",o.default],selectionBehavior:["type",s.default]};n.default=c},{"../interaction-events":139,"../outline":141,"./Selection":144,"./SelectionBehavior":145,"./SelectionVisuals":146}],148:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Base=p,n.Shape=f,n.Root=m,n.Label=h,n.Connection=g,n.create=function(e,t){var n=v[e];if(!n)throw new Error("unknown type: <"+e+">");return(0,i.assign)(new n,t)};var i=e("min-dash"),r=o(e("inherits")),a=o(e("object-refs"));function o(e){return e&&e.__esModule?e:{default:e}}var s=new a.default({name:"children",enumerable:!0,collection:!0},{name:"parent"}),l=new a.default({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),c=new a.default({name:"attachers",collection:!0},{name:"host"}),u=new a.default({name:"outgoing",collection:!0},{name:"source"}),d=new a.default({name:"incoming",collection:!0},{name:"target"});function p(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,n=this.labels;!e&&t?n.remove(t):n.add(e,0)}}),s.bind(this,"parent"),l.bind(this,"labels"),u.bind(this,"outgoing"),d.bind(this,"incoming")}function f(){p.call(this),s.bind(this,"children"),c.bind(this,"host"),c.bind(this,"attachers")}function m(){f.call(this)}function h(){f.call(this),l.bind(this,"labelTarget")}function g(){p.call(this),u.bind(this,"source"),d.bind(this,"target")}(0,r.default)(f,p),(0,r.default)(m,f),(0,r.default)(h,f),(0,r.default)(g,p);var v={connection:g,shape:f,label:h,root:m}},{inherits:314,"min-dash":324,"object-refs":328}],149:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var i=e("../../util/Cursor"),r=e("../../util/ClickTrap"),a=e("../../util/PositionUtil"),o=e("min-dom"),s=e("../../util/Event");function l(e,t){var n;function l(o){var l,c=n.start,u=(0,s.toPoint)(o),d=(0,a.delta)(u,c);if(!n.dragging&&(l=d,Math.sqrt(Math.pow(l.x,2)+Math.pow(l.y,2))>15)&&(n.dragging=!0,(0,r.install)(e),(0,i.set)("grab")),n.dragging){var p=n.last||n.start;d=(0,a.delta)(u,p),t.scroll({dx:d.x,dy:d.y}),n.last=u}o.preventDefault()}function c(e){o.event.unbind(document,"mousemove",l),o.event.unbind(document,"mouseup",c),n=null,(0,i.unset)()}e.on("element.mousedown",500,(function(e){return function(e){if((0,o.closest)(e.target,".djs-draggable"))return;if(e.button||e.ctrlKey||e.shiftKey||e.altKey)return;return n={start:(0,s.toPoint)(e)},o.event.bind(document,"mousemove",l),o.event.bind(document,"mouseup",c),!0}(e.originalEvent)}))}l.$inject=["eventBus","canvas"]},{"../../util/ClickTrap":154,"../../util/Cursor":156,"../../util/Event":158,"../../util/PositionUtil":164,"min-dom":325}],150:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={__init__:["moveCanvas"],moveCanvas:["type",((i=e("./MoveCanvas"))&&i.__esModule?i:{default:i}).default]};n.default=r},{"./MoveCanvas":149}],151:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var i=e("min-dom"),r=e("./ZoomUtil"),a=e("../../util/Math"),o=e("min-dash"),s=Math.sign||function(e){return e>=0?1:-1},l={min:.2,max:4};function c(e,t,n){e=e||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=(0,o.bind)(this._handleWheel,this),this._totalDelta=0,this._scale=e.scale||.75;var i=this;t.on("canvas.init",(function(t){i._init(!1!==e.enabled)}))}c.$inject=["config.zoomScroll","eventBus","canvas"],c.prototype.scroll=function(e){this._canvas.scroll(e)},c.prototype.reset=function(){this._canvas.zoom("fit-viewport")},c.prototype.zoom=function(e,t){var n=(0,r.getStepSize)(l,20);this._totalDelta+=e,Math.abs(this._totalDelta)>.1&&(this._zoom(e,t,n),this._totalDelta=0)},c.prototype._handleWheel=function(e){if(!(0,i.closest)(e.target,".djs-scrollable",!0)){var t=this._container;e.preventDefault();var n,r=e.ctrlKey,a=e.shiftKey,o=-1*this._scale;if(o*=r?0===e.deltaMode?.02:.32:0===e.deltaMode?1:16,r){var l=t.getBoundingClientRect(),c={x:e.clientX-l.left,y:e.clientY-l.top};n=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*s(e.deltaY)*o,this.zoom(n,c)}else n=a?{dx:o*e.deltaY,dy:0}:{dx:o*e.deltaX,dy:o*e.deltaY},this.scroll(n)}},c.prototype.stepZoom=function(e,t){var n=(0,r.getStepSize)(l,10);this._zoom(e,t,n)},c.prototype._zoom=function(e,t,n){var i=this._canvas,o=e>0?1:-1,s=(0,a.log10)(i.zoom()),c=Math.round(s/n)*n;c+=n*o;var u=Math.pow(10,c);i.zoom((0,r.cap)(l,u),t)},c.prototype.toggle=function(e){var t=this._container,n=this._handleWheel,r=this._enabled;return void 0===e&&(e=!r),r!==e&&i.event[e?"bind":"unbind"](t,"wheel",n,!1),this._enabled=e,e},c.prototype._init=function(e){this.toggle(e)}},{"../../util/Math":161,"./ZoomUtil":152,"min-dash":324,"min-dom":325}],152:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getStepSize=function(e,t){var n=(0,i.log10)(e.min),r=(0,i.log10)(e.max);return(Math.abs(n)+Math.abs(r))/t},n.cap=function(e,t){return Math.max(e.min,Math.min(e.max,t))};var i=e("../../util/Math")},{"../../util/Math":161}],153:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={__init__:["zoomScroll"],zoomScroll:["type",((i=e("./ZoomScroll"))&&i.__esModule?i:{default:i}).default]};n.default=r},{"./ZoomScroll":151}],154:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.install=function(e,t){function n(){return!1}return t=t||"element.click",e.once(t,5e3,n),function(){e.off(t,n)}}},{}],155:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.remove=function(e,t){if(!e||!t)return-1;var n=e.indexOf(t);-1!==n&&e.splice(n,1);return n},n.add=function(e,t,n){if(!e||!t)return;"number"!=typeof n&&(n=-1);var i=e.indexOf(t);if(-1!==i){if(i===n)return;if(-1===n)return;e.splice(i,1)}-1!==n?e.splice(n,0,t):e.push(t)},n.indexOf=function(e,t){if(!e||!t)return-1;return e.indexOf(t)}},{}],156:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.set=a,n.unset=function(){a(null)},n.has=function(e){return(0,i.classes)(document.body).has("djs-cursor-"+e)};var i=e("min-dom"),r=/^djs-cursor-.*$/;function a(e){var t=(0,i.classes)(document.body);t.removeMatching(r),e&&t.add("djs-cursor-"+e)}},{"min-dom":325}],157:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.add=r,n.eachElement=a,n.selfAndChildren=o,n.selfAndDirectChildren=function(e,t){return o(e,!t,1)},n.selfAndAllChildren=function(e,t){return o(e,!t,-1)},n.getClosure=function(e,t,n){(0,i.isUndefined)(t)&&(t=!0);(0,i.isObject)(t)&&(n=t,t=!0);var r=l((n=n||{}).allShapes),o=l(n.allConnections),s=l(n.enclosedElements),c=l(n.enclosedConnections),u=l(n.topLevel,t&&(0,i.groupBy)(e,(function(e){return e.id})));function d(e){u[e.source.id]&&u[e.target.id]&&(u[e.id]=[e]),r[e.source.id]&&r[e.target.id]&&(c[e.id]=s[e.id]=e),o[e.id]=e}return a(e,(function(e){if(s[e.id]=e,!e.waypoints)return r[e.id]=e,(0,i.forEach)(e.incoming,d),(0,i.forEach)(e.outgoing,d),e.children;c[e.id]=o[e.id]=e})),{allShapes:r,allConnections:o,topLevel:u,enclosedConnections:c,enclosedElements:s}},n.getBBox=s,n.getEnclosedElements=function(e,t){var n={};return(0,i.forEach)(e,(function(e){var r=e;r.waypoints&&(r=s(r)),!(0,i.isNumber)(t.y)&&r.x>t.x&&(n[e.id]=e),!(0,i.isNumber)(t.x)&&r.y>t.y&&(n[e.id]=e),r.x>t.x&&r.y>t.y&&((0,i.isNumber)(t.width)&&(0,i.isNumber)(t.height)&&r.width+r.x<t.width+t.x&&r.height+r.y<t.height+t.y?n[e.id]=e:(0,i.isNumber)(t.width)&&(0,i.isNumber)(t.height)||(n[e.id]=e))})),n},n.getType=function(e){if("waypoints"in e)return"connection";if("x"in e)return"shape";return"root"},n.isFrameElement=function(e){return!(!e||!e.isFrame)};var i=e("min-dash");function r(e,t,n){var i=!n||-1===e.indexOf(t);return i&&e.push(t),i}function a(e,t,n){n=n||0,(0,i.isArray)(e)||(e=[e]),(0,i.forEach)(e,(function(e,r){var o=t(e,r,n);(0,i.isArray)(o)&&o.length&&a(o,t,n+1)}))}function o(e,t,n){var i=[],o=[];return a(e,(function(e,a,s){r(i,e,t);var l=e.children;if((-1===n||s<n)&&l&&r(o,l,t))return l})),i}function s(e,t){var n,r,a,o;return t=!!t,(0,i.isArray)(e)||(e=[e]),(0,i.forEach)(e,(function(e){var i=e;e.waypoints&&!t&&(i=s(e.waypoints,!0));var l=i.x,c=i.y,u=i.height||0,d=i.width||0;(l<n||void 0===n)&&(n=l),(c<r||void 0===r)&&(r=c),(l+d>a||void 0===a)&&(a=l+d),(c+u>o||void 0===o)&&(o=c+u)})),{x:n,y:r,height:o-r,width:a-n}}function l(e,t){return(0,i.assign)({},e||{},t||{})}},{"min-dash":324}],158:[function(e,t,n){"use strict";function i(e){e&&"function"==typeof e.stopPropagation&&e.stopPropagation()}function r(e){return e.originalEvent||e.srcEvent}Object.defineProperty(n,"__esModule",{value:!0}),n.getOriginal=r,n.stopPropagation=function(e,t){i(e),i(r(e))},n.toPoint=function(e){e.pointers&&e.pointers.length&&(e=e.pointers[0]);e.touches&&e.touches.length&&(e=e.touches[0]);return e?{x:e.clientX,y:e.clientY}:null}},{}],159:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getVisual=function(e){return(0,i.query)(".djs-visual",e)},n.getChildren=function(e){return e.parentNode.childNodes[1]};var i=e("min-dom")},{"min-dom":325}],160:[function(e,t,n){"use strict";function i(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i,i.prototype.next=function(){return this._prefix+ ++this._counter}},{}],161:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.log10=function(e){return Math.log(e)/Math.log(10)},Object.defineProperty(n,"substract",{enumerable:!0,get:function(){return i.delta}});var i=e("./PositionUtil")},{"./PositionUtil":164}],162:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isPrimaryButton=a,n.hasPrimaryModifier=function(e){var t=(0,i.getOriginal)(e)||e;if(!a(e))return!1;return(0,r.isMac)()?t.metaKey:t.ctrlKey},n.hasSecondaryModifier=function(e){var t=(0,i.getOriginal)(e)||e;return a(e)&&t.shiftKey},Object.defineProperty(n,"isMac",{enumerable:!0,get:function(){return r.isMac}});var i=e("./Event"),r=e("./Platform");function a(e){return!((0,i.getOriginal)(e)||e).button}},{"./Event":158,"./Platform":163}],163:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isMac=function(){return/mac/i.test(navigator.platform)}},{}],164:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.center=function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}},n.delta=function(e,t){return{x:e.x-t.x,y:e.y-t.y}}},{}],165:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.componentsToPath=function(e){return e.join(",").replace(/,?([A-z]),?/g,"$1")},n.toSVGPoints=r,n.createLine=function(e,t){var n=(0,i.create)("polyline");(0,i.attr)(n,{points:r(e)}),t&&(0,i.attr)(n,t);return n},n.updateLine=function(e,t){return(0,i.attr)(e,{points:r(t)}),e};var i=e("tiny-svg");function r(e){for(var t,n="",i=0;t=e[i];i++)n+=t.x+","+t.y+" ";return n}},{"tiny-svg":342}],166:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.transform=function(e,t,n,r,a){var o=(0,i.createTransform)();o.setTranslate(t,n);var s=(0,i.createTransform)();s.setRotate(r,0,0);var l=(0,i.createTransform)();l.setScale(a||1,a||1),(0,i.transform)(e,[o,s,l])},n.translate=function(e,t,n){var r=(0,i.createTransform)();r.setTranslate(t,n),(0,i.transform)(e,r)},n.rotate=function(e,t){var n=(0,i.createTransform)();n.setRotate(t,0,0),(0,i.transform)(e,n)},n.scale=function(e,t){var n=(0,i.createTransform)();n.setScale(t,t),(0,i.transform)(e,n)};var i=e("tiny-svg")},{"tiny-svg":342}],167:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var i=e("min-dash"),r=e("tiny-svg"),a={width:150,height:50};function o(e,t){var n;t.textContent=e;try{var i,r=""===e;return t.textContent=r?"dummy":e,i={width:(n=t.getBBox()).width+2*n.x,height:n.height},r&&(i.width=0),i}catch(e){return{width:0,height:0}}}function s(e,t,n){for(var i,r=e.shift(),a=r;;){if((i=o(a,n)).width=a?i.width:0," "===a||""===a||i.width<Math.round(t)||a.length<2)return l(e,a,r,i);a=c(a,i.width,t)}}function l(e,t,n,i){if(t.length<n.length){var r=n.slice(t.length).trim();e.unshift(r)}return{width:i.width,height:i.height,text:t}}function c(e,t,n){var i=Math.max(e.length*(n/t),1),r=function(e,t){var n,i=e.split(/(\s|-)/g),r=[],a=0;if(i.length>1)for(;n=i.shift();){if(!(n.length+a<t)){"-"===n&&r.pop();break}r.push(n),a+=n.length}return r.join("")}(e,i);return r||(r=e.slice(0,Math.max(Math.round(i-1),1))),r}function u(e){this._config=(0,i.assign)({},{size:a,padding:0,style:{},align:"center-top"},e||{})}u.prototype.createText=function(e,t){return this.layoutText(e,t).element},u.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions},u.prototype.layoutText=function(e,t){var n=(0,i.assign)({},this._config.size,t.box),a=(0,i.assign)({},this._config.style,t.style),o=function(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}(t.align||this._config.align),l=function(e){return(0,i.isObject)(e)?(0,i.assign)({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}(void 0!==t.padding?t.padding:this._config.padding),c=t.fitBox||!1,u=function(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}(a),d=e.split(/\r?\n/g),p=[],f=n.width-l.left-l.right,m=(0,r.create)("text");(0,r.attr)(m,{x:0,y:0}),(0,r.attr)(m,a);var h=function(){var e=document.getElementById("helper-svg");return e||(e=(0,r.create)("svg"),(0,r.attr)(e,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(e)),e}();for((0,r.append)(h,m);d.length;)p.push(s(d,f,m));"middle"===o.vertical&&(l.top=l.bottom=0);var g=(0,i.reduce)(p,(function(e,t,n){return e+(u||t.height)}),0)+l.top+l.bottom,v=(0,i.reduce)(p,(function(e,t,n){return t.width>e?t.width:e}),0),y=l.top;"middle"===o.vertical&&(y+=(n.height-g)/2),y-=(u||p[0].height)/4;var b=(0,r.create)("text");return(0,r.attr)(b,a),(0,i.forEach)(p,(function(e){var t;switch(y+=u||e.height,o.horizontal){case"left":t=l.left;break;case"right":t=(c?v:f)-l.right-e.width;break;default:t=Math.max(((c?v:f)-e.width)/2+l.left,0)}var n=(0,r.create)("tspan");(0,r.attr)(n,{x:t,y:y}),n.textContent=e.text,(0,r.append)(b,n)})),(0,r.remove)(m),{dimensions:{width:v,height:g},element:b}}},{"min-dash":324,"tiny-svg":342}],168:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0});var r=/^class /;function a(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(){var e=Array.prototype.slice.call(arguments);1===e.length&&a(e[0])&&(e=e[0]);var t=e.pop();return t.$inject=e,t}var s=/constructor\s*[^(]*\(\s*([^)]*)\)/m,l=/^function\s*[^(]*\(\s*([^)]*)\)/m,c=/\/\*([^*]*)\*\//m;function u(e){if("function"!=typeof e)throw new Error('Cannot annotate "'+e+'". Expected a function!');var t=e.toString().match(function(e){return r.test(e.toString())}(e)?s:l);return t&&t[1]&&t[1].split(",").map((function(e){return(t=e.match(c))?t[1].trim():e.trim()}))||[]}function d(){var e=[];this.factory=function(t,n){return e.push([t,"factory",n]),this},this.value=function(t,n){return e.push([t,"value",n]),this},this.type=function(t,n){return e.push([t,"type",n]),this},this.forEach=function(t){e.forEach(t)}}var p="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)};function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function m(e,t){return Object.hasOwnProperty.call(e,t)}n.annotate=o,n.Module=d,n.Injector=function e(t,n){n=n||{get:function(e,t){if(i.push(e),!1===t)return null;throw c('No provider for "'+e+'"!')}};var i=[],r=this._providers=Object.create(n._providers||null),s=this._instances=Object.create(null),l=s.injector=this,c=function(e){var t=i.join(" -> ");return i.length=0,new Error(t?e+" (Resolving: "+t+")":e)},h=function e(t,a){if(!r[t]&&-1!==t.indexOf(".")){for(var o=t.split("."),l=e(o.shift());o.length;)l=l[o.shift()];return l}if(m(s,t))return s[t];if(m(r,t)){if(-1!==i.indexOf(t))throw i.push(t),c("Cannot resolve circular dependency!");return i.push(t),s[t]=r[t][0](r[t][1]),i.pop(),s[t]}return n.get(t,a)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!=typeof e){if(!a(e))throw new Error('Cannot invoke "'+e+'". Expected a function!');e=o(e.slice())}var n=e.$inject||u(e),i=n.map((function(e){return m(t,e)?t[e]:h(e)}));return{fn:e,dependencies:i}},v=function(e){var t=g(e),n=t.dependencies,i=t.fn;return new(Function.prototype.bind.apply(i,[null].concat(f(n))))},y=function(e,t,n){var i=g(e,n),r=i.dependencies,a=i.fn;return a.call.apply(a,[t].concat(f(r)))},b=function(e){return o((function(t){return e.get(t)}))},_={factory:y,type:v,value:function(e){return e}};t.forEach((function(t){function n(e,t){return"value"!==e&&a(t)&&(t=o(t.slice())),t}if(t instanceof d)t.forEach((function(e){var t=e[0],i=e[1],a=e[2];r[t]=[_[i],n(i,a),i]}));else if("object"===(void 0===t?"undefined":p(t)))if(t.__exports__){var i=Object.keys(t).reduce((function(e,n){return"__"!==n.substring(0,2)&&(e[n]=t[n]),e}),Object.create(null)),s=new e((t.__modules__||[]).concat([i]),l),c=o((function(e){return s.get(e)}));t.__exports__.forEach((function(e){r[e]=[c,e,"private",s]}))}else Object.keys(t).forEach((function(e){if("private"!==t[e][2]){var i=t[e][0],a=t[e][1];r[e]=[_[i],n(i,a),i]}else r[e]=t[e]}))})),this.get=h,this.invoke=y,this.instantiate=v,this.createChild=function(t,n){if(n&&n.length){var i,a,o,s,c=Object.create(null),u=Object.create(null),d=[],p=[],f=[];for(var m in r)i=r[m],-1!==n.indexOf(m)&&("private"===i[2]?-1===(a=d.indexOf(i[3]))?(o=i[3].createChild([],n),s=b(o),d.push(i[3]),p.push(o),f.push(s),c[m]=[s,m,"private",o]):c[m]=[f[a],m,"private",p[a]]:c[m]=[i[2],i[1]],u[m]=!0),"factory"!==i[2]&&"type"!==i[2]||!i[1].$scope||n.forEach((function(e){-1!==i[1].$scope.indexOf(e)&&(c[m]=[i[2],i[1]],u[e]=!0)}));n.forEach((function(e){if(!u[e])throw new Error('No provider for "'+e+'". Cannot use provider from the parent!')})),t.unshift(c)}return new e(t,l)}}},{}],169:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var i,r=(i=e("./lib/simple"))&&i.__esModule?i:{default:i}},{"./lib/simple":171}],170:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var i,r=e("min-dash"),a=(i=e("moddle"))&&i.__esModule?i:{default:i},o=e("moddle-xml");function s(e,t){a.default.call(this,e,t)}s.prototype=Object.create(a.default.prototype),s.prototype.fromXML=function(e,t,n,i){(0,r.isString)(t)||(i=n,n=t,t="cmmn:Definitions"),(0,r.isFunction)(n)&&(i=n,n={});var a=new o.Reader((0,r.assign)({model:this,lax:!0},n)),s=a.handler(t);a.fromXML(e,s,i)},s.prototype.toXML=function(e,t,n){(0,r.isFunction)(t)&&(n=t,t={});var i,a,s=new o.Writer(t);try{i=s.toXML(e)}catch(e){a=e}return n(a,i)}},{"min-dash":324,moddle:176,"moddle-xml":172}],171:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=(0,i.assign)({},u,e);return new r.default(n,t)};var i=e("min-dash"),r=c(e("./cmmn-moddle")),a=c(e("../resources/cmmn/json/cmmn.json")),o=c(e("../resources/cmmn/json/cmmndi.json")),s=c(e("../resources/cmmn/json/dc.json")),l=c(e("../resources/cmmn/json/di.json"));function c(e){return e&&e.__esModule?e:{default:e}}var u={cmmn:a.default,cmmndi:o.default,dc:s.default,di:l.default}},{"../resources/cmmn/json/cmmn.json":185,"../resources/cmmn/json/cmmndi.json":186,"../resources/cmmn/json/dc.json":187,"../resources/cmmn/json/di.json":188,"./cmmn-moddle":170,"min-dash":324}],172:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Reader",{enumerable:!0,get:function(){return i.Reader}}),Object.defineProperty(n,"Writer",{enumerable:!0,get:function(){return r.Writer}});var i=e("./lib/read"),r=e("./lib/write")},{"./lib/read":174,"./lib/write":175}],173:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasLowerCaseAlias=function(e){return e.xml&&"lowerCase"===e.xml.tagAlias},n.serializeAsType=function(e){return r(e)===i},n.serializeAsProperty=function(e){return"property"===r(e)},n.XSI_TYPE=n.DEFAULT_NS_MAP=void 0;n.DEFAULT_NS_MAP={xsi:"http://www.w3.org/2001/XMLSchema-instance"};var i="xsi:type";function r(e){return e.xml&&e.xml.serialize}n.XSI_TYPE=i},{}],174:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Context=f,n.ElementHandler=_,n.Reader=w;var i,r=e("min-dash"),a=e("saxen"),o=(i=e("moddle"))&&i.__esModule?i:{default:i},s=e("moddle/lib/ns"),l=e("moddle/lib/types"),c=e("./common");function u(e,t){return(0,c.hasLowerCaseAlias)(t)?e.prefix+":"+((n=e.localName).charAt(0).toUpperCase()+n.slice(1)):e.name;var n}function d(e){return new Error(e)}function p(e){return e.$descriptor}function f(e){(0,r.assign)(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw d("expected element");var t,n=this.elementsById,i=p(e).idProperty;if(i&&(t=e.get(i.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(t))throw new Error("illegal ID <"+t+">");if(n[t])throw d("duplicate ID <"+t+">");n[t]=e}},this.addWarning=function(e){this.warnings.push(e)}}function m(){}function h(){}function g(){}function v(e,t){this.property=e,this.context=t}function y(e,t){this.element=t,this.propertyDesc=e}function b(){}function _(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function E(e,t,n){_.call(this,e,t,n)}function x(e,t,n){this.model=e,this.context=n}function w(e){e instanceof o.default&&(e={model:e}),(0,r.assign)(this,{lax:!1},e)}m.prototype.handleEnd=function(){},m.prototype.handleText=function(){},m.prototype.handleNode=function(){},h.prototype=Object.create(m.prototype),h.prototype.handleNode=function(){return this},g.prototype=Object.create(m.prototype),g.prototype.handleText=function(e){this.body=(this.body||"")+e},v.prototype=Object.create(g.prototype),v.prototype.handleNode=function(e){if(this.element)throw d("expected no sub nodes");return this.element=this.createReference(e),this},v.prototype.handleEnd=function(){this.element.id=this.body},v.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},y.prototype=Object.create(g.prototype),y.prototype.handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=(0,l.coerceType)(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},b.prototype=Object.create(g.prototype),b.prototype.handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t},_.prototype=Object.create(b.prototype),_.prototype.addReference=function(e){this.context.addReference(e)},_.prototype.handleText=function(e){if(!p(this.element).bodyProperty)throw d("unexpected body text <"+e+">");g.prototype.handleText.call(this,e)},_.prototype.handleEnd=function(){var e=this.body,t=this.element,n=p(t).bodyProperty;n&&void 0!==e&&(e=(0,l.coerceType)(n.type,e),t.set(n.name,e))},_.prototype.createElement=function(e){var t,n=e.attributes,i=this.type,a=p(i),o=this.context,c=new i({}),u=this.model;return(0,r.forEach)(n,(function(e,n){var i,d=a.propertiesByName[n];d&&d.isReference?d.isMany?(i=e.split(" "),(0,r.forEach)(i,(function(e){o.addReference({element:c,property:d.ns.name,id:e})}))):o.addReference({element:c,property:d.ns.name,id:e}):(d?e=(0,l.coerceType)(d.type,e):"xmlns"!==n&&(t=(0,s.parseName)(n,a.ns.prefix),u.getPackage(t.prefix)&&o.addWarning({message:"unknown attribute <"+n+">",element:c,property:n,value:e})),c.set(n,e))})),c},_.prototype.getPropertyForNode=function(e){var t,n,i=e.name,a=(0,s.parseName)(i),o=this.type,l=this.model,f=p(o),m=a.name,h=f.propertiesByName[m];if(h)return(0,c.serializeAsType)(h)&&(t=e.attributes[c.XSI_TYPE])?(t=function(e,t){var n=(0,s.parseName)(e);return function(e,t){var n=e.name,i=e.localName,r=t.xml&&t.xml.typePrefix;return r&&0===i.indexOf(r)?e.prefix+":"+i.slice(r.length):n}(n,t.getPackage(n.prefix))}(t,l),n=l.getType(t),(0,r.assign)({},h,{effectiveType:p(n).name})):h;var g=l.getPackage(a.prefix);if(g){if(t=u(a,g),n=l.getType(t),h=(0,r.find)(f.properties,(function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)})))return(0,r.assign)({},h,{effectiveType:p(n).name})}else if(h=(0,r.find)(f.properties,(function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type})))return h;throw d("unrecognized element <"+a.name+">")},_.prototype.toString=function(){return"ElementDescriptor["+p(this.type).name+"]"},_.prototype.valueHandler=function(e,t){return new y(e,t)},_.prototype.referenceHandler=function(e){return new v(e,this.context)},_.prototype.handler=function(e){return"Element"===e?new x(this.model,e,this.context):new _(this.model,e,this.context)},_.prototype.handleChild=function(e){var t,n,i,a;if(t=this.getPropertyForNode(e),i=this.element,n=t.effectiveType||t.type,(0,l.isSimple)(n))return this.valueHandler(t,i);var o=(a=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e)).element;return void 0!==o&&(t.isMany?i.get(t.name).push(o):i.set(t.name,o),t.isReference?((0,r.assign)(o,{element:i}),this.context.addReference(o)):o.$parent=i),a},E.prototype=Object.create(_.prototype),E.prototype.createElement=function(e){var t=e.name,n=(0,s.parseName)(t),i=this.model,r=this.type,a=i.getPackage(n.prefix),o=a&&u(n,a)||t;if(!r.hasType(o))throw d("unexpected element <"+e.originalName+">");return _.prototype.createElement.call(this,e)},x.prototype=Object.create(b.prototype),x.prototype.createElement=function(e){var t=e.name,n=(0,s.parseName)(t).prefix,i=e.ns[n+"$uri"],r=e.attributes;return this.model.createAny(t,i,r)},x.prototype.handleChild=function(e){var t=new x(this.model,"Element",this.context).handleNode(e),n=this.element,i=t.element;return void 0!==i&&((n.$children=n.$children||[]).push(i),i.$parent=n),t},x.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},w.prototype.fromXML=function(e,t,n){var i=t.rootHandler;t instanceof _?(i=t,t={}):"string"==typeof t?(i=this.handler(t),t={}):"string"==typeof i&&(i=this.handler(i));var o=this.model,s=this.lax,l=new f((0,r.assign)({},t,{rootHandler:i})),c=new a.Parser({proxy:!0}),u=function(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}();function m(e,t,n){var i=t(),r=i.line,a=i.column,o=i.data;"<"===o.charAt(0)&&-1!==o.indexOf(" ")&&(o=o.slice(0,o.indexOf(" "))+">");var s="unparsable content "+(o?o+" ":"")+"detected\n\tline: "+r+"\n\tcolumn: "+a+"\n\tnested error: "+e.message;if(n)return l.addWarning({message:s,error:e}),!0;throw d(s)}function g(e,t){return m(e,t,!0)}i.context=l,u.push(i);var v=/^<\?xml /i,y=/ encoding="([^"]+)"/i,b=/^utf-8$/i;function E(e,t){try{u.peek().handleText(e)}catch(e){g(e,t)}}var x=o.getPackages().reduce((function(e,t){return e[t.uri]=t.prefix,e}),{});c.ns(x).on("openTag",(function(e,t,n,i){var r=e.attrs||{},a=Object.keys(r).reduce((function(e,n){var i=t(r[n]);return e[n]=i,e}),{});!function(e,t){var n=u.peek();try{u.push(n.handleNode(e))}catch(e){m(e,t,s)&&u.push(new h)}}({name:e.name,originalName:e.originalName,attributes:a,ns:e.ns},i)})).on("question",(function(e){if(v.test(e)){var t=y.exec(e),n=t&&t[1];n&&!b.test(n)&&l.addWarning({message:"unsupported document encoding <"+n+">, falling back to UTF-8"})}})).on("closeTag",(function(){u.pop().handleEnd()})).on("cdata",E).on("text",(function(e,t,n){!function(e,t){(e=e.trim())&&E(e,t)}(t(e),n)})).on("error",m).on("warn",g),setTimeout((function(){var t;try{c.parse(e),function(){var e,t,n=l.elementsById,i=l.references;for(e=0;t=i[e];e++){var r=t.element,a=n[t.id],o=p(r).propertiesByName[t.property];if(a||l.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),o.isMany){var s=r.get(o.name),c=s.indexOf(t);-1===c&&(c=s.length),a?s[c]=a:s.splice(c,1)}else r.set(o.name,a)}}()}catch(e){t=e}var r=i.element;t||r||(t=d("failed to parse document as <"+i.type.$descriptor.name+">")),n(t,t?void 0:r,l)}),0)},w.prototype.handler=function(e){return new E(this.model,e)}},{"./common":173,"min-dash":324,moddle:176,"moddle/lib/ns":181,"moddle/lib/types":184,saxen:339}],175:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Namespaces=u,n.Writer=function(e){return e=(0,i.assign)({format:!1,preamble:!0},e||{}),{toXML:function(t,n){var i=n||new E,r=new x(i,e.format);e.preamble&&r.append(s);if((new b).build(t).serializeTo(r),!n)return i.value}}};var i=e("min-dash"),r=e("moddle/lib/types"),a=e("moddle/lib/ns"),o=e("./common"),s='<?xml version="1.0" encoding="UTF-8"?>\n',l=/<|>|'|"|&|\n\r|\n/g,c=/<|>|&/g;function u(e){var t={},n={},i={},r=[],a=[];this.byUri=function(t){return n[t]||e&&e.byUri(t)},this.add=function(e,t){n[e.uri]=e,t?r.push(e):a.push(e),this.mapPrefix(e.prefix,e.uri)},this.uriByPrefix=function(e){return t[e||"xmlns"]},this.mapPrefix=function(e,n){t[e||"xmlns"]=n},this.logUsed=function(e){var t=e.uri;i[t]=this.byUri(t)},this.getUsed=function(e){return[].concat(r,a).filter((function(e){return i[e.uri]}))}}function d(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function p(e){return(0,i.isString)(e)?e:(e.prefix?e.prefix+":":"")+e.localName}var f={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},m={"<":"lt",">":"gt","&":"amp"};function h(e,t,n){return(e=(0,i.isString)(e)?e:""+e).replace(t,(function(e){return"&"+n[e]+";"}))}function g(e){this.tagName=e}function v(){}function y(e){this.tagName=e}function b(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}function _(e,t){b.call(this,e,t)}function E(){this.value="",this.write=function(e){this.value+=e}}function x(e,t){var n=[""];this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}g.prototype.build=function(e){return this.element=e,this},g.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},v.prototype.serializeValue=v.prototype.serializeTo=function(e){e.append(this.escape?h(this.value,c,m):this.value)},v.prototype.build=function(e,t){return this.value=t,"String"===e.type&&-1!==t.search(c)&&(this.escape=!0),this},d(y,v),y.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},b.prototype.build=function(e){this.element=e;var t,n,r,a=e.$descriptor,o=this.propertyDescriptor,s=a.isGeneric;return t=s?this.parseGeneric(e):this.parseNsAttributes(e),this.ns=o?this.nsPropertyTagName(o):this.nsTagName(a),this.tagName=this.addTagName(this.ns),s||(n=function(e){var t=e.$descriptor;return(0,i.filter)(t.properties,(function(t){var n=t.name;if(t.isVirtual)return!1;if(!e.hasOwnProperty(n))return!1;var i=e[n];return i!==t.default&&null!==i&&(!t.isMany||i.length)}))}(e),this.parseAttributes((r=n,(0,i.filter)(r,(function(e){return e.isAttr})))),this.parseContainments(function(e){return(0,i.filter)(e,(function(e){return!e.isAttr}))}(n))),this.parseGenericAttributes(e,t),this},b.prototype.nsTagName=function(e){return function(e,t){return t.isGeneric?(0,i.assign)({localName:t.ns.localName},e):(0,i.assign)({localName:(n=t.ns.localName,r=t.$pkg,(0,o.hasLowerCaseAlias)(r)?(a=n).charAt(0).toLowerCase()+a.slice(1):n)},e);var n,r,a}(this.logNamespaceUsed(e.ns),e)},b.prototype.nsPropertyTagName=function(e){return function(e,t){return(0,i.assign)({localName:t.ns.localName},e)}(this.logNamespaceUsed(e.ns),e)},b.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},b.prototype.nsAttributeName=function(e){var t;if(t=(0,i.isString)(e)?(0,a.parseName)(e):e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:(0,i.assign)({localName:t.localName},n)},b.prototype.parseGeneric=function(e){var t=this,n=this.body,r=[];return(0,i.forEach)(e,(function(a,o){"$body"===o?n.push((new v).build({type:"String"},a)):"$children"===o?(0,i.forEach)(a,(function(e){n.push(new b(t).build(e))})):0!==o.indexOf("$")&&t.parseNsAttribute(e,o,a)&&r.push({name:o,value:a})})),r},b.prototype.parseNsAttribute=function(e,t,n){var i,r=e.$model,o=(0,a.parseName)(t);if("xmlns"===o.prefix&&(i={prefix:o.localName,uri:n}),o.prefix||"xmlns"!==o.localName||(i={uri:n}),!i)return{name:t,value:n};if(r&&r.getPackage(n))this.logNamespace(i,!0,!0);else{var s=this.logNamespaceUsed(i,!0);this.getNamespaces().logUsed(s)}},b.prototype.parseNsAttributes=function(e,t){var n=this,r=e.$attrs,a=[];return(0,i.forEach)(r,(function(t,i){var r=n.parseNsAttribute(e,i,t);r&&a.push(r)})),a},b.prototype.parseGenericAttributes=function(e,t){var n=this;(0,i.forEach)(t,(function(t){if(t.name!==o.XSI_TYPE)try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(n){console.warn("missing namespace information for ",t.name,"=",t.value,"on",e,n)}}))},b.prototype.parseContainments=function(e){var t=this,n=this.body,a=this.element;(0,i.forEach)(e,(function(e){var s=a.get(e.name),l=e.isReference;if(e.isMany||(s=[s]),e.isBody)n.push((new v).build(e,s[0]));else if((0,r.isSimple)(e.type))(0,i.forEach)(s,(function(i){n.push(new y(t.addTagName(t.nsPropertyTagName(e))).build(e,i))}));else if(l)(0,i.forEach)(s,(function(i){n.push(new g(t.addTagName(t.nsPropertyTagName(e))).build(i))}));else{var c=(0,o.serializeAsType)(e),u=(0,o.serializeAsProperty)(e);(0,i.forEach)(s,(function(i){var r;r=c?new _(t,e):u?new b(t,e):new b(t),n.push(r.build(i))}))}}))},b.prototype.getNamespaces=function(e){var t,n=this.namespaces,i=this.parent;return n||(t=i&&i.getNamespaces(),e||!t?this.namespaces=n=new u(t):n=t),n},b.prototype.logNamespace=function(e,t,n){var i=this.getNamespaces(n),r=e.uri,a=e.prefix;return i.byUri(r)||i.add(e,t),i.mapPrefix(a,r),e},b.prototype.logNamespaceUsed=function(e,t){var n,i,r,a=this.element.$model,s=this.getNamespaces(t),l=e.prefix,c=e.uri;if(!l&&!c)return{localName:e.localName};if(r=o.DEFAULT_NS_MAP[l]||a&&(a.getPackage(l)||{}).uri,!(c=c||r||s.uriByPrefix(l)))throw new Error("no namespace uri given for prefix <"+l+">");if(!(e=s.byUri(c))){for(n=l,i=1;s.uriByPrefix(n);)n=l+"_"+i++;e=this.logNamespace({prefix:n,uri:c},r===c)}return l&&s.mapPrefix(l,c),e},b.prototype.parseAttributes=function(e){var t=this,n=this.element;(0,i.forEach)(e,(function(e){var r=n.get(e.name);if(e.isReference)if(e.isMany){var a=[];(0,i.forEach)(r,(function(e){a.push(e.id)})),r=a.join(" ")}else r=r.id;t.addAttribute(t.nsAttributeName(e),r)}))},b.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),p(e)},b.prototype.addAttribute=function(e,t){var n=this.attrs;(0,i.isString)(t)&&(t=h(t,l,f)),n.push({name:e,value:t})},b.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=function(e){return(0,i.map)(e.getUsed(),(function(e){return{name:"xmlns"+(e.prefix?":"+e.prefix:""),value:e.uri}}))}(n).concat(t)),(0,i.forEach)(t,(function(t){e.append(" ").append(p(t.name)).append('="').append(t.value).append('"')}))},b.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==v;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),(0,i.forEach)(this.body,(function(t){t.serializeTo(e)})),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()},d(_,b),_.prototype.parseNsAttributes=function(e){var t=b.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var i=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var r=e.$model.getPackage(i.uri),a=r.xml&&r.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(o.XSI_TYPE),(i.prefix?i.prefix+":":"")+a+n.ns.localName),t},_.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri}},{"./common":173,"min-dash":324,"moddle/lib/ns":181,"moddle/lib/types":184}],176:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var i,r=(i=e("./lib/moddle"))&&i.__esModule?i:{default:i}},{"./lib/moddle":180}],177:[function(e,t,n){"use strict";function i(){}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i,i.prototype.get=function(e){return this.$model.properties.get(this,e)},i.prototype.set=function(e,t){this.$model.properties.set(this,e,t)}},{}],178:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var i=e("min-dash"),r=e("./ns");function a(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}a.prototype.build=function(){return(0,i.pick)(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},a.prototype.addProperty=function(e,t,n){"boolean"==typeof t&&(n=t,t=void 0),this.addNamedProperty(e,!1!==n);var i=this.properties;void 0!==t?i.splice(t,0,e):i.push(e)},a.prototype.replaceProperty=function(e,t,n){var i=e.ns,r=this.properties,a=this.propertiesByName,o=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var s=r.indexOf(e);if(-1===s)throw new Error("property <"+i.name+"> not found in property list");r.splice(s,1),this.addProperty(t,n?void 0:s,o),a[i.name]=a[i.localName]=t},a.prototype.redefineProperty=function(e,t,n){var i=e.ns.prefix,a=t.split("#"),o=(0,r.parseName)(a[0],i),s=(0,r.parseName)(a[1],o.prefix).name,l=this.propertiesByName[s];if(!l)throw new Error("refined property <"+s+"> not found");this.replaceProperty(l,e,n),delete e.redefines},a.prototype.addNamedProperty=function(e,t){var n=e.ns,i=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),i[n.name]=i[n.localName]=e},a.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},a.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},a.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},a.prototype.assertNotDefined=function(e,t){var n=e.name,i=this.propertiesByName[n];if(i)throw new Error("property <"+n+"> already defined; override of <"+i.definedBy.ns.name+"#"+i.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},a.prototype.hasProperty=function(e){return this.propertiesByName[e]},a.prototype.addTrait=function(e,t){var n=this.allTypesByName,r=this.allTypes,a=e.name;a in n||((0,i.forEach)(e.properties,(0,i.bind)((function(n){n=(0,i.assign)({},n,{name:n.ns.localName,inherited:t}),Object.defineProperty(n,"definedBy",{value:e});var r=n.replaces,a=n.redefines;r||a?this.redefineProperty(n,r||a,r):(n.isBody&&this.setBodyProperty(n),n.isId&&this.setIdProperty(n),this.addProperty(n))}),this)),r.push(e),n[a]=e)}},{"./ns":181,"min-dash":324}],179:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i,r=e("min-dash"),a=(i=e("./base"))&&i.__esModule?i:{default:i};function o(e,t){this.model=e,this.properties=t}o.prototype.createType=function(e){var t=this.model,n=this.properties,i=Object.create(a.default.prototype);(0,r.forEach)(e.properties,(function(e){e.isMany||void 0===e.default||(i[e.name]=e.default)})),n.defineModel(i,t),n.defineDescriptor(i,e);var o=e.ns.name;function s(e){n.define(this,"$type",{value:o,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),(0,r.forEach)(e,(0,r.bind)((function(e,t){this.set(t,e)}),this))}return s.prototype=i,s.hasType=i.$instanceOf=this.model.hasType,n.defineModel(s,t),n.defineDescriptor(s,e),s}},{"./base":177,"min-dash":324}],180:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var i=e("min-dash"),r=l(e("./factory")),a=l(e("./registry")),o=l(e("./properties")),s=e("./ns");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){this.properties=new o.default(this),this.factory=new r.default(this,this.properties),this.registry=new a.default(e,this.properties),this.typeCache={}}c.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},c.prototype.getType=function(e){var t=this.typeCache,n=(0,i.isString)(e)?e:e.ns.name,r=t[n];return r||(e=this.registry.getEffectiveDescriptor(n),r=t[n]=this.factory.createType(e)),r},c.prototype.createAny=function(e,t,n){var r=(0,s.parseName)(e),a={$type:e,$instanceOf:function(e){return e===this.$type}},o={name:e,isGeneric:!0,ns:{prefix:r.prefix,localName:r.localName,uri:t}};return this.properties.defineDescriptor(a,o),this.properties.defineModel(a,this),this.properties.define(a,"$parent",{enumerable:!1,writable:!0}),(0,i.forEach)(n,(function(e,t){(0,i.isObject)(e)&&void 0!==e.value?a[e.name]=e.value:a[t]=e})),a},c.prototype.getPackage=function(e){return this.registry.getPackage(e)},c.prototype.getPackages=function(){return this.registry.getPackages()},c.prototype.getElementDescriptor=function(e){return e.$descriptor},c.prototype.hasType=function(e,t){return void 0===t&&(t=e,e=this),t in e.$model.getElementDescriptor(e).allTypesByName},c.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},c.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]}},{"./factory":179,"./ns":181,"./properties":182,"./registry":183,"min-dash":324}],181:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.parseName=function(e,t){var n,i,r=e.split(/:/);if(1===r.length)n=e,i=t;else{if(2!==r.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=r[1],i=r[0]}return{name:e=(i?i+":":"")+n,prefix:i,localName:n}}},{}],182:[function(e,t,n){"use strict";function i(e){this.model=e}function r(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i,i.prototype.set=function(e,t,n){var i=this.model.getPropertyDescriptor(e,t),a=i&&i.name;void 0===n?i?delete e[a]:delete e.$attrs[t]:i?a in e?e[a]=n:r(e,i,n):e.$attrs[t]=n},i.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];var i=n.name;return!e[i]&&n.isMany&&r(e,n,[]),e[i]},i.prototype.define=function(e,t,n){Object.defineProperty(e,t,n)},i.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},i.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})}},{}],183:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var i,r=e("min-dash"),a=e("./types"),o=(i=e("./descriptor-builder"))&&i.__esModule?i:{default:i},s=e("./ns");function l(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,(0,r.forEach)(e,(0,r.bind)(this.registerPackage,this))}function c(e,t,n){var i=t[n];if(i in e)throw new Error("package with "+n+" <"+i+"> already defined")}l.prototype.getPackage=function(e){return this.packageMap[e]},l.prototype.getPackages=function(){return this.packages},l.prototype.registerPackage=function(e){e=(0,r.assign)({},e);var t=this.packageMap;c(t,e,"prefix"),c(t,e,"uri"),(0,r.forEach)(e.types,(0,r.bind)((function(t){this.registerType(t,e)}),this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)},l.prototype.registerType=function(e,t){e=(0,r.assign)({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:(0,r.assign)(e.meta||{})});var n=(0,s.parseName)(e.name,t.prefix),i=n.name,o={};(0,r.forEach)(e.properties,(0,r.bind)((function(e){var t=(0,s.parseName)(e.name,n.prefix),i=t.name;(0,a.isBuiltIn)(e.type)||(e.type=(0,s.parseName)(e.type,t.prefix).name),(0,r.assign)(e,{ns:t,name:i}),o[i]=e}),this)),(0,r.assign)(e,{ns:n,name:i,propertiesByName:o}),(0,r.forEach)(e.extends,(0,r.bind)((function(e){var t=this.typeMap[e];t.traits=t.traits||[],t.traits.push(i)}),this)),this.definePackage(e,t),this.typeMap[i]=e},l.prototype.mapTypes=function(e,t,n){var i=(0,a.isBuiltIn)(e.name)?{name:e.name}:this.typeMap[e.name],o=this;function l(e){return c(e,!0)}function c(n,i){var r=(0,s.parseName)(n,(0,a.isBuiltIn)(n)?"":e.prefix);o.mapTypes(r,t,i)}if(!i)throw new Error("unknown type <"+e.name+">");(0,r.forEach)(i.superClass,n?l:c),t(i,!n),(0,r.forEach)(i.traits,l)},l.prototype.getEffectiveDescriptor=function(e){var t=(0,s.parseName)(e),n=new o.default(t);this.mapTypes(t,(function(e,t){n.addTrait(e,t)}));var i=n.build();return this.definePackage(i,i.allTypes[i.allTypes.length-1].$pkg),i},l.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})}},{"./descriptor-builder":178,"./ns":181,"./types":184,"min-dash":324}],184:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.coerceType=function(e,t){var n=r[e];return n?n(t):t},n.isBuiltIn=function(e){return!!i[e]},n.isSimple=function(e){return!!r[e]};var i={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},r={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e,10)}}},{}],185:[function(e,t,n){t.exports={name:"CMMN",uri:"http://www.omg.org/spec/CMMN/20151109/MODEL",types:[{name:"ApplicabilityRule",superClass:["CMMNElement"],properties:[{name:"condition",type:"Expression",xml:{serialize:"property"}},{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["CMMNElement"]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"CMMNElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"CMMNElement",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"ManualActivationRule",superClass:["CMMNElement"],properties:[{name:"condition",type:"Expression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"Case",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"caseFileModel",type:"CaseFile",xml:{serialize:"property"}},{name:"casePlanModel",type:"Stage",xml:{serialize:"property"}},{name:"caseRoles",type:"CaseRoles"},{name:"input",type:"CaseParameter",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"CaseParameter",isMany:!0,xml:{serialize:"property"}}]},{name:"CaseFile",superClass:["CMMNElement"],properties:[{name:"caseFileItems",type:"CaseFileItem",isMany:!0}]},{name:"CaseFileItem",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"multiplicity",type:"String",isAttr:!0,default:"Unspecified"},{name:"definitionRef",type:"CaseFileItemDefinition",isAttr:!0,isReference:!0},{name:"sourceRef",type:"CaseFileItem",isAttr:!0,isReference:!0},{name:"targetRefs",type:"CaseFileItem",isAttr:!0,isReference:!0,isMany:!0},{name:"children",type:"Children",xml:{serialize:"property"}}]},{name:"CaseFileItemDefinition",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"definitionType",type:"String",default:"http://www.omg.org/spec/CMMN/DefinitionType/Unspecified",isAttr:!0},{name:"properties",type:"Property",isMany:!0},{name:"structureRef",type:"String",isAttr:!0},{name:"importRef",type:"Import",isAttr:!0,isReference:!0}]},{name:"CaseFileItemOnPart",superClass:["OnPart"],properties:[{name:"standardEvent",type:"String"},{name:"sourceRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"CaseParameter",superClass:["Parameter"],properties:[{name:"bindingRef",type:"CaseFileItem",isAttr:!0,isReference:!0},{name:"bindingRefinement",type:"Expression",xml:{serialize:"property"}}]},{name:"CaseRoles",superClass:["Parameter"],properties:[{name:"role",type:"Role",isMany:!0}]},{name:"CaseTask",superClass:["Task"],properties:[{name:"parameterMapping",type:"ParameterMapping",isMany:!0},{name:"caseRefExpression",type:"Expression",xml:{serialize:"property"}},{name:"caseRef",type:"String",isAttr:!0}]},{name:"Children",superClass:["CMMNElement"],properties:[{name:"caseFileItems",type:"CaseFileItem",isMany:!0}]},{name:"CMMNElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionElements",type:"ExtensionElements"},{name:"extensionDefinitions",type:"ExtensionDefinition",isReference:!0,isMany:!0}]},{name:"Definitions",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",type:"String",isAttr:!0},{name:"expressionLanguage",type:"String",isAttr:!0,default:"http://www.w3.org/1999/XPath"},{name:"exporter",isAttr:!0,type:"String"},{name:"exporterVersion",isAttr:!0,type:"String"},{name:"author",isAttr:!0,type:"String"},{name:"creationDate",type:"DateTime",isAttr:!0},{name:"imports",type:"Import",isMany:!0},{name:"caseFileItemDefinitions",type:"CaseFileItemDefinition",isMany:!0},{name:"cases",type:"Case",isMany:!0},{name:"processes",type:"Process",isMany:!0},{name:"decisions",type:"Decision",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"relationships",type:"Relationship",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"CMMNDI",type:"cmmndi:CMMNDI"}]},{name:"DiscretionaryItem",superClass:["TableItem"],properties:[{name:"itemControl",type:"PlanItemControl",xml:{serialize:"property"}},{name:"definitionRef",type:"PlanItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"entryCriteria",type:"EntryCriterion",isMany:!0},{name:"exitCriteria",type:"ExitCriterion",isMany:!0}]},{name:"EventListener",superClass:["PlanItemDefinition"]},{name:"Expression",superClass:["CMMNElement"],properties:[{name:"language",type:"String",isAttr:!0},{name:"body",isBody:!0,type:"String"}]},{name:"HumanTask",superClass:["Task"],properties:[{name:"planningTable",type:"PlanningTable"},{name:"performerRef",type:"Role",isAttr:!0,isReference:!0}]},{name:"IfPart",superClass:["CMMNElement"],properties:[{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0},{name:"condition",type:"Expression",xml:{serialize:"property"}}]},{name:"Import",properties:[{name:"location",isAttr:!0,type:"String"},{name:"namespace",type:"String",isAttr:!0},{name:"importType",isAttr:!0,type:"String"}]},{name:"Milestone",superClass:["PlanItemDefinition"]},{name:"On",isAbstract:!0,superClass:["CMMNElement"]},{name:"OnPart",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"Parameter",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ParameterMapping",properties:[{name:"sourceRef",type:"Parameter",isAttr:!0,isReference:!0},{name:"targetRef",type:"Parameter",isAttr:!0,isReference:!0},{name:"transformation",type:"Expression",xml:{serialize:"property"}}]},{name:"PlanFragment",superClass:["PlanItemDefinition"],properties:[{name:"planItems",type:"PlanItem",isMany:!0},{name:"sentries",type:"Sentry",isMany:!0}]},{name:"PlanItem",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"definitionRef",type:"PlanItemDefinition",isAttr:!0,isReference:!0},{name:"itemControl",type:"PlanItemControl",xml:{serialize:"property"}},{name:"entryCriteria",type:"EntryCriterion",isMany:!0},{name:"exitCriteria",type:"ExitCriterion",isMany:!0}]},{name:"PlanItemControl",superClass:["CMMNElement"],properties:[{name:"repetitionRule",type:"RepetitionRule"},{name:"requiredRule",type:"RequiredRule"},{name:"manualActivationRule",type:"ManualActivationRule"}]},{name:"PlanItemDefinition",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"defaultControl",type:"PlanItemControl",xml:{serialize:"property"}}]},{name:"PlanItemOnPart",superClass:["OnPart"],properties:[{name:"standardEvent",type:"String"},{name:"sourceRef",type:"PlanItem",isAttr:!0,isReference:!0},{name:"exitCriterionRef",type:"ExitCriterion",isAttr:!0,isReference:!0}]},{name:"PlanningTable",superClass:["TableItem"],properties:[{name:"tableItems",type:"TableItem",isMany:!0},{name:"applicabilityRules",type:"ApplicabilityRule",isMany:!0}]},{name:"Process",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"implementationType",type:"String",isAttr:!0,default:"http://www.omg.org/spec/CMMN/ProcessType/Unspecified"},{name:"externalRef",type:"String",isAttr:!0},{name:"input",type:"ProcessParameter",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"ProcessParameter",isMany:!0,xml:{serialize:"property"}}]},{name:"ProcessParameter",superClass:["Parameter"]},{name:"ProcessTask",superClass:["Task"],properties:[{name:"parameterMapping",type:"ParameterMapping",isMany:!0},{name:"processRefExpression",type:"Expression",xml:{serialize:"property"}},{name:"processRef",type:"String",isAttr:!0}]},{name:"Property",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",type:"String",isAttr:!0,default:"http://www.omg.org/spec/CMMN/PropertyType/Unspecified"}]},{name:"RepetitionRule",superClass:["CMMNElement"],properties:[{name:"condition",type:"Expression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"RequiredRule",superClass:["CMMNElement"],properties:[{name:"condition",type:"Expression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"Role",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"Sentry",superClass:["CMMNElement"],properties:[{name:"onParts",type:"OnPart",isMany:!0},{name:"ifPart",type:"IfPart"},{name:"name",isAttr:!0,type:"String"}]},{name:"Stage",superClass:["PlanFragment"],properties:[{name:"planningTable",type:"PlanningTable"},{name:"planItemDefinitions",type:"PlanItemDefinition",isMany:!0},{name:"autoComplete",isAttr:!0,type:"Boolean"},{name:"exitCriteria",type:"ExitCriterion",isMany:!0}]},{name:"TableItem",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"authorizedRoleRefs",type:"Role",isAttr:!0,isReference:!0,isMany:!0},{name:"applicabilityRuleRefs",type:"ApplicabilityRule",isAttr:!0,isReference:!0,isMany:!0}]},{name:"Task",superClass:["PlanItemDefinition"],properties:[{name:"input",type:"CaseParameter",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"CaseParameter",isMany:!0,xml:{serialize:"property"}},{name:"isBlocking",isAttr:!0,default:!0,type:"Boolean"}]},{name:"TimerEventListener",superClass:["EventListener"],properties:[{name:"timerExpression",type:"Expression",xml:{serialize:"property"}},{name:"timerStart",type:"StartTrigger"}]},{name:"UserEventListener",superClass:["EventListener"],properties:[{name:"authorizedRoleRefs",type:"Role",isMany:!0,isAttr:!0}]},{name:"DateTime",superClass:[]},{name:"StartTrigger",isAbstract:!0,superClass:["CMMNElement"]},{name:"PlanItemStartTrigger",superClass:["StartTrigger"],properties:[{name:"standardEvent",type:"String",isAttr:!0},{name:"sourceRef",type:"PlanItem",isAttr:!0,isReference:!0}]},{name:"CaseFileItemStartTrigger",superClass:["StartTrigger"],properties:[{name:"standardEvent",type:"String",isAttr:!0},{name:"sourceRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition"}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",isAttr:!0,default:!1,type:"Boolean"}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Relationship",properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,type:"Element"},{name:"target",isMany:!0,type:"Element"}]},{name:"Documentation",superClass:["CMMNElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"DecisionTask",superClass:["Task"],properties:[{name:"mappings",type:"ParameterMapping",isMany:!0},{name:"decisionRef",type:"String",isAttr:!0},{name:"decisionRefExpression",type:"Expression",xml:{serialize:"property"}}]},{name:"Decision",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"implementationType",type:"String",isAttr:!0,default:"http://www.omg.org/spec/CMMN/DecisionType/Unspecified"},{name:"input",type:"DecisionParameter",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"DecisionParameter",isMany:!0,xml:{serialize:"property"}},{name:"externalRef",type:"String",isAttr:!0}]},{name:"DecisionParameter",superClass:["Parameter"]},{name:"Criterion",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sentryRef",type:"Sentry",isAttr:!0,isReference:!0}]},{name:"EntryCriterion",superClass:["Criterion"]},{name:"ExitCriterion",superClass:["Criterion"]}],emumerations:[{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"CaseFileItemTransition",literalValues:[{name:"addChild"},{name:"addReference"},{name:"create"},{name:"delete"},{name:"removeChild"},{name:"removeReference"},{name:"replace"},{name:"update"}]},{name:"MultiplicityEnum",literalValues:[{name:"ZeroOrOne"},{name:"ZeroOrMore"},{name:"ExactlyOne"},{name:"OneOrMore"},{name:"Unspecified"},{name:"Unknown"}]},{name:"PlanItemTransition",literalValues:[{name:"close"},{name:"complete"},{name:"create"},{name:"disable"},{name:"enable"},{name:"exit"},{name:"fault"},{name:"manualStart"},{name:"occur"},{name:"parentResume"},{name:"parentSuspend"},{name:"reactivate"},{name:"reenable"},{name:"resume"},{name:"start"},{name:"suspend"},{name:"terminate"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]}],associations:[],xml:{tagAlias:"lowerCase",typePrefix:"t"},prefix:"cmmn"}},{}],186:[function(e,t,n){t.exports={name:"CMMNDI",uri:"http://www.omg.org/spec/CMMN/20151109/CMMNDI",types:[{name:"CMMNDI",properties:[{name:"diagrams",type:"CMMNDiagram",isMany:!0},{name:"styles",type:"CMMNStyle",isMany:!0}]},{name:"CMMNDiagram",properties:[{name:"cmmnElementRef",isAttr:!0,type:"cmmn:CMMNElement",isReference:!0},{name:"Size",type:"dc:Dimension",xml:{serialize:"xsi:type"}},{name:"diagramElements",type:"CMMNDiagramElement",isMany:!0}],superClass:["di:Diagram"]},{name:"CMMNDiagramElement",superClass:["di:DiagramElement"]},{name:"CMMNShape",properties:[{name:"cmmnElementRef",isAttr:!0,isReference:!0,type:"cmmn:CMMNElement"},{name:"label",type:"CMMNLabel"},{name:"isCollapsed",isAttr:!0,type:"Boolean"},{name:"isPlanningTableCollapsed",isAttr:!0,type:"Boolean"}],superClass:["CMMNDiagramElement","di:Shape"]},{name:"CMMNEdge",properties:[{name:"label",type:"CMMNLabel"},{name:"cmmnElementRef",isAttr:!0,isReference:!0,type:"cmmn:CMMNElement"},{name:"sourceCMMNElementRef",isAttr:!0,isReference:!0,type:"cmmn:CMMNElement"},{name:"targetCMMNElementRef",isAttr:!0,isReference:!0,type:"cmmn:CMMNElement"},{name:"isStandardEventVisible",type:"Boolean",isAttr:!0}],superClass:["CMMNDiagramElement","di:Edge"]},{name:"CMMNLabel",superClass:["di:Shape"]},{name:"CMMNStyle",properties:[{name:"FillColor",type:"dc:Color",xml:{serialize:"xsi:type"}},{name:"StrokeColor",type:"dc:Color",xml:{serialize:"xsi:type"}},{name:"FontColor",type:"dc:Color",xml:{serialize:"xsi:type"}},{name:"fontFamily",type:"String",isAttr:!0},{name:"fontSize",type:"Real",isAttr:!0},{name:"fontItalic",type:"Boolean",isAttr:!0},{name:"fontBold",type:"Boolean",isAttr:!0},{name:"fontUnderline",type:"Boolean",isAttr:!0},{name:"fontStrikeThrough",type:"Boolean",isAttr:!0}],superClass:["di:Style"]}],associations:[],prefix:"cmmndi"}},{}],187:[function(e,t,n){t.exports={name:"DC",uri:"http://www.omg.org/spec/CMMN/20151109/DC",types:[{name:"rgb"},{name:"Real"},{name:"Color",properties:[{name:"red",type:"rgb",isAttr:!0},{name:"green",type:"rgb",isAttr:!0},{name:"blue",type:"rgb",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",isAttr:!0},{name:"y",type:"Real",isAttr:!0}]},{name:"Dimension",properties:[{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",isAttr:!0},{name:"y",type:"Real",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],prefix:"dc",associations:[]}},{}],188:[function(e,t,n){t.exports={name:"DI",uri:"http://www.omg.org/spec/CMMN/20151109/DI",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"extension",type:"Extension"},{name:"style",type:"Style"},{name:"sharedStyle",type:"Style",isReference:!0,isAttr:!0},{name:"id",type:"String",isAttr:!0,isId:!0}]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"waypoint",isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"name",type:"String",isAttr:!0},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,default:300,type:"double"}]},{name:"Shape",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"extension",type:"Extension"},{name:"id",type:"String",isAttr:!0,isId:!0}]},{name:"Extension",properties:[{name:"values",type:"Element",isMany:!0}]}],associations:[],prefix:"di",xml:{tagAlias:"lowerCase"}}},{}],189:[function(e,t,n){"use strict";var i=e("ticky");t.exports=function(e,t,n){e&&i((function(){e.apply(n||null,t||[])}))}},{ticky:340}],190:[function(e,t,n){"use strict";var i=e("atoa"),r=e("./debounce");t.exports=function(e,t){var n=t||{},a={};return void 0===e&&(e={}),e.on=function(t,n){return a[t]?a[t].push(n):a[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var i=arguments.length;if(1===i)delete a[t];else if(0===i)a={};else{var r=a[t];if(!r)return e;r.splice(r.indexOf(n),1)}return e},e.emit=function(){var t=i(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var o=(a[t]||[]).slice(0);return function(){var a=i(arguments),s=this||e;if("error"===t&&!1!==n.throws&&!o.length)throw 1===a.length?a[0]:a;return o.forEach((function(i){n.async?r(i,a,s):i.apply(s,a),i._once&&e.off(t,i)})),e}},e}},{"./debounce":189,atoa:86}],191:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},{}],192:[function(e,t,n){var i=e("../internals/is-object");t.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},{"../internals/is-object":217}],193:[function(e,t,n){var i=e("../internals/to-indexed-object"),r=e("../internals/to-length"),a=e("../internals/to-absolute-index"),o=function(e){return function(t,n,o){var s,l=i(t),c=r(l.length),u=a(o,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},{"../internals/to-absolute-index":235,"../internals/to-indexed-object":236,"../internals/to-length":238}],194:[function(e,t,n){var i={}.toString;t.exports=function(e){return i.call(e).slice(8,-1)}},{}],195:[function(e,t,n){var i=e("../internals/has"),r=e("../internals/own-keys"),a=e("../internals/object-get-own-property-descriptor"),o=e("../internals/object-define-property");t.exports=function(e,t){for(var n=r(t),s=o.f,l=a.f,c=0;c<n.length;c++){var u=n[c];i(e,u)||s(e,u,l(t,u))}}},{"../internals/has":209,"../internals/object-define-property":220,"../internals/object-get-own-property-descriptor":221,"../internals/own-keys":226}],196:[function(e,t,n){var i=e("../internals/descriptors"),r=e("../internals/object-define-property"),a=e("../internals/create-property-descriptor");t.exports=i?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},{"../internals/create-property-descriptor":197,"../internals/descriptors":198,"../internals/object-define-property":220}],197:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],198:[function(e,t,n){var i=e("../internals/fails");t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},{"../internals/fails":205}],199:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/is-object"),a=i.document,o=r(a)&&r(a.createElement);t.exports=function(e){return o?a.createElement(e):{}}},{"../internals/global":208,"../internals/is-object":217}],200:[function(e,t,n){var i=e("../internals/engine-user-agent");t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(i)},{"../internals/engine-user-agent":202}],201:[function(e,t,n){var i=e("../internals/classof-raw"),r=e("../internals/global");t.exports="process"==i(r.process)},{"../internals/classof-raw":194,"../internals/global":208}],202:[function(e,t,n){var i=e("../internals/get-built-in");t.exports=i("navigator","userAgent")||""},{"../internals/get-built-in":207}],203:[function(e,t,n){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],204:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/object-get-own-property-descriptor").f,a=e("../internals/create-non-enumerable-property"),o=e("../internals/redefine"),s=e("../internals/set-global"),l=e("../internals/copy-constructor-properties"),c=e("../internals/is-forced");t.exports=function(e,t){var n,u,d,p,f,m=e.target,h=e.global,g=e.stat;if(n=h?i:g?i[m]||s(m,{}):(i[m]||{}).prototype)for(u in t){if(p=t[u],d=e.noTargetGet?(f=r(n,u))&&f.value:n[u],!c(h?u:m+(g?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&a(p,"sham",!0),o(n,u,p,e)}}},{"../internals/copy-constructor-properties":195,"../internals/create-non-enumerable-property":196,"../internals/global":208,"../internals/is-forced":216,"../internals/object-get-own-property-descriptor":221,"../internals/redefine":228,"../internals/set-global":230}],205:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],206:[function(e,t,n){var i=e("../internals/a-function");t.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},{"../internals/a-function":191}],207:[function(e,t,n){var i=e("../internals/path"),r=e("../internals/global"),a=function(e){return"function"==typeof e?e:void 0};t.exports=function(e,t){return arguments.length<2?a(i[e])||a(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},{"../internals/global":208,"../internals/path":227}],208:[function(e,t,n){(function(e){(function(){var n=function(e){return e&&e.Math==Math&&e};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],209:[function(e,t,n){var i=e("../internals/to-object"),r={}.hasOwnProperty;t.exports=function(e,t){return r.call(i(e),t)}},{"../internals/to-object":239}],210:[function(e,t,n){t.exports={}},{}],211:[function(e,t,n){var i=e("../internals/get-built-in");t.exports=i("document","documentElement")},{"../internals/get-built-in":207}],212:[function(e,t,n){var i=e("../internals/descriptors"),r=e("../internals/fails"),a=e("../internals/document-create-element");t.exports=!i&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},{"../internals/descriptors":198,"../internals/document-create-element":199,"../internals/fails":205}],213:[function(e,t,n){var i=e("../internals/fails"),r=e("../internals/classof-raw"),a="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?a.call(e,""):Object(e)}:Object},{"../internals/classof-raw":194,"../internals/fails":205}],214:[function(e,t,n){var i=e("../internals/shared-store"),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return r.call(e)}),t.exports=i.inspectSource},{"../internals/shared-store":232}],215:[function(e,t,n){var i,r,a,o=e("../internals/native-weak-map"),s=e("../internals/global"),l=e("../internals/is-object"),c=e("../internals/create-non-enumerable-property"),u=e("../internals/has"),d=e("../internals/shared-store"),p=e("../internals/shared-key"),f=e("../internals/hidden-keys"),m="Object already initialized",h=s.WeakMap;if(o||d.state){var g=d.state||(d.state=new h),v=g.get,y=g.has,b=g.set;i=function(e,t){if(y.call(g,e))throw new TypeError(m);return t.facade=e,b.call(g,e,t),t},r=function(e){return v.call(g,e)||{}},a=function(e){return y.call(g,e)}}else{var _=p("state");f[_]=!0,i=function(e,t){if(u(e,_))throw new TypeError(m);return t.facade=e,c(e,_,t),t},r=function(e){return u(e,_)?e[_]:{}},a=function(e){return u(e,_)}}t.exports={set:i,get:r,has:a,enforce:function(e){return a(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},{"../internals/create-non-enumerable-property":196,"../internals/global":208,"../internals/has":209,"../internals/hidden-keys":210,"../internals/is-object":217,"../internals/native-weak-map":219,"../internals/shared-key":231,"../internals/shared-store":232}],216:[function(e,t,n){var i=e("../internals/fails"),r=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==c||n!=l&&("function"==typeof t?i(t):!!t)},o=a.normalize=function(e){return String(e).replace(r,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";t.exports=a},{"../internals/fails":205}],217:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],218:[function(e,t,n){t.exports=!1},{}],219:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/inspect-source"),a=i.WeakMap;t.exports="function"==typeof a&&/native code/.test(r(a))},{"../internals/global":208,"../internals/inspect-source":214}],220:[function(e,t,n){var i=e("../internals/descriptors"),r=e("../internals/ie8-dom-define"),a=e("../internals/an-object"),o=e("../internals/to-primitive"),s=Object.defineProperty;n.f=i?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},{"../internals/an-object":192,"../internals/descriptors":198,"../internals/ie8-dom-define":212,"../internals/to-primitive":240}],221:[function(e,t,n){var i=e("../internals/descriptors"),r=e("../internals/object-property-is-enumerable"),a=e("../internals/create-property-descriptor"),o=e("../internals/to-indexed-object"),s=e("../internals/to-primitive"),l=e("../internals/has"),c=e("../internals/ie8-dom-define"),u=Object.getOwnPropertyDescriptor;n.f=i?u:function(e,t){if(e=o(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return a(!r.f.call(e,t),e[t])}},{"../internals/create-property-descriptor":197,"../internals/descriptors":198,"../internals/has":209,"../internals/ie8-dom-define":212,"../internals/object-property-is-enumerable":225,"../internals/to-indexed-object":236,"../internals/to-primitive":240}],222:[function(e,t,n){var i=e("../internals/object-keys-internal"),r=e("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},{"../internals/enum-bug-keys":203,"../internals/object-keys-internal":224}],223:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],224:[function(e,t,n){var i=e("../internals/has"),r=e("../internals/to-indexed-object"),a=e("../internals/array-includes").indexOf,o=e("../internals/hidden-keys");t.exports=function(e,t){var n,s=r(e),l=0,c=[];for(n in s)!i(o,n)&&i(s,n)&&c.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~a(c,n)||c.push(n));return c}},{"../internals/array-includes":193,"../internals/has":209,"../internals/hidden-keys":210,"../internals/to-indexed-object":236}],225:[function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!i.call({1:2},1);n.f=a?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},{}],226:[function(e,t,n){var i=e("../internals/get-built-in"),r=e("../internals/object-get-own-property-names"),a=e("../internals/object-get-own-property-symbols"),o=e("../internals/an-object");t.exports=i("Reflect","ownKeys")||function(e){var t=r.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},{"../internals/an-object":192,"../internals/get-built-in":207,"../internals/object-get-own-property-names":222,"../internals/object-get-own-property-symbols":223}],227:[function(e,t,n){var i=e("../internals/global");t.exports=i},{"../internals/global":208}],228:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/create-non-enumerable-property"),a=e("../internals/has"),o=e("../internals/set-global"),s=e("../internals/inspect-source"),l=e("../internals/internal-state"),c=l.get,u=l.enforce,d=String(String).split("String");(t.exports=function(e,t,n,s){var l,c=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||r(n,"name",t),(l=u(n)).source||(l.source=d.join("string"==typeof t?t:""))),e!==i?(c?!f&&e[t]&&(p=!0):delete e[t],p?e[t]=n:r(e,t,n)):p?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},{"../internals/create-non-enumerable-property":196,"../internals/global":208,"../internals/has":209,"../internals/inspect-source":214,"../internals/internal-state":215,"../internals/set-global":230}],229:[function(e,t,n){t.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},{}],230:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/create-non-enumerable-property");t.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},{"../internals/create-non-enumerable-property":196,"../internals/global":208}],231:[function(e,t,n){var i=e("../internals/shared"),r=e("../internals/uid"),a=i("keys");t.exports=function(e){return a[e]||(a[e]=r(e))}},{"../internals/shared":233,"../internals/uid":241}],232:[function(e,t,n){var i=e("../internals/global"),r=e("../internals/set-global"),a="__core-js_shared__",o=i[a]||r(a,{});t.exports=o},{"../internals/global":208,"../internals/set-global":230}],233:[function(e,t,n){var i=e("../internals/is-pure"),r=e("../internals/shared-store");(t.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.12.1",mode:i?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":218,"../internals/shared-store":232}],234:[function(e,t,n){var i,r,a,o=e("../internals/global"),s=e("../internals/fails"),l=e("../internals/function-bind-context"),c=e("../internals/html"),u=e("../internals/document-create-element"),d=e("../internals/engine-is-ios"),p=e("../internals/engine-is-node"),f=o.location,m=o.setImmediate,h=o.clearImmediate,g=o.process,v=o.MessageChannel,y=o.Dispatch,b=0,_={},E="onreadystatechange",x=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},w=function(e){return function(){x(e)}},S=function(e){x(e.data)},C=function(e){o.postMessage(e+"",f.protocol+"//"+f.host)};m&&h||(m=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(b),b},h=function(e){delete _[e]},p?i=function(e){g.nextTick(w(e))}:y&&y.now?i=function(e){y.now(w(e))}:v&&!d?(a=(r=new v).port2,r.port1.onmessage=S,i=l(a.postMessage,a,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&f&&"file:"!==f.protocol&&!s(C)?(i=C,o.addEventListener("message",S,!1)):i=E in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),x(e)}}:function(e){setTimeout(w(e),0)}),t.exports={set:m,clear:h}},{"../internals/document-create-element":199,"../internals/engine-is-ios":200,"../internals/engine-is-node":201,"../internals/fails":205,"../internals/function-bind-context":206,"../internals/global":208,"../internals/html":211}],235:[function(e,t,n){var i=e("../internals/to-integer"),r=Math.max,a=Math.min;t.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):a(n,t)}},{"../internals/to-integer":237}],236:[function(e,t,n){var i=e("../internals/indexed-object"),r=e("../internals/require-object-coercible");t.exports=function(e){return i(r(e))}},{"../internals/indexed-object":213,"../internals/require-object-coercible":229}],237:[function(e,t,n){var i=Math.ceil,r=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?r:i)(e)}},{}],238:[function(e,t,n){var i=e("../internals/to-integer"),r=Math.min;t.exports=function(e){return e>0?r(i(e),9007199254740991):0}},{"../internals/to-integer":237}],239:[function(e,t,n){var i=e("../internals/require-object-coercible");t.exports=function(e){return Object(i(e))}},{"../internals/require-object-coercible":229}],240:[function(e,t,n){var i=e("../internals/is-object");t.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":217}],241:[function(e,t,n){var i=0,r=Math.random();t.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++i+r).toString(36)}},{}],242:[function(e,t,n){var i=e("../internals/export"),r=e("../internals/global"),a=e("../internals/task");i({global:!0,bind:!0,enumerable:!0,forced:!r.setImmediate||!r.clearImmediate},{setImmediate:a.set,clearImmediate:a.clear})},{"../internals/export":204,"../internals/global":208,"../internals/task":234}],243:[function(e,t,n){(function(n){(function(){"use strict";var i=e("custom-event"),r=e("./eventmap"),a=n.document,o=function(e,t,n,i){return e.addEventListener(t,n,i)},s=function(e,t,n,i){return e.removeEventListener(t,n,i)},l=[];function c(e,t,n){var i=function(e,t,n){var i,r;for(i=0;i<l.length;i++)if((r=l[i]).element===e&&r.type===t&&r.fn===n)return i}(e,t,n);if(i){var r=l[i].wrapper;return l.splice(i,1),r}}n.addEventListener||(o=function(e,t,i){return e.attachEvent("on"+t,function(e,t,i){var r=c(e,t,i)||function(e,t,i){return function(t){var r=t||n.event;r.target=r.target||r.srcElement,r.preventDefault=r.preventDefault||function(){r.returnValue=!1},r.stopPropagation=r.stopPropagation||function(){r.cancelBubble=!0},r.which=r.which||r.keyCode,i.call(e,r)}}(e,0,i);return l.push({wrapper:r,element:e,type:t,fn:i}),r}(e,t,i))},s=function(e,t,n){var i=c(e,t,n);if(i)return e.detachEvent("on"+t,i)}),t.exports={add:o,remove:s,fabricate:function(e,t,n){var o=-1===r.indexOf(t)?new i(t,{detail:n}):function(){var e;a.createEvent?(e=a.createEvent("Event")).initEvent(t,!0,!0):a.createEventObject&&(e=a.createEventObject());return e}();e.dispatchEvent?e.dispatchEvent(o):e.fireEvent("on"+t,o)}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":244,"custom-event":245}],244:[function(e,t,n){(function(e){(function(){"use strict";var n=[],i="",r=/^on/;for(i in e)r.test(i)&&n.push(i.slice(2));t.exports=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],245:[function(e,t,n){(function(e){(function(){"use strict";var n=e.CustomEvent;t.exports=function(){try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?n:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],246:[function(e,t,n){arguments[4][126][0].apply(n,arguments)},{"./lib/Diagram":247,dup:126}],247:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var i,r=e("didi"),a=(i=e("./core"))&&i.__esModule?i:{default:i};function o(e){var t=[],n=[];function i(e){return t.indexOf(e)>=0}e.forEach((function e(r){i(r)||((r.__depends__||[]).forEach(e),i(r)||(!function(e){t.push(e)}(r),(r.__init__||[]).forEach((function(e){n.push(e)}))))}));var a=new r.Injector(t);return n.forEach((function(e){try{a["string"==typeof e?"get":"invoke"](e)}catch(e){throw console.error("Failed to instantiate component"),console.error(e.stack),e}})),a}function s(e,t){this.injector=t=t||function(e){return o([{config:["value",e=e||{}]},a.default].concat(e.modules||[]))}(e),this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("diagram.init")}s.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},s.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},{"./core":253,didi:298}],248:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var i=e("min-dash"),r=e("../util/Collections"),a=e("../util/Elements"),o=e("../layout/LayoutUtil"),s=e("tiny-svg");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return Math.round(e*t)/t}function u(e){return(0,i.isNumber)(e)?e+"px":e}function d(e,t,n){var i=(0,s.create)("g");(0,s.classes)(i).add(t);var r=void 0!==n?n:e.childNodes.length-1;return e.insertBefore(i,e.childNodes[r]||null),i}var p={shape:["x","y","width","height"],connection:["waypoints"]};function f(e,t,n,i){this._eventBus=t,this._elementRegistry=i,this._graphicsFactory=n,this._init(e||{})}function m(e,t){var n="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",n)}f.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],f.prototype._init=function(e){var t=this._eventBus,n=this._container=function(e){var t=(e=(0,i.assign)({},{width:"100%",height:"100%"},e)).container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container"),(0,i.assign)(n.style,{position:"relative",overflow:"hidden",width:u(e.width),height:u(e.height)}),t.appendChild(n),n}(e),r=this._svg=(0,s.create)("svg");(0,s.attr)(r,{width:"100%",height:"100%"}),(0,s.append)(n,r);var a=this._viewport=d(r,"viewport");this._layers={},!1!==e.deferUpdate&&(this._viewboxChanged=(0,i.debounce)((0,i.bind)(this._viewboxChanged,this),300)),t.on("diagram.init",(function(){t.fire("canvas.init",{svg:r,viewport:a})}),this),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],(function(){delete this._cachedViewbox}),this),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)},f.prototype._destroy=function(e){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},f.prototype._clear=function(){var e=this;this._elementRegistry.getAll().forEach((function(t){var n=(0,a.getType)(t);"root"===n?e.setRootElement(null,!0):e._removeElement(t,n)})),delete this._cachedViewbox},f.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},f.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");var n=this._layers[e];if(n||(n=this._layers[e]=this._createLayer(e,t)),void 0!==t&&n.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return n.group},f.prototype._createLayer=function(e,t){t||(t=0);var n=(0,i.reduce)(this._layers,(function(e,n){return t>=n.index&&e++,e}),0);return{group:d(this._viewport,"layer-"+e,n),index:t}},f.prototype.getContainer=function(){return this._container},f.prototype._updateMarker=function(e,t,n){var r;e.id||(e=this._elementRegistry.get(e)),(r=this._elementRegistry._elements[e.id])&&((0,i.forEach)([r.gfx,r.secondaryGfx],(function(e){e&&(n?(0,s.classes)(e).add(t):(0,s.classes)(e).remove(t))})),this._eventBus.fire("element.marker.update",{element:e,gfx:r.gfx,marker:t,add:!!n}))},f.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)},f.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)},f.prototype.hasMarker=function(e,t){e.id||(e=this._elementRegistry.get(e));var n=this.getGraphics(e);return(0,s.classes)(n).has(t)},f.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)},f.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},f.prototype.setRootElement=function(e,t){e&&this._ensureValid("root",e);var n=this._rootElement,i=this._elementRegistry,r=this._eventBus;if(n){if(!t)throw new Error("rootElement already set, need to specify override");r.fire("root.remove",{element:n}),r.fire("root.removed",{element:n}),i.remove(n)}if(e){var a=this.getDefaultLayer();r.fire("root.add",{element:e}),i.add(e,a,this._svg),r.fire("root.added",{element:e,gfx:a})}return this._rootElement=e,e},f.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element with id "+t.id+" already exists");var n=p[e];if(!(0,i.every)(n,(function(e){return void 0!==t[e]})))throw new Error("must supply { "+n.join(", ")+" } with "+e)},f.prototype._setParent=function(e,t,n){(0,r.add)(t.children,e,n),e.parent=t},f.prototype._addElement=function(e,t,n,i){n=n||this.getRootElement();var r=this._eventBus,a=this._graphicsFactory;this._ensureValid(e,t),r.fire(e+".add",{element:t,parent:n}),this._setParent(t,n,i);var o=a.create(e,t,i);return this._elementRegistry.add(t,o),a.update(e,t,o),r.fire(e+".added",{element:t,gfx:o}),t},f.prototype.addShape=function(e,t,n){return this._addElement("shape",e,t,n)},f.prototype.addConnection=function(e,t,n){return this._addElement("connection",e,t,n)},f.prototype._removeElement=function(e,t){var n=this._elementRegistry,i=this._graphicsFactory,a=this._eventBus;if(e=n.get(e.id||e))return a.fire(t+".remove",{element:e}),i.remove(e),(0,r.remove)(e.parent&&e.parent.children,e),e.parent=null,a.fire(t+".removed",{element:e}),n.remove(e),e},f.prototype.removeShape=function(e){return this._removeElement(e,"shape")},f.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},f.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)},f.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},f.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},f.prototype.viewbox=function(e){if(void 0===e&&this._cachedViewbox)return this._cachedViewbox;var t,n,i,r,a,o,l=this._viewport,u=this.getSize();return e?(this._changeViewbox((function(){r=Math.min(u.width/e.width,u.height/e.height);var t=this._svg.createSVGMatrix().scale(r).translate(-e.x,-e.y);(0,s.transform)(l,t)})),e):(t=this.getDefaultLayer().getBBox(),n=(i=(0,s.transform)(l))?i.matrix:(0,s.createMatrix)(),r=c(n.a,1e3),a=c(-n.e||0,1e3),o=c(-n.f||0,1e3),e=this._cachedViewbox={x:a?a/r:0,y:o?o/r:0,width:u.width/r,height:u.height/r,scale:r,inner:{width:t.width,height:t.height,x:t.x,y:t.y},outer:u})},f.prototype.scroll=function(e){var t=this._viewport,n=t.getCTM();return e&&this._changeViewbox((function(){e=(0,i.assign)({dx:0,dy:0},e||{}),n=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(n),m(t,n)})),{x:n.e,y:n.f}},f.prototype.scrollToElement=function(e,t){var n=100;t||(t={}),"number"==typeof t&&(n=t),t={top:t.top||n,right:t.right||n,bottom:t.bottom||n,left:t.left||n};var i,r,s=(0,a.getBBox)(e),l=(0,o.asTRBL)(s),c=this.viewbox(),u=this.zoom();c.y+=t.top/u,c.x+=t.left/u,c.width-=(t.right+t.left)/u,c.height-=(t.bottom+t.top)/u;var d=(0,o.asTRBL)(c);if(s.width<c.width&&s.height<c.height){var p=Math.max(0,l.right-d.right),f=Math.min(0,l.left-d.left),m=Math.max(0,l.bottom-d.bottom),h=Math.min(0,l.top-d.top);i=p||f,r=m||h}else i=s.x-c.x,r=s.y-c.y;this.scroll({dx:-i*u,dy:-r*u})},f.prototype.zoom=function(e,t){return e?"fit-viewport"===e?this._fitViewport(t):(this._changeViewbox((function(){"object"!==l(t)&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),i=this._setZoom(e,t)})),c(i.a,1e3)):this.viewbox(e).scale;var n,i},f.prototype._fitViewport=function(e){var t,n,i=this.viewbox(),r=i.outer,a=i.inner;return a.x>=0&&a.y>=0&&a.x+a.width<=r.width&&a.y+a.height<=r.height&&!e?n={x:0,y:0,width:Math.max(a.width+a.x,r.width),height:Math.max(a.height+a.y,r.height)}:(t=Math.min(1,r.width/a.width,r.height/a.height),n={x:a.x+(e?a.width/2-r.width/t/2:0),y:a.y+(e?a.height/2-r.height/t/2:0),width:r.width/t,height:r.height/t}),this.viewbox(n),this.viewbox(!1).scale},f.prototype._setZoom=function(e,t){var n,r,a,o,s=this._svg,l=this._viewport,c=s.createSVGMatrix(),u=s.createSVGPoint(),d=(r=l.getCTM()).a;return t?(n=(0,i.assign)(u,t).matrixTransform(r.inverse()),a=c.translate(n.x,n.y).scale(1/d*e).translate(-n.x,-n.y),o=r.multiply(a)):o=c.scale(e),m(this._viewport,o),o},f.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},f.prototype.getAbsoluteBBox=function(e){var t,n=this.viewbox();e.waypoints?t=this.getGraphics(e).getBBox():t=e;return{x:t.x*n.scale-n.x*n.scale,y:t.y*n.scale-n.y*n.scale,width:t.width*n.scale,height:t.height*n.scale}},f.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")}},{"../layout/LayoutUtil":274,"../util/Collections":284,"../util/Elements":286,"min-dash":324,"tiny-svg":342}],249:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var i=e("../model"),r=e("min-dash");function a(){this._uid=12}a.prototype.createRoot=function(e){return this.create("root",e)},a.prototype.createLabel=function(e){return this.create("label",e)},a.prototype.createShape=function(e){return this.create("shape",e)},a.prototype.createConnection=function(e){return this.create("connection",e)},a.prototype.create=function(e,t){return(t=(0,r.assign)({},t||{})).id||(t.id=e+"_"+this._uid++),(0,i.create)(e,t)}},{"../model":275,"min-dash":324}],250:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var i=e("tiny-svg"),r="data-element-id";function a(e){this._elements={},this._eventBus=e}a.$inject=["eventBus"],a.prototype.add=function(e,t,n){var a=e.id;this._validateId(a),(0,i.attr)(t,r,a),n&&(0,i.attr)(n,r,a),this._elements[a]={element:e,gfx:t,secondaryGfx:n}},a.prototype.remove=function(e){var t=this._elements,n=e.id||e,a=n&&t[n];a&&((0,i.attr)(a.gfx,r,""),a.secondaryGfx&&(0,i.attr)(a.secondaryGfx,r,""),delete t[n])},a.prototype.updateId=function(e,t){this._validateId(t),"string"==typeof e&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var n=this.getGraphics(e),i=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,i)},a.prototype.get=function(e){var t;t="string"==typeof e?e:e&&(0,i.attr)(e,r);var n=this._elements[t];return n&&n.element},a.prototype.filter=function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(n)})),t},a.prototype.find=function(e){for(var t=this._elements,n=Object.keys(t),i=0;i<n.length;i++){var r=t[n[i]],a=r.element;if(e(a,r.gfx))return a}},a.prototype.getAll=function(){return this.filter((function(e){return e}))},a.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach((function(n){var i=t[n],r=i.element,a=i.gfx;return e(r,a)}))},a.prototype.getGraphics=function(e,t){var n=e.id||e,i=this._elements[n];return i&&(t?i.secondaryGfx:i.gfx)},a.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")}},{"tiny-svg":342}],251:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=o;var i=e("min-dash");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=Array.prototype.slice;function o(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function s(){}o.prototype.on=function(e,t,n,r){if(e=(0,i.isArray)(e)?e:[e],(0,i.isFunction)(t)&&(r=n,n=t,t=1e3),!(0,i.isNumber)(t))throw new Error("priority must be a number");var a=n;r&&((a=(0,i.bind)(n,r)).__fn=n.__fn||n);var o=this;e.forEach((function(e){o._addListener(e,{priority:t,callback:a,next:null})}))},o.prototype.once=function(e,t,n,r){var a=this;if((0,i.isFunction)(t)&&(r=n,n=t,t=1e3),!(0,i.isNumber)(t))throw new Error("priority must be a number");function o(){o.__isTomb=!0;var t=n.apply(r,arguments);return a.off(e,o),t}o.__fn=n,this.on(e,t,o)},o.prototype.off=function(e,t){e=(0,i.isArray)(e)?e:[e];var n=this;e.forEach((function(e){n._removeListener(e,t)}))},o.prototype.createEvent=function(e){var t=new s;return t.init(e),t},o.prototype.fire=function(e,t){var n,i,o,l;if(l=a.call(arguments),"object"===r(e)&&(e=(t=e).type),!e)throw new Error("no event type specified");if(i=this._listeners[e]){n=t instanceof s?t:this.createEvent(t),l[0]=n;var c=n.type;e!==c&&(n.type=e);try{o=this._invokeListeners(n,l,i)}finally{e!==c&&(n.type=c)}return void 0===o&&n.defaultPrevented&&(o=!1),o}},o.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},o.prototype._destroy=function(){this._listeners={}},o.prototype._invokeListeners=function(e,t,n){for(var i;n&&!e.cancelBubble;)i=this._invokeListener(e,t,n),n=n.next;return i},o.prototype._invokeListener=function(e,t,n){var i;if(n.callback.__isTomb)return i;try{void 0!==(i=function(e,t){return e.apply(null,t)}(n.callback,t))&&(e.returnValue=i,e.stopPropagation()),!1===i&&e.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener"),console.error(e.stack),e}return i},o.prototype._addListener=function(e,t){var n,i=this._getListeners(e);if(i){for(;i;){if(i.priority<t.priority)return t.next=i,void(n?n.next=t:this._setListeners(e,t));n=i,i=i.next}n.next=t}else this._setListeners(e,t)},o.prototype._getListeners=function(e){return this._listeners[e]},o.prototype._setListeners=function(e,t){this._listeners[e]=t},o.prototype._removeListener=function(e,t){var n,i,r,a=this._getListeners(e);if(t)for(;a;)n=a.next,(r=a.callback)!==t&&r.__fn!==t||(i?i.next=n:this._setListeners(e,n)),i=a,a=n;else this._setListeners(e,null)},s.prototype.stopPropagation=function(){this.cancelBubble=!0},s.prototype.preventDefault=function(){this.defaultPrevented=!0},s.prototype.init=function(e){(0,i.assign)(this,e||{})}},{"min-dash":324}],252:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var i=e("min-dash"),r=e("../util/GraphicsUtil"),a=e("../util/SvgTransformUtil"),o=e("min-dom"),s=e("tiny-svg"),l=e("../util/Elements");function c(e,t){this._eventBus=e,this._elementRegistry=t}function u(e,t,n){var i=n||t.firstChild;e!==i&&t.insertBefore(e,i)}c.$inject=["eventBus","elementRegistry"],c.prototype._getChildrenContainer=function(e){var t,n=this._elementRegistry.getGraphics(e);return e.parent?(t=(0,r.getChildren)(n))||(t=(0,s.create)("g"),(0,s.classes)(t).add("djs-children"),(0,s.append)(n.parentNode,t)):t=n,t},c.prototype._clear=function(e){var t=(0,r.getVisual)(e);return(0,o.clear)(t),t},c.prototype._createContainer=function(e,t,n,i){var r=(0,s.create)("g");(0,s.classes)(r).add("djs-group"),void 0!==n?u(r,t,t.childNodes[n]):(0,s.append)(t,r);var a=(0,s.create)("g");(0,s.classes)(a).add("djs-element"),(0,s.classes)(a).add("djs-"+e),i&&(0,s.classes)(a).add("djs-frame"),(0,s.append)(r,a);var o=(0,s.create)("g");return(0,s.classes)(o).add("djs-visual"),(0,s.append)(a,o),a},c.prototype.create=function(e,t,n){var i=this._getChildrenContainer(t.parent);return this._createContainer(e,i,n,(0,l.isFrameElement)(t))},c.prototype.updateContainments=function(e){var t,n=this,r=this._elementRegistry;t=(0,i.reduce)(e,(function(e,t){return t.parent&&(e[t.parent.id]=t.parent),e}),{}),(0,i.forEach)(t,(function(e){var t=e.children;if(t){var a=n._getChildrenContainer(e);(0,i.forEach)(t.slice().reverse(),(function(e){u(r.getGraphics(e).parentNode,a)}))}}))},c.prototype.drawShape=function(e,t){return this._eventBus.fire("render.shape",{gfx:e,element:t})},c.prototype.getShapePath=function(e){return this._eventBus.fire("render.getShapePath",e)},c.prototype.drawConnection=function(e,t){return this._eventBus.fire("render.connection",{gfx:e,element:t})},c.prototype.getConnectionPath=function(e){return this._eventBus.fire("render.getConnectionPath",e)},c.prototype.update=function(e,t,n){if(t.parent){var i=this._clear(n);if("shape"===e)this.drawShape(i,t),(0,a.translate)(n,t.x,t.y);else{if("connection"!==e)throw new Error("unknown type: "+e);this.drawConnection(i,t)}t.hidden?(0,s.attr)(n,"display","none"):(0,s.attr)(n,"display","block")}},c.prototype.remove=function(e){var t=this._elementRegistry.getGraphics(e);(0,s.remove)(t.parentNode)}},{"../util/Elements":286,"../util/GraphicsUtil":289,"../util/SvgTransformUtil":296,"min-dash":324,"min-dom":325,"tiny-svg":342}],253:[function(e,t,n){arguments[4][133][0].apply(n,arguments)},{"../draw":257,"./Canvas":248,"./ElementFactory":249,"./ElementRegistry":250,"./EventBus":251,"./GraphicsFactory":252,dup:133}],254:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;function i(e,t){var n=this;t=t||1e3,e.on(["render.shape","render.connection"],t,(function(e,t){var i=e.type,r=t.element,a=t.gfx;if(n.canRender(r))return"render.shape"===i?n.drawShape(a,r):n.drawConnection(a,r)})),e.on(["render.getShapePath","render.getConnectionPath"],t,(function(e,t){if(n.canRender(t))return"render.getShapePath"===e.type?n.getShapePath(t):n.getConnectionPath(t)}))}i.prototype.canRender=function(){},i.prototype.drawShape=function(){},i.prototype.drawConnection=function(){},i.prototype.getShapePath=function(){},i.prototype.getConnectionPath=function(){}},{}],255:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var i=l(e("inherits")),r=l(e("./BaseRenderer")),a=e("../util/RenderUtil"),o=e("tiny-svg"),s=e("../util/Elements");function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){r.default.call(this,e,1),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}(0,i.default)(c,r.default),c.prototype.canRender=function(){return!0},c.prototype.drawShape=function(e,t){var n=(0,o.create)("rect");return(0,o.attr)(n,{x:0,y:0,width:t.width||0,height:t.height||0}),(0,s.isFrameElement)(t)?(0,o.attr)(n,this.FRAME_STYLE):(0,o.attr)(n,this.SHAPE_STYLE),(0,o.append)(e,n),n},c.prototype.drawConnection=function(e,t){var n=(0,a.createLine)(t.waypoints,this.CONNECTION_STYLE);return(0,o.append)(e,n),n},c.prototype.getShapePath=function(e){var t=e.x,n=e.y,i=e.width,r=[["M",t,n],["l",i,0],["l",0,e.height],["l",-i,0],["z"]];return(0,a.componentsToPath)(r)},c.prototype.getConnectionPath=function(e){var t,n,i=e.waypoints,r=[];for(t=0;n=i[t];t++)n=n.original||n,r.push([0===t?"M":"L",n.x,n.y]);return(0,a.componentsToPath)(r)},c.$inject=["eventBus","styles"]},{"../util/Elements":286,"../util/RenderUtil":295,"./BaseRenderer":254,inherits:314,"tiny-svg":342}],256:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(e,t,n){var r=this.style(t,n);return(0,i.assign)(r,{class:e})},this.style=function(t,n){(0,i.isArray)(t)||n||(n=t,t=[]);var r=(0,i.reduce)(t,(function(t,n){return(0,i.assign)(t,e[n]||{})}),{});return n?(0,i.assign)(r,n):r},this.computeStyle=function(e,n,r){return(0,i.isArray)(n)||(r=n,n=[]),t.style(n||[],(0,i.assign)({},r,e||{}))}};var i=e("min-dash")},{"min-dash":324}],257:[function(e,t,n){arguments[4][137][0].apply(n,arguments)},{"./DefaultRenderer":255,"./Styles":256,dup:137}],258:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var i=e("min-dash"),r=e("min-dom"),a=e("../../util/Mouse"),o=e("tiny-svg"),s=e("../../util/RenderUtil");function l(e){return!0}function c(e){return(0,a.isPrimaryButton)(e)||(0,a.isAuxiliaryButton)(e)}function u(e,t,n){var u=this;function d(n,i,r){var o,s;(function(e,t){return!(h[e]||a.isPrimaryButton)(t)})(n,i)||(r?s=t.getGraphics(r):(o=i.delegateTarget||i.target)&&(s=o,r=t.get(s)),s&&r&&!1===e.fire(n,{element:r,gfx:s,originalEvent:i})&&(i.stopPropagation(),i.preventDefault()))}var p={};function f(e){return p[e]}var m={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},h={"element.contextmenu":l,"element.mousedown":c,"element.mouseup":c,"element.click":c,"element.dblclick":c};function g(e,t,n,i){var a=p[n]=function(e){d(n,e)};i&&(h[n]=i),a.$delegate=r.delegate.bind(e,"svg, .djs-element",t,a)}function v(e,t,n){var i=f(n);i&&r.delegate.unbind(e,t,i.$delegate)}e.on("canvas.destroy",(function(e){var t;t=e.svg,(0,i.forEach)(m,(function(e,n){v(t,n,e)}))})),e.on("canvas.init",(function(e){var t;t=e.svg,(0,i.forEach)(m,(function(e,n){g(t,n,e)}))})),e.on(["shape.added","connection.added"],(function(t){var n=t.element,i=t.gfx;e.fire("interactionEvents.createHit",{element:n,gfx:i})})),e.on(["shape.changed","connection.changed"],500,(function(t){var n=t.element,i=t.gfx;e.fire("interactionEvents.updateHit",{element:n,gfx:i})})),e.on("interactionEvents.createHit",500,(function(e){var t=e.element,n=e.gfx;u.createDefaultHit(t,n)})),e.on("interactionEvents.updateHit",(function(e){var t=e.element,n=e.gfx;u.updateDefaultHit(t,n)}));var y=E("djs-hit djs-hit-stroke"),b=E("djs-hit djs-hit-click-stroke"),_={all:E("djs-hit djs-hit-all"),"click-stroke":b,stroke:y};function E(e,t){return t=(0,i.assign)({stroke:"white",strokeWidth:15},t||{}),n.cls(e,["no-fill","no-border"],t)}function x(e,t){var n=_[t];if(!n)throw new Error("invalid hit type <"+t+">");return(0,o.attr)(e,n),e}function w(e,t){(0,o.append)(e,t)}this.removeHits=function(e){var t=(0,r.queryAll)(".djs-hit",e);(0,i.forEach)(t,o.remove)},this.createDefaultHit=function(e,t){var n,i=e.waypoints,r=e.isFrame;return i?this.createWaypointsHit(t,i):(n=r?"stroke":"all",this.createBoxHit(t,n,{width:e.width,height:e.height}))},this.createWaypointsHit=function(e,t){var n=(0,s.createLine)(t);return x(n,"stroke"),w(e,n),n},this.createBoxHit=function(e,t,n){n=(0,i.assign)({x:0,y:0},n);var r=(0,o.create)("rect");return x(r,t),(0,o.attr)(r,n),w(e,r),r},this.updateDefaultHit=function(e,t){var n=(0,r.query)(".djs-hit",t);if(n)return e.waypoints?(0,s.updateLine)(n,e.waypoints):(0,o.attr)(n,{width:e.width,height:e.height}),n},this.fire=d,this.triggerMouseEvent=function(e,t,n){var i=m[e];if(!i)throw new Error("unmapped DOM event name <"+e+">");return d(i,t,n)},this.mouseHandler=f,this.registerEvent=g,this.unregisterEvent=v}u.$inject=["eventBus","elementRegistry","styles"]},{"../../util/Mouse":292,"../../util/RenderUtil":295,"min-dash":324,"min-dom":325,"tiny-svg":342}],259:[function(e,t,n){arguments[4][139][0].apply(n,arguments)},{"./InteractionEvents":258,dup:139}],260:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var i=e("min-dash"),r=e("min-dom"),a=e("./KeyboardUtil"),o="keyboard.keydown";function s(e,t){var n=this;this._config=e||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",(function(){n._fire("destroy"),n.unbind()})),t.on("diagram.init",(function(){n._fire("init")})),t.on("attach",(function(){e&&e.bindTo&&n.bind(e.bindTo)})),t.on("detach",(function(){n.unbind()}))}s.$inject=["config.keyboard","eventBus"],s.prototype._keydownHandler=function(e){this._keyHandler(e,o)},s.prototype._keyupHandler=function(e){this._keyHandler(e,"keyboard.keyup")},s.prototype._keyHandler=function(e,t){if(!function(e){return e&&((0,r.matches)(e,"input, textarea")||"true"===e.contentEditable)}(e.target)){var n={keyEvent:e};this._eventBus.fire(t||o,n)&&e.preventDefault()}},s.prototype.bind=function(e){this.unbind(),this._node=e,r.event.bind(e,"keydown",this._keydownHandler,!0),r.event.bind(e,"keyup",this._keyupHandler,!0),this._fire("bind")},s.prototype.getBinding=function(){return this._node},s.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),r.event.unbind(e,"keydown",this._keydownHandler,!0),r.event.unbind(e,"keyup",this._keyupHandler,!0)),this._node=null},s.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})},s.prototype.addListener=function(e,t,n){(0,i.isFunction)(e)&&(n=t,t=e,e=1e3),this._eventBus.on(n||o,e,t)},s.prototype.removeListener=function(e,t){this._eventBus.off(t||o,e)},s.prototype.hasModifier=a.hasModifier,s.prototype.isCmd=a.isCmd,s.prototype.isShift=a.isShift,s.prototype.isKey=a.isKey},{"./KeyboardUtil":262,"min-dash":324,"min-dom":325}],261:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=l,n.KEYS_UNDO=n.KEYS_REDO=n.KEYS_PASTE=n.KEYS_COPY=n.KEYCODE_Z=n.KEYCODE_Y=n.KEYCODE_V=n.KEYCODE_C=void 0;var i=e("./KeyboardUtil");n.KEYCODE_C=67;n.KEYCODE_V=86;n.KEYCODE_Y=89;n.KEYCODE_Z=90;var r=["c","C",67];n.KEYS_COPY=r;var a=["v","V",86];n.KEYS_PASTE=a;var o=["y","Y",89];n.KEYS_REDO=o;var s=["z","Z",90];function l(e,t){var n=this;e.on("editorActions.init",500,(function(e){var i=e.editorActions;n.registerBindings(t,i)}))}n.KEYS_UNDO=s,l.$inject=["eventBus","keyboard"],l.prototype.registerBindings=function(e,t){function n(n,i){t.isRegistered(n)&&e.addListener(i)}n("undo",(function(e){var n=e.keyEvent;if((0,i.isCmd)(n)&&!(0,i.isShift)(n)&&(0,i.isKey)(s,n))return t.trigger("undo"),!0})),n("redo",(function(e){var n=e.keyEvent;if((0,i.isCmd)(n)&&((0,i.isKey)(o,n)||(0,i.isKey)(s,n)&&(0,i.isShift)(n)))return t.trigger("redo"),!0})),n("copy",(function(e){var n=e.keyEvent;if((0,i.isCmd)(n)&&(0,i.isKey)(r,n))return t.trigger("copy"),!0})),n("paste",(function(e){var n=e.keyEvent;if((0,i.isCmd)(n)&&(0,i.isKey)(a,n))return t.trigger("paste"),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if((0,i.isKey)(["+","Add","="],n)&&(0,i.isCmd)(n))return t.trigger("stepZoom",{value:1}),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if((0,i.isKey)(["-","Subtract"],n)&&(0,i.isCmd)(n))return t.trigger("stepZoom",{value:-1}),!0})),n("zoom",(function(e){var n=e.keyEvent;if((0,i.isKey)("0",n)&&(0,i.isCmd)(n))return t.trigger("zoom",{value:1}),!0})),n("removeSelection",(function(e){var n=e.keyEvent;if((0,i.isKey)(["Backspace","Delete","Del"],n))return t.trigger("removeSelection"),!0}))}},{"./KeyboardUtil":262}],262:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasModifier=function(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey},n.isCmd=function(e){if(e.altKey)return!1;return e.ctrlKey||e.metaKey},n.isKey=function(e,t){return-1!==(e=(0,i.isArray)(e)?e:[e]).indexOf(t.key)||-1!==e.indexOf(t.keyCode)},n.isShift=function(e){return e.shiftKey};var i=e("min-dash")},{"min-dash":324}],263:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("./Keyboard")),r=a(e("./KeyboardBindings"));function a(e){return e&&e.__esModule?e:{default:e}}var o={__init__:["keyboard","keyboardBindings"],keyboard:["type",i.default],keyboardBindings:["type",r.default]};n.default=o},{"./Keyboard":260,"./KeyboardBindings":261}],264:[function(e,t,n){arguments[4][140][0].apply(n,arguments)},{"../../util/Elements":286,dup:140,"min-dash":324,"min-dom":325,"tiny-svg":342}],265:[function(e,t,n){arguments[4][141][0].apply(n,arguments)},{"./Outline":264,dup:141}],266:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var i,r=e("min-dash"),a=e("min-dom"),o=e("../../util/Elements");var s=new(((i=e("../../util/IdGenerator"))&&i.__esModule?i:{default:i}).default)("ov");function l(e,t,n,i){var o,l;this._eventBus=t,this._canvas=n,this._elementRegistry=i,this._ids=s,this._overlayDefaults=(0,r.assign)({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(o=n.getContainer(),l=(0,a.domify)('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />'),o.insertBefore(l,o.firstChild),l),this._init()}function c(e,t,n){(0,r.assign)(e.style,{left:t+"px",top:n+"px"})}function u(e,t){e.style.display=!1===t?"none":""}function d(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach((function(n){e.style[n+"transform"]=t}))}l.$inject=["config.overlays","eventBus","canvas","elementRegistry"],l.prototype.get=function(e){if((0,r.isString)(e)&&(e={id:e}),(0,r.isString)(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?(0,r.filter)(t.overlays,(0,r.matchPattern)({type:e.type})):t.overlays.slice():[]}return e.type?(0,r.filter)(this._overlays,(0,r.matchPattern)({type:e.type})):e.id?this._overlays[e.id]:null},l.prototype.add=function(e,t,n){if((0,r.isObject)(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var i=this._ids.next();return n=(0,r.assign)({},this._overlayDefaults,n,{id:i,type:t,element:e,html:n.html}),this._addOverlay(n),i},l.prototype.remove=function(e){var t=this.get(e)||[];(0,r.isArray)(t)||(t=[t]);var n=this;(0,r.forEach)(t,(function(e){var t=n._getOverlayContainer(e.element,!0);if(e&&((0,a.remove)(e.html),(0,a.remove)(e.htmlContainer),delete e.htmlContainer,delete e.element,delete n._overlays[e.id]),t){var i=t.overlays.indexOf(e);-1!==i&&t.overlays.splice(i,1)}}))},l.prototype.show=function(){u(this._overlayRoot)},l.prototype.hide=function(){u(this._overlayRoot,!1)},l.prototype.clear=function(){this._overlays={},this._overlayContainers=[],(0,a.clear)(this._overlayRoot)},l.prototype._updateOverlayContainer=function(e){var t=e.element,n=e.html,i=t.x,r=t.y;if(t.waypoints){var s=(0,o.getBBox)(t);i=s.x,r=s.y}c(n,i,r),(0,a.attr)(e.html,"data-container-id",t.id)},l.prototype._updateOverlay=function(e){var t,n,i=e.position,r=e.htmlContainer,a=e.element,s=i.left,l=i.top;void 0!==i.right&&(t=a.waypoints?(0,o.getBBox)(a).width:a.width,s=-1*i.right+t);void 0!==i.bottom&&(n=a.waypoints?(0,o.getBBox)(a).height:a.height,l=-1*i.bottom+n);c(r,s||0,l||0)},l.prototype._createOverlayContainer=function(e){var t=(0,a.domify)('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(t);var n={html:t,element:e,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n},l.prototype._updateRoot=function(e){var t=e.scale||1,n="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";d(this._overlayRoot,n)},l.prototype._getOverlayContainer=function(e,t){var n=(0,r.find)(this._overlayContainers,(function(t){return t.element===e}));return n||t?n:this._createOverlayContainer(e)},l.prototype._addOverlay=function(e){var t,n,i=e.id,o=e.element,s=e.html;s.get&&s.constructor.prototype.jquery&&(s=s.get(0)),(0,r.isString)(s)&&(s=(0,a.domify)(s)),n=this._getOverlayContainer(o),(t=(0,a.domify)('<div class="djs-overlay" data-overlay-id="'+i+'" style="position: absolute">')).appendChild(s),e.type&&(0,a.classes)(t).add("djs-overlay-"+e.type),e.htmlContainer=t,n.overlays.push(e),n.html.appendChild(t),this._overlays[i]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())},l.prototype._updateOverlayVisibilty=function(e,t){var n=e.show,i=n&&n.minZoom,a=n&&n.maxZoom,o=e.htmlContainer,s=!0;n&&(((0,r.isDefined)(i)&&i>t.scale||(0,r.isDefined)(a)&&a<t.scale)&&(s=!1),u(o,s)),this._updateOverlayScale(e,t)},l.prototype._updateOverlayScale=function(e,t){var n,i,a,o=e.scale,s=e.htmlContainer,l="";!0!==o&&(!1===o?(n=1,i=1):(n=o.min,i=o.max),(0,r.isDefined)(n)&&t.scale<n&&(a=(1/t.scale||1)*n),(0,r.isDefined)(i)&&t.scale>i&&(a=(1/t.scale||1)*i)),(0,r.isDefined)(a)&&(l="scale("+a+","+a+")"),d(s,l)},l.prototype._updateOverlaysVisibilty=function(e){var t=this;(0,r.forEach)(this._overlays,(function(n){t._updateOverlayVisibilty(n,e)}))},l.prototype._init=function(){var e=this._eventBus,t=this;e.on("canvas.viewbox.changing",(function(e){t.hide()})),e.on("canvas.viewbox.changed",(function(e){var n;n=e.viewbox,t._updateRoot(n),t._updateOverlaysVisibilty(n),t.show()})),e.on(["shape.remove","connection.remove"],(function(e){var n=e.element,i=t.get({element:n});(0,r.forEach)(i,(function(e){t.remove(e.id)}));var o=t._getOverlayContainer(n);if(o){(0,a.remove)(o.html);var s=t._overlayContainers.indexOf(o);-1!==s&&t._overlayContainers.splice(s,1)}})),e.on("element.changed",500,(function(e){var n=e.element,i=t._getOverlayContainer(n,!0);i&&((0,r.forEach)(i.overlays,(function(e){t._updateOverlay(e)})),t._updateOverlayContainer(i))})),e.on("element.marker.update",(function(e){var n=t._getOverlayContainer(e.element,!0);n&&(0,a.classes)(n.html)[e.add?"add":"remove"](e.marker)})),e.on("diagram.clear",this.clear,this)}},{"../../util/Elements":286,"../../util/IdGenerator":290,"min-dash":324,"min-dom":325}],267:[function(e,t,n){arguments[4][143][0].apply(n,arguments)},{"./Overlays":266,dup:143}],268:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=r;var i=e("min-dash");function r(e){this._eventBus=e,this._selectedElements=[];var t=this;e.on(["shape.remove","connection.remove"],(function(e){var n=e.element;t.deselect(n)})),e.on(["diagram.clear"],(function(e){t.select(null)}))}r.$inject=["eventBus"],r.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e);if(-1!==n){var i=t.slice();t.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:t})}},r.prototype.get=function(){return this._selectedElements},r.prototype.isSelected=function(e){return-1!==this._selectedElements.indexOf(e)},r.prototype.select=function(e,t){var n=this._selectedElements,r=n.slice();(0,i.isArray)(e)||(e=e?[e]:[]),t?(0,i.forEach)(e,(function(e){-1===n.indexOf(e)&&n.push(e)})):this._selectedElements=n=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:n})}},{"min-dash":324}],269:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var i=e("../../util/Mouse"),r=e("min-dash");function a(e,t,n,a){e.on("create.end",500,(function(e){var n=e.context,i=n.canExecute,a=n.elements,s=(n.hints||{}).autoSelect;if(i){if(!1===s)return;(0,r.isArray)(s)?t.select(s):t.select(a.filter(o))}})),e.on("connect.end",500,(function(e){var n=e.context,i=n.canExecute,r=n.hover;i&&r&&t.select(r)})),e.on("shape.move.end",500,(function(e){var n=e.previousSelection||[],i=a.get(e.context.shape.id);(0,r.find)(n,(function(e){return i.id===e.id}))||t.select(i)})),e.on("element.click",(function(e){if((0,i.isPrimaryButton)(e)){var r=e.element;r===n.getRootElement()&&(r=null);var a=t.isSelected(r),o=t.get().length>1,s=(0,i.hasPrimaryModifier)(e)||(0,i.hasSecondaryModifier)(e);if(a&&o)return s?t.deselect(r):t.select(r);a?t.deselect(r):t.select(r,s)}}))}function o(e){return!e.hidden}a.$inject=["eventBus","selection","canvas","elementRegistry"]},{"../../util/Mouse":292,"min-dash":324}],270:[function(e,t,n){arguments[4][146][0].apply(n,arguments)},{dup:146,"min-dash":324}],271:[function(e,t,n){arguments[4][147][0].apply(n,arguments)},{"../interaction-events":259,"../outline":265,"./Selection":268,"./SelectionBehavior":269,"./SelectionVisuals":270,dup:147}],272:[function(e,t,n){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={translate:["value",((i=e("./translate"))&&i.__esModule?i:{default:i}).default]};n.default=r},{"./translate":273}],273:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return t=t||{},e.replace(/{([^}]+)}/g,(function(e,n){return t[n]||"{"+n+"}"}))}},{}],274:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.roundBounds=function(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}},n.roundPoint=s,n.asTRBL=l,n.asBounds=function(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}},n.getMid=function(e){return s({x:e.x+(e.width||0)/2,y:e.y+(e.height||0)/2})},n.getOrientation=function(e,t,n){n=n||0,(0,r.isObject)(n)||(n={x:n,y:n});var i=l(e),a=l(t),o=i.bottom+n.y<=a.top,s=i.left-n.x>=a.right,c=i.top-n.y>=a.bottom,u=i.right+n.x<=a.left,d=o?"top":c?"bottom":null,p=u?"left":s?"right":null;return p&&d?d+"-"+p:p||d||"intersect"},n.getElementLineIntersection=function(e,t,n){var i=c(e,t);if(1===i.length)return s(i[0]);if(2===i.length&&(0,a.pointDistance)(i[0],i[1])<1)return s(i[0]);if(i.length>1)return s((i=(0,r.sortBy)(i,(function(e){var t=Math.floor(100*e.t2)||1;return t=((t=100-t)<10?"0":"")+t,e.segment2+"#"+t})))[n?0:i.length-1]);return null},n.getIntersections=c,n.filterRedundantWaypoints=function(e){e=e.slice();var t,n,i,r=0;for(;e[r];)t=e[r],n=e[r-1],i=e[r+1],0===(0,a.pointDistance)(t,i)||(0,a.pointsOnLine)(n,i,t)?e.splice(r,1):r++;return e};var i,r=e("min-dash"),a=e("../util/Geometry"),o=(i=e("path-intersection"))&&i.__esModule?i:{default:i};function s(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function l(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function c(e,t){return(0,o.default)(e,t)}},{"../util/Geometry":288,"min-dash":324,"path-intersection":331}],275:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Base=p,n.Shape=f,n.Root=m,n.Label=h,n.Connection=g,n.create=function(e,t){var n=v[e];if(!n)throw new Error("unknown type: <"+e+">");return(0,i.assign)(new n,t)};var i=e("min-dash"),r=o(e("inherits")),a=o(e("object-refs"));function o(e){return e&&e.__esModule?e:{default:e}}var s=new a.default({name:"children",enumerable:!0,collection:!0},{name:"parent"}),l=new a.default({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),c=new a.default({name:"attachers",collection:!0},{name:"host"}),u=new a.default({name:"outgoing",collection:!0},{name:"source"}),d=new a.default({name:"incoming",collection:!0},{name:"target"});function p(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,n=this.labels;!e&&t?n.remove(t):n.add(e,0)}}),s.bind(this,"parent"),l.bind(this,"labels"),u.bind(this,"outgoing"),d.bind(this,"incoming")}function f(){p.call(this),s.bind(this,"children"),c.bind(this,"host"),c.bind(this,"attachers")}function m(){f.call(this)}function h(){f.call(this),l.bind(this,"labelTarget")}function g(){p.call(this),u.bind(this,"source"),d.bind(this,"target")}(0,r.default)(f,p),(0,r.default)(m,f),(0,r.default)(h,f),(0,r.default)(g,p);var v={connection:g,shape:f,label:h,root:m}},{inherits:314,"min-dash":324,"object-refs":328}],276:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;var i=e("min-dash"),r={moveSpeed:50,moveSpeedAccelerated:200};function a(e,t,n){var a=this;this._config=(0,i.assign)({},r,e||{}),t.addListener((function(e){var n=e.keyEvent,i=a._config;if(!t.isCmd(n))return;if(t.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],n)){var r,o=t.isShift(n)?i.moveSpeedAccelerated:i.moveSpeed;switch(n.key){case"ArrowLeft":case"Left":r="left";break;case"ArrowUp":case"Up":r="up";break;case"ArrowRight":case"Right":r="right";break;case"ArrowDown":case"Down":r="down"}return a.moveCanvas({speed:o,direction:r}),!0}})),this.moveCanvas=function(e){var t=0,i=0,r=e.speed/Math.min(Math.sqrt(n.viewbox().scale),1);switch(e.direction){case"left":t=r;break;case"up":i=r;break;case"right":t=-r;break;case"down":i=-r}n.scroll({dx:t,dy:i})}}a.$inject=["config.keyboardMove","keyboard","canvas"]},{"min-dash":324}],277:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("../../features/keyboard")),r=a(e("./KeyboardMove"));function a(e){return e&&e.__esModule?e:{default:e}}var o={__depends__:[i.default],__init__:["keyboardMove"],keyboardMove:["type",r.default]};n.default=o},{"../../features/keyboard":263,"./KeyboardMove":276}],278:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var i=e("../../util/Cursor"),r=e("../../util/ClickTrap"),a=e("../../util/PositionUtil"),o=e("min-dom"),s=e("../../util/Event");function l(e,t){var n;function l(o){var l,c=n.start,u=n.button,d=(0,s.toPoint)(o),p=(0,a.delta)(d,c);if(!n.dragging&&(l=p,Math.sqrt(Math.pow(l.x,2)+Math.pow(l.y,2))>15)&&(n.dragging=!0,0===u&&(0,r.install)(e),(0,i.set)("grab")),n.dragging){var f=n.last||n.start;p=(0,a.delta)(d,f),t.scroll({dx:p.x,dy:p.y}),n.last=d}o.preventDefault()}function c(e){o.event.unbind(document,"mousemove",l),o.event.unbind(document,"mouseup",c),n=null,(0,i.unset)()}e.on("element.mousedown",500,(function(e){return function(e){if((0,o.closest)(e.target,".djs-draggable"))return;var t=e.button;if(t>=2||e.ctrlKey||e.shiftKey||e.altKey)return;return n={button:t,start:(0,s.toPoint)(e)},o.event.bind(document,"mousemove",l),o.event.bind(document,"mouseup",c),!0}(e.originalEvent)})),this.isActive=function(){return!!n}}l.$inject=["eventBus","canvas"]},{"../../util/ClickTrap":283,"../../util/Cursor":285,"../../util/Event":287,"../../util/PositionUtil":294,"min-dom":325}],279:[function(e,t,n){arguments[4][150][0].apply(n,arguments)},{"./MoveCanvas":278,dup:150}],280:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var i=e("min-dom"),r=e("./ZoomUtil"),a=e("../../util/Math"),o=e("min-dash"),s=Math.sign||function(e){return e>=0?1:-1},l={min:.2,max:4};function c(e,t,n){e=e||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=(0,o.bind)(this._handleWheel,this),this._totalDelta=0,this._scale=e.scale||.75;var i=this;t.on("canvas.init",(function(t){i._init(!1!==e.enabled)}))}c.$inject=["config.zoomScroll","eventBus","canvas"],c.prototype.scroll=function(e){this._canvas.scroll(e)},c.prototype.reset=function(){this._canvas.zoom("fit-viewport")},c.prototype.zoom=function(e,t){var n=(0,r.getStepSize)(l,20);this._totalDelta+=e,Math.abs(this._totalDelta)>.1&&(this._zoom(e,t,n),this._totalDelta=0)},c.prototype._handleWheel=function(e){if(!(0,i.closest)(e.target,".djs-scrollable",!0)){var t=this._container;e.preventDefault();var n,r=e.ctrlKey,a=e.shiftKey,o=-1*this._scale;if(o*=r?0===e.deltaMode?.02:.32:0===e.deltaMode?1:16,r){var l=t.getBoundingClientRect(),c={x:e.clientX-l.left,y:e.clientY-l.top};n=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*s(e.deltaY)*o,this.zoom(n,c)}else n=a?{dx:o*e.deltaY,dy:0}:{dx:o*e.deltaX,dy:o*e.deltaY},this.scroll(n)}},c.prototype.stepZoom=function(e,t){var n=(0,r.getStepSize)(l,10);this._zoom(e,t,n)},c.prototype._zoom=function(e,t,n){var i=this._canvas,o=e>0?1:-1,s=(0,a.log10)(i.zoom()),c=Math.round(s/n)*n;c+=n*o;var u=Math.pow(10,c);i.zoom((0,r.cap)(l,u),t)},c.prototype.toggle=function(e){var t=this._container,n=this._handleWheel,r=this._enabled;return void 0===e&&(e=!r),r!==e&&i.event[e?"bind":"unbind"](t,"wheel",n,!1),this._enabled=e,e},c.prototype._init=function(e){this.toggle(e)}},{"../../util/Math":291,"./ZoomUtil":281,"min-dash":324,"min-dom":325}],281:[function(e,t,n){arguments[4][152][0].apply(n,arguments)},{"../../util/Math":291,dup:152}],282:[function(e,t,n){arguments[4][153][0].apply(n,arguments)},{"./ZoomScroll":280,dup:153}],283:[function(e,t,n){arguments[4][154][0].apply(n,arguments)},{dup:154}],284:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.remove=function(e,t){if(!e||!t)return-1;var n=e.indexOf(t);-1!==n&&e.splice(n,1);return n},n.add=function(e,t,n){if(!e||!t)return;"number"!=typeof n&&(n=-1);var i=e.indexOf(t);if(-1!==i){if(i===n)return;if(-1===n)return;e.splice(i,1)}-1!==n?e.splice(n,0,t):e.push(t)},n.indexOf=function(e,t){if(!e||!t)return-1;return e.indexOf(t)}},{}],285:[function(e,t,n){arguments[4][156][0].apply(n,arguments)},{dup:156,"min-dom":325}],286:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getParents=function(e){return(0,i.filter)(e,(function(t){return!(0,i.find)(e,(function(e){return e!==t&&r(t,e)}))}))},n.add=a,n.eachElement=o,n.selfAndChildren=s,n.selfAndDirectChildren=function(e,t){return s(e,!t,1)},n.selfAndAllChildren=function(e,t){return s(e,!t,-1)},n.getClosure=function(e,t,n){(0,i.isUndefined)(t)&&(t=!0);(0,i.isObject)(t)&&(n=t,t=!0);var r=c((n=n||{}).allShapes),a=c(n.allConnections),s=c(n.enclosedElements),l=c(n.enclosedConnections),u=c(n.topLevel,t&&(0,i.groupBy)(e,(function(e){return e.id})));function d(e){u[e.source.id]&&u[e.target.id]&&(u[e.id]=[e]),r[e.source.id]&&r[e.target.id]&&(l[e.id]=s[e.id]=e),a[e.id]=e}return o(e,(function(e){if(s[e.id]=e,!e.waypoints)return r[e.id]=e,(0,i.forEach)(e.incoming,d),(0,i.forEach)(e.outgoing,d),e.children;l[e.id]=a[e.id]=e})),{allShapes:r,allConnections:a,topLevel:u,enclosedConnections:l,enclosedElements:s}},n.getBBox=l,n.getEnclosedElements=function(e,t){var n={};return(0,i.forEach)(e,(function(e){var r=e;r.waypoints&&(r=l(r)),!(0,i.isNumber)(t.y)&&r.x>t.x&&(n[e.id]=e),!(0,i.isNumber)(t.x)&&r.y>t.y&&(n[e.id]=e),r.x>t.x&&r.y>t.y&&((0,i.isNumber)(t.width)&&(0,i.isNumber)(t.height)&&r.width+r.x<t.width+t.x&&r.height+r.y<t.height+t.y?n[e.id]=e:(0,i.isNumber)(t.width)&&(0,i.isNumber)(t.height)||(n[e.id]=e))})),n},n.getType=function(e){if("waypoints"in e)return"connection";if("x"in e)return"shape";return"root"},n.isFrameElement=function(e){return!(!e||!e.isFrame)};var i=e("min-dash");function r(e,t){if(t){if(e===t)return t;if(e.parent)return r(e.parent,t)}}function a(e,t,n){var i=!n||-1===e.indexOf(t);return i&&e.push(t),i}function o(e,t,n){n=n||0,(0,i.isArray)(e)||(e=[e]),(0,i.forEach)(e,(function(e,r){var a=t(e,r,n);(0,i.isArray)(a)&&a.length&&o(a,t,n+1)}))}function s(e,t,n){var i=[],r=[];return o(e,(function(e,o,s){a(i,e,t);var l=e.children;if((-1===n||s<n)&&l&&a(r,l,t))return l})),i}function l(e,t){var n,r,a,o;return t=!!t,(0,i.isArray)(e)||(e=[e]),(0,i.forEach)(e,(function(e){var i=e;e.waypoints&&!t&&(i=l(e.waypoints,!0));var s=i.x,c=i.y,u=i.height||0,d=i.width||0;(s<n||void 0===n)&&(n=s),(c<r||void 0===r)&&(r=c),(s+d>a||void 0===a)&&(a=s+d),(c+u>o||void 0===o)&&(o=c+u)})),{x:n,y:r,height:o-r,width:a-n}}function c(e,t){return(0,i.assign)({},e||{},t||{})}},{"min-dash":324}],287:[function(e,t,n){arguments[4][158][0].apply(n,arguments)},{dup:158}],288:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.pointDistance=r,n.pointsOnLine=function(e,t,n,i){void 0===i&&(i=5);if(!e||!t||!n)return!1;var a=(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x),o=r(e,t);return Math.abs(a/o)<=i},n.pointsAligned=function(e,t){var n;n=(0,i.isArray)(e)?e:[e,t];if(a(n))return"h";if(o(n))return"v";return!1},n.pointsAlignedHorizontally=a,n.pointsAlignedVertically=o,n.pointInRect=function(e,t,n){return n=n||0,e.x>t.x-n&&e.y>t.y-n&&e.x<t.x+t.width+n&&e.y<t.y+t.height+n},n.getMidPoint=function(e,t){return{x:Math.round(e.x+(t.x-e.x)/2),y:Math.round(e.y+(t.y-e.y)/2)}};var i=e("min-dash");function r(e,t){return e&&t?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):-1}function a(e,t){var n,r=(n=(0,i.isArray)(e)?e:[e,t]).slice().shift();return(0,i.every)(n,(function(e){return Math.abs(r.y-e.y)<=2}))}function o(e,t){var n,r=(n=(0,i.isArray)(e)?e:[e,t]).slice().shift();return(0,i.every)(n,(function(e){return Math.abs(r.x-e.x)<=2}))}},{"min-dash":324}],289:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getVisual=function(e){return e.childNodes[0]},n.getChildren=function(e){return e.parentNode.childNodes[1]}},{}],290:[function(e,t,n){"use strict";function i(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i,i.prototype.next=function(){return this._prefix+ ++this._counter}},{}],291:[function(e,t,n){arguments[4][161][0].apply(n,arguments)},{"./PositionUtil":294,dup:161}],292:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isButton=a,n.isPrimaryButton=o,n.isAuxiliaryButton=function(e){return a(e,1)},n.isSecondaryButton=function(e){return a(e,2)},n.hasPrimaryModifier=function(e){var t=(0,i.getOriginal)(e)||e;if(!o(e))return!1;return(0,r.isMac)()?t.metaKey:t.ctrlKey},n.hasSecondaryModifier=function(e){var t=(0,i.getOriginal)(e)||e;return o(e)&&t.shiftKey},Object.defineProperty(n,"isMac",{enumerable:!0,get:function(){return r.isMac}});var i=e("./Event"),r=e("./Platform");function a(e,t){return((0,i.getOriginal)(e)||e).button===t}function o(e){return a(e,0)}},{"./Event":287,"./Platform":293}],293:[function(e,t,n){arguments[4][163][0].apply(n,arguments)},{dup:163}],294:[function(e,t,n){arguments[4][164][0].apply(n,arguments)},{dup:164}],295:[function(e,t,n){arguments[4][165][0].apply(n,arguments)},{dup:165,"tiny-svg":342}],296:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.transform=function(e,t,n,r,a){var o=(0,i.createTransform)();o.setTranslate(t,n);var s=(0,i.createTransform)();s.setRotate(r||0,0,0);var l=(0,i.createTransform)();l.setScale(a||1,a||1),(0,i.transform)(e,[o,s,l])},n.translate=function(e,t,n){var r=(0,i.createTransform)();r.setTranslate(t,n),(0,i.transform)(e,r)},n.rotate=function(e,t){var n=(0,i.createTransform)();n.setRotate(t,0,0),(0,i.transform)(e,n)},n.scale=function(e,t){var n=(0,i.createTransform)();n.setScale(t,t),(0,i.transform)(e,n)};var i=e("tiny-svg")},{"tiny-svg":342}],297:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var i=e("min-dash"),r=e("tiny-svg"),a={width:150,height:50};function o(e,t){var n;t.textContent=e;try{var i,r=""===e;return t.textContent=r?"dummy":e,i={width:(n=t.getBBox()).width+2*n.x,height:n.height},r&&(i.width=0),i}catch(e){return{width:0,height:0}}}function s(e,t,n){for(var i,r=e.shift(),a=r;;){if((i=o(a,n)).width=a?i.width:0," "===a||""===a||i.width<Math.round(t)||a.length<2)return l(e,a,r,i);a=c(a,i.width,t)}}function l(e,t,n,i){if(t.length<n.length){var r=n.slice(t.length).trim();e.unshift(r)}return{width:i.width,height:i.height,text:t}}function c(e,t,n){var i=Math.max(e.length*(n/t),1),r=function(e,t){var n,i=e.split(/(\s|-|\u00AD)/g),r=[],a=0;if(i.length>1)for(;n=i.shift();){if(!(n.length+a<t)){"-"!==n&&"­"!==n||r.pop();break}r.push(n),a+=n.length}var o=r[r.length-1];return o&&"­"===o&&(r[r.length-1]="-"),r.join("")}(e,i);return r||(r=e.slice(0,Math.max(Math.round(i-1),1))),r}function u(e){this._config=(0,i.assign)({},{size:a,padding:0,style:{},align:"center-top"},e||{})}u.prototype.createText=function(e,t){return this.layoutText(e,t).element},u.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions},u.prototype.layoutText=function(e,t){var n=(0,i.assign)({},this._config.size,t.box),a=(0,i.assign)({},this._config.style,t.style),o=function(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}(t.align||this._config.align),l=function(e){return(0,i.isObject)(e)?(0,i.assign)({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}(void 0!==t.padding?t.padding:this._config.padding),c=t.fitBox||!1,u=function(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}(a),d=e.split(/\u00AD?\r?\n/),p=[],f=n.width-l.left-l.right,m=(0,r.create)("text");(0,r.attr)(m,{x:0,y:0}),(0,r.attr)(m,a);var h=function(){var e=document.getElementById("helper-svg");return e||(e=(0,r.create)("svg"),(0,r.attr)(e,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(e)),e}();for((0,r.append)(h,m);d.length;)p.push(s(d,f,m));"middle"===o.vertical&&(l.top=l.bottom=0);var g=(0,i.reduce)(p,(function(e,t,n){return e+(u||t.height)}),0)+l.top+l.bottom,v=(0,i.reduce)(p,(function(e,t,n){return t.width>e?t.width:e}),0),y=l.top;"middle"===o.vertical&&(y+=(n.height-g)/2),y-=(u||p[0].height)/4;var b=(0,r.create)("text");return(0,r.attr)(b,a),(0,i.forEach)(p,(function(e){var t;switch(y+=u||e.height,o.horizontal){case"left":t=l.left;break;case"right":t=(c?v:f)-l.right-e.width;break;default:t=Math.max(((c?v:f)-e.width)/2+l.left,0)}var n=(0,r.create)("tspan");(0,r.attr)(n,{x:t,y:y}),n.textContent=e.text,(0,r.append)(b,n)})),(0,r.remove)(m),{dimensions:{width:v,height:g},element:b}}},{"min-dash":324,"tiny-svg":342}],298:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0});var r=/^class /;function a(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(){var e=Array.prototype.slice.call(arguments);1===e.length&&a(e[0])&&(e=e[0]);var t=e.pop();return t.$inject=e,t}var l=/constructor\s*[^(]*\(\s*([^)]*)\)/m,c=/^(?:async )?(?:function\s*)?[^(]*\(\s*([^)]*)\)/m,u=/\/\*([^*]*)\*\//m;function d(e){if("function"!=typeof e)throw new Error('Cannot annotate "'+e+'". Expected a function!');var t=e.toString().match(function(e){return r.test(e.toString())}(e)?l:c);return t&&t[1]&&t[1].split(",").map((function(e){return(t=e.match(u))?t[1].trim():e.trim()}))||[]}function p(){var e=[];this.factory=function(t,n){return e.push([t,"factory",n]),this},this.value=function(t,n){return e.push([t,"value",n]),this},this.type=function(t,n){return e.push([t,"type",n]),this},this.forEach=function(t){e.forEach(t)}}n.annotate=s,n.parseAnnotations=d,n.Module=p,n.Injector=function e(t,n){n=n||{get:function(e,t){if(r.push(e),!1===t)return null;throw f('No provider for "'+e+'"!')}};var r=[],l=this._providers=Object.create(n._providers||null),c=this._instances=Object.create(null),u=c.injector=this,f=function(e){var t=r.join(" -> ");return r.length=0,new Error(t?e+" (Resolving: "+t+")":e)},m=function e(t,i){if(!l[t]&&-1!==t.indexOf(".")){for(var a=t.split("."),s=e(a.shift());a.length;)s=s[a.shift()];return s}if(o(c,t))return c[t];if(o(l,t)){if(-1!==r.indexOf(t))throw r.push(t),f("Cannot resolve circular dependency!");return r.push(t),c[t]=l[t][0](l[t][1]),r.pop(),c[t]}return n.get(t,i)},h=function(e,t){if(void 0===t&&(t={}),"function"!=typeof e){if(!a(e))throw new Error('Cannot invoke "'+e+'". Expected a function!');e=s(e.slice())}return{fn:e,dependencies:(e.$inject||d(e)).map((function(e){return o(t,e)?t[e]:m(e)}))}},g=function(e){var t=h(e),n=t.fn,i=t.dependencies;return new(Function.prototype.bind.apply(n,[null].concat(i)))},v=function(e,t,n){var i=h(e,n),r=i.fn,a=i.dependencies;return r.apply(t,a)},y=function(e){return s((function(t){return e.get(t)}))},b={factory:v,type:g,value:function(e){return e}};t.forEach((function(t){function n(e,t){return"value"!==e&&a(t)&&(t=s(t.slice())),t}if(t instanceof p)t.forEach((function(e){var t=e[0],i=e[1],r=e[2];l[t]=[b[i],n(i,r),i]}));else if("object"===i(t))if(t.__exports__){var r=Object.keys(t).reduce((function(e,n){return"__"!==n.substring(0,2)&&(e[n]=t[n]),e}),Object.create(null)),o=new e((t.__modules__||[]).concat([r]),u),c=s((function(e){return o.get(e)}));t.__exports__.forEach((function(e){l[e]=[c,e,"private",o]}))}else Object.keys(t).forEach((function(e){if("private"!==t[e][2]){var i=t[e][0],r=t[e][1];l[e]=[b[i],n(i,r),i]}else l[e]=t[e]}))})),this.get=m,this.invoke=v,this.instantiate=g,this.createChild=function(t,n){if(n&&n.length){var i,r,a,o,s=Object.create(null),c=Object.create(null),d=[],p=[],f=[];for(var m in l)i=l[m],-1!==n.indexOf(m)&&("private"===i[2]?-1===(r=d.indexOf(i[3]))?(a=i[3].createChild([],n),o=y(a),d.push(i[3]),p.push(a),f.push(o),s[m]=[o,m,"private",a]):s[m]=[f[r],m,"private",p[r]]:s[m]=[i[2],i[1]],c[m]=!0),"factory"!==i[2]&&"type"!==i[2]||!i[1].$scope||n.forEach((function(e){-1!==i[1].$scope.indexOf(e)&&(s[m]=[i[2],i[1]],c[e]=!0)}));n.forEach((function(e){if(!c[e])throw new Error('No provider for "'+e+'". Cannot use provider from the parent!')})),t.unshift(s)}return new e(t,u)}}},{}],299:[function(e,t,n){"use strict";var i=e("min-dash"),r=e("moddle"),a=e("moddle-xml");function o(e,t){r.Moddle.call(this,e,t)}o.prototype=Object.create(r.Moddle.prototype),o.prototype.fromXML=function(e,t,n,r){i.isString(t)||(r=n,n=t,t="dmn:Definitions"),i.isFunction(n)&&(r=n,n={});var o=new a.Reader(i.assign({model:this,lax:!0},n)),s=o.handler(t);o.fromXML(e,s,r)},o.prototype.toXML=function(e,t,n){i.isFunction(t)&&(n=t,t={});var r,o,s=new a.Writer(t);try{r=s.toXML(e)}catch(e){o=e}return n(o,r)};var s={dc:{name:"DC",prefix:"dc",uri:"http://www.omg.org/spec/DMN/20180521/DC/",types:[{name:"Dimension",properties:[{name:"width",isAttr:!0,type:"Real"},{name:"height",isAttr:!0,type:"Real"}]},{name:"Bounds",properties:[{name:"height",isAttr:!0,type:"Real"},{name:"width",isAttr:!0,type:"Real"},{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Point",properties:[{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Color",properties:[{name:"red",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"green",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"blue",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"}]}],associations:[],enumerations:[{name:"AlignmentKind",literalValues:[{name:"start"},{name:"center"},{name:"end"}]}]},di:{name:"DI",prefix:"di",uri:"http://www.omg.org/spec/DMN/20180521/DI/",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"style",isReference:!0,type:"Style",xml:{serialize:"property"}},{name:"sharedStyle",isReference:!0,isVirtual:!0,type:"Style"}]},{name:"Diagram",superClass:["DiagramElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"}]},{name:"Shape",isAbstract:!0,properties:[{name:"bounds",type:"dc:Bounds"}],superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,properties:[{name:"waypoint",type:"dc:Point",isMany:!0,xml:{serialize:"property"}}],superClass:["DiagramElement"]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]}],associations:[],enumerations:[],xml:{tagAlias:"lowerCase"}},dmn:{name:"DMN",prefix:"dmn",uri:"https://www.omg.org/spec/DMN/20191111/MODEL/",types:[{name:"AuthorityRequirement",superClass:["DMNElement"],properties:[{name:"requiredAuthority",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}},{name:"bkm",type:"BusinessKnowledgeModel",isAttr:!0,isReference:!0},{name:"decision",type:"Decision",isAttr:!0,isReference:!0},{name:"knowledgeSource",type:"KnowledgeSource",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["NamedElement"],properties:[{name:"typeRef",type:"String",xml:{serialize:"property"}},{name:"allowedValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"typeLanguage",type:"String",isAttr:!0},{name:"definitions",type:"Definitions",isAttr:!0,isReference:!0},{name:"itemComponent",type:"ItemDefinition",isMany:!0,xml:{serialize:"property"}},{name:"containingDefinition",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"isCollection",isAttr:!0,type:"Boolean"}]},{name:"Definitions",superClass:["NamedElement"],properties:[{name:"import",type:"Import",isMany:!0},{name:"itemDefinition",type:"ItemDefinition",isMany:!0,xml:{serialize:"property"}},{name:"drgElement",type:"DRGElement",isMany:!0},{name:"artifact",type:"Artifact",isMany:!0},{name:"elementCollection",type:"ElementCollection",isMany:!0,xml:{serialize:"property"}},{name:"businessContextElement",type:"BusinessContextElement",isMany:!0},{name:"performanceIndicator",type:"PerformanceIndicator",isMany:!0},{name:"organizationUnit",type:"OrganizationUnit",isMany:!0},{name:"namespace",type:"String",isAttr:!0},{name:"expressionLanguage",type:"String",isAttr:!0},{name:"typeLanguage",type:"String",isAttr:!0},{name:"exporter",isAttr:!0,type:"String"},{name:"exporterVersion",isAttr:!0,type:"String"},{name:"dmnDI",type:"dmndi:DMNDI"}]},{name:"KnowledgeSource",superClass:["DRGElement"],properties:[{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0,xml:{serialize:"property"}},{name:"type",type:"String",xml:{serialize:"property"}},{name:"owner",type:"DMNElementReference",xml:{serialize:"property"}},{name:"locationURI",type:"String",isAttr:!0}]},{name:"DecisionRule",superClass:["DMNElement"],properties:[{name:"inputEntry",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}},{name:"outputEntry",type:"LiteralExpression",isMany:!0,xml:{serialize:"property"}},{name:"annotationEntry",type:"RuleAnnotation",isMany:!0,xml:{serialize:"property"}},{name:"decisionTable",type:"DecisionTable",isAttr:!0,isReference:!0}]},{name:"Expression",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"binding",type:"Binding",isAttr:!0,isReference:!0},{name:"decision",type:"Decision",isAttr:!0,isReference:!0},{name:"list",type:"List",isAttr:!0,isReference:!0},{name:"contextEntry",type:"ContextEntry",isAttr:!0,isReference:!0},{name:"functionDefinition",type:"FunctionDefinition",isAttr:!0,isReference:!0},{name:"caller",type:"Invocation",isAttr:!0,isReference:!0},{name:"typeRef",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isVirtual:!0,isReference:!0}]},{name:"InformationItem",superClass:["NamedElement"],properties:[{name:"decisionOutput",type:"Decision",isAttr:!0,isReference:!0},{name:"binding",type:"Binding",isReference:!0,isMany:!0},{name:"bkm",type:"BusinessKnowledgeModel",isAttr:!0,isReference:!0},{name:"contextEntry",type:"ContextEntry",isAttr:!0,isReference:!0},{name:"functionDefinition",type:"FunctionDefinition",isAttr:!0,isReference:!0},{name:"relation",type:"Relation",isAttr:!0,isReference:!0},{name:"inputData",type:"InputData",isAttr:!0,isReference:!0},{name:"typeRef",isAttr:!0,type:"String"},{name:"valueExpression",type:"Expression",isVirtual:!0,isReference:!0},{name:"type",type:"ItemDefinition",isVirtual:!0,isReference:!0},{name:"literalExpression",type:"LiteralExpression",isReference:!0},{name:"invocation",type:"Invocation",isReference:!0},{name:"decisionTable",type:"DecisionTable",isReference:!0},{name:"context",type:"Context",isReference:!0},{name:"list",type:"List",isReference:!0}]},{name:"Decision",superClass:["DRGElement"],properties:[{name:"question",type:"String",xml:{serialize:"property"}},{name:"allowedAnswers",type:"String",xml:{serialize:"property"}},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"informationRequirement",type:"InformationRequirement",isMany:!0,xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0,xml:{serialize:"property"}},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0,xml:{serialize:"property"}},{name:"supportedObjective",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"impactedPerformanceIndicator",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionMaker",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionOwner",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"usingProcess",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"usingTask",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"literalExpression",type:"LiteralExpression"},{name:"invocation",type:"Invocation"},{name:"decisionTable",type:"DecisionTable"},{name:"context",type:"Context"},{name:"functionDefinition",type:"FunctionDefinition"},{name:"relation",type:"Relation"},{name:"list",type:"List"},{name:"decisionLogic",type:"Expression"},{name:"requiresInformation",type:"InformationRequirement",isReference:!0,isMany:!0}]},{name:"Invocation",superClass:["Expression"],properties:[{name:"literalExpression",type:"LiteralExpression"},{name:"invocation",type:"Invocation"},{name:"decisionTable",type:"DecisionTable"},{name:"context",type:"Context"},{name:"functionDefinition",type:"FunctionDefinition"},{name:"relation",type:"Relation"},{name:"list",type:"List"},{name:"binding",type:"Binding",isMany:!0,xml:{serialize:"property"}},{name:"calledFunction",type:"Expression"}]},{name:"OrganisationalUnit",superClass:["BusinessContextElement"],properties:[{name:"decisionMade",type:"Decision",isReference:!0,isMany:!0},{name:"decisionOwned",type:"Decision",isReference:!0,isMany:!0}]},{name:"Import",superClass:["NamedElement"],properties:[{name:"importType",type:"String",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0},{name:"namespace",type:"String",isAttr:!0},{name:"definitions",type:"Definitions",isAttr:!0,isReference:!0}]},{name:"InformationRequirement",superClass:["DMNElement"],properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}},{name:"decision",type:"Decision",isAttr:!0,isReference:!0}]},{name:"ElementCollection",superClass:["NamedElement"],properties:[{name:"drgElement",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"definitions",type:"Definitions",isAttr:!0,isReference:!0}]},{name:"DRGElement",isAbstract:!0,superClass:["NamedElement"],properties:[{name:"definitions",type:"Definitions",isAttr:!0,isReference:!0}]},{name:"InputData",superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"requiresInformation",type:"InformationRequirement",isReference:!0,isMany:!0}]},{name:"DMNElement",isAbstract:!0,properties:[{name:"description",type:"String",xml:{serialize:"property"}},{name:"extensionElements",type:"ExtensionElements",xml:{serialize:"property"}},{name:"id",type:"String",isAttr:!0,isId:!0},{name:"extensionAttribute",type:"ExtensionAttribute",isMany:!0},{name:"label",isAttr:!0,type:"String"}]},{name:"InputClause",superClass:["DMNElement"],properties:[{name:"inputExpression",type:"LiteralExpression",xml:{serialize:"property"}},{name:"inputValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"decisionTable",type:"DecisionTable",isAttr:!0,isReference:!0}]},{name:"DecisionTable",superClass:["Expression"],properties:[{name:"input",type:"InputClause",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"OutputClause",isMany:!0,xml:{serialize:"property"}},{name:"annotation",type:"RuleAnnotationClause",isMany:!0,xml:{serialize:"property"}},{name:"rule",type:"DecisionRule",isMany:!0,xml:{serialize:"property"}},{name:"hitPolicy",type:"HitPolicy",isAttr:!0,default:"UNIQUE"},{name:"aggregation",type:"BuiltinAggregator",isAttr:!0},{name:"preferredOrientation",type:"DecisionTableOrientation",isAttr:!0},{name:"outputLabel",isAttr:!0,type:"String"}]},{name:"LiteralExpression",superClass:["Expression"],properties:[{name:"expressionLanguage",type:"String",isAttr:!0},{name:"text",type:"String",xml:{serialize:"property"}},{name:"ruleOutput",type:"DecisionRule",isAttr:!0,isReference:!0},{name:"output",type:"OutputClause",isAttr:!0,isReference:!0},{name:"expressionInput",type:"InputClause",isAttr:!0,isReference:!0},{name:"importedValues",type:"ImportedValues",xml:{serialize:"property"}}]},{name:"Binding",properties:[{name:"parameter",type:"InformationItem",xml:{serialize:"property"}},{name:"invocation",type:"Invocation",isAttr:!0,isReference:!0},{name:"literalExpression",type:"LiteralExpression"},{name:"decisionTable",type:"DecisionTable"},{name:"context",type:"Context"},{name:"functionDefinition",type:"FunctionDefinition"},{name:"relation",type:"Relation"},{name:"list",type:"List"},{name:"bindingFormula",type:"Expression"}]},{name:"KnowledgeRequirement",superClass:["DMNElement"],properties:[{name:"requiredKnowledge",type:"DMNElementReference",xml:{serialize:"property"}},{name:"bkm",type:"BusinessKnowledgeModel",isAttr:!0,isReference:!0},{name:"decision",type:"Decision",isAttr:!0,isReference:!0}]},{name:"BusinessKnowledgeModel",superClass:["Invocable"],properties:[{name:"encapsulatedLogic",type:"FunctionDefinition",xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0,xml:{serialize:"property"}},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0,xml:{serialize:"property"}},{name:"parameter",type:"InformationItem",isMany:!0},{name:"encapsulatedDecisions",type:"ElementCollection",isAttr:!0,isReference:!0}]},{name:"BusinessContextElement",isAbstract:!0,superClass:["NamedElement"],properties:[{name:"URI",type:"String",isAttr:!0},{name:"definitions",type:"Definitions",isAttr:!0,isReference:!0}]},{name:"PerformanceIndicator",superClass:["BusinessContextElement"],properties:[{name:"impactingDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"FunctionDefinition",superClass:["Expression"],properties:[{name:"formalParameter",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"literalExpression",type:"LiteralExpression"},{name:"invocation",type:"Invocation"},{name:"decisionTable",type:"DecisionTable"},{name:"context",type:"Context"},{name:"functionDefinition",type:"FunctionDefinition"},{name:"relation",type:"Relation"},{name:"list",type:"List"},{name:"body",type:"Expression"},{name:"bkm",type:"BusinessKnowledgeModel",isAttr:!0,isReference:!0},{name:"kind",type:"FunctionKind",isAttr:!0}]},{name:"Context",superClass:["Expression"],properties:[{name:"contextEnrty",type:"ContextEntry",isMany:!0}]},{name:"ContextEntry",superClass:["DMNElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"context",type:"Context",isAttr:!0,isReference:!0},{name:"literalExpression",type:"LiteralExpression"},{name:"invocation",type:"Invocation"},{name:"decisionTable",type:"DecisionTable"},{name:"functionDefinition",type:"FunctionDefinition"},{name:"relation",type:"Relation"},{name:"list",type:"List"},{name:"value",type:"Expression"}]},{name:"List",superClass:["Expression"],properties:[{name:"relation",type:"Relation",isAttr:!0,isReference:!0},{name:"literalExpression",type:"LiteralExpression",isMany:!0},{name:"invocation",type:"Invocation",isMany:!0},{name:"decisionTable",type:"DecisionTable",isMany:!0},{name:"context",type:"Context",isMany:!0},{name:"functionDefinition",type:"FunctionDefinition",isMany:!0},{name:"list",type:"List",isMany:!0},{name:"element",type:"Expression",isMany:!0}]},{name:"Relation",superClass:["Expression"],properties:[{name:"column",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"row",type:"List",isMany:!0,xml:{serialize:"property"}}]},{name:"OutputClause",superClass:["DMNElement"],properties:[{name:"outputValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"defaultOutputEntry",type:"LiteralExpression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"outputDefinition",type:"ItemDefinition",isVirtual:!0,isReference:!0},{name:"typeRef",isAttr:!0,type:"String"}]},{name:"UnaryTests",superClass:["Expression"],properties:[{name:"text",type:"String",xml:{serialize:"property"}},{name:"expressionLanguage",type:"String",isAttr:!0},{name:"ruleInput",type:"DecisionRule",isAttr:!0,isReference:!0},{name:"allowedInItemDefinition",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"input",type:"InputClause",isAttr:!0,isReference:!0},{name:"output",type:"OutputClause",isAttr:!0,isReference:!0}]},{name:"NamedElement",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ImportedValues",superClass:["Import"],properties:[{name:"importedElement",type:"String",xml:{serialize:"property"}},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"DecisionService",superClass:["Invocable"],properties:[{name:"outputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"encapsulatedDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputData",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"ExtensionElements",properties:[{name:"element",type:"DMNElement",isAttr:!0,isReference:!0},{name:"values",type:"Element",isMany:!0}]},{name:"ExtensionAttribute",properties:[{name:"element",type:"DMNElement",isAttr:!0,isReference:!0},{name:"value",type:"Element"},{name:"valueRef",type:"Element",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Element",isAbstract:!0,properties:[{name:"extensionAttribute",type:"ExtensionAttribute",isAttr:!0,isReference:!0},{name:"elements",type:"ExtensionElements",isAttr:!0,isReference:!0}]},{name:"Artifact",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"definitions",type:"Definitions",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"sourceRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"targetRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"associationDirection",type:"AssociationDirection",isAttr:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String",xml:{serialize:"property"}},{name:"textFormat",isAttr:!0,type:"String",default:"text/plain"}]},{name:"RuleAnnotationClause",properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"RuleAnnotation",properties:[{name:"text",type:"String",xml:{serialize:"property"}},{name:"ruleAnnotation",type:"DecisionRule",isAttr:!0,isReference:!0}]},{name:"Invocable",isAbstract:!0,superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"Group",superClass:["Artifact"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"FunctionItem",superClass:["DMNElement"],properties:[{name:"outputTypeRef",isAttr:!0,type:"String"},{name:"outputType",type:"ItemDefinition",isVirtual:!0,isReference:!0}]},{name:"DMNElementReference",properties:[{isAttr:!0,name:"href",type:"String"}]}],enumerations:[{name:"HitPolicy",literalValues:[{name:"UNIQUE"},{name:"FIRST"},{name:"PRIORITY"},{name:"ANY"},{name:"COLLECT"},{name:"RULE ORDER"},{name:"OUTPUT ORDER"}]},{name:"BuiltinAggregator",literalValues:[{name:"SUM"},{name:"COUNT"},{name:"MIN"},{name:"MAX"}]},{name:"DecisionTableOrientation",literalValues:[{name:"Rule-as-Row"},{name:"Rule-as-Column"},{name:"CrossTable"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"FunctionKind",literalValues:[{name:"FEEL"},{name:"Java"},{name:"PMML"}]}],associations:[],xml:{tagAlias:"lowerCase"}},dmndi:{name:"DMNDI",prefix:"dmndi",uri:"https://www.omg.org/spec/DMN/20191111/DMNDI/",types:[{name:"DMNDI",properties:[{name:"diagrams",type:"DMNDiagram",isMany:!0},{name:"styles",type:"DMNStyle",isMany:!0}]},{name:"DMNStyle",superClass:["di:Style"],properties:[{name:"fillColor",type:"dc:Color",isAttr:!0},{name:"strokeColor",type:"dc:Color",isAttr:!0},{name:"fontColor",type:"dc:Color",isAttr:!0},{name:"fontSize",isAttr:!0,type:"Real"},{name:"fontFamily",isAttr:!0,type:"String"},{name:"fontItalic",isAttr:!0,type:"Boolean"},{name:"fontBold",isAttr:!0,type:"Boolean"},{name:"fontUnderline",isAttr:!0,type:"Boolean"},{name:"fontStrikeThrough",isAttr:!0,type:"Boolean"},{name:"labelHorizontalAlignment",type:"dc:AlignmentKind",isAttr:!0},{name:"labelVerticalAlignment",type:"dc:AlignmentKind",isAttr:!0}]},{name:"DMNDiagram",superClass:["di:Diagram"],properties:[{name:"dmnElementRef",type:"DMN:DMNElement",isAttr:!0,isReference:!0},{name:"size",type:"Size"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"diagramElements",type:"DMNDiagramElement",isMany:!0}]},{name:"DMNDiagramElement",isAbstract:!0,superClass:["di:DiagramElement"],properties:[{name:"dmnElementRef",type:"DMN:DMNElement",isAttr:!0,isReference:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"label",type:"DMNLabel"}]},{name:"DMNLabel",superClass:["di:Shape"],properties:[{name:"text",type:"Text"}]},{name:"DMNShape",superClass:["di:Shape","DMNDiagramElement"],properties:[{name:"isListedInputData",isAttr:!0,type:"Boolean"},{name:"decisionServiceDividerLine",type:"DMNDecisionServiceDividerLine"},{name:"isCollapsed",isAttr:!0,type:"Boolean"}]},{name:"DMNEdge",superClass:["di:Edge","DMNDiagramElement"],properties:[{name:"sourceElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0},{name:"targetElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0}]},{name:"DMNDecisionServiceDividerLine",superClass:["di:Edge"]},{name:"Text",properties:[{name:"text",isBody:!0,type:"String"}]},{name:"Size",superClass:["dc:Dimension"]}],associations:[],enumerations:[]}};t.exports=function(e,t){return new o(i.assign({},s,e),t)}},{"min-dash":324,moddle:327,"moddle-xml":326}],300:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
Copyright (C) 2013-2015 by Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/!function(e){function t(){return p.createDocumentFragment()}function n(e){return p.createElement(e)}function r(e,t){if(!e)throw new Error("Failed to construct "+t+": 1 argument required, but only 0 present.")}function a(e){if(1===e.length)return o(e[0]);for(var n=t(),i=M.call(e),r=0;r<e.length;r++)n.appendChild(o(i[r]));return n}function o(e){return"object"===i(e)?e:p.createTextNode(e)}for(var s,l,c,u,d,p=e.document,f=Object.prototype.hasOwnProperty,m=Object.defineProperty||function(e,t,n){return f.call(n,"value")?e[t]=n.value:(f.call(n,"get")&&e.__defineGetter__(t,n.get),f.call(n,"set")&&e.__defineSetter__(t,n.set)),e},h=[].indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},g=function(e){var t=void 0===e.className,n=t?e.getAttribute("class")||"":e.className,r=t||"object"===i(n),a=(r?t?n:n.baseVal:n).replace(y,"");a.length&&N.push.apply(this,a.split(b)),this._isSVG=r,this._=e},v={get:function(){return new g(this)},set:function(){}},y=/^\s+|\s+$/g,b=/\s+/,_="classList",E=function(e,t){return this.contains(e)?t||this.remove(e):(void 0===t||t)&&(t=!0,this.add(e)),!!t},x=e.DocumentFragment&&DocumentFragment.prototype,w=e.Node,S=(w||Element).prototype,C=e.CharacterData||w,k=C&&C.prototype,T=e.DocumentType,I=T&&T.prototype,A=(e.Element||w||e.HTMLElement).prototype,D=e.HTMLSelectElement||n("select").constructor,O=D.prototype.remove,P=e.SVGElement,N=["matches",A.matchesSelector||A.webkitMatchesSelector||A.khtmlMatchesSelector||A.mozMatchesSelector||A.msMatchesSelector||A.oMatchesSelector||function(e){var t=this.parentNode;return!!t&&-1<h.call(t.querySelectorAll(e),this)},"closest",function(e){for(var t,n=this;(t=n&&n.matches)&&!n.matches(e);)n=n.parentNode;return t?n:null},"prepend",function(){var e=this.firstChild,t=a(arguments);e?this.insertBefore(t,e):this.appendChild(t)},"append",function(){this.appendChild(a(arguments))},"before",function(){var e=this.parentNode;e&&e.insertBefore(a(arguments),this)},"after",function(){var e=this.parentNode,t=this.nextSibling,n=a(arguments);e&&(t?e.insertBefore(n,t):e.appendChild(n))},"toggleAttribute",function(e,t){var n=this.hasAttribute(e);return 1<arguments.length?n&&!t?this.removeAttribute(e):t&&!n&&this.setAttribute(e,""):n?this.removeAttribute(e):this.setAttribute(e,""),this.hasAttribute(e)},"replace",function(){this.replaceWith.apply(this,arguments)},"replaceWith",function(){var e=this.parentNode;e&&e.replaceChild(a(arguments),this)},"remove",function(){var e=this.parentNode;e&&e.removeChild(this)}],M=N.slice,R=N.length;R;R-=2)if((l=N[R-2])in A||(A[l]=N[R-1]),"remove"!==l||O._dom4||((D.prototype[l]=function(){return 0<arguments.length?O.apply(this,arguments):A.remove.call(this)})._dom4=!0),/^(?:before|after|replace|replaceWith|remove)$/.test(l)&&(C&&!(l in k)&&(k[l]=N[R-1]),T&&!(l in I)&&(I[l]=N[R-1])),/^(?:append|prepend)$/.test(l))if(x)l in x||(x[l]=N[R-1]);else try{t().constructor.prototype[l]=N[R-1]}catch(e){}var L;n("a").matches("a")||(A[l]=(L=A[l],function(e){return L.call(this.parentNode?this:t().appendChild(this),e)})),g.prototype={length:0,add:function(){for(var e,t=0;t<arguments.length;t++)e=arguments[t],this.contains(e)||N.push.call(this,l);this._isSVG?this._.setAttribute("class",""+this):this._.className=""+this},contains:function(e){return function(t){return-1<(R=e.call(this,l=function(e){if(!e)throw"SyntaxError";if(b.test(e))throw"InvalidCharacterError";return e}(t)))}}([].indexOf||function(e){for(R=this.length;R--&&this[R]!==e;);return R}),item:function(e){return this[e]||null},remove:function(){for(var e,t=0;t<arguments.length;t++)e=arguments[t],this.contains(e)&&N.splice.call(this,R,1);this._isSVG?this._.setAttribute("class",""+this):this._.className=""+this},toggle:E,toString:function(){return N.join.call(this," ")}},P&&!(_ in P.prototype)&&m(P.prototype,_,v),_ in p.documentElement?((u=n("div").classList).add("a","b","a"),"a b"!=u&&("add"in(c=u.constructor.prototype)||(c=e.TemporaryTokenList.prototype),d=function(e){return function(){for(var t=0;t<arguments.length;)e.call(this,arguments[t++])}},c.add=d(c.add),c.remove=d(c.remove),c.toggle=E)):m(A,_,v),"contains"in S||m(S,"contains",{value:function(e){for(;e&&e!==this;)e=e.parentNode;return this===e}}),"head"in p||m(p,"head",{get:function(){return s||(s=p.getElementsByTagName("head")[0])}}),function(){for(var t,n=e.requestAnimationFrame,i=e.cancelAnimationFrame,r=["o","ms","moz","webkit"],a=r.length;!i&&a--;)n=n||e[r[a]+"RequestAnimationFrame"],i=e[r[a]+"CancelAnimationFrame"]||e[r[a]+"CancelRequestAnimationFrame"];i||(n?(t=n,n=function(e){var n=!0;return t((function(){n&&e.apply(this,arguments)})),function(){n=!1}},i=function(e){e()}):(n=function(e){return setTimeout(e,15,15)},i=function(e){clearTimeout(e)})),e.requestAnimationFrame=n,e.cancelAnimationFrame=i}();try{new e.CustomEvent("?")}catch(t){e.CustomEvent=function(e,t){function n(e,t,n,i){this.initEvent(e,t,n),this.detail=i}return function(i,r){var a=p.createEvent(e);if("string"!=typeof i)throw new Error("An event name must be provided");return"Event"==e&&(a.initCustomEvent=n),null==r&&(r=t),a.initCustomEvent(i,r.bubbles,r.cancelable,r.detail),a}}(e.CustomEvent?"CustomEvent":"Event",{bubbles:!1,cancelable:!1,detail:null})}try{new Event("_")}catch(t){t=function(e){function t(e,t){r(arguments.length,"Event");var n=p.createEvent("Event");return t||(t={}),n.initEvent(e,!!t.bubbles,!!t.cancelable),n}return t.prototype=e.prototype,t}(e.Event||function(){}),m(e,"Event",{value:t}),Event!==t&&(Event=t)}try{new KeyboardEvent("_",{})}catch(t){t=function(t){var n,i=0,a={char:"",key:"",location:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,altGraphKey:!1,repeat:!1,locale:navigator.language,detail:0,bubbles:!1,cancelable:!1,keyCode:0,charCode:0,which:0};try{var o=p.createEvent("KeyboardEvent");o.initKeyboardEvent("keyup",!1,!1,e,"+",3,!0,!1,!0,!1,!1),i="+"==(o.keyIdentifier||o.key)&&3==(o.keyLocation||o.location)&&(o.ctrlKey?o.altKey?1:3:o.shiftKey?2:4)||9}catch(e){}function s(e){for(var t=[],n=["ctrlKey","Control","shiftKey","Shift","altKey","Alt","metaKey","Meta","altGraphKey","AltGraph"],i=0;i<n.length;i+=2)e[n[i]]&&t.push(n[i+1]);return t.join(" ")}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&!t.hasOwnProperty.call(e,n)&&(e[n]=t[n]);return e}function c(e,t,n){try{t[e]=n[e]}catch(e){}}function u(t,o){r(arguments.length,"KeyboardEvent"),o=l(o||{},a);var u,d=p.createEvent(n),f=o.ctrlKey,m=o.shiftKey,h=o.altKey,g=o.metaKey,v=o.altGraphKey,y=i>3?s(o):null,b=String(o.key),_=String(o.char),E=o.location,x=o.keyCode||(o.keyCode=b)&&b.charCodeAt(0)||0,w=o.charCode||(o.charCode=_)&&_.charCodeAt(0)||0,S=o.bubbles,C=o.cancelable,k=o.repeat,T=o.locale,I=o.view||e;if(o.which||(o.which=o.keyCode),"initKeyEvent"in d)d.initKeyEvent(t,S,C,I,f,h,m,g,x,w);else if(0<i&&"initKeyboardEvent"in d){switch(u=[t,S,C,I],i){case 1:u.push(b,E,f,m,h,g,v);break;case 2:u.push(f,h,m,g,x,w);break;case 3:u.push(b,E,f,h,m,g,v);break;case 4:u.push(b,E,y,k,T);break;default:u.push(char,b,E,y,k,T)}d.initKeyboardEvent.apply(d,u)}else d.initEvent(t,S,C);for(b in d)a.hasOwnProperty(b)&&d[b]!==o[b]&&c(b,d,o);return d}return n=0<i?"KeyboardEvent":"Event",u.prototype=t.prototype,u}(e.KeyboardEvent||function(){}),m(e,"KeyboardEvent",{value:t}),KeyboardEvent!==t&&(KeyboardEvent=t)}try{new MouseEvent("_",{})}catch(t){t=function(t){function n(t,n){r(arguments.length,"MouseEvent");var i=p.createEvent("MouseEvent");return n||(n={}),i.initMouseEvent(t,!!n.bubbles,!!n.cancelable,n.view||e,n.detail||1,n.screenX||0,n.screenY||0,n.clientX||0,n.clientY||0,!!n.ctrlKey,!!n.altKey,!!n.shiftKey,!!n.metaKey,n.button||0,n.relatedTarget||null),i}return n.prototype=t.prototype,n}(e.MouseEvent||function(){}),m(e,"MouseEvent",{value:t}),MouseEvent!==t&&(MouseEvent=t)}p.querySelectorAll("*").forEach||function(){function e(e){var t=e.querySelectorAll;e.querySelectorAll=function(e){var n=t.call(this,e);return n.forEach=Array.prototype.forEach,n}}e(p),e(Element.prototype)}();try{p.querySelector(":scope *")}catch(e){!function(){var e="data-scope-"+(1e9*Math.random()>>>0),t=Element.prototype,n=t.querySelector,i=t.querySelectorAll;function r(t,n,i){if(t.type!=p.ELEMENT_NODE)return n.call(t,i);t.setAttribute(e,null);var r=n.call(t,String(i).replace(/(^|,\s*)(:scope([ >]|$))/g,(function(t,n,i,r){return n+"["+e+"]"+(r||" ")})));return t.removeAttribute(e),r}t.querySelector=function(e){return r(this,n,e)},t.querySelectorAll=function(e){return r(this,i,e)}}()}}(window),function(e){var t=e.WeakMap||function(){var e,t=0,n=!1,i=!1;function r(t,r,a){i=a,n=!1,e=void 0,t.dispatchEvent(r)}function a(e){this.value=e}function s(){t++,this.__ce__=new o("@DOMMap:"+t+Math.random())}return a.prototype.handleEvent=function(t){n=!0,i?t.currentTarget.removeEventListener(t.type,this,!1):e=this.value},s.prototype={constructor:s,delete:function(e){return r(e,this.__ce__,!0),n},get:function(t){r(t,this.__ce__,!1);var n=e;return e=void 0,n},has:function(e){return r(e,this.__ce__,!1),n},set:function(e,t){return r(e,this.__ce__,!0),e.addEventListener(this.__ce__.type,new a(t),!1),this}},s}();function n(){}function i(e,t,n){function r(e){r.once&&(e.currentTarget.removeEventListener(e.type,t,r),r.removed=!0),r.passive&&(e.preventDefault=i.preventDefault),"function"==typeof r.callback?r.callback.call(this,e):r.callback&&r.callback.handleEvent(e),r.passive&&delete e.preventDefault}return r.type=e,r.callback=t,r.capture=!!n.capture,r.passive=!!n.passive,r.once=!!n.once,r.removed=!1,r}n.prototype=(Object.create||Object)(null),i.preventDefault=function(){};var r,a,o=e.CustomEvent,s=e.dispatchEvent,l=e.addEventListener,c=e.removeEventListener,u=0,d=function(){u++},p=[].indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},f=function(e){return"".concat(e.capture?"1":"0",e.passive?"1":"0",e.once?"1":"0")};try{l("_",d,{once:!0}),s(new o("_")),s(new o("_")),c("_",d,{once:!0})}catch(e){}1!==u&&(a=new t,r=function(e){if(e){var t=e.prototype;t.addEventListener=function(e){return function(t,r,o){if(o&&"boolean"!=typeof o){var s,l,c,u=a.get(this),d=f(o);u||a.set(this,u=new n),t in u||(u[t]={handler:[],wrap:[]}),l=u[t],(s=p.call(l.handler,r))<0?(s=l.handler.push(r)-1,l.wrap[s]=c=new n):c=l.wrap[s],d in c||(c[d]=i(t,r,o),e.call(this,t,c[d],c[d].capture))}else e.call(this,t,r,o)}}(t.addEventListener),t.removeEventListener=function(e){return function(t,n,i){if(i&&"boolean"!=typeof i){var r,o,s,l,c=a.get(this);if(c&&t in c&&(s=c[t],-1<(o=p.call(s.handler,n))&&(r=f(i))in(l=s.wrap[o]))){for(r in e.call(this,t,l[r],l[r].capture),delete l[r],l)return;s.handler.splice(o,1),s.wrap.splice(o,1),0===s.handler.length&&delete c[t]}}else e.call(this,t,n,i)}}(t.removeEventListener)}},e.EventTarget?r(EventTarget):(r(e.Text),r(e.Element||e.HTMLElement),r(e.HTMLDocument),r(e.Window||{prototype:e}),r(e.XMLHttpRequest)))}(self)},{}],301:[function(e,t,n){"use strict";var i={};function r(e){var t=i[e];return t?t.lastIndex=0:i[e]=t=new RegExp("(?:^|\\s)"+e+"(?:\\s|$)","g"),t}t.exports={add:function(e,t){var n=e.className;n.length?r(t).test(n)||(e.className+=" "+t):e.className=t},rm:function(e,t){e.className=e.className.replace(r(t)," ").trim()}}},{}],302:[function(e,t,n){(function(n){(function(){"use strict";var i=e("contra/emitter"),r=e("crossvent"),a=e("./classes"),o=document,s=o.documentElement;function l(e,t,i,a){n.navigator.pointerEnabled?r[t](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[i],a):n.navigator.msPointerEnabled?r[t](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[i],a):(r[t](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[i],a),r[t](e,i,a))}function c(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}function u(e){var t=e.getBoundingClientRect();return{left:t.left+d("scrollLeft","pageXOffset"),top:t.top+d("scrollTop","pageYOffset")}}function d(e,t){return void 0!==n[t]?n[t]:s.clientHeight?s[e]:o.body[e]}function p(e,t,n){var i,r=(e=e||{}).className||"";return e.className+=" gu-hide",i=o.elementFromPoint(t,n),e.className=r,i}function f(){return!1}function m(){return!0}function h(e){return e.width||e.right-e.left}function g(e){return e.height||e.bottom-e.top}function v(e){return e.parentNode===o?null:e.parentNode}function y(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||b(e)}function b(e){return!!e&&("false"!==e.contentEditable&&("true"===e.contentEditable||b(v(e))))}function _(e){return e.nextElementSibling||function(){var t=e;do{t=t.nextSibling}while(t&&1!==t.nodeType);return t}()}function E(e,t){var n=function(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}(t),i={pageX:"clientX",pageY:"clientY"};return e in i&&!(e in n)&&i[e]in n&&(e=i[e]),n[e]}t.exports=function(e,t){var n,d,b,x,w,S,C,k,T,I,A,D=arguments.length;1===D&&!1===Array.isArray(e)&&(t=e,e=[]);var O,P=null,N=t||{};void 0===N.moves&&(N.moves=m),void 0===N.accepts&&(N.accepts=m),void 0===N.invalid&&(N.invalid=W),void 0===N.containers&&(N.containers=e||[]),void 0===N.isContainer&&(N.isContainer=f),void 0===N.copy&&(N.copy=!1),void 0===N.copySortSource&&(N.copySortSource=!1),void 0===N.revertOnSpill&&(N.revertOnSpill=!1),void 0===N.removeOnSpill&&(N.removeOnSpill=!1),void 0===N.direction&&(N.direction="vertical"),void 0===N.ignoreInputTextSelection&&(N.ignoreInputTextSelection=!0),void 0===N.mirrorContainer&&(N.mirrorContainer=o.body);var M=i({containers:N.containers,start:q,end:Y,cancel:Z,remove:Q,destroy:F,canMove:z,dragging:!1});return!0===N.removeOnSpill&&M.on("over",re).on("out",ae),L(),M;function R(e){return-1!==M.containers.indexOf(e)||N.isContainer(e)}function L(e){var t=e?"remove":"add";l(s,t,"mousedown",V),l(s,t,"mouseup",X)}function $(e){l(s,e?"remove":"add","mousemove",U)}function j(e){var t=e?"remove":"add";r[t](s,"selectstart",B),r[t](s,"click",B)}function F(){L(!0),X({})}function B(e){O&&e.preventDefault()}function V(e){if(S=e.clientX,C=e.clientY,!(1!==c(e)||e.metaKey||e.ctrlKey)){var t=e.target,n=H(t);n&&(O=n,$(),"mousedown"===e.type&&(y(t)?t.focus():e.preventDefault()))}}function U(e){if(O)if(0!==c(e)){if(!(void 0!==e.clientX&&Math.abs(e.clientX-S)<=(N.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-C)<=(N.slideFactorY||0))){if(N.ignoreInputTextSelection){var t=E("clientX",e)||0,n=E("clientY",e)||0;if(y(o.elementFromPoint(t,n)))return}var i=O;$(!0),j(),Y(),G(i);var r=u(b);x=E("pageX",e)-r.left,w=E("pageY",e)-r.top,a.add(I||b,"gu-transit"),oe(),ie(e)}}else X({})}function H(e){if(!(M.dragging&&n||R(e))){for(var t=e;v(e)&&!1===R(v(e));){if(N.invalid(e,t))return;if(!(e=v(e)))return}var i=v(e);if(i)if(!N.invalid(e,t))if(N.moves(e,i,t,_(e)))return{item:e,source:i}}}function z(e){return!!H(e)}function q(e){var t=H(e);t&&G(t)}function G(e){ue(e.item,e.source)&&(I=e.item.cloneNode(!0),M.emit("cloned",I,e.item,"copy")),d=e.source,b=e.item,k=T=_(e.item),M.dragging=!0,M.emit("drag",b,d)}function W(){return!1}function Y(){if(M.dragging){var e=I||b;J(e,v(e))}}function K(){O=!1,$(!0),j(!0)}function X(e){if(K(),M.dragging){var t=I||b,i=E("clientX",e)||0,r=E("clientY",e)||0,a=ne(p(n,i,r),i,r);a&&(I&&N.copySortSource||!I||a!==d)?J(t,a):N.removeOnSpill?Q():Z()}}function J(e,t){var n=v(e);I&&N.copySortSource&&t===d&&n.removeChild(b),te(t)?M.emit("cancel",e,d,d):M.emit("drop",e,t,d,T),ee()}function Q(){if(M.dragging){var e=I||b,t=v(e);t&&t.removeChild(e),M.emit(I?"cancel":"remove",e,t,d),ee()}}function Z(e){if(M.dragging){var t=arguments.length>0?e:N.revertOnSpill,n=I||b,i=v(n),r=te(i);!1===r&&t&&(I?i&&i.removeChild(I):d.insertBefore(n,k)),r||t?M.emit("cancel",n,d,d):M.emit("drop",n,i,d,T),ee()}}function ee(){var e=I||b;K(),se(),e&&a.rm(e,"gu-transit"),A&&clearTimeout(A),M.dragging=!1,P&&M.emit("out",e,P,d),M.emit("dragend",e),d=b=I=k=T=A=P=null}function te(e,t){var i;return i=void 0!==t?t:n?T:_(I||b),e===d&&i===k}function ne(e,t,n){for(var i=e;i&&!r();)i=v(i);return i;function r(){if(!1===R(i))return!1;var r=le(i,e),a=ce(i,r,t,n);return!!te(i,a)||N.accepts(b,i,d,a)}}function ie(e){if(n){e.preventDefault();var t=E("clientX",e)||0,i=E("clientY",e)||0,r=t-x,a=i-w;n.style.left=r+"px",n.style.top=a+"px";var o=I||b,s=p(n,t,i),l=ne(s,t,i),c=null!==l&&l!==P;(c||null===l)&&(P&&h("out"),P=l,c&&h("over"));var u=v(o);if(l!==d||!I||N.copySortSource){var f,m=le(l,s);if(null!==m)f=ce(l,m,t,i);else{if(!0!==N.revertOnSpill||I)return void(I&&u&&u.removeChild(o));f=k,l=d}(null===f&&c||f!==o&&f!==_(o))&&(T=f,l.insertBefore(o,f),M.emit("shadow",o,l,d))}else u&&u.removeChild(o)}function h(e){M.emit(e,o,P,d)}}function re(e){a.rm(e,"gu-hide")}function ae(e){M.dragging&&a.add(e,"gu-hide")}function oe(){if(!n){var e=b.getBoundingClientRect();(n=b.cloneNode(!0)).style.width=h(e)+"px",n.style.height=g(e)+"px",a.rm(n,"gu-transit"),a.add(n,"gu-mirror"),N.mirrorContainer.appendChild(n),l(s,"add","mousemove",ie),a.add(N.mirrorContainer,"gu-unselectable"),M.emit("cloned",n,b,"mirror")}}function se(){n&&(a.rm(N.mirrorContainer,"gu-unselectable"),l(s,"remove","mousemove",ie),v(n).removeChild(n),n=null)}function le(e,t){for(var n=t;n!==e&&v(n)!==e;)n=v(n);return n===s?null:n}function ce(e,t,n,i){var r="horizontal"===N.direction;return t!==e?function(){var e=t.getBoundingClientRect();if(r)return a(n>e.left+h(e)/2);return a(i>e.top+g(e)/2)}():function(){var t,a,o,s=e.children.length;for(t=0;t<s;t++){if(a=e.children[t],o=a.getBoundingClientRect(),r&&o.left+o.width/2>n)return a;if(!r&&o.top+o.height/2>i)return a}return null}();function a(e){return e?_(t):t}}function ue(e,t){return"boolean"==typeof N.copy?N.copy:N.copy(e,t)}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":301,"contra/emitter":190,crossvent:243}],303:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r,a="object"===("undefined"==typeof Reflect?"undefined":i(Reflect))?Reflect:null,o=a&&"function"==typeof a.apply?a.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function l(){l.init.call(this)}t.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var c=10;function u(e){return void 0===e._maxListeners?l.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var a,o,s,l;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+i(n));if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(a=u(e))>0&&s.length>a&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,l=c,console&&console.warn&&console.warn(l)}return e}function p(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function f(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=p.bind(i);return r.listener=n,i.wrapFn=r,r}function m(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},l.prototype.getMaxListeners=function(){return u(this)},l.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=r[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var c=l.length,u=g(l,c);for(n=0;n<c;++n)o(u[n],this,t)}return!0},l.prototype.addListener=function(e,t){return d(this,e,t,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(e,t){return d(this,e,t,!0)},l.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+i(t));return this.on(e,f(this,e,t)),this},l.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+i(t));return this.prependListener(e,f(this,e,t)),this},l.prototype.removeListener=function(e,t){var n,r,a,o,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+i(t));if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(a=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,a=o;break}if(a<0)return this;0===a?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,a),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,a=Object.keys(n);for(i=0;i<a.length;++i)"removeListener"!==(r=a[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},l.prototype.listeners=function(e){return m(this,e,!0)},l.prototype.rawListeners=function(e){return m(this,e,!1)},l.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},l.prototype.listenerCount=h,l.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},{}],304:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=e("./util").buildOptions,a={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},o=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function s(e){this.options=r(e,a,o),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=h),this.options.cdataTagName?this.isCDATA=g:this.isCDATA=function(){return!1},this.replaceCDATAstr=l,this.replaceCDATAarr=c,this.options.format?(this.indentate=m,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=f,this.buildObjNode=d):(this.buildTextNode=p,this.buildObjNode=u),this.buildTextValNode=p,this.buildObjectNode=u}function l(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function c(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(var n in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[n]+"]]>");return e+this.newLine}function u(e,t,n,i){return n&&!e.includes("<")?this.indentate(i)+"<"+t+n+">"+e+"</"+t+this.tagEndChar:this.indentate(i)+"<"+t+n+this.tagEndChar+e+this.indentate(i)+"</"+t+this.tagEndChar}function d(e,t,n,i){return""!==e?this.buildObjectNode(e,t,n,i):this.indentate(i)+"<"+t+n+"/"+this.tagEndChar}function p(e,t,n,i){return this.indentate(i)+"<"+t+n+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function f(e,t,n,i){return""!==e?this.buildTextValNode(e,t,n,i):this.indentate(i)+"<"+t+n+"/"+this.tagEndChar}function m(e){return this.options.indentBy.repeat(e)}function h(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function g(e){return e===this.options.cdataTagName}s.prototype.parse=function(e){return this.j2x(e,0).val},s.prototype.j2x=function(e,t){for(var n="",r="",a=Object.keys(e),o=a.length,s=0;s<o;s++){var l=a[s];if(void 0===e[l]);else if(null===e[l])r+=this.indentate(t)+"<"+l+"/"+this.tagEndChar;else if(e[l]instanceof Date)r+=this.buildTextNode(e[l],l,"",t);else if("object"!==i(e[l])){var c=this.isAttribute(l);c?n+=" "+c+'="'+this.options.attrValueProcessor(""+e[l])+'"':this.isCDATA(l)?e[this.options.textNodeName]?r+=this.replaceCDATAstr(e[this.options.textNodeName],e[l]):r+=this.replaceCDATAstr("",e[l]):l===this.options.textNodeName?e[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+e[l])):r+=this.buildTextNode(e[l],l,"",t)}else if(Array.isArray(e[l]))if(this.isCDATA(l))r+=this.indentate(t),e[this.options.textNodeName]?r+=this.replaceCDATAarr(e[this.options.textNodeName],e[l]):r+=this.replaceCDATAarr("",e[l]);else for(var u=e[l].length,d=0;d<u;d++){var p=e[l][d];if(void 0===p);else if(null===p)r+=this.indentate(t)+"<"+l+"/"+this.tagEndChar;else if("object"===i(p)){var f=this.j2x(p,t+1);r+=this.buildObjNode(f.val,l,f.attrStr,t)}else r+=this.buildTextNode(p,l,"",t)}else if(this.options.attrNodeName&&l===this.options.attrNodeName)for(var m=Object.keys(e[l]),h=m.length,g=0;g<h;g++)n+=" "+m[g]+'="'+this.options.attrValueProcessor(""+e[l][m[g]])+'"';else{var v=this.j2x(e[l],t+1);r+=this.buildObjNode(v.val,l,v.attrStr,t)}}return{attrStr:n,val:r}},t.exports=s},{"./util":309}],305:[function(e,t,n){"use strict";var i=function(e){return String.fromCharCode(e)},r={nilChar:i(176),missingChar:i(201),nilPremitive:i(175),missingPremitive:i(200),emptyChar:i(178),emptyValue:i(177),boundryChar:i(179),objStart:i(198),arrStart:i(204),arrayEnd:i(185)},a=[r.nilChar,r.nilPremitive,r.missingChar,r.missingPremitive,r.boundryChar,r.emptyChar,r.emptyValue,r.arrayEnd,r.objStart,r.arrStart],o=function e(t,n,i){if("string"==typeof n)return t&&t[0]&&void 0!==t[0].val?s(t[0].val,n):s(t,n);var a,o=void 0===(a=t)?r.missingChar:null===a?r.nilChar:!(a.child&&0===Object.keys(a.child).length&&(!a.attrsMap||0===Object.keys(a.attrsMap).length))||r.emptyChar;if(!0===o){var c="";if(Array.isArray(n)){c+=r.arrStart;var u=n[0],d=t.length;if("string"==typeof u)for(var p=0;p<d;p++){var f=s(t[p].val,u);c=l(c,f)}else for(var m=0;m<d;m++){var h=e(t[m],u,i);c=l(c,h)}c+=r.arrayEnd}else{c+=r.objStart;var g=Object.keys(n);for(var v in Array.isArray(t)&&(t=t[0]),g){var y=g[v],b=void 0;b=!i.ignoreAttributes&&t.attrsMap&&t.attrsMap[y]?e(t.attrsMap[y],n[y],i):y===i.textNodeName?e(t.val,n[y],i):e(t.child[y],n[y],i),c=l(c,b)}}return c}return o},s=function(e){switch(e){case void 0:return r.missingPremitive;case null:return r.nilPremitive;case"":return r.emptyValue;default:return e}},l=function(e,t){return c(t[0])||c(e[e.length-1])||(e+=r.boundryChar),e+t},c=function(e){return-1!==a.indexOf(e)};var u=e("./xmlstr2xmlnode"),d=e("./util").buildOptions;n.convert2nimn=function(e,t,n){return n=d(n,u.defaultOptions,u.props),o(e,t,n)}},{"./util":309,"./xmlstr2xmlnode":312}],306:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=e("./util");n.convertToJson=function e(t,n){var a={};if(!(t.child&&!r.isEmptyObject(t.child)||t.attrsMap&&!r.isEmptyObject(t.attrsMap)))return r.isExist(t.val)?t.val:"";r.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==n.cdataPositionChar)&&("strict"===n.arrayMode?a[n.textNodeName]=[t.val]:a[n.textNodeName]=t.val),r.merge(a,t.attrsMap,n.arrayMode);for(var o=Object.keys(t.child),s=0;s<o.length;s++){var l=o[s];if(t.child[l]&&t.child[l].length>1)for(var c in a[l]=[],t.child[l])t.child[l].hasOwnProperty(c)&&a[l].push(e(t.child[l][c],n));else if(!0===n.arrayMode){var u=e(t.child[l][0],n);"object"===i(u)?a[l]=[u]:a[l]=u}else"strict"===n.arrayMode?a[l]=[e(t.child[l][0],n)]:a[l]=e(t.child[l][0],n)}return a}},{"./util":309}],307:[function(e,t,n){"use strict";var i=e("./util"),r=e("./util").buildOptions,a=e("./xmlstr2xmlnode"),o=function e(t,n,r){for(var a,o="{",s=Object.keys(t.child),l=0;l<s.length;l++){var c=s[l];if(t.child[c]&&t.child[c].length>1){for(var u in o+='"'+c+'" : [ ',t.child[c])o+=e(t.child[c][u],n)+" , ";o=o.substr(0,o.length-1)+" ] "}else o+='"'+c+'" : '+e(t.child[c][0],n)+" ,"}return i.merge(o,t.attrsMap),i.isEmptyObject(o)?i.isExist(t.val)?t.val:"":(i.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==n.cdataPositionChar)&&(o+='"'+n.textNodeName+'" : '+(!0!==(a=t.val)&&!1!==a&&isNaN(a)?'"'+a+'"':a)),","===o[o.length-1]&&(o=o.substr(0,o.length-2)),o+"}")};n.convertToJsonString=function(e,t){return(t=r(t,a.defaultOptions,a.props)).indentBy=t.indentBy||"",o(e,t,0)}},{"./util":309,"./xmlstr2xmlnode":312}],308:[function(e,t,n){"use strict";var i=e("./node2json"),r=e("./xmlstr2xmlnode"),a=e("./xmlstr2xmlnode"),o=e("./util").buildOptions,s=e("./validator");n.parse=function(e,t,n){if(n){!0===n&&(n={});var l=s.validate(e,n);if(!0!==l)throw Error(l.err.msg)}t=o(t,a.defaultOptions,a.props);var c=r.getTraversalObj(e,t);return i.convertToJson(c,t)},n.convertTonimn=e("../src/nimndata").convert2nimn,n.getTraversalObj=r.getTraversalObj,n.convertToJson=i.convertToJson,n.convertToJsonString=e("./node2json_str").convertToJsonString,n.validate=s.validate,n.j2xParser=e("./json2xml"),n.parseToNimn=function(e,t,i){return n.convertTonimn(n.getTraversalObj(e,i),t,i)}},{"../src/nimndata":305,"./json2xml":304,"./node2json":306,"./node2json_str":307,"./util":309,"./validator":310,"./xmlstr2xmlnode":312}],309:[function(e,t,n){"use strict";var i=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+i+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",a=new RegExp("^"+r+"$");n.isExist=function(e){return void 0!==e},n.isEmptyObject=function(e){return 0===Object.keys(e).length},n.merge=function(e,t,n){if(t)for(var i=Object.keys(t),r=i.length,a=0;a<r;a++)e[i[a]]="strict"===n?[t[i[a]]]:t[i[a]]},n.getValue=function(e){return n.isExist(e)?e:""},n.buildOptions=function(e,t,n){var i={};if(!e)return t;for(var r=0;r<n.length;r++)void 0!==e[n[r]]?i[n[r]]=e[n[r]]:i[n[r]]=t[n[r]];return i},n.isName=function(e){var t=a.exec(e);return!(null==t)},n.getAllMatches=function(e,t){for(var n=[],i=t.exec(e);i;){for(var r=[],a=i.length,o=0;o<a;o++)r.push(i[o]);n.push(r),i=t.exec(e)}return n},n.nameRegexp=r},{}],310:[function(e,t,n){"use strict";var i=e("./util"),r={allowBooleanAttributes:!1},a=["allowBooleanAttributes"];function o(e,t){for(var n=t;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{var i=e.substr(n,t-n);if(t>5&&"xml"===i)return p("InvalidXml","XML declaration allowed only at the start of the document.",m(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function s(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){var n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&0===--n)break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}n.validate=function(e,t){t=i.buildOptions(t,r,a);var n,c=[],f=!1,h=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(var g=0;g<e.length;g++){if("<"!==e[g]){if(" "===e[g]||"\t"===e[g]||"\n"===e[g]||"\r"===e[g])continue;return p("InvalidChar","char '"+e[g]+"' is not expected.",m(e,g))}if("?"===e[++g]){if((g=o(e,++g)).err)return g}else{if("!"===e[g]){g=s(e,g);continue}var v=!1;"/"===e[g]&&(v=!0,g++);for(var y="";g<e.length&&">"!==e[g]&&" "!==e[g]&&"\t"!==e[g]&&"\n"!==e[g]&&"\r"!==e[g];g++)y+=e[g];if("/"===(y=y.trim())[y.length-1]&&(y=y.substring(0,y.length-1),g--),n=y,!i.isName(n)){return p("InvalidTag",0===y.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '"+y+"' is an invalid name.",m(e,g))}var b=l(e,g);if(!1===b)return p("InvalidAttr","Attributes for '"+y+"' have open quote.",m(e,g));var _=b.value;if(g=b.index,"/"===_[_.length-1]){var E=u(_=_.substring(0,_.length-1),t);if(!0!==E)return p(E.err.code,E.err.msg,m(e,g-_.length+E.err.line));f=!0}else if(v){if(!b.tagClosed)return p("InvalidTag","Closing tag '"+y+"' doesn't have proper closing.",m(e,g));if(_.trim().length>0)return p("InvalidTag","Closing tag '"+y+"' can't have attributes or invalid starting.",m(e,g));var x=c.pop();if(y!==x)return p("InvalidTag","Closing tag '"+x+"' is expected inplace of '"+y+"'.",m(e,g));0==c.length&&(h=!0)}else{var w=u(_,t);if(!0!==w)return p(w.err.code,w.err.msg,m(e,g-_.length+w.err.line));if(!0===h)return p("InvalidXml","Multiple possible root nodes found.",m(e,g));c.push(y),f=!0}for(g++;g<e.length;g++){if("<"===e[g]){if("!"===e[g+1]){g=s(e,++g);continue}break}if("&"===e[g]){var S=d(e,g);if(-1==S)return p("InvalidChar","char '&' is not expected.",m(e,g));g=S}}"<"===e[g]&&g--}}return f?!(c.length>0)||p("InvalidXml","Invalid '"+JSON.stringify(c,null,4).replace(/\r?\n/g,"")+"' found.",1):p("InvalidXml","Start tag expected.",1)};function l(e,t){for(var n="",i="",r=!1;t<e.length;t++){if('"'===e[t]||"'"===e[t])if(""===i)i=e[t];else{if(i!==e[t])continue;i=""}else if(">"===e[t]&&""===i){r=!0;break}n+=e[t]}return""===i&&{value:n,index:t,tagClosed:r}}var c=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function u(e,t){for(var n=i.getAllMatches(e,c),r={},a=0;a<n.length;a++){if(0===n[a][1].length)return p("InvalidAttr","Attribute '"+n[a][2]+"' has no space in starting.",h(e,n[a][0]));if(void 0===n[a][3]&&!t.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+n[a][2]+"' is not allowed.",h(e,n[a][0]));var o=n[a][2];if(!f(o))return p("InvalidAttr","Attribute '"+o+"' is an invalid name.",h(e,n[a][0]));if(r.hasOwnProperty(o))return p("InvalidAttr","Attribute '"+o+"' is repeated.",h(e,n[a][0]));r[o]=1}return!0}function d(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){var n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);for(var n=0;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function p(e,t,n){return{err:{code:e,msg:t,line:n}}}function f(e){return i.isName(e)}function m(e,t){return e.substring(0,t).split(/\r?\n/).length}function h(e,t){return e.indexOf(t)+t.length}},{"./util":309}],311:[function(e,t,n){"use strict";t.exports=function(e,t,n){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=n,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}}},{}],312:[function(e,t,n){"use strict";var i=e("./util"),r=e("./util").buildOptions,a=e("./xmlNode");"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,i.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var o={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[]};n.defaultOptions=o;var s=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];function l(e,t,n){return t&&(n.trimValues&&(t=t.trim()),t=u(t=n.tagValueProcessor(t,e),n.parseNodeValue,n.parseTrueNumberOnly)),t}function c(e,t){if(t.ignoreNameSpace){var n=e.split(":"),i="/"===e.charAt(0)?"/":"";if("xmlns"===n[0])return"";2===n.length&&(e=i+n[1])}return e}function u(e,t,n){var r;return t&&"string"==typeof e?(""===e.trim()||isNaN(e)?r="true"===e||"false"!==e&&e:(-1!==e.indexOf("0x")?r=Number.parseInt(e,16):-1!==e.indexOf(".")?(r=Number.parseFloat(e),e=e.replace(/\.?0+$/,"")):r=Number.parseInt(e,10),n&&(r=String(r)===e?r:e)),r):i.isExist(e)?e:""}n.props=s;var d=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function p(e,t){if(!t.ignoreAttributes&&"string"==typeof e){e=e.replace(/\r?\n/g," ");for(var n=i.getAllMatches(e,d),r=n.length,a={},o=0;o<r;o++){var s=c(n[o][1],t);s.length&&(void 0!==n[o][4]?(t.trimValues&&(n[o][4]=n[o][4].trim()),n[o][4]=t.attrValueProcessor(n[o][4],s),a[t.attributeNamePrefix+s]=u(n[o][4],t.parseAttributeValue,t.parseTrueNumberOnly)):t.allowBooleanAttributes&&(a[t.attributeNamePrefix+s]=!0))}if(!Object.keys(a).length)return;if(t.attrNodeName){var l={};return l[t.attrNodeName]=a,l}return a}}function f(e,t){for(var n,i="",r=t;r<e.length;r++){var a=e[r];if(n)a===n&&(n="");else if('"'===a||"'"===a)n=a;else{if(">"===a)return{data:i,index:r};"\t"===a&&(a=" ")}i+=a}}function m(e,t,n,i){var r=e.indexOf(t,n);if(-1===r)throw new Error(i);return r+t.length-1}n.getTraversalObj=function(e,t){e=e.replace(/\r\n?/g,"\n"),t=r(t,o,s);for(var n=new a("!xml"),c=n,u="",d=0;d<e.length;d++){if("<"===e[d])if("/"===e[d+1]){var h=m(e,">",d,"Closing Tag is not closed."),g=e.substring(d+2,h).trim();if(t.ignoreNameSpace){var v=g.indexOf(":");-1!==v&&(g=g.substr(v+1))}c&&(c.val?c.val=i.getValue(c.val)+""+l(g,u,t):c.val=l(g,u,t)),t.stopNodes.length&&t.stopNodes.includes(c.tagname)&&(c.child=[],null==c.attrsMap&&(c.attrsMap={}),c.val=e.substr(c.startIndex+1,d-c.startIndex-1)),c=c.parent,u="",d=h}else if("?"===e[d+1])d=m(e,"?>",d,"Pi Tag is not closed.");else if("!--"===e.substr(d+1,3))d=m(e,"--\x3e",d,"Comment is not closed.");else if("!D"===e.substr(d+1,2)){var y=m(e,">",d,"DOCTYPE is not closed.");d=e.substring(d,y).indexOf("[")>=0?e.indexOf("]>",d)+1:y}else if("!["===e.substr(d+1,2)){var b=m(e,"]]>",d,"CDATA is not closed.")-2,_=e.substring(d+9,b);if(u&&(c.val=i.getValue(c.val)+""+l(c.tagname,u,t),u=""),t.cdataTagName){var E=new a(t.cdataTagName,c,_);c.addChild(E),c.val=i.getValue(c.val)+t.cdataPositionChar,_&&(E.val=_)}else c.val=(c.val||"")+(_||"");d=b+2}else{var x=f(e,d+1),w=x.data,S=x.index,C=w.indexOf(" "),k=w;if(-1!==C&&(k=w.substr(0,C).replace(/\s\s*$/,""),w=w.substr(C+1)),t.ignoreNameSpace){var T=k.indexOf(":");-1!==T&&(k=k.substr(T+1))}if(c&&u&&"!xml"!==c.tagname&&(c.val=i.getValue(c.val)+""+l(c.tagname,u,t)),w.length>0&&w.lastIndexOf("/")===w.length-1){w="/"===k[k.length-1]?k=k.substr(0,k.length-1):w.substr(0,w.length-1);var I=new a(k,c,"");k!==w&&(I.attrsMap=p(w,t)),c.addChild(I)}else{var A=new a(k,c);t.stopNodes.length&&t.stopNodes.includes(A.tagname)&&(A.startIndex=S),k!==w&&(A.attrsMap=p(w,t)),c.addChild(A),c=A}u="",d=S}else u+=e[d]}return n}},{"./util":309,"./xmlNode":311}],313:[function(e,t,n){"use strict";var i=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=e.exports=function(e,n){if(n||(n=16),void 0===e&&(e=128),e<=0)return"0";for(var i=Math.log(Math.pow(2,e))/Math.log(n),r=2;i===1/0;r*=2)i=Math.log(Math.pow(2,e/r))/Math.log(n)*r;var a=i-Math.floor(i),o="";for(r=0;r<Math.floor(i);r++){o=Math.floor(Math.random()*n).toString(n)+o}if(a){var s=Math.pow(n,a);o=Math.floor(Math.random()*s).toString(n)+o}var l=parseInt(o,n);return l!==1/0&&l>=Math.pow(2,e)?t(e,n):o};t.rack=function(e,n,i){var r=function(r){var o=0;do{if(o++>10){if(!i)throw new Error("too many ID collisions, use more bits");e+=i}var s=t(e,n)}while(Object.hasOwnProperty.call(a,s));return a[s]=r,s},a=r.hats={};return r.get=function(e){return r.hats[e]},r.set=function(e,t){return r.hats[e]=t,r},r.bits=e||128,r.base=n||16,r}}));function r(e){if(!(this instanceof r))return new r(e);e=e||[128,36,1],this._seed=e.length?i.rack(e[0],e[1],e[2]):e}r.prototype.next=function(e){return this._seed(e||!0)},r.prototype.nextPrefixed=function(e,t){var n;do{n=e+this.next(!0)}while(this.assigned(n));return this.claim(n,t),n},r.prototype.claim=function(e,t){this._seed.set(e,t||!0)},r.prototype.assigned=function(e){return this._seed.get(e)||!1},r.prototype.unclaim=function(e){delete this._seed.hats[e]},r.prototype.clear=function(){var e,t=this._seed.hats;for(e in t)this.unclaim(e)},t.exports=r},{}],314:[function(e,t,n){"use strict";"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],315:[function(e,t,n){"use strict";
/*!
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */(function(e){e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(n){return!!e.data(n,t)}})):function(t,n,i){return!!e.data(t,i[3])}})})(jQuery)},{}],316:[function(e,t,n){"use strict";(function(e){e.ui.plugin={add:function(t,n,i){var r,a=e.ui[t].prototype;for(r in i)a.plugins[r]=a.plugins[r]||[],a.plugins[r].push([n,i[r]])},call:function(e,t,n,i){var r,a=e.plugins[t];if(a&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<a.length;r++)e.options[a[r][0]]&&a[r][1].apply(e.element,n)}}})(jQuery)},{}],317:[function(e,t,n){"use strict";(function(e){e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(n){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}})(jQuery)},{}],318:[function(e,t,n){"use strict";(function(e){e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")}})(jQuery)},{}],319:[function(e,t,n){"use strict";
/*!
 * jQuery UI Scroll Parent 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */(function(e){e.fn.scrollParent=function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter((function(){var t=e(this);return(!i||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==n&&a.length?a:e(this[0].ownerDocument||document)}})(jQuery)},{}],320:[function(e,t,n){"use strict";(function(e){e.ui=e.ui||{},e.ui.version="1.12.1"})(jQuery)},{}],321:[function(e,t,n){"use strict";
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */(function(e){var t,n=0,i=Array.prototype.slice;e.cleanData=(t=e.cleanData,function(n){var i,r,a;for(a=0;null!=(r=n[a]);a++)try{(i=e._data(r,"events"))&&i.remove&&e(r).triggerHandler("remove")}catch(e){}t(n)}),e.widget=function(t,n,i){var r,a,o,s={},l=t.split(".")[0],c=l+"-"+(t=t.split(".")[1]);return i||(i=n,n=e.Widget),e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},r=e[l][t],a=e[l][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(o=new n).options=e.widget.extend({},o.options),e.each(i,(function(t,i){e.isFunction(i)?s[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function r(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,a=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=a,t}}():s[t]=i})),a.prototype=e.widget.extend(o,{widgetEventPrefix:r&&o.widgetEventPrefix||t},s,{constructor:a,namespace:l,widgetName:t,widgetFullName:c}),r?(e.each(r._childConstructors,(function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)})),delete r._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,r,a=i.call(arguments,1),o=0,s=a.length;o<s;o++)for(n in a[o])r=a[o][n],a[o].hasOwnProperty(n)&&void 0!==r&&(e.isPlainObject(r)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):t[n]=r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(a){var o="string"==typeof a,s=i.call(arguments,1),l=this;return o?this.length||"instance"!==a?this.each((function(){var n,i=e.data(this,r);return"instance"===a?(l=i,!1):i?e.isFunction(i[a])&&"_"!==a.charAt(0)?(n=i[a].apply(i,s))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'")})):l=void 0:(s.length&&(a=e.widget.extend.apply(null,[a].concat(s))),this.each((function(){var t=e.data(this,r);t?(t.option(a||{}),t._init&&t._init()):e.data(this,r,new n(a,this))}))),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,(function(e,n){t._removeClass(n,e)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},i=t.split("."),t=i.shift(),i.length){for(r=o[t]=e.widget.extend({},this.options[t]),a=0;a<i.length-1;a++)r[i[a]]=r[i[a]]||{},r=r[i[a]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=n}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,i,r;for(n in t)r=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&r&&r.length&&(i=e(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var n=[],i=this;function r(r,a){var o,s;for(s=0;s<r.length;s++)o=i.classesElementLookup[r[s]]||e(),o=t.add?e(e.unique(o.get().concat(t.element.get()))):e(o.not(t.element).get()),i.classesElementLookup[r[s]]=o,n.push(r[s]),a&&t.classes[r[s]]&&n.push(t.classes[r[s]])}return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&r(t.keys.match(/\S+/g)||[],!0),t.extra&&r(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,(function(i,r){-1!==e.inArray(t.target,r)&&(n.classesElementLookup[i]=e(r.not(t.target).get()))}))},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof e||null===e,a={extra:r?t:n,keys:r?e:t,element:r?this.element:e,add:i};return a.element.toggleClass(this._classes(a),i),this},_on:function(t,n,i){var r,a=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,(function(i,o){function s(){if(t||!0!==a.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof o?a[o]:o).apply(a,arguments)}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?r.on(c,u,s):n.on(c,s)}))},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout((function(){return("string"==typeof e?n[e]:e).apply(n,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,i){var r,a,o=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],a=n.originalEvent)for(r in a)r in n||(n[r]=a[r]);return this.element.trigger(n,i),!(e.isFunction(o)&&!1===o.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(i,r,a){var o;"string"==typeof r&&(r={effect:r});var s=r?!0===r||"number"==typeof r?n:r.effect||n:t;"number"==typeof(r=r||{})&&(r={duration:r}),o=!e.isEmptyObject(r),r.complete=a,r.delay&&i.delay(r.delay),o&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,a):i.queue((function(n){e(this)[t](),a&&a.call(i[0]),n()}))}})),e.widget})(jQuery)},{}],322:[function(e,t,n){"use strict";
/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */(function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(t),!this.handle||(this._blurActiveElement(t),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),0)))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map((function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(n).length||e.ui.safeBlur(n)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===e(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==n._trigger("stop",t)&&n._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),r=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options,a=this.document[0];this.relativeContainer=null,r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),(i=(n=e(r.containment))[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=r.containment:this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,a,o=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),o.grid&&(r=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-o.grid[1]:r+o.grid[1]:r,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=n?a-this.offset.click.left>=n[0]||a-this.offset.click.left>n[2]?a:a-this.offset.click.left>=n[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var r=e.extend({},n,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each((function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,r))}))},stop:function(t,n,i){var r=e.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,(function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,r))}))},drag:function(t,n,i){e.each(i.sortables,(function(){var r=!1,a=this;a.positionAbs=i.positionAbs,a.helperProportions=i.helperProportions,a.offset.click=i.offset.click,a._intersectsWith(a.containerCache)&&(r=!0,e.each(i.sortables,(function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(r=!1),r}))),r?(a.isOver||(a.isOver=1,i._parent=n.helper.parent(),a.currentItem=n.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return n.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=i.offset.click.top,a.offset.click.left=i.offset.click.left,a.offset.parent.left-=i.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=i.offset.parent.top-a.offset.parent.top,i._trigger("toSortable",t),i.dropped=a.element,e.each(i.sortables,(function(){this.refreshPositions()})),i.currentItem=i.element,a.fromOutside=i),a.currentItem&&(a._mouseDrag(t),n.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(t),n.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,(function(){this.refreshPositions()})))}))}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var r=e("body"),a=i.options;r.css("cursor")&&(a._cursor=r.css("cursor")),r.css("cursor",a.cursor)},stop:function(t,n,i){var r=i.options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var r=e(n.helper),a=i.options;r.css("opacity")&&(a._opacity=r.css("opacity")),r.css("opacity",a.opacity)},stop:function(t,n,i){var r=i.options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var r=i.options,a=!1,o=i.scrollParentNotHidden[0],s=i.document[0];o!==s&&"HTML"!==o.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+o.offsetHeight-t.pageY<r.scrollSensitivity?o.scrollTop=a=o.scrollTop+r.scrollSpeed:t.pageY-i.overflowOffset.top<r.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+o.offsetWidth-t.pageX<r.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+r.scrollSpeed:t.pageX-i.overflowOffset.left<r.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(s).scrollTop()<r.scrollSensitivity?a=e(s).scrollTop(e(s).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<r.scrollSensitivity&&(a=e(s).scrollTop(e(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(s).scrollLeft()<r.scrollSensitivity?a=e(s).scrollLeft(e(s).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<r.scrollSensitivity&&(a=e(s).scrollLeft(e(s).scrollLeft()+r.scrollSpeed)))),!1!==a&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var r=i.options;i.snapElements=[],e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each((function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})}))},drag:function(t,n,i){var r,a,o,s,l,c,u,d,p,f,m=i.options,h=m.snapTolerance,g=n.offset.left,v=g+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(p=i.snapElements.length-1;p>=0;p--)c=(l=i.snapElements[p].left-i.margins.left)+i.snapElements[p].width,d=(u=i.snapElements[p].top-i.margins.top)+i.snapElements[p].height,v<l-h||g>c+h||b<u-h||y>d+h||!e.contains(i.snapElements[p].item.ownerDocument,i.snapElements[p].item)?(i.snapElements[p].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[p].item})),i.snapElements[p].snapping=!1):("inner"!==m.snapMode&&(r=Math.abs(u-b)<=h,a=Math.abs(d-y)<=h,o=Math.abs(l-v)<=h,s=Math.abs(c-g)<=h,r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),a&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),o&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),f=r||a||o||s,"outer"!==m.snapMode&&(r=Math.abs(u-y)<=h,a=Math.abs(d-b)<=h,o=Math.abs(l-g)<=h,s=Math.abs(c-v)<=h,r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),a&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),o&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[p].snapping&&(r||a||o||s||f)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[p].item})),i.snapElements[p].snapping=r||a||o||s||f)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var r,a=i.options,o=e.makeArray(e(a.stack)).sort((function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)}));o.length&&(r=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each((function(t){e(this).css("zIndex",r+t)})),this.css("zIndex",r+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var r=e(n.helper),a=i.options;r.css("zIndex")&&(a._zIndex=r.css("zIndex")),r.css("zIndex",a.zIndex)},stop:function(t,n,i){var r=i.options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}}),e.ui.draggable})(jQuery)},{}],323:[function(e,t,n){"use strict";
/*!
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */(function(e){var t=!1;e(document).on("mouseup",(function(){t=!1})),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).on("click."+this.widgetName,(function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,a=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&e(n.target).closest(this.options.cancel).length;return!(r&&!a&&this._mouseCapture(n)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){i.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,0)))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&e.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,n.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery)},{}],324:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=Object.prototype.toString,r=Object.prototype.hasOwnProperty;function a(e){return void 0===e}function o(e){return void 0!==e}function s(e){return null==e}function l(e){return"[object Array]"===i.call(e)}function c(e){return"[object Object]"===i.call(e)}function u(e){var t=i.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function d(e){if(!l(e))throw new Error("must supply array")}function p(e,t){return r.call(e,t)}function f(e,t){var n;return t=w(t),m(e,(function(e,i){if(t(e,i))return n=e,!1})),n}function m(e,t){var n;if(!a(e)){var i=l(e)?C:S;for(var r in e)if(p(e,r)&&!1===t(n=e[r],i(r)))return n}}function h(e,t,n){return m(e,(function(e,i){n=t(n,e,i)})),n}function g(e,t){return!!h(e,(function(e,n,i){return e&&t(n,i)}),!0)}function v(e,t){var n=[];return m(e,(function(e,i){n.push(t(e,i))})),n}function y(e){return e&&Object.keys(e)||[]}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=x(t),m(e,(function(e){var i=t(e)||"_",r=n[i];r||(r=n[i]=[]),r.push(e)})),n}function _(e){e=x(e);for(var t={},n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];m(i,(function(n){return b(n,e,t)}));var a=v(t,(function(e,t){return e[0]}));return a}var E=_;function x(e){return u(e)?e:function(t){return t[e]}}function w(e){return u(e)?e:function(t){return t===e}}function S(e){return e}function C(e){return Number(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}n.assign=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return k.apply(void 0,[e].concat(n))},n.bind=function(e,t){return e.bind(t)},n.debounce=function(e,t){var n,i,r,a;function o(){var o=Date.now(),l=a+t-o;if(l>0)return s(l);e.apply(r,i),n=a=i=r=void 0}function s(e){n=setTimeout(o,e)}return function(){a=Date.now();for(var e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];i=o,r=this,n||s(t)}},n.ensureArray=d,n.every=g,n.filter=function(e,t){var n=[];return m(e,(function(e,i){t(e,i)&&n.push(e)})),n},n.find=f,n.findIndex=function(e,t){t=w(t);var n=l(e)?-1:void 0;return m(e,(function(e,i){if(t(e,i))return n=i,!1})),n},n.flatten=function(e){return Array.prototype.concat.apply([],e)},n.forEach=m,n.get=function(e,t,n){var i=e;return m(t,(function(e){if(s(i))return i=void 0,!1;i=i[e]})),a(i)?n:i},n.groupBy=b,n.has=p,n.isArray=l,n.isDefined=o,n.isFunction=u,n.isNil=s,n.isNumber=function(e){return"[object Number]"===i.call(e)},n.isObject=c,n.isString=function(e){return"[object String]"===i.call(e)},n.isUndefined=a,n.keys=y,n.map=v,n.matchPattern=function(e){return function(t){return g(e,(function(e,n){return t[n]===e}))}},n.merge=function e(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.length?(m(i,(function(n){n&&c(n)&&m(n,(function(n,i){if("__proto__"!==i){var r=t[i];c(n)?(c(r)||(r={}),t[i]=e(r,n)):t[i]=n}}))})),t):t},n.omit=function(e,t){var n={};return m(Object(e),(function(e,i){-1===t.indexOf(i)&&(n[i]=e)})),n},n.pick=function(e,t){var n={},i=Object(e);return m(t,(function(t){t in i&&(n[t]=e[t])})),n},n.reduce=h,n.set=function(e,t,n){var i=e;return m(t,(function(e,r){if("__proto__"===e)throw new Error("illegal key: __proto__");var l=t[r+1],c=i[e];o(l)&&s(c)&&(c=i[e]=isNaN(+l)?{}:[]),a(l)?a(n)?delete i[e]:i[e]=n:i=c})),e},n.size=function(e){return y(e).length},n.some=function(e,t){return!!f(e,t)},n.sortBy=function(e,t){t=x(t);var n=[];return m(e,(function(e,i){for(var r=t(e,i),a={d:r,v:e},o=0;o<n.length;o++){if(r<n[o].d)return void n.splice(o,0,a)}n.push(a)})),v(n,(function(e){return e.v}))},n.throttle=function(e,t){var n=!1;return function(){n||(e.apply(void 0,arguments),n=!0,setTimeout((function(){n=!1}),t))}},n.unionBy=E,n.uniqueBy=_,n.values=function(e){return v(e,(function(e){return e}))},n.without=function(e,t){return a(e)?[]:(d(e),t=w(t),e.filter((function(e,n){return!t(e,n)})))}},{}],325:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=[].indexOf,r=function(e,t){if(i)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},a=/\s+/,o=Object.prototype.toString;function s(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}s.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~r(t,e)||t.push(e),this.el.className=t.join(" "),this},s.prototype.remove=function(e){if("[object RegExp]"==o.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},s.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},s.prototype.toggle=function(e,t){return this.list?(void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},s.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(a);return""===e[0]&&e.shift(),e},s.prototype.has=s.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)};var l="undefined"!=typeof Element?Element.prototype:{},c=l.matches||l.matchesSelector||l.webkitMatchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector,u=function(e,t){if(!e||1!==e.nodeType)return!1;if(c)return c.call(e,t);for(var n=e.parentNode.querySelectorAll(t),i=0;i<n.length;i++)if(n[i]==e)return!0;return!1};function d(e,t,n){for(var i=n?e:e.parentNode;i&&i.nodeType!==document.DOCUMENT_NODE&&i.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(u(i,t))return i;i=i.parentNode}return u(i,t)?i:null}var p=window.addEventListener?"addEventListener":"attachEvent",f=window.removeEventListener?"removeEventListener":"detachEvent",m="addEventListener"!==p?"on":"",h={bind:function(e,t,n,i){return e[p](m+t,n,i||!1),n},unbind:function(e,t,n,i){return e[f](m+t,n,i||!1),n}},g=["focus","blur"];var v,y={bind:function(e,t,n,i,r){return-1!==g.indexOf(n)&&(r=!0),h.bind(e,n,(function(n){var r=n.target||n.srcElement;n.delegateTarget=d(r,t,!0),n.delegateTarget&&i.call(e,n)}),r)},unbind:function(e,t,n,i){return-1!==g.indexOf(t)&&(i=!0),h.unbind(e,t,n,i)}},b=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i){return(r=t.createElement("html")).innerHTML=e,r.removeChild(r.lastChild)}var r,a=E[i]||E._default,o=a[0],s=a[1],l=a[2];(r=t.createElement("div")).innerHTML=s+e+l;for(;o--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);var c=t.createDocumentFragment();for(;r.firstChild;)c.appendChild(r.removeChild(r.firstChild));return c},_=!1;"undefined"!=typeof document&&((v=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',_=!v.getElementsByTagName("link").length,v=void 0);var E={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:_?[1,"X<div>","</div>"]:[0,"",""]};E.td=E.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],E.option=E.optgroup=[1,'<select multiple="multiple">',"</select>"],E.thead=E.tbody=E.colgroup=E.caption=E.tfoot=[1,"<table>","</table>"],E.polyline=E.ellipse=E.polygon=E.circle=E.text=E.line=E.path=E.rect=E.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"],n.attr=function(e,t,n){return 2==arguments.length?e.getAttribute(t):null===n?e.removeAttribute(t):(e.setAttribute(t,n),e)},n.classes=function(e){return new s(e)},n.clear=function(e){for(var t;e.childNodes.length;)t=e.childNodes[0],e.removeChild(t);return e},n.closest=d,n.delegate=y,n.domify=b,n.event=h,n.matches=u,n.query=function(e,t){return(t=t||document).querySelector(e)},n.queryAll=function(e,t){return(t=t||document).querySelectorAll(e)},n.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)}},{}],326:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("min-dash"),r=e("saxen"),a=e("moddle");function o(e){return e.xml&&"lowerCase"===e.xml.tagAlias}var s={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},l="xsi:type";function c(e){return e.xml&&e.xml.serialize}function u(e){return c(e)===l}function d(e,t){return o(t)?e.prefix+":"+((n=e.localName).charAt(0).toUpperCase()+n.slice(1)):e.name;var n}function p(e){return new Error(e)}function f(e){return e.$descriptor}function m(e){i.assign(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw p("expected element");var t,n=this.elementsById,i=f(e).idProperty;if(i&&(t=e.get(i.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(t))throw new Error("illegal ID <"+t+">");if(n[t])throw p("duplicate ID <"+t+">");n[t]=e}},this.addWarning=function(e){this.warnings.push(e)}}function h(){}function g(){}function v(){}function y(e,t){this.property=e,this.context=t}function b(e,t){this.element=t,this.propertyDesc=e}function _(){}function E(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function x(e,t,n){E.call(this,e,t,n)}function w(e,t,n){this.model=e,this.context=n}function S(e){e instanceof a.Moddle&&(e={model:e}),i.assign(this,{lax:!1},e)}h.prototype.handleEnd=function(){},h.prototype.handleText=function(){},h.prototype.handleNode=function(){},g.prototype=Object.create(h.prototype),g.prototype.handleNode=function(){return this},v.prototype=Object.create(h.prototype),v.prototype.handleText=function(e){this.body=(this.body||"")+e},y.prototype=Object.create(v.prototype),y.prototype.handleNode=function(e){if(this.element)throw p("expected no sub nodes");return this.element=this.createReference(e),this},y.prototype.handleEnd=function(){this.element.id=this.body},y.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},b.prototype=Object.create(v.prototype),b.prototype.handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=a.coerceType(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},_.prototype=Object.create(v.prototype),_.prototype.handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t},E.prototype=Object.create(_.prototype),E.prototype.addReference=function(e){this.context.addReference(e)},E.prototype.handleText=function(e){if(!f(this.element).bodyProperty)throw p("unexpected body text <"+e+">");v.prototype.handleText.call(this,e)},E.prototype.handleEnd=function(){var e=this.body,t=this.element,n=f(t).bodyProperty;n&&void 0!==e&&(e=a.coerceType(n.type,e),t.set(n.name,e))},E.prototype.createElement=function(e){var t,n=e.attributes,r=this.type,o=f(r),s=this.context,l=new r({}),c=this.model;return i.forEach(n,(function(e,n){var r,u=o.propertiesByName[n];u&&u.isReference?u.isMany?(r=e.split(" "),i.forEach(r,(function(e){s.addReference({element:l,property:u.ns.name,id:e})}))):s.addReference({element:l,property:u.ns.name,id:e}):(u?e=a.coerceType(u.type,e):"xmlns"!==n&&(t=a.parseNameNS(n,o.ns.prefix),c.getPackage(t.prefix)&&s.addWarning({message:"unknown attribute <"+n+">",element:l,property:n,value:e})),l.set(n,e))})),l},E.prototype.getPropertyForNode=function(e){var t,n,r=e.name,o=a.parseNameNS(r),s=this.type,c=this.model,m=f(s),h=o.name,g=m.propertiesByName[h];if(g&&!g.isAttr)return u(g)&&(t=e.attributes[l])?(t=function(e,t){var n=a.parseNameNS(e);return function(e,t){var n=e.name,i=e.localName,r=t.xml&&t.xml.typePrefix;return r&&0===i.indexOf(r)?e.prefix+":"+i.slice(r.length):n}(n,t.getPackage(n.prefix))}(t,c),n=c.getType(t),i.assign({},g,{effectiveType:f(n).name})):g;var v=c.getPackage(o.prefix);if(v){if(t=d(o,v),n=c.getType(t),g=i.find(m.properties,(function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)})))return i.assign({},g,{effectiveType:f(n).name})}else if(g=i.find(m.properties,(function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type})))return g;throw p("unrecognized element <"+o.name+">")},E.prototype.toString=function(){return"ElementDescriptor["+f(this.type).name+"]"},E.prototype.valueHandler=function(e,t){return new b(e,t)},E.prototype.referenceHandler=function(e){return new y(e,this.context)},E.prototype.handler=function(e){return"Element"===e?new w(this.model,e,this.context):new E(this.model,e,this.context)},E.prototype.handleChild=function(e){var t,n,r,o;if(t=this.getPropertyForNode(e),r=this.element,n=t.effectiveType||t.type,a.isSimpleType(n))return this.valueHandler(t,r);var s=(o=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e)).element;return void 0!==s&&(t.isMany?r.get(t.name).push(s):r.set(t.name,s),t.isReference?(i.assign(s,{element:r}),this.context.addReference(s)):s.$parent=r),o},x.prototype=Object.create(E.prototype),x.prototype.createElement=function(e){var t=e.name,n=a.parseNameNS(t),i=this.model,r=this.type,o=i.getPackage(n.prefix),s=o&&d(n,o)||t;if(!r.hasType(s))throw p("unexpected element <"+e.originalName+">");return E.prototype.createElement.call(this,e)},w.prototype=Object.create(_.prototype),w.prototype.createElement=function(e){var t=e.name,n=a.parseNameNS(t).prefix,i=e.ns[n+"$uri"],r=e.attributes;return this.model.createAny(t,i,r)},w.prototype.handleChild=function(e){var t=new w(this.model,"Element",this.context).handleNode(e),n=this.element,i=t.element;return void 0!==i&&((n.$children=n.$children||[]).push(i),i.$parent=n),t},w.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},S.prototype.fromXML=function(e,t,n){var a=t.rootHandler;t instanceof E?(a=t,t={}):"string"==typeof t?(a=this.handler(t),t={}):"string"==typeof a&&(a=this.handler(a));var o=this.model,s=this.lax,l=new m(i.assign({},t,{rootHandler:a})),c=new r.Parser({proxy:!0}),u=function(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}();function d(e,t,n){var i=t(),r=i.line,a=i.column,o=i.data;"<"===o.charAt(0)&&-1!==o.indexOf(" ")&&(o=o.slice(0,o.indexOf(" "))+">");var s="unparsable content "+(o?o+" ":"")+"detected\n\tline: "+r+"\n\tcolumn: "+a+"\n\tnested error: "+e.message;if(n)return l.addWarning({message:s,error:e}),!0;throw p(s)}function h(e,t){return d(e,t,!0)}a.context=l,u.push(a);var v=/^<\?xml /i,y=/ encoding="([^"]+)"/i,b=/^utf-8$/i;function _(e,t){try{u.peek().handleText(e)}catch(e){h(e,t)}}var x=o.getPackages().reduce((function(e,t){return e[t.uri]=t.prefix,e}),{"http://www.w3.org/XML/1998/namespace":"xml"});c.ns(x).on("openTag",(function(e,t,n,i){var r=e.attrs||{},a=Object.keys(r).reduce((function(e,n){var i=t(r[n]);return e[n]=i,e}),{});!function(e,t){var n=u.peek();try{u.push(n.handleNode(e))}catch(e){d(e,t,s)&&u.push(new g)}}({name:e.name,originalName:e.originalName,attributes:a,ns:e.ns},i)})).on("question",(function(e){if(v.test(e)){var t=y.exec(e),n=t&&t[1];n&&!b.test(n)&&l.addWarning({message:"unsupported document encoding <"+n+">, falling back to UTF-8"})}})).on("closeTag",(function(){u.pop().handleEnd()})).on("cdata",_).on("text",(function(e,t,n){!function(e,t){(e=e.trim())&&_(e,t)}(t(e),n)})).on("error",d).on("warn",h),setTimeout((function(){var t;try{c.parse(e),function(){var e,t,n=l.elementsById,i=l.references;for(e=0;t=i[e];e++){var r=t.element,a=n[t.id],o=f(r).propertiesByName[t.property];if(a||l.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),o.isMany){var s=r.get(o.name),c=s.indexOf(t);-1===c&&(c=s.length),a?s[c]=a:s.splice(c,1)}else r.set(o.name,a)}}()}catch(e){t=e}var i=a.element;t||i||(t=p("failed to parse document as <"+a.type.$descriptor.name+">")),n(t,t?void 0:i,l)}),0)},S.prototype.handler=function(e){return new x(this.model,e)};var C=/<|>|'|"|&|\n\r|\n/g,k=/<|>|&/g;function T(e){var t={},n={},i={},r=[],a=[];this.byUri=function(t){return n[t]||e&&e.byUri(t)},this.add=function(e,t){n[e.uri]=e,t?r.push(e):a.push(e),this.mapPrefix(e.prefix,e.uri)},this.uriByPrefix=function(e){return t[e||"xmlns"]},this.mapPrefix=function(e,n){t[e||"xmlns"]=n},this.getNSKey=function(e){return void 0!==e.prefix?e.uri+"|"+e.prefix:e.uri},this.logUsed=function(t){var n=t.uri,r=this.getNSKey(t);i[r]=this.byUri(n),e&&e.logUsed(t)},this.getUsed=function(e){var t=this;return[].concat(r,a).filter((function(e){var n=t.getNSKey(e);return i[n]}))}}function I(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function A(e){return i.isString(e)?e:(e.prefix?e.prefix+":":"")+e.localName}var D={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},O={"<":"lt",">":"gt","&":"amp"};function P(e,t,n){return(e=i.isString(e)?e:""+e).replace(t,(function(e){return"&"+n[e]+";"}))}function N(e){this.tagName=e}function M(){}function R(e){this.tagName=e}function L(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}function $(e,t){L.call(this,e,t)}function j(){this.value="",this.write=function(e){this.value+=e}}function F(e,t){var n=[""];this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}N.prototype.build=function(e){return this.element=e,this},N.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},M.prototype.serializeValue=M.prototype.serializeTo=function(e){e.append(this.escape?P(this.value,k,O):this.value)},M.prototype.build=function(e,t){return this.value=t,"String"===e.type&&-1!==t.search(k)&&(this.escape=!0),this},I(R,M),R.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},L.prototype.build=function(e){this.element=e;var t,n,r,a=e.$descriptor,o=this.propertyDescriptor,s=a.isGeneric;return t=s?this.parseGeneric(e):this.parseNsAttributes(e),this.ns=o?this.nsPropertyTagName(o):this.nsTagName(a),this.tagName=this.addTagName(this.ns),s||(n=function(e){var t=e.$descriptor;return i.filter(t.properties,(function(t){var n=t.name;if(t.isVirtual)return!1;if(!e.hasOwnProperty(n))return!1;var i=e[n];return i!==t.default&&null!==i&&(!t.isMany||i.length)}))}(e),this.parseAttributes((r=n,i.filter(r,(function(e){return e.isAttr})))),this.parseContainments(function(e){return i.filter(e,(function(e){return!e.isAttr}))}(n))),this.parseGenericAttributes(e,t),this},L.prototype.nsTagName=function(e){return function(e,t){return t.isGeneric?i.assign({localName:t.ns.localName},e):i.assign({localName:(n=t.ns.localName,r=t.$pkg,o(r)?(a=n).charAt(0).toLowerCase()+a.slice(1):n)},e);var n,r,a}(this.logNamespaceUsed(e.ns),e)},L.prototype.nsPropertyTagName=function(e){return function(e,t){return i.assign({localName:t.ns.localName},e)}(this.logNamespaceUsed(e.ns),e)},L.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},L.prototype.nsAttributeName=function(e){var t;if(t=i.isString(e)?a.parseNameNS(e):e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:i.assign({localName:t.localName},n)},L.prototype.parseGeneric=function(e){var t=this,n=this.body,r=[];return i.forEach(e,(function(a,o){"$body"===o?n.push((new M).build({type:"String"},a)):"$children"===o?i.forEach(a,(function(e){n.push(new L(t).build(e))})):0!==o.indexOf("$")&&t.parseNsAttribute(e,o,a)&&r.push({name:o,value:a})})),r},L.prototype.parseNsAttribute=function(e,t,n){var i,r=e.$model,o=a.parseNameNS(t);if("xmlns"===o.prefix&&(i={prefix:o.localName,uri:n}),o.prefix||"xmlns"!==o.localName||(i={uri:n}),!i)return{name:t,value:n};if(r&&r.getPackage(n))this.logNamespace(i,!0,!0);else{var s=this.logNamespaceUsed(i,!0);this.getNamespaces().logUsed(s)}},L.prototype.parseNsAttributes=function(e,t){var n=this,r=e.$attrs,a=[];return i.forEach(r,(function(t,i){var r=n.parseNsAttribute(e,i,t);r&&a.push(r)})),a},L.prototype.parseGenericAttributes=function(e,t){var n=this;i.forEach(t,(function(t){if(t.name!==l)try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(n){console.warn("missing namespace information for ",t.name,"=",t.value,"on",e,n)}}))},L.prototype.parseContainments=function(e){var t=this,n=this.body,r=this.element;i.forEach(e,(function(e){var o=r.get(e.name),s=e.isReference;if(e.isMany||(o=[o]),e.isBody)n.push((new M).build(e,o[0]));else if(a.isSimpleType(e.type))i.forEach(o,(function(i){n.push(new R(t.addTagName(t.nsPropertyTagName(e))).build(e,i))}));else if(s)i.forEach(o,(function(i){n.push(new N(t.addTagName(t.nsPropertyTagName(e))).build(i))}));else{var l=u(e),d=function(e){return"property"===c(e)}(e);i.forEach(o,(function(i){var r;r=l?new $(t,e):d?new L(t,e):new L(t),n.push(r.build(i))}))}}))},L.prototype.getNamespaces=function(e){var t,n=this.namespaces,i=this.parent;return n||(t=i&&i.getNamespaces(),e||!t?this.namespaces=n=new T(t):n=t),n},L.prototype.logNamespace=function(e,t,n){var i=this.getNamespaces(n),r=e.uri,a=e.prefix,o=i.byUri(r);return"xml"===a||o&&!n||i.add(e,t),i.mapPrefix(a,r),e},L.prototype.logNamespaceUsed=function(e,t){var n,i,r,a=this.element.$model,o=this.getNamespaces(t),l=e.prefix,c=e.uri;if(!l&&!c)return{localName:e.localName};if(r=s[l]||a&&(a.getPackage(l)||{}).uri,!(c=c||r||o.uriByPrefix(l)))throw new Error("no namespace uri given for prefix <"+l+">");if(!(e=o.byUri(c))){for(n=l,i=1;o.uriByPrefix(n);)n=l+"_"+i++;e=this.logNamespace({prefix:n,uri:c},r===c)}return l&&o.mapPrefix(l,c),e},L.prototype.parseAttributes=function(e){var t=this,n=this.element;i.forEach(e,(function(e){var r=n.get(e.name);if(e.isReference)if(e.isMany){var a=[];i.forEach(r,(function(e){a.push(e.id)})),r=a.join(" ")}else r=r.id;t.addAttribute(t.nsAttributeName(e),r)}))},L.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),A(e)},L.prototype.addAttribute=function(e,t){var n=this.attrs;i.isString(t)&&(t=P(t,C,D)),n.push({name:e,value:t})},L.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=function(e){return i.map(e.getUsed(),(function(e){return{name:"xmlns"+(e.prefix?":"+e.prefix:""),value:e.uri}}))}(n).concat(t)),i.forEach(t,(function(t){e.append(" ").append(A(t.name)).append('="').append(t.value).append('"')}))},L.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==M;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),i.forEach(this.body,(function(t){t.serializeTo(e)})),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()},I($,L),$.prototype.parseNsAttributes=function(e){var t=L.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var i=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var r=e.$model.getPackage(i.uri),a=r.xml&&r.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(l),(i.prefix?i.prefix+":":"")+a+n.ns.localName),t},$.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri},n.Reader=S,n.Writer=function(e){return e=i.assign({format:!1,preamble:!0},e||{}),{toXML:function(t,n){var i=n||new j,r=new F(i,e.format);if(e.preamble&&r.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new L).build(t).serializeTo(r),!n)return i.value}}}},{"min-dash":324,moddle:327,saxen:339}],327:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("min-dash");function r(){}function a(e,t){this.model=e,this.properties=t}r.prototype.get=function(e){return this.$model.properties.get(this,e)},r.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},a.prototype.createType=function(e){var t=this.model,n=this.properties,a=Object.create(r.prototype);i.forEach(e.properties,(function(e){e.isMany||void 0===e.default||(a[e.name]=e.default)})),n.defineModel(a,t),n.defineDescriptor(a,e);var o=e.ns.name;function s(e){n.define(this,"$type",{value:o,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),i.forEach(e,i.bind((function(e,t){this.set(t,e)}),this))}return s.prototype=a,s.hasType=a.$instanceOf=this.model.hasType,n.defineModel(s,t),n.defineDescriptor(s,e),s};var o={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},s={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e)}};function l(e){return!!o[e]}function c(e,t){var n,i,r=e.split(/:/);if(1===r.length)n=e,i=t;else{if(2!==r.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=r[1],i=r[0]}return{name:e=(i?i+":":"")+n,prefix:i,localName:n}}function u(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function d(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,i.forEach(e,i.bind(this.registerPackage,this))}function p(e,t,n){var i=t[n];if(i in e)throw new Error("package with "+n+" <"+i+"> already defined")}function f(e){this.model=e}function m(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}function h(e){this.properties=new f(this),this.factory=new a(this,this.properties),this.registry=new d(e,this.properties),this.typeCache={}}u.prototype.build=function(){return i.pick(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},u.prototype.addProperty=function(e,t,n){"boolean"==typeof t&&(n=t,t=void 0),this.addNamedProperty(e,!1!==n);var i=this.properties;void 0!==t?i.splice(t,0,e):i.push(e)},u.prototype.replaceProperty=function(e,t,n){var i=e.ns,r=this.properties,a=this.propertiesByName,o=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var s=r.indexOf(e);if(-1===s)throw new Error("property <"+i.name+"> not found in property list");r.splice(s,1),this.addProperty(t,n?void 0:s,o),a[i.name]=a[i.localName]=t},u.prototype.redefineProperty=function(e,t,n){var i=e.ns.prefix,r=t.split("#"),a=c(r[0],i),o=c(r[1],a.prefix).name,s=this.propertiesByName[o];if(!s)throw new Error("refined property <"+o+"> not found");this.replaceProperty(s,e,n),delete e.redefines},u.prototype.addNamedProperty=function(e,t){var n=e.ns,i=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),i[n.name]=i[n.localName]=e},u.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},u.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},u.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},u.prototype.assertNotDefined=function(e,t){var n=e.name,i=this.propertiesByName[n];if(i)throw new Error("property <"+n+"> already defined; override of <"+i.definedBy.ns.name+"#"+i.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},u.prototype.hasProperty=function(e){return this.propertiesByName[e]},u.prototype.addTrait=function(e,t){var n=this.allTypesByName,r=this.allTypes,a=e.name;a in n||(i.forEach(e.properties,i.bind((function(n){n=i.assign({},n,{name:n.ns.localName,inherited:t}),Object.defineProperty(n,"definedBy",{value:e});var r=n.replaces,a=n.redefines;r||a?this.redefineProperty(n,r||a,r):(n.isBody&&this.setBodyProperty(n),n.isId&&this.setIdProperty(n),this.addProperty(n))}),this)),r.push(e),n[a]=e)},d.prototype.getPackage=function(e){return this.packageMap[e]},d.prototype.getPackages=function(){return this.packages},d.prototype.registerPackage=function(e){e=i.assign({},e);var t=this.packageMap;p(t,e,"prefix"),p(t,e,"uri"),i.forEach(e.types,i.bind((function(t){this.registerType(t,e)}),this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)},d.prototype.registerType=function(e,t){var n=c((e=i.assign({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:i.assign(e.meta||{})})).name,t.prefix),r=n.name,a={};i.forEach(e.properties,i.bind((function(e){var t=c(e.name,n.prefix),r=t.name;l(e.type)||(e.type=c(e.type,t.prefix).name),i.assign(e,{ns:t,name:r}),a[r]=e}),this)),i.assign(e,{ns:n,name:r,propertiesByName:a}),i.forEach(e.extends,i.bind((function(e){var t=this.typeMap[e];t.traits=t.traits||[],t.traits.push(r)}),this)),this.definePackage(e,t),this.typeMap[r]=e},d.prototype.mapTypes=function(e,t,n){var r=l(e.name)?{name:e.name}:this.typeMap[e.name],a=this;function o(e){return s(e,!0)}function s(n,i){var r=c(n,l(n)?"":e.prefix);a.mapTypes(r,t,i)}if(!r)throw new Error("unknown type <"+e.name+">");i.forEach(r.superClass,n?o:s),t(r,!n),i.forEach(r.traits,o)},d.prototype.getEffectiveDescriptor=function(e){var t=c(e),n=new u(t);this.mapTypes(t,(function(e,t){n.addTrait(e,t)}));var i=n.build();return this.definePackage(i,i.allTypes[i.allTypes.length-1].$pkg),i},d.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})},f.prototype.set=function(e,t,n){var i=this.model.getPropertyDescriptor(e,t),r=i&&i.name;void 0===n?i?delete e[r]:delete e.$attrs[t]:i?r in e?e[r]=n:m(e,i,n):e.$attrs[t]=n},f.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];var i=n.name;return!e[i]&&n.isMany&&m(e,n,[]),e[i]},f.prototype.define=function(e,t,n){Object.defineProperty(e,t,n)},f.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},f.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})},h.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},h.prototype.getType=function(e){var t=this.typeCache,n=i.isString(e)?e:e.ns.name,r=t[n];return r||(e=this.registry.getEffectiveDescriptor(n),r=t[n]=this.factory.createType(e)),r},h.prototype.createAny=function(e,t,n){var r=c(e),a={$type:e,$instanceOf:function(e){return e===this.$type}},o={name:e,isGeneric:!0,ns:{prefix:r.prefix,localName:r.localName,uri:t}};return this.properties.defineDescriptor(a,o),this.properties.defineModel(a,this),this.properties.define(a,"$parent",{enumerable:!1,writable:!0}),this.properties.define(a,"$instanceOf",{enumerable:!1,writable:!0}),i.forEach(n,(function(e,t){i.isObject(e)&&void 0!==e.value?a[e.name]=e.value:a[t]=e})),a},h.prototype.getPackage=function(e){return this.registry.getPackage(e)},h.prototype.getPackages=function(){return this.registry.getPackages()},h.prototype.getElementDescriptor=function(e){return e.$descriptor},h.prototype.hasType=function(e,t){return void 0===t&&(t=e,e=this),t in e.$model.getElementDescriptor(e).allTypesByName},h.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},h.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]},n.Moddle=h,n.coerceType=function(e,t){var n=s[e];return n?n(t):t},n.isBuiltInType=l,n.isSimpleType=function(e){return!!s[e]},n.parseNameNS=c},{"min-dash":324}],328:[function(e,t,n){"use strict";t.exports=e("./lib/refs"),t.exports.Collection=e("./lib/collection")},{"./lib/collection":329,"./lib/refs":330}],329:[function(e,t,n){"use strict";t.exports.extend=function(e,t,n,i){var r=n.inverse;return Object.defineProperty(e,"remove",{value:function(e){var n=this.indexOf(e);return-1!==n&&(this.splice(n,1),t.unset(e,r,i)),e}}),Object.defineProperty(e,"contains",{value:function(e){return-1!==this.indexOf(e)}}),Object.defineProperty(e,"add",{value:function(e,n){var a=this.indexOf(e);if(void 0===n){if(-1!==a)return;n=this.length}-1!==a&&this.splice(a,1),this.splice(n,0,e),-1===a&&t.set(e,r,i)}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e},t.exports.isExtended=function(e){return!0===e.__refs_collection}},{}],330:[function(e,t,n){"use strict";var i=e("./collection");function r(e,t,n){var r=i.extend(n[t.name]||[],e,t,n);Object.defineProperty(n,t.name,{enumerable:t.enumerable,value:r}),r.length&&r.forEach((function(i){e.set(i,t.inverse,n)}))}function a(e,t){if(!(this instanceof a))return new a(e,t);e.inverse=t,t.inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}a.prototype.bind=function(e,t){if("string"==typeof t){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?r(this,t,e):function(e,t,n){var i=t.inverse,r=n[t.name];Object.defineProperty(n,t.name,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return r},set:function(t){if(t!==r){var a=r;r=null,a&&e.unset(a,i,n),r=t,e.set(r,i,n)}}})}(this,t,e)},a.prototype.ensureRefsCollection=function(e,t){var n=e[t.name];return i.isExtended(n)||r(this,t,e),n},a.prototype.ensureBound=function(e,t){(function(e,t){return Object.prototype.hasOwnProperty.call(e,t.name||t)})(e,t)||this.bind(e,t)},a.prototype.unset=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(n):e[t.name]=void 0)},a.prototype.set=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(n):e[t.name]=n)},t.exports=a},{"./collection":329}],331:[function(e,t,n){"use strict";var i=/,?([a-z]),?/gi,r=parseFloat,a=Math,o=a.PI,s=a.min,l=a.max,c=a.pow,u=a.abs,d=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,p=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,f=Array.isArray||function(e){return e instanceof Array};function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)m(e,n)&&(t[n]=h(e[n]));return t}function g(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function v(e){var t=v.ps=v.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout((function(){for(var n in t)m(t,n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])})),t[e]}function y(e,t,n,i){return 1===arguments.length&&(t=e.y,n=e.width,i=e.height,e=e.x),{x:e,y:t,width:n,height:i,x2:e+n,y2:t+i}}function b(){return this.join(",").replace(i,"$1")}function _(e){var t=h(e);return t.toString=b,t}function E(e,t,n,i,r,a,o,s,l){var u=1-l,d=c(u,3),p=c(u,2),f=l*l*l,m=d*t+3*p*l*i+3*u*l*l*a+f*s;return{x:T(d*e+3*p*l*n+3*u*l*l*r+f*o),y:T(m)}}function x(e){var t=M.apply(null,e);return y(t.x0,t.y0,t.x1-t.x0,t.y1-t.y0)}function w(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function S(e,t,n,i,r){return e*(e*(-3*t+9*n-9*i+3*r)+6*t-12*n+6*i)-3*t+3*n}function C(e,t,n,i,r,o,s,l,c){null==c&&(c=1);for(var u=(c=c>1?1:c<0?0:c)/2,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,m=0;m<12;m++){var h=u*d[m]+u,g=S(h,e,n,r,s),v=S(h,t,i,o,l),y=g*g+v*v;f+=p[m]*a.sqrt(y)}return u*f}function k(e,t,n,i,r,a,o,c){if(!(l(e,n)<s(r,o)||s(e,n)>l(r,o)||l(t,i)<s(a,c)||s(t,i)>l(a,c))){var u=(e*i-t*n)*(a-c)-(t-i)*(r*c-a*o),d=(e-n)*(a-c)-(t-i)*(r-o);if(d){var p=T(((e*i-t*n)*(r-o)-(e-n)*(r*c-a*o))/d),f=T(u/d),m=+p.toFixed(2),h=+f.toFixed(2);if(!(m<+s(e,n).toFixed(2)||m>+l(e,n).toFixed(2)||m<+s(r,o).toFixed(2)||m>+l(r,o).toFixed(2)||h<+s(t,i).toFixed(2)||h>+l(t,i).toFixed(2)||h<+s(a,c).toFixed(2)||h>+l(a,c).toFixed(2)))return{x:p,y:f}}}}function T(e){return Math.round(1e11*e)/1e11}function I(e,t,n){if(!function(e,t){return e=y(e),w(t=y(t),e.x,e.y)||w(t,e.x2,e.y)||w(t,e.x,e.y2)||w(t,e.x2,e.y2)||w(e,t.x,t.y)||w(e,t.x2,t.y)||w(e,t.x,t.y2)||w(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(x(e),x(t)))return n?0:[];for(var i=C.apply(0,e),r=C.apply(0,t),a=D(e)?1:~~(i/5)||1,o=D(t)?1:~~(r/5)||1,s=[],l=[],c={},d=n?0:[],p=0;p<a+1;p++){var f=E.apply(0,e.concat(p/a));s.push({x:f.x,y:f.y,t:p/a})}for(p=0;p<o+1;p++)f=E.apply(0,t.concat(p/o)),l.push({x:f.x,y:f.y,t:p/o});for(p=0;p<a;p++)for(var m=0;m<o;m++){var h,g=s[p],v=s[p+1],b=l[m],_=l[m+1],S=u(v.x-g.x)<.01?"y":"x",T=u(_.x-b.x)<.01?"y":"x",I=k(g.x,g.y,v.x,v.y,b.x,b.y,_.x,_.y);if(I){if(c[h=I.x.toFixed(9)+"#"+I.y.toFixed(9)])continue;c[h]=!0;var A=g.t+u((I[S]-g[S])/(v[S]-g[S]))*(v.t-g.t),O=b.t+u((I[T]-b[T])/(_[T]-b[T]))*(_.t-b.t);A>=0&&A<=1&&O>=0&&O<=1&&(n?d++:d.push({x:I.x,y:I.y,t1:A,t2:O}))}}return d}function A(e){var t=v(e);if(t.abs)return _(t.abs);if(f(e)&&f(e&&e[0])||(e=function(e){if(!e)return null;var t=v(e);if(t.arr)return h(t.arr);var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[];return f(e)&&f(e[0])&&(i=h(e)),i.length||String(e).replace(d,(function(e,t,r){var a=[],o=t.toLowerCase();for(r.replace(p,(function(e,t){t&&a.push(+t)})),"m"==o&&a.length>2&&(i.push([t].concat(a.splice(0,2))),o="l",t="m"==t?"l":"L");a.length>=n[o]&&(i.push([t].concat(a.splice(0,n[o]))),n[o]););})),i.toString=v.toString,t.arr=h(i),i}(e)),!e||!e.length)return[["M",0,0]];var n,i=[],r=0,a=0,o=0,s=0,l=0;"M"==e[0][0]&&(o=r=+e[0][1],s=a=+e[0][2],l++,i[0]=["M",r,a]);for(var c,u,m=l,g=e.length;m<g;m++){if(i.push(c=[]),(n=(u=e[m])[0])!=n.toUpperCase())switch(c[0]=n.toUpperCase(),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+u[6]+r,c[7]=+u[7]+a;break;case"V":c[1]=+u[1]+a;break;case"H":c[1]=+u[1]+r;break;case"M":o=+u[1]+r,s=+u[2]+a;default:for(var y=1,E=u.length;y<E;y++)c[y]=+u[y]+(y%2?r:a)}else for(var x=0,w=u.length;x<w;x++)c[x]=u[x];switch(n=n.toUpperCase(),c[0]){case"Z":r=+o,a=+s;break;case"H":r=c[1];break;case"V":a=c[1];break;case"M":o=c[c.length-2],s=c[c.length-1];default:r=c[c.length-2],a=c[c.length-1]}}return i.toString=b,t.abs=_(i),i}function D(e){return e[0]===e[2]&&e[1]===e[3]&&e[4]===e[6]&&e[5]===e[7]}function O(e,t,n,i){return[e,t,n,i,n,i]}function P(e,t,n,i,r,a){var o=1/3,s=2/3;return[o*e+s*n,o*t+s*i,o*r+s*n,o*a+s*i,r,a]}function N(e,t,n,i,r,s,l,c,d,p){var f,h,v=120*o/180,y=o/180*(+r||0),b=[],_=(h=function(e,t,n){return{x:e*a.cos(n)-t*a.sin(n),y:e*a.sin(n)+t*a.cos(n)}},function e(){var t=Array.prototype.slice.call(arguments,0),n=t.join("␀"),i=e.cache=e.cache||{},r=e.count=e.count||[];return m(i,n)?(g(r,n),i[n]):(r.length>=1e3&&delete i[r.shift()],r.push(n),i[n]=h.apply(0,t),i[n])});if(p)A=p[0],D=p[1],T=p[2],I=p[3];else{e=(f=_(e,t,-y)).x,t=f.y;var E=(e-(c=(f=_(c,d,-y)).x))/2,x=(t-(d=f.y))/2,w=E*E/(n*n)+x*x/(i*i);w>1&&(n*=w=a.sqrt(w),i*=w);var S=n*n,C=i*i,k=(s==l?-1:1)*a.sqrt(u((S*C-S*x*x-C*E*E)/(S*x*x+C*E*E))),T=k*n*x/i+(e+c)/2,I=k*-i*E/n+(t+d)/2,A=a.asin(((t-I)/i).toFixed(9)),D=a.asin(((d-I)/i).toFixed(9));(A=e<T?o-A:A)<0&&(A=2*o+A),(D=c<T?o-D:D)<0&&(D=2*o+D),l&&A>D&&(A-=2*o),!l&&D>A&&(D-=2*o)}var O=D-A;if(u(O)>v){var P=D,M=c,R=d;D=A+v*(l&&D>A?1:-1),b=N(c=T+n*a.cos(D),d=I+i*a.sin(D),n,i,r,0,l,M,R,[D,P,T,I])}O=D-A;var L=a.cos(A),$=a.sin(A),j=a.cos(D),F=a.sin(D),B=a.tan(O/4),V=4/3*n*B,U=4/3*i*B,H=[e,t],z=[e+V*$,t-U*L],q=[c+V*F,d-U*j],G=[c,d];if(z[0]=2*H[0]-z[0],z[1]=2*H[1]-z[1],p)return[z,q,G].concat(b);for(var W=[],Y=0,K=(b=[z,q,G].concat(b).join().split(",")).length;Y<K;Y++)W[Y]=Y%2?_(b[Y-1],b[Y],y).y:_(b[Y],b[Y+1],y).x;return W}function M(e,t,n,i,r,o,c,d){for(var p,f,m,h,g,v,y,b,_=[],E=[[],[]],x=0;x<2;++x)if(0==x?(f=6*e-12*n+6*r,p=-3*e+9*n-9*r+3*c,m=3*n-3*e):(f=6*t-12*i+6*o,p=-3*t+9*i-9*o+3*d,m=3*i-3*t),u(p)<1e-12){if(u(f)<1e-12)continue;0<(h=-m/f)&&h<1&&_.push(h)}else y=f*f-4*m*p,b=a.sqrt(y),y<0||(0<(g=(-f+b)/(2*p))&&g<1&&_.push(g),0<(v=(-f-b)/(2*p))&&v<1&&_.push(v));for(var w,S=_.length,C=S;S--;)w=1-(h=_[S]),E[0][S]=w*w*w*e+3*w*w*h*n+3*w*h*h*r+h*h*h*c,E[1][S]=w*w*w*t+3*w*w*h*i+3*w*h*h*o+h*h*h*d;return E[0][C]=e,E[1][C]=t,E[0][C+1]=c,E[1][C+1]=d,E[0].length=E[1].length=C+2,{x0:s.apply(0,E[0]),y0:s.apply(0,E[1]),x1:l.apply(0,E[0]),y1:l.apply(0,E[1])}}function R(e){var t=v(e);if(t.curve)return _(t.curve);for(var n=A(e),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=function(e,t,n){var i,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(N.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*t.x-t.bx,r=2*t.y-t.by):(i=t.x,r=t.y),e=["C",i,r].concat(e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(P(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(P(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(O(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(O(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(O(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(O(t.x,t.y,t.X,t.Y))}return e},o=function(e,t){if(e[t].length>7){e[t].shift();for(var i=e[t];i.length;)s[t]="A",e.splice(t++,0,["C"].concat(i.splice(0,6)));e.splice(t,1),d=n.length}},s=[],l="",c="",u=0,d=n.length;u<d;u++){n[u]&&(l=n[u][0]),"C"!=l&&(s[u]=l,u&&(c=s[u-1])),n[u]=a(n[u],i,c),"A"!=s[u]&&"C"==l&&(s[u]="C"),o(n,u);var p=n[u],f=p.length;i.x=p[f-2],i.y=p[f-1],i.bx=r(p[f-4])||i.x,i.by=r(p[f-3])||i.y}return t.curve=_(n),n}t.exports=function(e,t,n){e=R(e),t=R(t);for(var i,r,a,o,s,l,c,u,d,p,f=n?0:[],m=0,h=e.length;m<h;m++){var g=e[m];if("M"==g[0])i=s=g[1],r=l=g[2];else{"C"==g[0]?(d=[i,r].concat(g.slice(1)),i=d[6],r=d[7]):(d=[i,r,i,r,s,l,s,l],i=s,r=l);for(var v=0,y=t.length;v<y;v++){var b=t[v];if("M"==b[0])a=c=b[1],o=u=b[2];else{"C"==b[0]?(p=[a,o].concat(b.slice(1)),a=p[6],o=p[7]):(p=[a,o,a,o,c,u,c,u],a=c,o=u);var _=I(d,p,n);if(n)f+=_;else{for(var E=0,x=_.length;E<x;E++)_[E].segment1=m,_[E].segment2=v,_[E].bez1=d,_[E].bez2=p;f=f.concat(_)}}}}}return f}},{}],332:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r,a=e("preact"),o={};function s(e,t,n){if(3===e.nodeType){var i="textContent"in e?e.textContent:e.nodeValue||"";if(!1!==s.options.trim){var r=0===t||t===n.length-1;if((!(i=i.match(/^[\s\n]+$/g)&&"all"!==s.options.trim?" ":i.replace(/(^[\s\n]+|[\s\n]+$)/g,"all"===s.options.trim||r?"":" "))||" "===i)&&n.length>1&&r)return null}return i}if(1!==e.nodeType)return null;var a=String(e.nodeName).toLowerCase();if("script"===a&&!s.options.allowScripts)return null;var o,l,u=s.h(a,function(e){var t=e&&e.length;if(!t)return null;for(var n={},i=0;i<t;i++){var r=e[i],a=r.name,o=r.value;"on"===a.substring(0,2)&&s.options.allowEvents&&(o=new Function(o)),n[a]=o}return n}(e.attributes),(l=(o=e.childNodes)&&Array.prototype.map.call(o,s).filter(c))&&l.length?l:null);return s.visitor&&s.visitor(u),u}var l,c=function(e){return e},u={};function d(e){var t=(e.type||"").toLowerCase(),n=d.map;n&&n.hasOwnProperty(t)?(e.type=n[t],e.props=Object.keys(e.props||{}).reduce((function(t,n){var i;return t[(i=n,i.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=e.props[n],t}),{})):e.type=t.replace(/[^a-z0-9-]/i,"")}t.exports=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.setReviver=function(e){l=e},t.prototype.shouldComponentUpdate=function(e){var t=this.props;return e.wrap!==t.wrap||e.type!==t.type||e.markup!==t.markup},t.prototype.setComponents=function(e){if(this.map={},e)for(var t in e)if(e.hasOwnProperty(t)){var n=t.replace(/([A-Z]+)([A-Z][a-z0-9])|([a-z0-9]+)([A-Z])/g,"$1$3-$2$4").toLowerCase();this.map[n]=e[t]}},t.prototype.render=function(e){var t=e.wrap;void 0===t&&(t=!0);var n,c=e.type,p=e.markup,f=e.components,m=e.reviver,h=e.onError,g=e["allow-scripts"],v=e["allow-events"],y=e.trim,b=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&-1===t.indexOf(i)&&(n[i]=e[i]);return n}(e,["wrap","type","markup","components","reviver","onError","allow-scripts","allow-events","trim"]),_=m||this.reviver||this.constructor.prototype.reviver||l||a.h;this.setComponents(f);var E={allowScripts:g,allowEvents:v,trim:y};try{n=function(e,t,n,i,a){var l=function(e,t){var n,i,a,o,s="html"===t?"text/html":"application/xml";"html"===t?(o="body",a="<!DOCTYPE html>\n<html><body>"+e+"</body></html>"):(o="xml",a='<?xml version="1.0" encoding="UTF-8"?>\n<xml>'+e+"</xml>");try{n=(new DOMParser).parseFromString(a,s)}catch(e){i=e}if(n||"html"!==t||((n=r||(r=function(){if(document.implementation&&document.implementation.createHTMLDocument)return document.implementation.createHTMLDocument("");var e=document.createElement("iframe");return e.style.cssText="position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;",e.setAttribute("sandbox","allow-forms"),document.body.appendChild(e),e.contentWindow.document}())).open(),n.write(a),n.close()),n){var l=n.getElementsByTagName(o)[0],c=l.firstChild;return e&&!c&&(l.error="Document parse failed."),c&&"parsererror"===String(c.nodeName).toLowerCase()&&(c.removeChild(c.firstChild),c.removeChild(c.lastChild),l.error=c.textContent||c.nodeValue||i||"Unknown error",l.removeChild(c)),l}}(e,t);if(l&&l.error)throw new Error(l.error);var c=l&&l.body||l;d.map=i||u;var p=c&&function(e,t,n,i){return s.visitor=t,s.h=n,s.options=i||o,s(e)}(c,d,n,a);return d.map=null,p&&p.props&&p.props.children||null}(p,c,_,this.map,E)}catch(e){h?h({error:e}):"undefined"!=typeof console&&console.error&&console.error("preact-markup: "+e)}if(!1===t)return n||null;var x=b.hasOwnProperty("className")?"className":"class",w=b[x];return w?w.splice?w.splice(0,0,"markup"):"string"==typeof w?b[x]+=" markup":"object"==i(w)&&(w.markup=!0):b[x]="markup",_("div",b,n||null)},t}(a.Component)},{preact:334}],333:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=e("preact/hooks"),a=e("preact");function o(e,t){for(var n in t)e[n]=t[n];return e}function s(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var i in t)if("__source"!==i&&e[i]!==t[i])return!0;return!1}function l(e){this.props=e}function c(e,t){function n(e){var n=this.props.ref,i=n==e.ref;return!i&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!i:s(this.props,e)}function i(t){return this.shouldComponentUpdate=n,a.createElement(e,t)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(l.prototype=new a.Component).isPureReactComponent=!0,l.prototype.shouldComponentUpdate=function(e,t){return s(this.props,e)||s(this.state,t)};var u=a.options.__b;a.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),u&&u(e)};var d="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function p(e){function t(t,n){var r=o({},t);return delete r.ref,e(r,(n=t.ref||n)&&("object"!=i(n)||"current"in n)?n:null)}return t.$$typeof=d,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var f=function(e,t){return null==e?null:a.toChildArray(a.toChildArray(e).map(t))},m={map:f,forEach:f,count:function(e){return e?a.toChildArray(e).length:0},only:function(e){var t=a.toChildArray(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:a.toChildArray},h=a.options.__e;a.options.__e=function(e,t,n){if(e.then)for(var i,r=t;r=r.__;)if((i=r.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);h(e,t,n)};var g=a.options.unmount;function v(){this.__u=0,this.t=null,this.__b=null}function y(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function b(e){var t,n,i;function r(r){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){i=e})),i)throw i;if(!n)throw t;return a.createElement(n,r)}return r.displayName="Lazy",r.__f=!0,r}function _(){this.u=null,this.o=null}a.options.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),g&&g(e)},(v.prototype=new a.Component).__c=function(e,t){var n=t.__c,i=this;null==i.t&&(i.t=[]),i.t.push(n);var r=y(i.__v),a=!1,o=function(){a||(a=!0,n.__R=null,r?r(s):s())};n.__R=o;var s=function(){if(!--i.__u){if(i.state.__e){var e=i.state.__e;i.__v.__k[0]=function e(t,n,i){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,i)})),t.__c&&t.__c.__P===n&&(t.__e&&i.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=i)),t}(e,e.__c.__P,e.__c.__O)}var t;for(i.setState({__e:i.__b=null});t=i.t.pop();)t.forceUpdate()}},l=!0===t.__h;i.__u++||l||i.setState({__e:i.__b=i.__v.__k[0]}),e.then(o,o)},v.prototype.componentWillUnmount=function(){this.t=[]},v.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=o({},t)).__c&&(t.__c.__P===i&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,i)}))),t}(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__e&&a.createElement(a.Fragment,null,e.fallback);return r&&(r.__h=null),[a.createElement(a.Fragment,null,t.__e?null:e.children),r]};var E=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function x(e){return this.getChildContext=function(){return e.context},e.children}function w(e){var t=this,n=e.i;t.componentWillUnmount=function(){a.render(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),a.render(a.createElement(x,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function S(e,t){return a.createElement(w,{__v:e,i:t})}(_.prototype=new a.Component).__e=function(e){var t=this,n=y(t.__v),i=t.o.get(e);return i[0]++,function(r){var a=function(){t.props.revealOrder?(i.push(r),E(t,e,i)):r()};n?n(a):a()}},_.prototype.render=function(e){this.u=null,this.o=new Map;var t=a.toChildArray(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},_.prototype.componentDidUpdate=_.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){E(e,n,t)}))};var C="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,k=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,T=function(e){return("undefined"!=typeof Symbol&&"symbol"==i(Symbol())?/fil|che|rad/i:/fil|che|ra/i).test(e)};function I(e,t,n){return null==t.__k&&(t.textContent=""),a.render(e,t),"function"==typeof n&&n(),e?e.__c:null}function A(e,t,n){return a.hydrate(e,t),"function"==typeof n&&n(),e?e.__c:null}a.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(a.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var D=a.options.event;function O(){}function P(){return this.cancelBubble}function N(){return this.defaultPrevented}a.options.event=function(e){return D&&(e=D(e)),e.persist=O,e.isPropagationStopped=P,e.isDefaultPrevented=N,e.nativeEvent=e};var M,R={configurable:!0,get:function(){return this.class}},L=a.options.vnode;a.options.vnode=function(e){var t=e.type,n=e.props,i=n;if("string"==typeof t){for(var r in i={},n){var o=n[r];"value"===r&&"defaultValue"in n&&null==o||("defaultValue"===r&&"value"in n&&null==n.value?r="value":"download"===r&&!0===o?o="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+t)&&!T(n.type)?r="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(r)?r=r.toLowerCase():k.test(r)?r=r.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===o&&(o=void 0),i[r]=o)}"select"==t&&i.multiple&&Array.isArray(i.value)&&(i.value=a.toChildArray(n.children).forEach((function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)}))),"select"==t&&null!=i.defaultValue&&(i.value=a.toChildArray(n.children).forEach((function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value}))),e.props=i}t&&n.class!=n.className&&(R.enumerable="className"in n,null!=n.className&&(i.class=n.className),Object.defineProperty(i,"className",R)),e.$$typeof=C,L&&L(e)};var $=a.options.__r;a.options.__r=function(e){$&&$(e),M=e.__c};var j={ReactCurrentDispatcher:{current:{readContext:function(e){return M.__n[e.__c].props.value}}}};function F(e){return a.createElement.bind(null,e)}function B(e){return!!e&&e.$$typeof===C}function V(e){return B(e)?a.cloneElement.apply(null,arguments):e}function U(e){return!!e.__k&&(a.render(null,e),!0)}function H(e){return e&&(e.base||1===e.nodeType&&e)||null}var z=function(e,t){return e(t)},q=function(e,t){return e(t)},G=a.Fragment,W={useState:r.useState,useReducer:r.useReducer,useEffect:r.useEffect,useLayoutEffect:r.useLayoutEffect,useRef:r.useRef,useImperativeHandle:r.useImperativeHandle,useMemo:r.useMemo,useCallback:r.useCallback,useContext:r.useContext,useDebugValue:r.useDebugValue,version:"17.0.2",Children:m,render:I,hydrate:A,unmountComponentAtNode:U,createPortal:S,createElement:a.createElement,createContext:a.createContext,createFactory:F,cloneElement:V,createRef:a.createRef,Fragment:a.Fragment,isValidElement:B,findDOMNode:H,Component:a.Component,PureComponent:l,memo:c,forwardRef:p,flushSync:q,unstable_batchedUpdates:z,StrictMode:G,Suspense:v,SuspenseList:_,lazy:b,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:j};Object.keys(r).forEach((function(e){n[e]=r[e]})),n.createElement=a.createElement,n.createContext=a.createContext,n.createRef=a.createRef,n.Fragment=a.Fragment,n.Component=a.Component,n.version="17.0.2",n.Children=m,n.render=I,n.hydrate=A,n.unmountComponentAtNode=U,n.createPortal=S,n.createFactory=F,n.cloneElement=V,n.isValidElement=B,n.findDOMNode=H,n.PureComponent=l,n.memo=c,n.forwardRef=p,n.flushSync=q,n.unstable_batchedUpdates=z,n.StrictMode=G,n.Suspense=v,n.SuspenseList=_,n.lazy=b,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,n.default=W},{preact:334,"preact/hooks":335}],334:[function(e,t,n){"use strict";var i,r,a,o,s,l,c,u,d={},p=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function m(e,t){for(var n in t)e[n]=t[n];return e}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,n){var r,a,o,s={};for(o in t)"key"==o?r=t[o]:"ref"==o?a=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?i.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===s[o]&&(s[o]=e.defaultProps[o]);return v(e,s,r,a,null)}function v(e,t,n,i,o){var s={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++a:o};return null!=r.vnode&&r.vnode(s),s}function y(e){return e.children}function b(e,t){this.props=e,this.context=t}function _(e,t){if(null==t)return e.__?_(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?_(e):null}function E(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return E(e)}}function x(e){(!e.__d&&(e.__d=!0)&&s.push(e)&&!w.__r++||c!==r.debounceRendering)&&((c=r.debounceRendering)||l)(w)}function w(){for(var e;w.__r=s.length;)e=s.sort((function(e,t){return e.__v.__b-t.__v.__b})),s=[],e.some((function(e){var t,n,i,r,a,o;e.__d&&(a=(r=(t=e).__v).__e,(o=t.__P)&&(n=[],(i=m({},r)).__v=r.__v+1,O(o,r,i,t.__n,void 0!==o.ownerSVGElement,null!=r.__h?[a]:null,n,null==a?_(r):a,r.__h),P(n,r),r.__e!=a&&E(r)))}))}function S(e,t,n,i,r,a,o,s,l,c){var u,f,m,h,g,b,E,x=i&&i.__k||p,w=x.length;for(n.__k=[],u=0;u<t.length;u++)if(null!=(h=n.__k[u]=null==(h=t[u])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?v(null,h,null,null,h):Array.isArray(h)?v(y,{children:h},null,null,null):h.__b>0?v(h.type,h.props,h.key,null,h.__v):h)){if(h.__=n,h.__b=n.__b+1,null===(m=x[u])||m&&h.key==m.key&&h.type===m.type)x[u]=void 0;else for(f=0;f<w;f++){if((m=x[f])&&h.key==m.key&&h.type===m.type){x[f]=void 0;break}m=null}O(e,h,m=m||d,r,a,o,s,l,c),g=h.__e,(f=h.ref)&&m.ref!=f&&(E||(E=[]),m.ref&&E.push(m.ref,null,h),E.push(f,h.__c||g,h)),null!=g?(null==b&&(b=g),"function"==typeof h.type&&null!=h.__k&&h.__k===m.__k?h.__d=l=C(h,l,e):l=k(e,h,m,x,g,l),c||"option"!==n.type?"function"==typeof n.type&&(n.__d=l):e.value=""):l&&m.__e==l&&l.parentNode!=e&&(l=_(m))}for(n.__e=b,u=w;u--;)null!=x[u]&&("function"==typeof n.type&&null!=x[u].__e&&x[u].__e==n.__d&&(n.__d=_(i,u+1)),R(x[u],x[u]));if(E)for(u=0;u<E.length;u++)M(E[u],E[++u],E[++u])}function C(e,t,n){var i,r;for(i=0;i<e.__k.length;i++)(r=e.__k[i])&&(r.__=e,t="function"==typeof r.type?C(r,t,n):k(n,r,r,e.__k,r.__e,t));return t}function k(e,t,n,i,r,a){var o,s,l;if(void 0!==t.__d)o=t.__d,t.__d=void 0;else if(null==n||r!=a||null==r.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(r),o=null;else{for(s=a,l=0;(s=s.nextSibling)&&l<i.length;l+=2)if(s==r)break e;e.insertBefore(r,a),o=a}return void 0!==o?o:r.nextSibling}function T(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||f.test(t)?n:n+"px"}function I(e,t,n,i,r){var a;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||T(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||T(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?i||e.addEventListener(t,a?D:A,a):e.removeEventListener(t,a?D:A,a);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function A(e){this.l[e.type+!1](r.event?r.event(e):e)}function D(e){this.l[e.type+!0](r.event?r.event(e):e)}function O(e,t,n,i,a,o,s,l,c){var u,d,p,f,h,g,v,_,E,x,w,C=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(c=n.__h,l=t.__e=n.__e,t.__h=null,o=[l]),(u=r.__b)&&u(t);try{e:if("function"==typeof C){if(_=t.props,E=(u=C.contextType)&&i[u.__c],x=u?E?E.props.value:u.__:i,n.__c?v=(d=t.__c=n.__c).__=d.__E:("prototype"in C&&C.prototype.render?t.__c=d=new C(_,x):(t.__c=d=new b(_,x),d.constructor=C,d.render=L),E&&E.sub(d),d.props=_,d.state||(d.state={}),d.context=x,d.__n=i,p=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=C.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=m({},d.__s)),m(d.__s,C.getDerivedStateFromProps(_,d.__s))),f=d.props,h=d.state,p)null==C.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==C.getDerivedStateFromProps&&_!==f&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(_,x),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(_,d.__s,x)||t.__v===n.__v){d.props=_,d.state=d.__s,t.__v!==n.__v&&(d.__d=!1),d.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),d.__h.length&&s.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(_,d.__s,x),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(f,h,g)}))}d.context=x,d.props=_,d.state=d.__s,(u=r.__r)&&u(t),d.__d=!1,d.__v=t,d.__P=e,u=d.render(d.props,d.state,d.context),d.state=d.__s,null!=d.getChildContext&&(i=m(m({},i),d.getChildContext())),p||null==d.getSnapshotBeforeUpdate||(g=d.getSnapshotBeforeUpdate(f,h)),w=null!=u&&u.type===y&&null==u.key?u.props.children:u,S(e,Array.isArray(w)?w:[w],t,n,i,a,o,s,l,c),d.base=t.__e,t.__h=null,d.__h.length&&s.push(d),v&&(d.__E=d.__=null),d.__e=!1}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=N(n.__e,t,n,i,a,o,s,c);(u=r.diffed)&&u(t)}catch(e){t.__v=null,(c||null!=o)&&(t.__e=l,t.__h=!!c,o[o.indexOf(l)]=null),r.__e(e,t,n)}}function P(e,t){r.__c&&r.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){r.__e(e,t.__v)}}))}function N(e,t,n,r,a,o,s,l){var c,u,p,f=n.props,m=t.props,g=t.type,v=0;if("svg"===g&&(a=!0),null!=o)for(;v<o.length;v++)if((c=o[v])&&(c===e||(g?c.localName==g:3==c.nodeType))){e=c,o[v]=null;break}if(null==e){if(null===g)return document.createTextNode(m);e=a?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,m.is&&m),o=null,l=!1}if(null===g)f===m||l&&e.data===m||(e.data=m);else{if(o=o&&i.call(e.childNodes),u=(f=n.props||d).dangerouslySetInnerHTML,p=m.dangerouslySetInnerHTML,!l){if(null!=o)for(f={},v=0;v<e.attributes.length;v++)f[e.attributes[v].name]=e.attributes[v].value;(p||u)&&(p&&(u&&p.__html==u.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(function(e,t,n,i,r){var a;for(a in n)"children"===a||"key"===a||a in t||I(e,a,null,n[a],i);for(a in t)r&&"function"!=typeof t[a]||"children"===a||"key"===a||"value"===a||"checked"===a||n[a]===t[a]||I(e,a,t[a],n[a],i)}(e,m,f,a,l),p)t.__k=[];else if(v=t.props.children,S(e,Array.isArray(v)?v:[v],t,n,r,a&&"foreignObject"!==g,o,s,o?o[0]:n.__k&&_(n,0),l),null!=o)for(v=o.length;v--;)null!=o[v]&&h(o[v]);l||("value"in m&&void 0!==(v=m.value)&&(v!==e.value||"progress"===g&&!v)&&I(e,"value",v,f.value,!1),"checked"in m&&void 0!==(v=m.checked)&&v!==e.checked&&I(e,"checked",v,f.checked,!1))}return e}function M(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){r.__e(e,n)}}function R(e,t,n){var i,a;if(r.unmount&&r.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||M(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){r.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(a=0;a<i.length;a++)i[a]&&R(i[a],t,"function"!=typeof e.type);n||null==e.__e||h(e.__e),e.__e=e.__d=void 0}function L(e,t,n){return this.constructor(e,n)}function $(e,t,n){var a,o,s;r.__&&r.__(e,t),o=(a="function"==typeof n)?null:n&&n.__k||t.__k,s=[],O(t,e=(!a&&n||t).__k=g(y,null,[e]),o||d,d,void 0!==t.ownerSVGElement,!a&&n?[n]:o?null:t.firstChild?i.call(t.childNodes):null,s,!a&&n?n:o?o.__e:t.firstChild,a),P(s,e)}i=p.slice,r={__e:function(e,t){for(var n,i,r;t=t.__;)if((n=t.__c)&&!n.__)try{if((i=n.constructor)&&null!=i.getDerivedStateFromError&&(n.setState(i.getDerivedStateFromError(e)),r=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),r=n.__d),r)return n.__E=n}catch(t){e=t}throw e}},a=0,o=function(e){return null!=e&&void 0===e.constructor},b.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=m({},this.state),"function"==typeof e&&(e=e(m({},n),this.props)),e&&m(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),x(this))},b.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),x(this))},b.prototype.render=y,s=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,w.__r=0,u=0,n.render=$,n.hydrate=function e(t,n){$(t,n,e)},n.createElement=g,n.h=g,n.Fragment=y,n.createRef=function(){return{current:null}},n.isValidElement=o,n.Component=b,n.cloneElement=function(e,t,n){var r,a,o,s=m({},e.props);for(o in t)"key"==o?r=t[o]:"ref"==o?a=t[o]:s[o]=t[o];return arguments.length>2&&(s.children=arguments.length>3?i.call(arguments,2):n),v(e.type,s,r||e.key,a||e.ref,null)},n.createContext=function(e,t){var n={__c:t="__cC"+u++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,i;return this.getChildContext||(n=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(x)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n},n.toChildArray=function e(t,n){return n=n||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){e(t,n)})):n.push(t)),n},n.options=r},{}],335:[function(e,t,n){"use strict";var i,r,a,o=e("preact"),s=0,l=[],c=o.options.__b,u=o.options.__r,d=o.options.diffed,p=o.options.__c,f=o.options.unmount;function m(e,t){o.options.__h&&o.options.__h(r,e,s||t),s=0;var n=r.__H||(r.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function h(e){return s=1,g(S,e)}function g(e,t,n){var a=m(i++,2);return a.t=e,a.__c||(a.__=[n?n(t):S(void 0,t),function(e){var t=a.t(a.__[0],e);a.__[0]!==t&&(a.__=[t,a.__[1]],a.__c.setState({}))}],a.__c=r),a.__}function v(e,t){var n=m(i++,4);!o.options.__s&&w(n.__H,t)&&(n.__=e,n.__H=t,r.__h.push(n))}function y(e,t){var n=m(i++,7);return w(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function b(){l.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(E),e.__H.__h.forEach(x),e.__H.__h=[]}catch(t){e.__H.__h=[],o.options.__e(t,e.__v)}})),l=[]}o.options.__b=function(e){r=null,c&&c(e)},o.options.__r=function(e){u&&u(e),i=0;var t=(r=e.__c).__H;t&&(t.__h.forEach(E),t.__h.forEach(x),t.__h=[])},o.options.diffed=function(e){d&&d(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==l.push(t)&&a===o.options.requestAnimationFrame||((a=o.options.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(i),_&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);_&&(t=requestAnimationFrame(n))})(b)),r=void 0},o.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(E),e.__h=e.__h.filter((function(e){return!e.__||x(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],o.options.__e(n,e.__v)}})),p&&p(e,t)},o.options.unmount=function(e){f&&f(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(E)}catch(e){o.options.__e(e,t.__v)}};var _="function"==typeof requestAnimationFrame;function E(e){var t=r;"function"==typeof e.__c&&e.__c(),r=t}function x(e){var t=r;e.__c=e.__(),r=t}function w(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function S(e,t){return"function"==typeof t?t(e):t}n.useState=h,n.useReducer=g,n.useEffect=function(e,t){var n=m(i++,3);!o.options.__s&&w(n.__H,t)&&(n.__=e,n.__H=t,r.__H.__h.push(n))},n.useLayoutEffect=v,n.useRef=function(e){return s=5,y((function(){return{current:e}}),[])},n.useImperativeHandle=function(e,t,n){s=6,v((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},n.useMemo=y,n.useCallback=function(e,t){return s=8,y((function(){return e}),t)},n.useContext=function(e){var t=r.context[e.__c],n=m(i++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(r)),t.props.value):e.__},n.useDebugValue=function(e,t){o.options.useDebugValue&&o.options.useDebugValue(t?t(e):e)},n.useErrorBoundary=function(e){var t=m(i++,10),n=h();return t.__=e,r.componentDidCatch||(r.componentDidCatch=function(e){t.__&&t.__(e),n[1](e)}),[n[0],function(){n[1](void 0)}]}},{preact:334}],336:[function(e,t,n){"use strict";var i=e("preact"),r=0;function a(e,t,n,a,o){var s,l,c={};for(l in t)"ref"==l?s=t[l]:c[l]=t[l];var u={type:e,props:c,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--r,__source:a,__self:o};if("function"==typeof e&&(s=e.defaultProps))for(l in s)void 0===c[l]&&(c[l]=s[l]);return i.options.vnode&&i.options.vnode(u),u}n.Fragment=i.Fragment,n.jsx=a,n.jsxs=a,n.jsxDEV=a},{preact:334}],337:[function(e,t,n){"use strict";var i,r,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,u=[],d=!1,p=-1;function f(){d&&c&&(d=!1,c.length?u=c.concat(u):p=-1,u.length&&m())}function m(){if(!d){var e=l(f);d=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||d||l(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],338:[function(e,t,n){(function(e){(function(){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var i,r=Object.prototype,a=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"===(void 0===t?"undefined":n(t)),d=e.regeneratorRuntime;if(d)u&&(t.exports=d);else{(d=e.regeneratorRuntime=u?t.exports:{}).wrap=E;var p="suspendedStart",f="suspendedYield",m="executing",h="completed",g={},v={};v[s]=function(){return this};var y=Object.getPrototypeOf,b=y&&y(y(P([])));b&&b!==r&&a.call(b,s)&&(v=b);var _=C.prototype=w.prototype=Object.create(v);S.prototype=_.constructor=C,C.constructor=S,C[c]=S.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(_),e},d.awrap=function(e){return{__await:e}},k(T.prototype),T.prototype[l]=function(){return this},d.AsyncIterator=T,d.async=function(e,t,n,i){var r=new T(E(e,t,n,i));return d.isGeneratorFunction(t)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},k(_),_[c]="Generator",_[s]=function(){return this},_.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},d.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(D),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=i),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;D(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=i),g}}}function E(e,t,n,i){var r=t&&t.prototype instanceof w?t:w,a=Object.create(r.prototype),o=new O(i||[]);return a._invoke=function(e,t,n){var i=p;return function(r,a){if(i===m)throw new Error("Generator is already running");if(i===h){if("throw"===r)throw a;return N()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=I(o,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=m;var l=x(e,t,n);if("normal"===l.type){if(i=n.done?h:f,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=h,n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function x(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function S(){}function C(){}function k(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function T(t){function i(e,r,o,s){var l=x(t[e],t,r);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"===n(u)&&a.call(u,"__await")?Promise.resolve(u.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):Promise.resolve(u).then((function(e){c.value=e,o(c)}),s)}s(l.arg)}var r;"object"===n(e.process)&&e.process.domain&&(i=e.process.domain.bind(i)),this._invoke=function(e,t){function n(){return new Promise((function(n,r){i(e,t,n,r)}))}return r=r?r.then(n,n):n()}}function I(e,t){var n=e.iterator[t.method];if(n===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=i,I(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=x(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,g;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=i),t.delegate=null,g):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function P(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=i,t.done=!0,t};return r.next=r}}return{next:N}}function N(){return{value:i,done:!0}}}("object"===(void 0===e?"undefined":n(e))?e:"object"===("undefined"==typeof window?"undefined":n(window))?window:"object"===("undefined"==typeof self?"undefined":n(self))?self:void 0)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],339:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0});var r=String.fromCharCode,a=Object.prototype.hasOwnProperty,o=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,s={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function l(e,t,n,i){return i?a.call(s,i)?s[i]:"&"+i+";":r(t||parseInt(n,16))}function c(e){return e.length>3&&-1!==e.indexOf("&")?e.replace(o,l):e}Object.keys(s).forEach((function(e){s[e.toUpperCase()]=s[e]}));var u="xsi:type",d="non-whitespace outside of root node";function p(e){return new Error(e)}function f(e){return"missing namespace for prefix <"+e+">"}function m(e){return{get:e,enumerable:!0}}function h(e){var t,n={};for(t in e)n[t]=e[t];return n}function g(e){return e+"$uri"}function v(){return{line:0,column:0}}function y(e){throw e}n.Parser=function e(t){if(!this)return new e(t);var n,r,a,o,s,l,b,_,E,x=t&&t.proxy,w=y,S=v,C=!1,k=!1,T=null,I=!1;function A(e){e instanceof Error||(e=p(e)),T=e,w(e,S)}function D(e){s&&(e instanceof Error||(e=p(e)),s(e,S))}this.on=function(e,t){if("function"!=typeof t)throw p("required args <name, cb>");switch(e){case"openTag":r=t;break;case"text":n=t;break;case"closeTag":a=t;break;case"error":w=t;break;case"warn":s=t;break;case"cdata":o=t;break;case"attention":_=t;break;case"question":b=t;break;case"comment":l=t;break;default:throw p("unsupported event: "+e)}return this},this.ns=function(e){if(void 0===e&&(e={}),"object"!==i(e))throw p("required args <nsMap={}>");var t,n={};for(t in e)n[t]=e[t];return n["http://www.w3.org/2001/XMLSchema-instance"]="xsi",k=!0,E=n,this},this.parse=function(e){if("string"!=typeof e)throw p("required args <xml=string>");return T=null,function(e){var t,i,s,p,v,y,w,T,O,P,N,M=k?[]:null,R=k?function(e){var t,n,i={};for(t in e)i[n=e[t]]=n,i[g(n)]=t;return i}(E):null,L=[],$=0,j=!1,F=!1,B=0,V=0,U="",H=0;function z(){if(null!==N)return N;var e,t,n,i,r,a,o,s,l,d,p,m=k&&R.xmlns,v=k&&C?[]:null,y=H,b=U,_=b.length,x={},w={};e:for(;y<_;y++)if(l=!1,!(32===(d=b.charCodeAt(y))||d<14&&d>8)){for((d<65||d>122||d>90&&d<97)&&95!==d&&58!==d&&(D("illegal first char attribute name"),l=!0),p=y+1;p<_;p++)if(!((d=b.charCodeAt(p))>96&&d<123||d>64&&d<91||d>47&&d<59||46===d||45===d||95===d)){if(32===d||d<14&&d>8){D("missing attribute value"),y=p;continue e}if(61===d)break;D("illegal attribute name char"),l=!0}if("xmlns:xmlns"===(s=b.substring(y,p))&&(D("illegal declaration of xmlns"),l=!0),34===(d=b.charCodeAt(p+1)))-1===(p=b.indexOf('"',y=p+2))&&-1!==(p=b.indexOf("'",y))&&(D("attribute value quote missmatch"),l=!0);else if(39===d)-1===(p=b.indexOf("'",y=p+2))&&-1!==(p=b.indexOf('"',y))&&(D("attribute value quote missmatch"),l=!0);else for(D("missing attribute value quotes"),l=!0,p+=1;p<_&&!(32===(d=b.charCodeAt(p+1))||d<14&&d>8);p++);for(-1===p&&(D("missing closing quotes"),p=_,l=!0),l||(a=b.substring(y,p)),y=p;p+1<_&&!(32===(d=b.charCodeAt(p+1))||d<14&&d>8);p++)y===p&&(D("illegal character after attribute end"),l=!0);if(y=p+1,!l)if(s in w)D("attribute <"+s+"> already defined");else if(w[s]=!0,k)if(C){if(null!==(r="xmlns"===s?"xmlns":120===s.charCodeAt(0)&&"xmlns:"===s.substr(0,6)?s.substr(6):null)){if(e=c(a),t=g(r),!(o=E[e])){if("xmlns"===r||t in R&&R[t]!==e)do{o="ns"+$++}while(void 0!==R[o]);else o=r;E[e]=o}R[r]!==o&&(i||(R=h(R),i=!0),R[r]=o,"xmlns"===r&&(R[g(o)]=e,m=o),R[t]=e),x[s]=a;continue}v.push(s,a)}else-1!==(d=s.indexOf(":"))?(n=R[s.substring(0,d)])?((s=m===n?s.substr(d+1):n+s.substr(d))===u&&(-1!==(d=a.indexOf(":"))?(n=a.substring(0,d),a=(n=R[n]||n)+a.substring(d)):a=m+":"+a),x[s]=a):D(f(s.substring(0,d))):x[s]=a;else x[s]=a}if(C)for(y=0,_=v.length;y<_;y++){if(s=v[y++],a=v[y],-1!==(d=s.indexOf(":"))){if(!(n=R[s.substring(0,d)])){D(f(s.substring(0,d)));continue}(s=m===n?s.substr(d+1):n+s.substr(d))===u&&(-1!==(d=a.indexOf(":"))?(n=a.substring(0,d),a=(n=R[n]||n)+a.substring(d)):a=m+":"+a)}x[s]=a}return N=x}function q(){for(var t,n,i=/(\r\n|\r|\n)/g,r=0,a=0,o=0,s=V;B>=o&&(t=i.exec(e))&&!((s=t[0].length+t.index)>B);)r+=1,o=s;return-1==B?(a=s,n=e.substring(V)):0===V?n=e.substring(V,B):(a=B-o,n=-1==V?e.substring(B):e.substring(B,V+1)),{data:n,line:r,column:a}}S=q,x&&(P=Object.create({},{name:m((function(){return T})),originalName:m((function(){return O})),attrs:m(z),ns:m((function(){return R}))}));for(;-1!==V;){if(-1===(B=60===e.charCodeAt(V)?V:e.indexOf("<",V)))return L.length?A("unexpected end of file"):0===V?A("missing start tag"):void(V<e.length&&e.substring(V).trim()&&D(d));if(V!==B)if(L.length){if(n&&(n(e.substring(V,B),c,S),I))return}else if(e.substring(V,B).trim()&&(D(d),I))return;if(33===(v=e.charCodeAt(B+1))){if(91===(p=e.charCodeAt(B+2))&&"CDATA["===e.substr(B+3,6)){if(-1===(V=e.indexOf("]]>",B)))return A("unclosed cdata");if(o&&(o(e.substring(B+9,V),S),I))return;V+=3;continue}if(45===p&&45===e.charCodeAt(B+3)){if(-1===(V=e.indexOf("--\x3e",B)))return A("unclosed comment");if(l&&(l(e.substring(B+4,V),c,S),I))return;V+=3;continue}}if(63!==v){for(i=B+1;;i++){if(y=e.charCodeAt(i),isNaN(y))return V=-1,A("unclosed tag");if(34===y)i=-1!==(p=e.indexOf('"',i+1))?p:i;else if(39===y)i=-1!==(p=e.indexOf("'",i+1))?p:i;else if(62===y){V=i;break}}if(33!==v){if(N={},47===v){if(j=!1,F=!0,!L.length)return A("missing open tag");if(i=T=L.pop(),p=B+2+i.length,e.substring(B+2,p)!==i)return A("closing tag mismatch");for(;p<V;p++)if(!(32===(v=e.charCodeAt(p))||v>8&&v<14))return A("close tag")}else{if(47===e.charCodeAt(V-1)?(i=T=e.substring(B+1,V-1),j=!0,F=!0):(i=T=e.substring(B+1,V),j=!0,F=!1),!(v>96&&v<123||v>64&&v<91||95===v||58===v))return A("illegal first char nodeName");for(p=1,s=i.length;p<s;p++)if(!((v=i.charCodeAt(p))>96&&v<123||v>64&&v<91||v>47&&v<59||45===v||95===v||46==v)){if(32===v||v<14&&v>8){T=i.substring(0,p),N=null;break}return A("invalid nodeName")}F||L.push(T)}if(k){if(t=R,j&&(F||M.push(t),null===N&&(C=-1!==i.indexOf("xmlns",p))&&(H=p,U=i,z(),C=!1)),O=T,-1!==(v=T.indexOf(":"))){if(!(w=R[T.substring(0,v)]))return A("missing namespace on <"+O+">");T=T.substr(v+1)}else w=R.xmlns;w&&(T=w+":"+T)}if(j&&(H=p,U=i,r&&(x?r(P,c,F,S):r(T,z,c,F,S),I)))return;if(F){if(a&&(a(x?P:T,c,j,S),I))return;k&&(R=j?t:M.pop())}V+=1}else{if(_&&(_(e.substring(B,V+1),c,S),I))return;V+=1}}else{if(-1===(V=e.indexOf("?>",B)))return A("unclosed question");if(b&&(b(e.substring(B,V+2),S),I))return;V+=2}}}(e),S=v,I=!1,T},this.stop=function(){I=!0}},n.decode=c},{}],340:[function(e,t,n){(function(n){(function(){"use strict";var i;e("core-js/modules/web.immediate.js"),i="function"==typeof n?function(e){n(e)}:function(e){setTimeout(e,0)},t.exports=i}).call(this)}).call(this,e("timers").setImmediate)},{"core-js/modules/web.immediate.js":242,timers:341}],341:[function(e,t,n){(function(t,i){(function(){"use strict";e("core-js/modules/web.immediate.js");var r=e("process/browser.js").nextTick,a=Function.prototype.apply,o=Array.prototype.slice,s={},l=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=l++,i=!(arguments.length<2)&&o.call(arguments,1);return s[t]=!0,r((function(){s[t]&&(i?e.apply(null,i):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof i?i:function(e){delete s[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"core-js/modules/web.immediate.js":242,"process/browser.js":337,timers:341}],342:[function(e,t,n){"use strict";function i(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch(e){}return e}function r(e,t){return t.appendChild(i(e,t))}Object.defineProperty(n,"__esModule",{value:!0});var a={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function o(e,t,n){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=a[i];r?(2===r&&"number"==typeof n&&(n=String(n)+"px"),e.style[i]=n):e.setAttributeNS(null,t,n)}function s(e,t,n){if("string"==typeof t){if(void 0===n)return function(e,t){return a[t]?e.style[t]:e.getAttributeNS(null,t)}(e,t);o(e,t,n)}else!function(e,t){var n,i,r=Object.keys(t);for(n=0;i=r[n];n++)o(e,i,t[i])}(e,t);return e}function l(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}var c=/\s+/,u=Object.prototype.toString;function d(e){return void 0!==e}function p(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function f(e){var t=e.parentNode;return t&&t.removeChild(e),e}function m(e){for(var t;t=e.firstChild;)f(t);return e}p.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~l(t,e)||t.push(e),d(this.el.className.baseVal)?this.el.className.baseVal=t.join(" "):this.el.className=t.join(" "),this},p.prototype.remove=function(e){if("[object RegExp]"===u.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=l(t,e);return~n&&t.splice(n,1),this.el.className.baseVal=t.join(" "),this},p.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},p.prototype.toggle=function(e,t){return this.list?(d(t)?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(d(t)?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},p.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(c);return""===e[0]&&e.shift(),e},p.prototype.has=p.prototype.contains=function(e){return this.list?this.list.contains(e):!!~l(this.array(),e)};var h="http://www.w3.org/2000/svg",g='<svg xmlns="'+h+'"';function v(e){var t=!1;"<svg"===e.substring(0,4)?-1===e.indexOf(h)&&(e=g+e.substring(4)):(e=g+">"+e+"</svg>",t=!0);var n=function(e){var t;return(t=new DOMParser).async=!1,t.parseFromString(e,"text/xml")}(e);if(!t)return n;for(var i=document.createDocumentFragment(),r=n.firstChild;r.firstChild;)i.appendChild(r.firstChild);return i}function y(e,t){var n;return"<"===e.charAt(0)?(n=v(e).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(h,e),t&&s(n,t),n}var b=y("svg");function _(e,t){var n,i,r=Object.keys(t);for(n=0;i=r[n];n++)e[i]=t[i];return e}var E=/([&<>]{1})/g,x=/([\n\r"]{1})/g,w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function S(e,t){return e.replace(t,(function(e,t){return w[t]||t}))}function C(e,t){var n,i,r,a,o;switch(e.nodeType){case 3:t.push(S(e.textContent,E));break;case 1:if(t.push("<",e.tagName),e.hasAttributes())for(n=0,i=(r=e.attributes).length;n<i;++n)a=r.item(n),t.push(" ",a.name,'="',S(a.value,x),'"');if(e.hasChildNodes()){for(t.push(">"),n=0,i=(o=e.childNodes).length;n<i;++n)C(o.item(n),t);t.push("</",e.tagName,">")}else t.push("/>");break;case 8:t.push("\x3c!--",S(e.nodeValue,E),"--\x3e");break;case 4:t.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return t}function k(e,t){var n=v(t);if(m(e),t){(function(e){return"#document-fragment"===e.nodeName})(n)||(n=n.documentElement);for(var i,a=(i=n.childNodes,Array.prototype.slice.call(i)),o=0;o<a.length;o++)r(a[o],e)}}function T(e,t){return t.insertBefore(i(e,t),t.firstChild||null)}function I(e,t){return t instanceof SVGMatrix?e.createSVGTransformFromMatrix(t):t}n.append=function(e,t){return r(t,e),e},n.appendTo=r,n.attr=s,n.classes=function(e){return new p(e)},n.clear=m,n.clone=function(e){return e.cloneNode(!0)},n.create=y,n.innerSVG=function(e,t){if(void 0!==t){try{k(e,t)}catch(e){throw new Error("error parsing SVG: "+e.message)}return e}return function(e){for(var t=e.firstChild,n=[];t;)C(t,n),t=t.nextSibling;return n.join("")}(e)},n.prepend=function(e,t){return T(t,e),e},n.prependTo=T,n.remove=f,n.replace=function(e,t){return e.parentNode.replaceChild(i(t,e),e),t},n.transform=function(e,t){var n=e.transform.baseVal;return t&&(Array.isArray(t)||(t=[t]),function(e,t){var n,i;for(e.clear(),n=0;i=t[n];n++)e.appendItem(I(e,i))}(n,t)),n.consolidate()},n.on=function(e,t,n,i){e.addEventListener(t,n,i)},n.off=function(e,t,n,i){e.removeEventListener(t,n,i)},n.createPoint=function(e,t){var n=b.createSVGPoint();switch(arguments.length){case 0:return n;case 2:e={x:e,y:t}}return _(n,e)},n.createMatrix=function(e,t,n,i,r,a){var o=b.createSVGMatrix();switch(arguments.length){case 0:return o;case 1:return _(o,e);case 6:return _(o,{a:e,b:t,c:n,d:i,e:r,f:a})}},n.createTransform=function(e){return e?b.createSVGTransformFromMatrix(e):b.createSVGTransform()},n.select=function(e,t){return e.querySelector(t)},n.selectAll=function(e,t){var n=e.querySelectorAll(t);return[].map.call(n,(function(e){return e}))}},{}],343:[function(e,t,n){"use strict";var i=e("./events"),r=function(e,t,n){this._sdk=e,this._localConf=t,this.shouldLoadHistory=n.getBatchOperationAutoLoadEnded(),this.sortingProperties={runtime:"batch-runtime-sort",history:"batch-history-sort",job:"batch-job-sort"};var r=this._loadLocal("runtime",{sortBy:"batchId",sortOrder:"asc"}),a=this._loadLocal("history",{sortBy:"startTime",sortOrder:"desc"});this._batches={runtime:{state:"INITIAL",currentPage:1,count:0,data:null,sorting:r},history:{state:"INITIAL",currentPage:1,count:0,data:null,sorting:a},selection:{state:"INITIAL",type:null,data:{}}};var o=this._loadLocal("job",{sortBy:"jobId",sortOrder:"asc"});this._jobs={state:"INITIAL",currentPage:1,count:0,data:[],sorting:o},this.deleteModal={instance:null};var s=this;i.on("delete:cancel",(function(){s.deleteModal.instance&&s.deleteModal.instance.dismiss("cancel"),s.deleteModal.instance=null})),i.on("delete:confirm",(function(e){s._remove(e)}))};r.prototype._loadLocal=function(e,t){var n=this._localConf;return n&&n.get(this.sortingProperties[e],t)},r.prototype._saveLocal=function(e,t){var n=this._localConf;n&&n.set(this.sortingProperties[e],t)},r.prototype.openDeleteModal=function(){i.emit("deleteModal:open",this.deleteModal)},r.prototype.onBatchSortChange=function(e,t){this._batches[e].sorting=t,this._saveLocal(e,t),this._load(e)},r.prototype.onJobSortChange=function(e){this._jobs.sorting=e,this._saveLocal("job",e),this._loadFailedJobs(this.getSelection())},r.prototype._remove=function(e){var t=this._batches.selection;e.id=t.data.id;var n=this;return this._sdk.resource("batch").delete(e,(function(e){n.deleteModal.instance&&n.deleteModal.instance.close(),n.deleteModal.instance=null,e?i.emit("batch:delete:failed",e):(i.emit("batch:delete:success"),n.load(),t.state="INITIAL",t.type=null,t.data={})}))};var a=function(e){return function(t){t?i.emit("job:retry:failed",t):(i.emit("job:retry:success"),e._load("runtime"),e.loadDetails(e.getSelection().id,"runtime"))}};r.prototype.retryAll=function(){return this._sdk.resource("job-definition").setRetries({id:this._batches.selection.data.batchJobDefinitionId,retries:1},a(this))},r.prototype.retryJob=function(e){return this._sdk.resource("job").setRetries({id:e.id,retries:1},a(this))},r.prototype.deleteJob=function(e){var t=this;return this._sdk.resource("job").delete(e.id,(function(e){e?i.emit("job:delete:failed",e):(i.emit("job:delete:success"),t._load("runtime"),t.loadDetails(t.getSelection().id,"runtime"))}))},r.prototype.getProgressPercentage=function(e,t){switch(t){case"success":return 100*e.completedJobs/(e.completedJobs+e.remainingJobs);case"failed":return 100*e.failedJobs/(e.completedJobs+e.remainingJobs);case"remaining":return 100*(e.remainingJobs-e.failedJobs)/(e.completedJobs+e.remainingJobs)}},r.prototype.getProgressRoundedPercentage=function(e,t){return Math.round(this.getProgressPercentage(e,t))},r.prototype.getProgressAbsolute=function(e,t){switch(t){case"success":return e.completedJobs;case"failed":return e.failedJobs;case"remaining":return e.remainingJobs-e.failedJobs}},r.prototype.isSelected=function(e){return this._batches.selection.data.id===e.id},r.prototype.getJobs=function(){return this._jobs.data},r.prototype.getStacktraceUrl=function(e){return this._sdk.baseUrl+"/job/"+e.id+"/stacktrace"},r.prototype.getJobCount=function(){return this._jobs.count},r.prototype.getLoadingState=function(e){return"jobs"===e?this._jobs.state:this._batches[e].state},r.prototype.getBatches=function(e){return this._batches[e].data},r.prototype.getSelection=function(){return this._batches.selection.data},r.prototype.getSelectionType=function(){return this._batches.selection.type},r.prototype.getBatchCount=function(e){return this._batches[e].count},r.prototype.getPageSize=function(){return 10},r.prototype.getCurrentPage=function(e){return"jobs"===e?this._jobs.currentPage:this._batches[e].currentPage},r.prototype.getSuspendedState=function(){return this.getSelection().suspended},r.prototype.toggleSuspension=function(){var e=this,t=this.getSelection();return t.state="LOADING",this._sdk.resource("batch").suspended({id:t.id,suspended:!t.suspended},(function(n){if(n)throw n;e.loadDetails(t.id,"runtime")}))},r.prototype.updatePage=function(e){if("job"===e)return this._loadFailedJobs(this.getSelection());this._load(e)},r.prototype.load=function(){this._load("runtime"),this.shouldLoadHistory&&this._load("history")},r.prototype.loadHistory=function(){this.shouldLoadHistory=!0,this._load("history")},r.prototype.loadPeriodically=function(e){var t=this;this.load(),this.intervalHandle=window.setInterval((function(){t.load(),"LOADED"===t._batches.selection.state&&"runtime"===t._batches.selection.type&&0===t._jobs.count&&t.loadDetails(t._batches.selection.data.id,"runtime")}),e)},r.prototype.stopLoadingPeriodically=function(){window.clearInterval(this.intervalHandle)},r.prototype.loadDetails=function(e,t){var n=this._batches.selection;n.state="LOADING",n.type=t;var r=this,a=function(a,o){var s=function(e){i.emit("load:details:failed"),n.data=e,n.state="ERROR"},l=function(){i.emit("load:details:completed"),n.state="LOADED","runtime"===t&&r._loadFailedJobs(n.data)};if(a||void 0!==o.length&&0===o.length)"runtime"===t?(i.emit("details:switchToHistory"),r.loadDetails(e,"history")):s(a.message);else{n.data=o.length?o[0]:o;var c=n.data.createUserId;c?this._sdk.resource("user").profile({id:c},(function(e,t){e?404===e.status?(n.data.user=c,l()):s(e.message):(t.firstName&&t.lastName?n.data.user=t.firstName+" "+t.lastName:n.data.user=c,l())})):l()}}.bind(this);switch(t){case"runtime":this._sdk.resource("batch").statistics({batchId:e,maxResults:1},a);break;case"history":this._sdk.resource("history").singleBatch(e,a)}},r.prototype._loadFailedJobs=function(e){var t=e.batchJobDefinitionId,n=this._jobs;n.state="LOADING";var r={jobDefinitionId:t,withException:!0,noRetriesLeft:!0,firstResult:10*(n.currentPage-1),maxResults:10,sorting:[this._jobs.sorting]};this._sdk.resource("job").list(r,function(e,t){e?(n.data=e.message,n.state="ERROR"):(n.data=t,delete r.sorting,this._sdk.resource("job").count(r,(function(e,t){n.state=t?"LOADED":"EMPTY",n.count=t,i.emit("load:jobs:completed")})))}.bind(this))},r.prototype._load=function(e){var t=this._batches[e];t.data||(t.state="LOADING");var n={firstResult:10*(t.currentPage-1),maxResults:10},r=function(n,r){t.state=r.count?"LOADED":"EMPTY",t.count=r.count,i.emit("load:"+e+":completed")},a=function(i,a){if(t.data=a.items||a,void 0!==a.count)r(0,a);else switch(e){case"runtime":return this._sdk.resource("batch").statisticsCount(n,r);case"history":return this._sdk.resource("history").batchCount(n,r)}}.bind(this);switch(t.sorting&&(n.sortBy=t.sorting.sortBy,n.sortOrder=t.sorting.sortOrder),e){case"runtime":return this._sdk.resource("batch").statistics(n,a);case"history":return n.completed=!0,this._sdk.resource("history").batch(n,a)}},r.prototype.sortingKeys=["id","startTime","endTime","type","user","totalJobs","completedJobs","remainingJobs","batchJobsPerSeed","invocationsPerBatchJob","tenantId","batchJobDefinitionId","monitorJobDefinitionId","seedJobDefinitionId"],t.exports=r},{"./events":346}],344:[function(e,t,n){"use strict";t.exports=function(e,t,n){t.showBreadcrumbs=!0,e.breadcrumbsClear(),e.breadcrumbsAdd({label:n.instant("BATCHES_BREAD_BATCHES")}),e.titleSet(n.instant("BATCHES_TITLE_BATCHES"))}},{}],345:[function(e,t,n){"use strict";var i=e("./events"),r=function(){this.cascade=!1,this.disable=!1};r.prototype.cancel=function(){i.emit("delete:cancel")},r.prototype.confirm=function(){this.disable=!0,i.emit("delete:confirm",{cascade:this.cascade})},t.exports=r},{"./events":346}],346:[function(e,t,n){"use strict";t.exports=new(e("events"))},{events:303}],347:[function(e,t,n){"use strict";var i=e("../controllers/view-ctrl");t.exports=["$routeProvider",function(e){e.when("/batch",{template:'<div class="batch-wrapper">\n  <div class="row">\n    <div class="col-md-6">\n      <h3>{{ \'BATCHES_PROGRESS_IN\' | translate }}</h3>\n      <div cam-widget-loader\n           loading-state="{{ ctrl.getLoadingState(\'runtime\') }}"\n           text-empty="{{ \'BATCHES_PROGRESS_NO_RUNNING\' | translate }}">\n\n        <table class="cam-table">\n          <thead sortable-table-head\n                 head-columns="runtimeHeadColumns"\n                 on-sort-change="ctrl.onBatchSortChange(\'runtime\', sortObj)"\n                 default-sort="ctrl._batches.runtime.sorting">\n          </thead>\n          <tbody>\n            <tr ng-repeat="batch in ctrl.getBatches(\'runtime\')" ng-class="{selected: ctrl.isSelected(batch)}">\n              <td class="uuid"><a ng-href="#/batch?details={{batch.id}}&type=runtime">{{batch.id}}</a></td>\n              <td class="type">{{batch.type}}</td>\n              <td class="failed">{{ ctrl.getProgressAbsolute(batch, \'failed\') }}</td>\n              <td>\n                <uib-progress>\n                  <div class="processed">{{ ctrl.getProgressRoundedPercentage(batch, \'success\') }}%</div>\n                  <uib-bar value="ctrl.getProgressPercentage(batch, \'success\')"\n                       type="success"\n                       ng-if="ctrl.getProgressAbsolute(batch, \'success\') > 0"\n                       class="jobs jobs-success">\n                  </uib-bar>\n                </uib-progress>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <ul uib-pagination ng-if="ctrl.getBatchCount(\'runtime\') > ctrl.getPageSize()"\n                    class="pagination-sm"\n\n                    page="ctrl.getCurrentPage(\'runtime\')"\n                    ng-model="ctrl._batches.runtime.currentPage"\n                    ng-change="ctrl.updatePage(\'runtime\')"\n\n                    total-items="ctrl.getBatchCount(\'runtime\')"\n                    items-per-page="ctrl.getPageSize()"\n\n                    max-size="7"\n                    boundary-links="true"></ul>\n      </div>\n\n      <h3>{{ \'BATCHES_PROGRESS_END\' | translate }}</h3>\n\n      <div cam-widget-loader\n           loading-state="{{ ctrl.getLoadingState(\'history\') }}"\n           text-empty="{{ \'BATCHES_PROGRESS_NO_FINISHED\' | translate }}"\n           ng-if="ctrl.shouldLoadHistory">\n\n        <table class="cam-table">\n          <thead sortable-table-head\n                 head-columns="historyHeadColumns"\n                 on-sort-change="ctrl.onBatchSortChange(\'history\', sortObj)"\n                 default-sort="ctrl._batches.history.sorting">\n          </thead>\n          <tbody>\n            <tr ng-repeat="batch in ctrl.getBatches(\'history\')" ng-class="{selected: ctrl.isSelected(batch)}">\n              <td class="uuid"><a ng-href="#/batch?details={{batch.id}}&type=history">{{batch.id}}</a></td>\n              <td>{{batch.type}}</td>\n              <td>{{batch.startTime | camDate}}</td>\n              <td>{{batch.endTime | camDate}}</td>\n            </tr>\n          </tbody>\n        </table>\n        <ul uib-pagination ng-if="ctrl.getBatchCount(\'history\') > ctrl.getPageSize()"\n                    class="pagination-sm"\n\n                    page="ctrl.getCurrentPage(\'history\')"\n                    ng-model="ctrl._batches.history.currentPage"\n                    ng-change="ctrl.updatePage(\'history\')"\n\n                    total-items="ctrl.getBatchCount(\'history\')"\n                    items-per-page="ctrl.getPageSize()"\n\n                    max-size="7"\n                    boundary-links="true"></ul>\n      </div>\n      <div class="history-loader" ng-if="!ctrl.shouldLoadHistory">\n        <button class="btn btn-default" ng-click="ctrl.loadHistory()">{{\'BATCHES_LOAD_ENDED\' | translate}}</button>\n      </div>\n    </div>\n\n    <div class="col-md-6">\n      <div cam-widget-loader\n           loading-state="{{ ctrl.getLoadingState(\'selection\') }}"\n           text-error="{{ctrl.getSelection()}}">\n        \x3c!-- The check below is needed, because you cannot combine ng-if with transclusion in the loader widget. Thanks Angular --\x3e\n        <div ng-if="ctrl.getLoadingState(\'selection\') == \'LOADED\'">\n          <div class="row"\n               ng-init="selection = ctrl.getSelection()">\n            <h3 class="col-xs-8">\n              <span ng-if="ctrl.getSelectionType() == \'history\'">{{ \'BATCHES_PROGRESS_COMPLETED\' | translate }}</span>\n              <span ng-if="ctrl.getSelectionType() == \'runtime\'">{{ \'BATCHES_PROGRESS_IN_PROGRESS\' | translate }}</span> {{ \'BATCHES_PROGRESS_BATCH_DETAILS\' | translate }}\n            </h3>\n\n            <div class="col-xs-4 text-right">\n              <div class="btn-group batch-controls">\n                <a ng-if="ctrl.getSelectionType() == \'runtime\' && !ctrl.getSuspendedState()"\n                   ng-click="ctrl.toggleSuspension()"\n                   class="btn btn-default"\n                   uib-tooltip="{{ \'BATCHES_PROGRESS_TOOLTIP_SUSPEND_BATCH\' | translate }}">\n                  <span class="glyphicon glyphicon-pause"></span>\n                </a>\n\n                <a ng-if="ctrl.getSelectionType() == \'runtime\' && ctrl.getSuspendedState()"\n                   ng-click="ctrl.toggleSuspension()"\n                   class="btn btn-default"\n                   uib-tooltip="{{ \'BATCHES_PROGRESS_TOOLTIP_ACTIVATE_BATCH\' | translate }}">\n                  <span class="glyphicon glyphicon-play"></span>\n                </a>\n\n                <a ng-if="ctrl.getSelectionType() == \'runtime\' && ctrl.getJobs().length > 0"\n                   class="btn btn-default action-button"\n                   ng-click="ctrl.retryAll()"\n                   uib-tooltip="{{ \'BATCHES_PROGRESS_TOOLTIP_INCREMENT_NUMBER\' | translate }}">\n                  <span class="glyphicon glyphicon-repeat"></span>\n                </a>\n\n                <a ng-if="ctrl.getSelectionType() == \'runtime\'"\n                   class="btn btn-danger action-button"\n                   ng-click="ctrl.openDeleteModal()"\n                   uib-tooltip="{{ \'BATCHES_PROGRESS_TOOLTIP_DELETE_BATCH\' | translate }}">\n                  <span class="glyphicon glyphicon-trash"></span>\n                </a>\n              </div>\n            </div>\n          </div>\n\n          <table class="cam-table batch-details">\n            <thead>\n              <th>{{ \'BATCHES_PROGRESS_PROPERTY\' | translate }}</th>\n              <th>{{ \'BATCHES_PROGRESS_VALUE\' | translate }}</th>\n            </thead>\n            <tbody>\n              <tr ng-repeat="key in ctrl.sortingKeys"\n                  ng-if="selection[key] && key !== \'failedJobs\'"\n                  ng-class="key">\n                <td>{{key}}</td>\n                <td ng-if="key !== \'startTime\' && key !== \'endTime\'">{{selection[key]}}\n                  <span ng-if="key === \'remainingJobs\' && selection.failedJobs"\n                        class="failedJobs"\n                        translate="BATCHES_PROGRESS_FAILED"\n                        translate-values="{jobs: selection.failedJobs}"></span>\n                </td>\n                <td ng-if="key === \'startTime\' || key == \'endTime\'">{{selection[key] | camDate}}</td>\n              </tr>\n            </tbody>\n          </table>\n          <div ng-if="ctrl.getSelectionType() == \'runtime\'">\n            <h3>{{ \'BATCHES_PROGRESS_FAIL_JOBS\' | translate }}</h3>\n            <div cam-widget-loader\n                 loading-state="{{ ctrl.getLoadingState(\'jobs\') }}"\n                 text-empty="{{ \'BATCHES_PROGRESS_NO_FAILED_JOBS\' | translate }}"\n                 text-error="{{ ctrl.getJobs() }}">\n            <table class="cam-table">\n              <thead sortable-table-head\n                     head-columns="jobHeadColumns"\n                     on-sort-change="ctrl.onJobSortChange(sortObj)"\n                     default-sort="ctrl._jobs.sorting">\n              </thead>\n              <tbody>\n                <tr ng-repeat="job in ctrl.getJobs()">\n                  <td class="uuid stack-trace">{{job.id}}</td>\n                  <td>\n                    {{job.exceptionMessage.substr(0, 120)}}…\n                    <a ng-href="{{ctrl.getStacktraceUrl(job)}}"\n                       target="_blank"\n                       uib-tooltip="{{ \'BATCHES_PROGRESS_TOOLTIP_OPEN_STACK\' | translate }}">{{ \'BATCHES_PROGRESS_FULL_STACK_TRACE\' | translate }}</a>\n                  </td>\n                  <td>\n                    <div class="btn-group btn-group-sm">\n                      <a class="btn btn-default action-button"\n                         ng-click="ctrl.retryJob(job)"\n                         uib-tooltip="{{ \'BATCHES_PROGRESS_TOOLTIP_INCREMENT_RETRIES\' | translate }}">\n                        <span class="glyphicon glyphicon-repeat"></span>\n                      </a>\n                      <a class="btn btn-default action-button"\n                         ng-click="ctrl.deleteJob(job)"\n                         uib-tooltip="{{ \'BATCHES_PROGRESS_TOOLTIP_DELETE_JOB\' | translate }}">\n                        <span class="glyphicon glyphicon-trash"></span>\n                      </a>\n                      <a class="btn btn-default action-button"\n                      ng-click="openLog(job)"\n                      uib-tooltip="{{ \'BATCHES_PROGRESS_TOOLTIP_JOB_LOG\' | translate }}">\n                     <span class="glyphicon glyphicon-menu-hamburger""></span>\n                   </a>\n                    </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <ul uib-pagination ng-if="ctrl.getJobCount() > ctrl.getPageSize()"\n                        class="pagination-sm"\n\n                        page="ctrl.getCurrentPage(\'job\')"\n                        ng-model="ctrl._jobs.currentPage"\n                        ng-change="ctrl.updatePage(\'job\')"\n\n                        total-items="ctrl.getJobCount()"\n                        items-per-page="ctrl.getPageSize()"\n\n                        max-size="7"\n                        boundary-links="true"></ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',controller:i,authentication:"required",reloadOnSearch:!1})}]},{"../controllers/view-ctrl":350}],348:[function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.exports=["$scope","camAPI","job","$translate","localConf","Uri",function(e,t,n,a,o,s){e.loadingState="LOADING",e.headColumns=[{class:"state",request:"suspended",sortable:!1,content:a.instant("PLGN_HIST_STATE")},{class:"message",request:"failureLog",sortable:!1,content:a.instant("PLGN_HIST_MESSAGE")},{class:"timestamp",request:"timestamp",sortable:!0,content:a.instant("PLGN_HIST_TIMESTAMPE")},{class:"job uuid",request:"jobId",sortable:!0,content:a.instant("PLGN_HIST_JOB_ID")},{class:"type",request:"jobDefinitionType",sortable:!1,content:a.instant("PLGN_HIST_TYPE")},{class:"configuration",request:"jobDefinitionConfiguration",sortable:!1,content:a.instant("PLGN_HIST_CONFIGURATION")},{class:"retries",request:"jobRetries",sortable:!0,content:a.instant("PLGN_HIST_RETRIES")},{class:"hostname",request:"hostname",sortable:!0,content:a.instant("PLGN_HIST_HOSTNAME")},{class:"priority",request:"jobPriority",sortable:!0,content:a.instant("PLGN_HIST_PRIORITY")}],e.getHistoricJobLogStacktraceUrl=function(e){return s.appUri("engine://engine/:engine/history/job-log/"+e.id+"/stacktrace")},e.sortObj={sortBy:"timestamp",sortOrder:"desc"},e.onSortChange=function(t){e.sortObj=t||e.sortObj,c()};var l=e.pages={total:0,current:1,size:10};e.getState=function(e){return e.creationLog?"Created":e.failureLog?"Failed":e.deletionLog?"Deleted":e.successLog?"Successful":void 0};var c=e.updateView=function(){e.loadingState="LOADING",t.resource("history").jobLogList(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({jobId:n.id,maxResults:l.size,firstResult:(l.current-1)*l.size},e.sortObj)).then((function(t){e.logs=t,e.loadingState=t.length?"LOADED":"EMPTY"})).catch((function(){e.loadingState="ERROR"}))};t.resource("history").jobLogCount({jobId:n.id}).then((function(e){l.total=e.count})),c()}]},{}],349:[function(e,t,n){"use strict";var i=e("../components/delete");t.exports=["$scope",function(e){e.ctrl=new i}]},{"../components/delete":345}],350:[function(e,t,n){"use strict";var i=e("../components/batch"),r=e("../components/events"),a=e("./modal-ctrl"),o=e("./job-log-ctrl");t.exports=["$scope","page","camAPI","$location","$uibModal","$translate","Notifications","localConf","configuration",function(t,n,s,l,c,u,d,p,f){t.runtimeHeadColumns=[{class:"id",request:"batchId",sortable:!0,content:u.instant("BATCHES_PROGRESS_ID")},{class:"type",request:"",sortable:!1,content:u.instant("BATCHES_PROGRESS_TYPE")},{class:"failed",request:"",sortable:!1,content:u.instant("BATCHES_PROGRESS_FAIL_JOBS")},{class:"",request:"",sortable:!1,content:u.instant("BATCHES_PROGRESS_PROGRESS")}],t.historyHeadColumns=[{class:"id",request:"batchId",sortable:!0,content:u.instant("BATCHES_PROGRESS_ID")},{class:"type",request:"",sortable:!1,content:u.instant("BATCHES_PROGRESS_TYPE")},{class:"start-time",request:"startTime",sortable:!0,content:u.instant("BATCHES_PROGRESS_START_TIME")},{class:"end-time",request:"endTime",sortable:!0,content:u.instant("BATCHES_PROGRESS_END_TIME")}],t.jobHeadColumns=[{class:"id",request:"jobId",sortable:!0,content:u.instant("BATCHES_PROGRESS_ID")},{class:"type",request:"",sortable:!1,content:u.instant("BATCHES_PROGRESS_EXCEPTION")},{class:"action",request:"",sortable:!1,content:u.instant("BATCHES_PROGRESS_ACTIONS")}],t.$on("$destroy",(function(){r.removeAllListeners(),t.ctrl.stopLoadingPeriodically()})),t.$watch((function(){return l.search()||{}}),(function(e){e.details&&e.type&&t.ctrl.loadDetails(e.details,e.type)})),r.on("details:switchToHistory",(function(){l.search("type","history")})),r.on("deleteModal:open",(function(e){(e.instance=c.open({template:'<div class="modal-header">\n  <h3 class="modal-title">{{ \'BATCHES_DELETE_TITLE\' | translate }}</h3>\n</div>\n<div class="modal-body">\n  {{ \'BATCHES_DELETE_LEGEND\' | translate }}<br />\n  <br />\n  <input type="radio" ng-model="ctrl.cascade" ng-value="false" ng-disabled="ctrl.disable" /> {{ \'BATCHES_DELETE_INPUT_KEEP\' | translate }}<br />\n  <input type="radio" ng-model="ctrl.cascade" ng-value="true" ng-disabled="ctrl.disable" /> {{ \'BATCHES_DELETE_INPUT_DELETE\' | translate }}\n</div>\n<div class="modal-footer">\n    <button class="btn btn-default" ng-click="ctrl.cancel()" ng-disabled="ctrl.disable">{{ \'BATCHES_DELETE_BTN_CANCEL\'  | translate }}</button>\n    <button class="btn btn-primary" ng-click="ctrl.confirm()" ng-disabled="ctrl.disable">{{ \'BATCHES_DELETE_BTN_CONFIRM\' | translate }}</button>\n</div>\n',controller:a})).result.catch((function(){}))})),r.on("batch:delete:failed",(function(e){d.addError({status:u.instant("BATCHES_DELETE_BATCH_STATUS"),message:u.instant("BATCHES_DELETE_BATCH_FAILED",{message:e.message}),exclusive:!0})})),r.on("job:delete:failed",(function(e){d.addError({status:u.instant("BATCHES_DELETE_JOB_STATUS"),message:u.instant("BATCHES_DELETE_JOB_FAILED",{message:e.message}),exclusive:!0})})),r.on("job:retry:failed",(function(e){d.addError({status:u.instant("BATCHES_RETRY_JOB_STATUS"),message:u.instant("BATCHES_RETRY_JOB_FAILED",{message:e.message}),exclusive:!0})})),e("../components/breadcrumbs")(n,t.$root,u),t.ctrl=new i(s,p,f),t.ctrl.loadPeriodically(5e3),t.openLog=function(e){c.open({controller:o,template:'<div class="modal-header">\n  <h3>{{ \'PLGN_BATCH_JOB_LOG_HEADER\' | translate }}</h3>\n</div>\n\n<div class="batch-job-log-modal modal-body">\n  <div cam-widget-loader\n       loading-state="{{ loadingState }}"\n       text-empty="{{ \'PLGN_BATCH_NO_JOB_LOGS\' | translate }}"\n       text-error="{{ \'PLGN_BATCH_NO_JOB_ERROR\' | translate }}">\n    <table class="cam-table cam-fixed-layout">\n    <thead sortable-table-head\n            head-columns="headColumns"\n            on-sort-change="onSortChange(sortObj)"\n            default-sort="sortObj">\n    </thead>\n    <tbody>\n      <tr ng-repeat="log in logs">\n        <td class="state">\n          {{ getState(log) }}\n        </td>\n\n        <td class="message">\n          <span ng-show="log.failureLog">\n            <a href="{{ getHistoricJobLogStacktraceUrl(log) }}"\n                target="_blank"\n                ng-show="log.jobExceptionMessage"\n                uib-tooltip="{{ \'PLGN_HIST_OPEN_STACKTRACE\' | translate }}"\n                tooltip-placement="top-left">\n              {{ log.jobExceptionMessage }}\n            </a>\n            <a href="{{ getHistoricJobLogStacktraceUrl(log) }}"\n                target="_blank"\n                ng-hide="log.jobExceptionMessage"\n                uib-tooltip="{{ \'PLGN_HIST_OPEN_STACKTRACE\' | translate }}"\n                tooltip-placement="top-left">\n              <i>{{ \'PLGN_HIST_MESSAGE_NULL\' | translate }}</i>\n            </a>\n          </span>\n        </td>\n\n        <td class="timestamp"\n            cam-widget-clipboard="log.timestamp | camDate">\n          {{ log.timestamp | camDate }}\n        </td>\n\n        <td class="job"\n            cam-widget-clipboard="log.jobId">\n          {{ log.jobId }}\n        </td>\n\n        <td class="type"\n            cam-widget-clipboard="log.jobDefinitionType">\n          {{ log.jobDefinitionType }}\n        </td>\n\n        <td class="configuration"\n            cam-widget-clipboard="log.jobDefinitionConfiguration">\n          {{ log.jobDefinitionConfiguration }}\n        </td>\n\n        <td class="retries">\n          {{ log.jobRetries }}\n        </td>\n\n        <td class="hostname"\n            cam-widget-clipboard="log.hostname">\n          {{ log.hostname }}\n        </td>\n\n        <td class="priority">\n          {{ log.jobPriority }}\n        </td>\n\n      </tr>\n    </tbody>\n    </table>\n\n\n  <ul uib-pagination ng-if="pages.total > pages.size"\n            class="pagination-sm"\n\n            page="pages.current"\n            ng-model="pages.current"\n            ng-change="updateView()"\n\n            total-items="pages.total"\n            items-per-page="pages.size"\n\n            max-size="7"\n            boundary-links="true"></ul>\n  </div>\n\n\n</div>\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$close()">{{ \'PLGN_HIST_CLOSE\' | translate }}</button>\n</div>\n',resolve:{job:function(){return e}},size:"lg"})}}]},{"../components/batch":343,"../components/breadcrumbs":344,"../components/events":346,"./job-log-ctrl":348,"./modal-ctrl":349}],351:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular");e("angular-data-depend"),e("../../../../../camunda-commons-ui/lib/index");var r=e("./config/routes"),a=i.module("cam.cockpit.batch",["cam.commons","dataDepend","ngRoute"]);a.config(r),t.exports=a},{"../../../../../camunda-commons-ui/lib/index":24,"../../../../../camunda-commons-ui/vendor/angular":74,"./config/routes":347,"angular-data-depend":"angular-data-depend"}],352:[function(e,t,n){"use strict";e("dom4");var i=window.jQuery=window.$=e("jquery");e("../../../../camunda-commons-ui/vendor/bootstrap");var r=e("../../../../camunda-commons-ui/lib"),a=e("camunda-bpm-sdk-js/lib/angularjs/index"),o=e("angular-data-depend"),s=e("../../../common/scripts/module"),l=e("../../../../camunda-commons-ui/vendor/moment"),c=e("events"),u=e("../../../../camunda-commons-ui/vendor/lodash");e("../../../common/scripts/module");var d=e("../../../../camunda-commons-ui/vendor/angular");t.exports=function(t){var n=["ng","ngResource","pascalprecht.translate",r.name,e("./repository/main").name,e("./batches/main").name,e("./reports/main").name,e("./directives/main").name,e("./filters/main").name,e("./pages/main").name,e("./resources/main").name,e("./services/main").name,e("./navigation/main").name].concat(t.map((function(e){return e.ngModuleName}))),a=d.module("cam.cockpit",n);function o(e){var t=i("base").attr(e);if(!e)throw new Error("Uri base for "+e+" could not be resolved");return t}var s=["$routeProvider","UriProvider","$uibModalProvider","$uibTooltipProvider","$locationProvider","$animateProvider","$qProvider",function(e,t,n,i,r,a,s){e.otherwise({redirectTo:"/dashboard"}),t.replace(":appName","cockpit"),t.replace("app://",o("href")),t.replace("adminbase://",o("app-root")+"/app/admin/"),t.replace("tasklistbase://",o("app-root")+"/app/tasklist/"),t.replace("cockpit://",o("cockpit-api")),t.replace("admin://",o("admin-api")||o("cockpit-api")+"../admin/"),t.replace("plugin://",o("cockpit-api")+"plugin/"),t.replace("engine://",o("engine-api")),t.replace(":engine",["$window",function(e){var t=e.location.href.match(/\/app\/cockpit\/([\w-]+)(|\/)/);if(t)return t[1];throw new Error("no process engine selected")}]),n.options={animation:!0,backdrop:!0,keyboard:!0},i.options({animation:!0,popupDelay:100,appendToBody:!0}),r.hashPrefix(""),a.classNameFilter(/angular-animate/),s.errorOnUnhandledRejections(!1)}];a.provider("configuration",e("./../../../common/scripts/services/cam-configuration")(window.camCockpitConf,"Cockpit")),a.config(s),e("./../../../common/scripts/services/locales")(a,o("app-root"),"cockpit"),a.config(["camDateFormatProvider",function(e){var t={monthName:"MMMM",day:"DD",abbr:"lll",normal:"YYYY-MM-DD[T]HH:mm:ss",long:"LLLL",short:"LL"};for(var n in t)e.setDateFormat(t[n],n)}]),e("../../../common/scripts/services/plugins/addPlugins")(window.camCockpitConf,a,"cockpit").then((function(){d.bootstrap(document.documentElement,[a.name,"cam.cockpit.custom"]),top!==window&&window.parent.postMessage({type:"loadamd"},"*")}))},t.exports.exposePackages=function(e){e.angular=d,e.jquery=i,e["camunda-commons-ui"]=r,e["camunda-bpm-sdk-js"]=a,e["angular-data-depend"]=o,e.moment=l,e.events=c,e["cam-common"]=s,e.lodash=u}},{"../../../../camunda-commons-ui/lib":24,"../../../../camunda-commons-ui/vendor/angular":74,"../../../../camunda-commons-ui/vendor/bootstrap":75,"../../../../camunda-commons-ui/vendor/lodash":76,"../../../../camunda-commons-ui/vendor/moment":77,"../../../common/scripts/module":456,"../../../common/scripts/services/plugins/addPlugins":474,"./../../../common/scripts/services/cam-configuration":470,"./../../../common/scripts/services/locales":472,"./batches/main":351,"./directives/main":361,"./filters/main":377,"./navigation/main":380,"./pages/main":385,"./reports/main":393,"./repository/main":403,"./resources/main":420,"./services/main":426,"angular-data-depend":"angular-data-depend","camunda-bpm-sdk-js/lib/angularjs/index":"camunda-bpm-sdk-js/lib/angularjs/index",dom4:300,events:303,jquery:"jquery"}],353:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular");var r={"start-event":"start-event-none","error-start-event":"start-event-error","cancel-end-event":"end-event-cancel","error-end-event":"end-event-error","none-end-event":"end-event-none","parallel-gateway":"gateway-parallel","exclusive-gateway":"gateway-xor","intermediate-compensation-throw-event":"intermediate-event-throw-compensation"},a=["$compile","$filter",function(e,t){return{restrict:"EAC",scope:{node:"=activityInstanceTree",onElementClick:"&",selection:"=",quickFilters:"=",orderChildrenBy:"&"},link:function(n,a){n.symbolIconName=function(e){var t=function(e){return(e||"").replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}(e);return"icon-"+(t=r[t]?r[t]:t)};var o=a,s="node.selected",l="node.opened",c=n.orderChildrenBy();function u(e,t){var i=n.node,r=e.name;i&&(r!==l&&r!==s||i.id===t.parentActivityInstanceId&&(i.isOpen=!0,i.parentActivityInstanceId&&i.id!==i.parentActivityInstanceId&&d(l,i)))}function d(e,t){var i=t.id,r=t.parentActivityInstanceId;n.$emit(e,{id:i,parentActivityInstanceId:r})}n.$watch("node",(function(r){if(r&&!1!==r.$loaded){var a,s=(r.childActivityInstances||[]).concat(r.childTransitionInstances||[]);c&&(s=t("orderBy")(s,c)),r.children=s,a=r,function(t){a.isOpen=!a.endTime;var r=i.element(t);e(r)(n),o.replaceWith(r),o=r}('\x3c!-- # CE - camunda-cockpit-ui/client/scripts/directives/activity-instance-tree.html --\x3e\n<div class="tree-node" >\n\n  <div id="{{ node.id }}"\n       ng-class="{ \'state-running\': !node.endTime, \'state-completed\' : node.endTime && !node.canceled, \'state-canceled\': node.endTime && node.canceled }"\n       class="tree-node-group">\n\n    <span class="tree-node-label"\n          ng-class="{ \'selected\' : node.isSelected, \'has-children\': node.children.length }">\n\n      <button class="btn btn-link btn-control-link btn-toggle"\n              ng-if="node.children.length"\n              ng-click="toggleOpen()">\n        <span class="glyphicon"\n           ng-class="{ \'glyphicon-menu-right\' : !node.isOpen, \'glyphicon-menu-down\' : node.isOpen }"></span>\n      </button>\n\n      <button class="btn btn-link btn-control-link btn-control remove"\n              ng-click="deselect($event)">\n        <span class="glyphicon glyphicon-remove"></span>\n      </button>\n\n      <span class="{{ symbolIconName(node.activityType) }}"\n            uib-tooltip="{{ node.activityType }}"></span>\n\n      <a ng-click="select($event)"\n         tooltip-placement="right"\n         uib-tooltip="{{ node.name }}">\n        {{ node.name }}\n      </a>\n\n    </span>\n\n    \x3c!-- running --\x3e\n    <span ng-if="!node.endTime"\n          class="tree-node-addon activity-instance-running"\n          uib-tooltip="{{ \'ACTIVITY_INSTANCE_TOOLTIP_RUNNING\' | translate }}"\n          tooltip-placement="right">\n      <span class="glyphicon glyphicon-adjust"></span>\n    </span>\n\n    \x3c!-- completed --\x3e\n    <span ng-if="node.endTime && !node.canceled"\n          class="tree-node-addon activity-instance-completed"\n          uib-tooltip="{{ \'ACTIVITY_INSTANCE_TOOLTIP_COMPLETED\' | translate }}"\n          tooltip-placement="right">\n      <span class="glyphicon glyphicon-ok-circle"></span>\n    </span>\n\n    \x3c!-- canceled --\x3e\n    <span ng-if="node.endTime && node.canceled"\n          class="tree-node-addon activity-instance-canceled"\n          uib-tooltip="{{ \'ACTIVITY_INSTANCE_TOOLTIP_CANCELED\' | translate }}"\n          tooltip-placement="right">\n      <span class="glyphicon glyphicon-ban-circle"></span>\n    </span>\n\n  </div>\n\n  <ul class="list-unstyled" ng-show="node.isOpen" ng-if="node.children.length">\n    <li ng-repeat="child in node.children">\n      <div activity-instance-tree="child"\n           selection="selection"\n           on-element-click="propogateSelection(id, activityId, $event)"\n           order-children-by="orderChildrenBy()">\n      </div>\n    </li>\n  </ul>\n</div>\n\x3c!-- / CE - camunda-cockpit-ui/client/scripts/directives/activity-instance-tree.html --\x3e\n')}})),n.$on(l,(function(e,t){u(e,t)})),n.$on(s,(function(e,t){u(e,t)})),n.$watch("selection.activityInstanceIds",(function(e,t){var i=n.node;i&&(t&&-1!=t.indexOf(i.id)&&(i.isSelected=!1),e&&-1!=e.indexOf(i.id)&&(i.isSelected=!0,i.parentActivityInstanceId&&d(s,i)))})),n.deselect=function(e){e.ctrlKey=!0,n.select(e)},n.select=function(e){var t=n.node;e.stopPropagation(),n.$emit("instance-tree-selection-change"),n.onElementClick({id:t.id,activityId:t.activityId||t.targetActivityId,$event:e})},n.propogateSelection=function(e,t,i){n.onElementClick({id:e,activityId:t,$event:i})},n.toggleOpen=function(){var e=n.node;e.isOpen=!e.isOpen}}}}];t.exports=a},{"../../../../../camunda-commons-ui/vendor/angular":74}],354:[function(e,t,n){"use strict";t.exports=["$timeout","$location","ProcessDefinitionResource","camAPI","Notifications","$translate",function(e,t,n,i,r,a){return{restrict:"A",template:'<form name="changeVersionForm" ng-if="isActive" class="change-version" ng-class="{\'has-error\': !isValid}">\n  <input type="text"\n         class="form-control"\n         name="defVersion"\n         ng-keydown="enableValidating()"\n         ng-model="model.newVersion"\n         ng-change="change(changeVersionForm)"\n         ng-model-options="{debounce: 300}"\n         required>\n         <button ng-click="changeLocation()"\n          ng-disabled="!isValid || isValidating || storedVersion == model.newVersion"\n          class="btn btn-xs btn-default">\n    <span class="glyphicon glyphicon-ok"></span>\n  </button>\n  <button ng-click="close(changeVersionForm)"\n          class="btn btn-xs btn-default">\n    <span class="glyphicon glyphicon-remove"></span>\n  </button>\n</form>\n<button ng-if="!isActive"\n        ng-click="open()"\n        class="btn btn-xs btn-default">\n  <span>{{ definition.version }}</span>\n</button>\n',scope:{definition:"=changeVersion",type:"@",history:"@?",noRedirect:"@?"},link:function(o,s){o.model={},o.model.newVersion="number"==typeof o.definition.version?o.definition.version:1,o.isValid=!0,o.isValidating=!0,o.isActive=!1,o.enableValidating=function(){o.isValidating=!0},o.changeLocation=function(){o.isActive=!1,o.definition.version=parseInt(o.model.newVersion,10),s.parent().find(".dropdown-toggle").show(),void 0===o.noRedirect&&e((function(){var e="/";"drd"===o.type?e+="decision-requirement/":e+=o.type+"-definition/",e+=o.newDefinition,void 0!==o.history&&(e+="/history"),t.path(e)}))},o.change=function(e){if(o.isValid=e.$valid,o.model.newVersion<1||!/^[0-9]{1,7}$/.test(o.model.newVersion))o.isValid=!1;else if(o.isValid){var t=o.definition,s={key:t.key,version:o.model.newVersion,maxResults:2};t.tenantId?s.tenantIdIn=[t.tenantId]:s.withoutTenantId=!0,("process"===o.type?n.query(s).$promise:"drd"===o.type?i.resource("drd").list(s):i.resource(o.type+"-definition").list(s)).then((function(e){e.length>1?(o.isValid=!1,o.isValidating=!1,r.addError({status:a.instant("NOTIFICATIONS_STATUS_FAILED"),message:a.instant("DEF_VIEW_CHANGE_VERSION_NOT_UNIQUE")})):(o.isValid=1===e.length,o.isValidating=!1,o.isValid&&(o.newDefinition=e[0].id))}))}},o.open=function(){o.model.newVersion="number"==typeof o.definition.version?o.definition.version:1,o.storedVersion=o.model.newVersion,o.isActive=!0,s.parent().find(".dropdown-toggle").hide()},o.close=function(e){e.$rollbackViewValue(),o.model.newVersion=o.storedVersion,o.isActive=!1,s.parent().find(".dropdown-toggle").show()},o.$watch("isActive",(function(){e((function(){o.isActive&&s.parent().find("input").focus()}))}),!0)}}}]},{}],355:[function(e,t,n){"use strict";var i=["$scope",function(e){e.control={}}];t.exports=function(){return{restrict:"EAC",scope:{decisionTable:"=",control:"=?",table:"@",onLoad:"&"},controller:i,template:'<div cam-widget-dmn-viewer\n  xml="decisionTable"\n  table="{{table}}"\n  control="control"\n  on-load="onLoad()"\n  style="height: 100%; margin: 10px; overflow-y: auto;">\n</div>\n',link:function(){}}}},{}],356:[function(e,t,n){"use strict";t.exports=["Loaders",function(e){return{restrict:"A",template:'<div cam-widget-loader loading-state="{{loadingStatus}}"></div>\n',scope:!0,controller:["$scope",function(t){t.loadingStatus="INITIAL",e.addStatusListener(t,(function(e){t.loadingStatus=e}))}]}}]},{}],357:[function(e,t,n){"use strict";t.exports=["$interpolate","$compile",function(e,t){return{restrict:"A",priority:9999,terminal:!0,link:function(n,i,r){i.attr("name",e(r.camDynamicName)(n)),t(i,null,9999)(n)}}}]},{}],358:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",link:function(e,t,n){n.focus&&t.focus()}}}},{}],359:[function(e,t,n){"use strict";var i=e("angular"),r=(0,e("camunda-bpm-sdk-js").utils.debouncePromiseFactory)(),a=["$http","$q","$uibModal","search","Uri","Views","$translate","localConf","$location","camAPI",function(e,t,n,a,o,s,l,c,u,d){return{restrict:"E",scope:{processData:"=",processDefinition:"=",processInstance:"=",incidentsContext:"@"},template:'\x3c!-- # CE - camunda-cockpit-ui/client/scripts/directives/incidents-tab.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'PLUGIN_INCIDENTS_TAB_NO_INCIDENTS\' | translate }}">\n\n\n<table class="incidents-tab cam-table">\n\n  <thead sortable-table-head\n         head-columns="headColumns"\n         on-sort-change="onSortChange(query, pages, sortObj)"\n         default-sort="sortObj">\n  </thead>\n\n  <tbody>\n    <tr ng-repeat="incident in incidents">\n      <td class="state"\n          ng-if="incidentsContext === \'history\'">\n          {{getIncidentState(incident)}}\n      </td>\n      <td class="message"\n          ng-if="incident.incidentType === \'failedJob\'">\n        \x3c!--\n          it would be great to be able to copy the stacktrace from here\n          using the clipboard widget but it comes from an API endpoint...\n        --\x3e\n        <a ng-if="incident.rootCauseIncidentMessage"\n           ng-click="viewVariable(incident)"\n           uib-tooltip="{{\'PLUGIN_INCIDENTS_TAB_TOOLTIP_STACKTRACE\'|translate}}"\n           tooltip-placement="top"\n           class="auto-cutoff">\n          {{ incident.rootCauseIncidentMessage }}\n        </a>\n        <a ng-if="!incident.rootCauseIncidentMessage"\n           ng-click="viewVariable(incident)"\n           uib-tooltip="{{\'PLUGIN_INCIDENTS_TAB_TOOLTIP_STACKTRACE\'|translate}}"\n           tooltip-placement="top">\n          <i>Message is null.</i>\n        </a>\n      </td>\n      <td class="message"\n          uib-tooltip="{{\'PLUGIN_INCIDENTS_TAB_TOOLTIP_STACKTRACE\'|translate}}"\n          tooltip-placement="top"\n          ng-if="incident.incidentType === \'failedExternalTask\'">\n        <a ng-click="viewVariable(incident)">\n          <span ng-show="incident.rootCauseIncidentMessage">\n            {{ incident.rootCauseIncidentMessage }}\n          </span>\n          <span ng-show="!incident.rootCauseIncidentMessage">\n            <i>Message is null.</i>\n          </span>\n        </a>\n      </td>\n      <td class="message"\n          ng-if="[\'failedExternalTask\', \'failedJob\'].indexOf(incident.incidentType) === -1 && incident.rootCauseIncidentMessage">\n        <div class="auto-cutoff"\n             cam-widget-clipboard="incident.rootCauseIncidentMessage">\n          {{ incident.rootCauseIncidentMessage }}\n        </div>\n      </td>\n      <td class="message"\n          ng-if="[\'failedExternalTask\', \'failedJob\'].indexOf(incident.incidentType) === -1 && !incident.rootCauseIncidentMessage">\n        <i>Message is null.</i>\n      </td>\n\n      <td ng-if="processDefinition && incidentsContext === \'history\'"\n          class="process-instance"\n          cam-widget-clipboard="incident.processInstanceId" >\n        <a href="#/process-instance/{{ incident.processInstanceId }}/history"> {{incident.processInstanceId}} </a>\n      </td>\n\n      <td ng-if="processDefinition && incidentsContext !== \'history\'"\n          class="process-instance"\n          cam-widget-clipboard="incident.processInstanceId" >\n        <a href="#/process-instance/{{ incident.processInstanceId }}/runtime"> {{incident.processInstanceId}} </a>\n      </td>\n\n      <td  ng-if="incidentsContext !== \'history\'" class="timestamp">\n        {{ incident.incidentTimestamp | camDate }}\n      </td>\n      <td ng-if="incidentsContext === \'history\'" class="create-time">\n        {{ incident.createTime | camDate }}\n      </td>\n      <td ng-if="incidentsContext === \'history\'" class="end-time">\n        {{ incident.endTime | camDate }}\n      </td>\n      <td class="activity">\n        <span ng-show="incident.linkable && processDefinition"\n              cam-select-activity="incident.activityId"\n              cam-widget-clipboard="incident.activityId">\n          <a ng-href="#/process-definition/{{ processDefinition.id }}/runtime?activityIds={{ incident.activityId }}&amp;tab=incidents-tab">\n            {{ incident.activityName }}\n          </a>\n        </span>\n        <span ng-show="incident.linkable && processInstance"\n              cam-widget-clipboard="incident.activityId">\n          <a ng-href="#/process-instance/{{ processInstance.id }}/runtime?activityIds={{ incident.activityId }}&amp;tab=incidents-tab">\n            {{ incident.activityName }}\n          </a>\n        </span>\n        <span ng-hide="incident.linkable">\n          {{ incident.activityName }}\n        </span>\n      </td>\n\n      <td class="failedActivityId">\n        <span ng-if="incident.failedActivityId"\n              cam-widget-clipboard="incident.failedActivityId">\n          {{ incident.failedActivityName }}\n        </span>\n      </td>\n\n      <td class="cause instance-id">\n        <span ng-show="incident.causeIncidentProcessInstanceId !== incident.processInstanceId"\n              cam-widget-clipboard="incident.causeIncidentProcessInstanceId">\n          <a ng-href="#/process-instance/{{incident.causeIncidentProcessInstanceId}}/{{ incidentsContext || \'runtime\' }}?activityIds={{ incident.causeIncidentActivityId }}&amp;tab=incidents-tab">\n            {{ incident.causeIncidentProcessInstanceId }}\n          </a>\n        </span>\n      </td>\n\n      <td class="cause-root instance-id">\n        <span ng-show="incident.rootCauseIncidentProcessInstanceId !== incident.processInstanceId"\n              cam-widget-clipboard="incident.rootCauseIncidentProcessInstanceId">\n          <a ng-href="#/process-instance/{{incident.rootCauseIncidentProcessInstanceId}}/{{ incidentsContext || \'runtime\' }}?activityIds={{ incident.rootCauseIncidentActivityId }}&amp;tab=incidents-tab">\n            {{ incident.rootCauseIncidentProcessInstanceId }}\n          </a>\n        </span>\n      </td>\n\n      <td class="type">\n        {{ getIncidentType(incident) }}\n      </td>\n      \n      <td class="annotation">\n        <span cam-annotation-edit \n              annotation="incident.annotation" \n              on-submit="getAnnotationHandler(incident)" \n              readonly="incidentsContext === \'history\'">\n        </span>\n      </td>\n\n      <td class="action">\n        <span ng-if="incidentHasActions(incident)"\n              ng-repeat="actionProvider in incidentActions">\n          <view provider="actionProvider"\n            vars="incidentVars" />\n        </span>\n      </td>\n    </tr>\n  </tbody>\n</table>\n<div cam-pagination="onPaginationChange(pages)" total="pages.total"> </div>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/webapp/src/main/resources-plugin/base/app/views/processInstance/incidents-tab.html --\x3e\n',link:function(a){var p=[{class:"state",request:"incidentState",sortable:!0,content:l.instant("PLUGIN_INCIDENTS_TAB_STATE")},{class:"message",request:"incidentMessage",sortable:!0,content:l.instant("PLUGIN_INCIDENTS_TAB_MESSAGE")},{class:"process-instance",request:"processInstanceId",sortable:!1,content:l.instant("PLUGIN_INCIDENTS_TAB_MESSAGE_PROCESS_INSTANCE")},{class:"create-time",request:"createTime",sortable:!0,content:l.instant("PLUGIN_INCIDENTS_TAB_CREATE_TIME")},{class:"end-time",request:"endTime",sortable:!0,content:l.instant("PLUGIN_INCIDENTS_TAB_END_TIME")},{class:"timestamp",request:"incidentTimestamp",sortable:!0,content:l.instant("PLUGIN_INCIDENTS_TAB_TIMESTAMP")},{class:"activity",request:"activityId",sortable:!0,content:l.instant("PLUGIN_INCIDENTS_TAB_ACTIVITY")},{class:"failedActivityId",request:"failedActivityId",sortable:!1,content:l.instant("PLGN_HIST_FAILING_ACTIVITY")},{class:"cause instance-id uuid",request:"causeIncidentProcessInstanceId",sortable:!1,content:l.instant("PLUGIN_INCIDENTS_TAB_CAUSE_INSTANCE_ID")},{class:"cause-root instance-id uuid",request:"rootCauseIncidentProcessInstanceId",sortable:!1,content:l.instant("PLUGIN_INCIDENTS_TAB_CAUSE_ROOT_INSTANCE_ID")},{class:"type",request:"incidentType",sortable:!0,content:l.instant("PLUGIN_INCIDENTS_TAB_TYPE")},{class:"annotation",request:"",sortable:!1,content:l.instant("PLUGIN_INCIDENTS_TAB_ANNOTATION")},{class:"action",request:"",sortable:!1,content:l.instant("PLUGIN_INCIDENTS_TAB_ACTION")}];a.onSortChange=y;var f,m=["activity","failedActivityId","cause instance-id uuid","cause-root instance-id uuid","type","annotation","action"],h=a.processDefinition&&"process-instance";"history"===a.incidentsContext?(a.localConfKey="sortHistInci",m=["state","message",h,"create-time","end-time"].concat(m)):(a.localConfKey="sortInci",m=["message",h,"timestamp"].concat(m)),a.headColumns=p.filter((function(e){return-1!==m.indexOf(e.class)})),a.sortObj=(f={sortBy:"incidentType",sortOrder:"asc"},c.get(a.localConfKey,f));var g=a.processData.newChild(a),v=a.pages=i.copy({size:50,total:0,current:1});function y(n,s,l){if(a.sortObj=l||a.sortObj,!a.filter||!a.bpmnElements||!a.activityIdToInstancesMap)return t.when(null);s&&(a.pages=s);var u=a.filter,d=a.bpmnElements,p=a.activityIdToInstancesMap,f=i.copy(u);delete f.page,delete f.activityInstanceIds,delete f.scrollToBpmnElement;var m,h=a.pages.current,g=a.pages.size,v=(h-1)*g,y=n||{};m=a.processDefinition?{processDefinitionIdIn:[a.processDefinition.id]}:{processInstanceIdIn:[a.processInstance.id]},l&&function(e){c.set(a.localConfKey,e)}(l),m.sortBy=a.sortObj.sortBy,m.sortOrder=a.sortObj.sortOrder;var b={firstResult:v,maxResults:g},_=i.extend({},f,m,y);_.activityIdIn=_.activityIds,delete _.activityIds;var E="history"===a.incidentsContext?"plugin://history/:engine/incident/":"plugin://base/:engine/incident/";return e.post(o.appUri(E+"count"),_).then((function(e){a.pages.total=e.data.count})).catch(i.noop),a.loadingState="LOADING",r(e.post(o.appUri(E),_,{params:b})).then((function(e){var t=e.data;i.forEach(t,(function(e){var t=e.activityId,n=d[t];e.activityName=n&&(n.name||n.id)||t;var i=e.failedActivityId,r=d[i];e.failedActivityName=r&&(r.name||r.id)||i,e.linkable=d[t]&&p[t]&&p[t].length>0})),a.incidents=t,a.loadingState=t.length?"LOADED":"EMPTY";var n=a.$root.$$phase;"$apply"!==n&&"$digest"!==n&&a.$apply()})).catch(i.noop)}a.incidents=null,a.onPaginationChange=function(e){a.pages.current=e.current,y()},a.getIncidentState=function(e){var t="open";return e.resolved?t="resolved":e.deleted&&(t="deleted"),t},g.observe(["filter","bpmnElements","activityIdToInstancesMap"],(function(e,t,n){v.current=e.page||1,a.filter=e,a.bpmnElements=t,a.activityIdToInstancesMap=n,y()})),a.getIncidentType=function(e){return"failedJob"===e.incidentType?"Failed Job":e.incidentType},a.getJobStacktraceUrl=function(e){var t="engine://engine/:engine",n=e.rootCauseIncidentConfiguration,i="job",r="stacktrace";return"failedExternalTask"===e.incidentType&&(i="external-task",r="errorDetails"),"history"===a.incidentsContext&&(t="engine://engine/:engine/history",n=e.historyConfiguration,i+="-log","failedExternalTask"===e.incidentType&&(r="error-details")),o.appUri("".concat(t,"/").concat(i,"/").concat(n,"/").concat(r))},a.incidentHasActions=function(e){return"history"!==a.incidentsContext||"history"===a.incidentsContext&&"failedJob"===e.incidentType&&!e.deleted&&!e.resolved},a.incidentVars={read:["incident","processData","filter"]},a.incidentActions=s.getProviders({component:"cockpit.incident.action"}),a.viewVariable=function(t){u.search("incidentStacktrace",t.rootCauseIncidentConfiguration),e({method:"GET",url:a.getJobStacktraceUrl(t),transformResponse:[]}).then((function(e){n.open({template:'\x3c!-- # CE - camunda-bpm-webapp/ui/cockpit/client/scripts/directives/incidents-tab-stacktrace.html --\x3e\n<div class="modal-header">\n    <h3>{{ \'PLUGIN_INCIDENTS_TAB_STACKTRACE_HEADER\' | translate }}</h3>\n</div>\n\n<div class="modal-body">\n  <div class="form-group">\n    <label for="value"\n            cam-widget-clipboard="variable.value"\n            no-tooltip\n            class="hovered">\n    {{ \'PLUGIN_INCIDENTS_TAB_STACKTRACE_COPY\' | translate }}\n    </label>\n    <textarea ng-model="variable.value"\n              id="value"\n              rows="20"\n              class="form-control cam-string-variable vertical-resize"\n              ng-readonly="readonly"\n              ng-mouseenter="toggleHover(\'var-value\')"\n              ng-mouseleave="toggleHover()"></textarea>\n  </div>\n  <span><a target="_blank" rel="noopener noreferrer" ng-href="{{variable.url}}">\n    {{ \'PLUGIN_INCIDENTS_TAB_STACKTRACE_OPEN_NEW_TAB\' | translate }}\n  </a></span>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss(\'close\')">\n    {{ \'CAM_WIDGET_STRING_DIALOG_LABEL_CLOSE\' | translate }}\n  </button>\n</div>\n\x3c!-- / CE - camunda-bpm-webapp/ui/cockpit/client/scripts/directives/incidents-tab-stacktrace.html --\x3e',controller:["$scope","variable",function(e,t){e.variable=t,e.readonly=!0}],size:"lg",resolve:{variable:function(){return{value:e.data,url:a.getJobStacktraceUrl(t)}}}}).result.catch(i.noop).finally((function(){u.search("incidentStacktrace",null)}))}))};var b=d.resource("incident");a.getAnnotationHandler=function(e){return function(t){return b.setAnnotation({id:e.id,annotation:t})}},u.search().incidentStacktrace&&a.viewVariable({rootCauseIncidentConfiguration:u.search().incidentStacktrace})}}}];t.exports=a},{angular:"angular","camunda-bpm-sdk-js":"camunda-bpm-sdk-js"}],360:[function(e,t,n){"use strict";t.exports=["$parse","$rootScope",function(e,t){return{restrict:"A",link:function(n,i,r){var a;r.$observe("isSidebarCollapsed",(function(t){a=e(t),c()}));var o=t.$on("restore",c),s=t.$on("maximize",c),l=t.$on("resize",c);function c(){var e=i.hasClass("collapsed");a&&"function"==typeof a&&a(n,{collapsed:e})}n.$on("$destroy",(function(){o(),s(),l()}))}}}]},{}],361:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular"),r=e("./../../../../common/scripts/directives/breadcrumbs"),a=e("./numeric"),o=e("./../../../../common/scripts/directives/date"),s=e("./processDiagram"),l=e("./decisionTable"),c=e("./processDiagramPreview"),u=e("./activityInstanceTree"),d=e("./sidebarContainer"),p=e("./stateCircle"),f=e("./variable"),m=e("./focus"),h=e("./viewPills"),g=e("./pie-chart"),v=e("./selectActivity"),y=e("./selectActivityInstance"),b=e("./processVariable"),_=e("./dynamicName"),E=e("./quickFilter"),x=e("./diagramStatisticsLoader"),w=e("./time-to-live.js"),S=e("./change-version.js"),C=e("../../../../common/scripts/module"),k=e("./isSidebarCollapsed"),T=e("./incidentsTab"),I=e("./sortableTableHead"),A=i.module("cam.cockpit.directives",[C.name]);A.directive("camBreadcrumbsPanel",r),A.directive("numeric",a),A.directive("date",o),A.directive("processDiagram",s),A.directive("decisionTable",l),A.directive("processDiagramPreview",c),A.directive("activityInstanceTree",u),A.directive("ctnCollapsableParent",d),A.directive("stateCircle",p),A.directive("variable",f),A.directive("focus",m),A.directive("viewPills",h),A.directive("camSelectActivity",v),A.directive("camPieChart",g),A.directive("camSelectActivityInstance",y),A.directive("processVariable",b),A.directive("camDynamicName",_),A.directive("camQuickFilter",E),A.directive("diagramStatisticsLoader",x),A.directive("timeToLive",w),A.directive("changeVersion",S),A.directive("isSidebarCollapsed",k),A.directive("sortableTableHead",I),A.directive("incidentsTab",T),t.exports=A},{"../../../../../camunda-commons-ui/vendor/angular":74,"../../../../common/scripts/module":456,"./../../../../common/scripts/directives/breadcrumbs":431,"./../../../../common/scripts/directives/date":432,"./activityInstanceTree":353,"./change-version.js":354,"./decisionTable":355,"./diagramStatisticsLoader":356,"./dynamicName":357,"./focus":358,"./incidentsTab":359,"./isSidebarCollapsed":360,"./numeric":362,"./pie-chart":363,"./processDiagram":364,"./processDiagramPreview":365,"./processVariable":366,"./quickFilter":367,"./selectActivity":368,"./selectActivityInstance":369,"./sidebarContainer":370,"./sortableTableHead":371,"./stateCircle":372,"./time-to-live.js":373,"./variable":374,"./viewPills":375}],362:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r=n.integer?/^-?[\d]+$/:/^(0|(-?(((0|[1-9]\d*)\.\d+)|([1-9]\d*))))([eE][-+]?[0-9]+)?$/;i.$parsers.push((function(e){var t=r.test(e);return i.$setValidity("numeric",t),t?parseFloat(e,10):e}));i.$formatters.push((function(e){if(null!=e){var n=r.test(e);return i.$setValidity("numeric",n),n?parseFloat(e,10):(i.$pristine=!1,i.$dirty=!0,t.addClass("ng-dirty"),e)}}))}}}},{}],363:[function(e,t,n){"use strict";var i=e("lodash").throttle;function r(e,t){this.canvas=e.canvas||document.createElement("canvas"),this.resize(e.width||this.canvas.width,e.height||this.canvas.height),this.rulersColor=e.rulersColor||"#666",this.lineWidth=e.lineWidth||1,this.missingData=[{color:"#959595",label:t.instant("PIE_CHART_NO_DATA"),value:1}],this.setData(this.missingData)}var a=r.prototype;a.resize=function(e,t){return this.canvas.width=e,this.canvas.height=t,this.ctx=this.canvas.getContext("2d"),this.offCanvas=this.offCanvas||document.createElement("canvas"),this.offCanvas.width=e,this.offCanvas.height=t,this.offCtx=this.offCanvas.getContext("2d"),this.x=.5*this.canvas.width,this.y=.5*this.canvas.height,this.radius=Math.max(20,Math.min(this.x-15,this.y-15)),this},a.setData=function(e){return this.data=e,this.data.length&&(this.data[0].value||0===this.data[0].value)||(this.data=this.missingData),this.total=this.data.reduce((function(e,t){return e+t.value}),0),this.draw()},a.punchPie=function(e){e.strokeStyle=e.fillStyle="#fff",e.moveTo(this.x,this.y),e.beginPath(),e.arc(this.x,this.y,.65*this.radius,0,2*Math.PI),e.closePath(),e.stroke(),e.fill()},a.hoveredSlice=function(e,t){var n=this.offCtx;n.font=this.fontSize+"px sans-serif";var i=this.data||this.missingData,r=this.x,a=this.y,o=this.radius,s=this.total,l=Math.PI,c=2*Math.PI;if(this.punchPie(n),n.isPointInPath(e,t))return!1;for(var u in i){var d=i[u],p=d.value/s*c;if(n.beginPath(),n.moveTo(r,a),n.arc(r,a,o,l,l+p),n.closePath(),n.stroke(),n.isPointInPath(e,t))return d;l+=p}return!1},a.draw=function(){var e=this.ctx,t=this.data||this.missingData;e.clearRect(0,0,e.canvas.width,e.canvas.height);var n=this.x,i=this.y,r=this.radius,a=this.total,o=Math.PI,s=2*Math.PI;return t.forEach((function(t){var l=t.value/a*s;e.fillStyle=t.color,e.strokeStyle="#fff",e.beginPath(),e.moveTo(n,i),e.arc(n,i,r,o,o+l),e.closePath(),e.fill(),e.stroke(),o+=l})),this.punchPie(e),this},t.exports=["$location","$window","$translate",function(e,t,n){return{restrict:"A",transclude:!0,scope:{values:"=",placeholder:"@"},link:function(a,o){var s=o[0].querySelector(".canvas-holder")||o[0],l=new r({canvas:o[0].querySelector("canvas"),lineColors:a.colors},n);function c(e){var t=l.canvas.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}function u(){var e=Math.min(Math.max(.75*s.clientWidth,150),220);l.resize(s.clientWidth,e).draw()}l.canvas.addEventListener("mousemove",(function(e){a.$apply((function(){var t=c(e);a.hoveredSlice=l.hoveredSlice(t.x,t.y),l.canvas.style.cursor=a.hoveredSlice&&a.hoveredSlice.url?"pointer":"default"}))})),l.canvas.addEventListener("click",(function(t){a.$apply((function(){var n=c(t),i=l.hoveredSlice(n.x,n.y);i.url&&e.url(i.url)}))})),a.$watch("values",(function(){a.values&&a.values.length&&l.setData(a.values)})),u();var d=i(u,100);t.addEventListener("resize",d),a.$on("$destroy",(function(){t.removeEventListener("resize",d)}))},template:'<div class="pie-chart"><div class="canvas-holder"><canvas width="150" height="150"></canvas></div><h4 class="legend-holder text-center" ng-if="values[0].label !== \''+n.instant("PIE_CHART_NO_DATA")+'\'"><span ng-if="hoveredSlice.value" ng-style="{color: hoveredSlice.color}">{{ hoveredSlice.value | abbreviateNumber }}: {{ hoveredSlice.label }}</span><span ng-if="!hoveredSlice.value">{{ placeholder }}</span></h4></div>'}}]},{lodash:"lodash"}],364:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular"),r=["$scope","$compile","$injector","Views","configuration",function(e,t,n,r,a){e.bpmnJsConf=a.getBpmnJs(),e.vars={read:["processData","bpmnElement","pageData","viewer"]};var o=e.diagramProviderComponent?r.getProviders({component:e.diagramProviderComponent}):[];e.overlayProviders=r.getProviders({component:e.overlayProviderComponent});var s,l,c='<div class="action"><div view ng-repeat="actionProvider in actionProviders" provider="actionProvider" vars="vars"></div></div>';e.$on("$destroy",(function(){e.processDiagram=null,e.overlayProviders=null;var t=e.control,n=t.getViewer(),i=n.get("canvas");n.get("elementRegistry").forEach((function(e){var n=e.businessObject;n.$instanceOf("bpmn:FlowNode")&&(i.removeMarker(n.id,"selectable"),t.clearHighlight(n.id))}))})),e.control={},e.$on("resize",(function(){e.control.refreshZoom&&e.control.refreshZoom()})),e.$watch("processDiagram",(function(t){t&&!1!==t.$loaded&&(s=t.bpmnElements,e.diagramData=t.bpmnDefinition)})),e.diagramLoaded=!1,e.diagramEnabled=!1,e.$watch("collapsed",(function(t){e.diagramEnabled=e.diagramLoaded||!t})),e.onLoad=function(){e.diagramLoaded=!0,e.viewer=e.control.getViewer(),function(e){i.forEach(e,d)}(e.processDiagram.bpmnElements),e.actionProviderComponent&&function(){e.actionProviders=r.getProviders({component:e.actionProviderComponent});var n=i.element(c),a=e.$new();t(n)(a),e.control.addAction({html:n})}(),p(l),o.forEach((function(t){n.invoke(t.overlay,null,{control:e.control,processData:e.processData,processDiagram:e.processDiagram,pageData:e.pageData,$scope:e})}))};var u=function(t){return t.isSelectable||e.selectAll&&t.$instanceOf("bpmn:FlowNode")};function d(n){var r=e.control.getElement(n.id);if(r&&e.overlayProviders&&e.overlayProviders.length){var a=e.$new();a.bpmnElement=n;var o=i.element('<div class="bpmn-overlay"><div view ng-repeat="overlayProvider in overlayProviders" provider="overlayProvider" vars="vars"></div></div>');o.css({width:r.width,height:r.height}),t(o)(a);try{e.control.createBadge(n.id,{html:o,position:{top:0,left:0}})}catch(e){}}}function p(t){e.control.isLoaded&&e.control.isLoaded()&&(l&&i.forEach(l,(function(t){-1!==t.indexOf("#multiInstanceBody")&&t.indexOf("#multiInstanceBody")===t.length-18&&(t=t.substr(0,t.length-18)),s[t]&&e.control.clearHighlight(t)})),t&&i.forEach(t,(function(t){-1!==t.indexOf("#multiInstanceBody")&&t.indexOf("#multiInstanceBody")===t.length-18&&(t=t.substr(0,t.length-18)),s[t]&&e.control.highlight(t)}))),e.$root.$emit("instance-diagram-selection-change",t),l=t}e.onClick=function(t,n){var i;i=function(){s[t.businessObject.id]&&u(s[t.businessObject.id])?e.onElementClick({id:t.businessObject.id,$event:n}):e.onElementClick({id:null,$event:n})},e.$$phase?i():e.$apply(i)},e.onMouseEnter=function(t){s[t.businessObject.id]&&u(s[t.businessObject.id])&&(e.control.getViewer().get("canvas").addMarker(t.businessObject.id,"selectable"),e.control.highlight(t.businessObject.id))},e.onMouseLeave=function(t){!s[t.businessObject.id]||!u(s[t.businessObject.id])||l&&-1!==l.indexOf(t.businessObject.id)||l&&-1!==l.indexOf(t.businessObject.id+"#multiInstanceBody")||(e.control.getViewer().get("canvas").removeMarker(t.businessObject.id,"selectable"),e.control.clearHighlight(t.businessObject.id))},e.$watch("selection.activityIds",(function(e){p(e)})),e.$watch("selection.scrollToBpmnElement",(function(t){var n,i;t&&(n=t,e.control.isLoaded&&e.control.isLoaded()&&n&&s[i=n]&&e.control.scrollToElement(i))}))}];t.exports=function(){return{restrict:"EAC",scope:{processDiagram:"=",key:"@",processDiagramOverlay:"=",onElementClick:"&",selection:"=",processData:"=",pageData:"=",overlayProviderComponent:"@",actionProviderComponent:"@",diagramProviderComponent:"@",selectAll:"&",collapsed:"="},controller:r,template:"<div ng-if=\"diagramEnabled\" style=\"position: relative; height: 100%\">\n  <div diagram-statistics-loader>\n  </div>\n  <div cam-widget-bpmn-viewer\n    diagram-data='diagramData'\n    key='{{key}}'\n    control='control'\n    on-load='onLoad()'\n    on-click='onClick(element, $event)'\n    on-mouse-enter='onMouseEnter(element, $event)'\n    on-mouse-leave='onMouseLeave(element, $event)'\n    bpmn-js-conf=\"bpmnJsConf\"\n    style='height: 100%'>\n  </div>\n</div>\n<div ng-if=\"!diagramEnabled\" class=\"placeholder-container\">\n  <div class=\"placeholder-content\">\n    <span class=\"glyphicon glyphicon-refresh animate-spin\"></span>\n    <span class=\"loading-text\">Loading diagram</span>\n  </div>\n</div>\n",link:function(e){e.selectAll=e.$eval(e.selectAll)}}}},{"../../../../../camunda-commons-ui/vendor/angular":74}],365:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular");t.exports=["ProcessDefinitionResource","debounce",function(e,t){return{restrict:"EAC",template:"<span ng-hide=\"diagramXML\">\n  <i class=\"glyphicon glyphicon-loading\"></i> {{ 'PROGRESS_DIAGRAM_LOADING' | translate}}\n</span>\n<div ng-show=\"diagramXML\">\n  <div cam-widget-bpmn-viewer\n    diagram-data='diagramXML'\n    control='control'\n    disable-navigation='true'\n    bpmn-js-conf=\"bpmnJsConf\">\n  </div>\n</div>\n",controller:["$scope","configuration",function(e,t){e.bpmnJsConf=t.getBpmnJs(),e.control={}}],link:function(n,r,a){n.$watch(a.processDefinitionId,(function(a){if(a){var o="processDiagram_"+a.replace(/[.|:]/g,"_");r.attr("id",o),e.getBpmn20Xml({id:a}).$promise.then((function(e){n.diagramXML=e.bpmn20Xml,r.find("[cam-widget-bpmn-viewer]").css({width:parseInt(r.parent().width(),10),height:r.parent().height()});var a=t((function(){n.control.resetZoom(),n.control.resetZoom()}),500);i.element(window).on("resize",(function(){r.find("[cam-widget-bpmn-viewer]").css({width:parseInt(r.parent().width(),10),height:r.parent().height()}),a()}))})).catch(i.noop)}}))}}}]},{"../../../../../camunda-commons-ui/vendor/angular":74}],366:[function(e,t,n){"use strict";t.exports=["Variables",function(e){return{require:"ngModel",link:function(t,n,i,r){r.$parsers.push((function(t){var n;try{n=e.parse(t)}catch(e){}return r.$setValidity("processVariableFilter",!!n),n})),r.$formatters.push(e.toString)}}}]},{}],367:[function(e,t,n){"use strict";var i=e("jquery");t.exports=function(){return{scope:{holderSelector:"@",labelSelector:"@",itemSelector:"@"},restrict:"A",template:'\x3c!-- # CE - src/main/webapp/app/cockpit/directives/quick-filter.html --\x3e\n<form name="quickFilters"\n      class="quick-filters">\n  <div class="quick-filter name-filter"\n       ng-if="showNameFilter">\n    <label class="input-group">\n      <span class="input-group-addon"\n            uib-tooltip="{{ \'QUICK_FILTER_TOOLTIP_CLICK_HERE\' | translate }}">\n        <span class="glyphicon glyphicon-filter"\n              ng-click="clearName()"></span>\n      </span>\n      <input ng-keyup="search()"\n             ng-model="name"\n             name="name"\n             type="text"\n             class="form-control" />\n    </label>\n    <button class="btn btn-sm btn-link btn-control-link"\n            type="button"\n            uib-tooltip="{{ \'QUICK_FILTER_TOOLTIP_FILTERS_ACTIVITY\' | translate }}">\n      <span class="glyphicon glyphicon-question-sign"></span>\n    </button>\n  </div>\n\n  <div class="quick-filter state-filter"\n       ng-if="showStateFilter">\n    <span class="name">{{ \'QUICK_FILTER_STATE\' | translate }}</span>\n\n    <ul class="list-inline">\n      <li>\n        <label class="btn btn-default btn-xs running"\n               uib-tooltip="{{ \'QUICK_FILTER_TOOLTIP_RUNNING_ACTIVITY\' | translate }}"\n               tooltip-placement="bottom">\n          <span class="glyphicon glyphicon-adjust"></span>\n          <input ng-change="search()"\n                 ng-model="running"\n                 name="running"\n                 type="checkbox" />\n        </label>\n      </li>\n\n      <li>\n        <label class="btn btn-default btn-xs completed"\n               uib-tooltip="{{ \'QUICK_FILTER_TOOLTIP_COMPLETED_ACTIVITY\' | translate }}"\n               tooltip-placement="bottom">\n          <span class="glyphicon glyphicon-ok-circle"></span>\n          <input ng-change="search()"\n                 ng-model="completed"\n                 name="completed"\n                 type="checkbox" />\n        </label>\n      </li>\n\n      <li>\n        <label class="btn btn-default btn-xs canceled"\n               uib-tooltip="{{ \'QUICK_FILTER_TOOLTIP_CANCELED_ACTIVITY\' | translate }}"\n               tooltip-placement="bottom">\n          <span class="glyphicon glyphicon-ban-circle"></span>\n          <input ng-change="search()"\n                 ng-model="canceled"\n                 name="canceled"\n                 type="checkbox" />\n        </label>\n      </li>\n    </ul>\n  </div>\n</form>\n\x3c!-- / CE - src/main/webapp/app/cockpit/directives/quick-filter.html --\x3e\n',link:function(e,t,n){if(!e.holderSelector)throw new Error("A holder-selector attribute must be specified");if(!e.labelSelector)throw new Error("A label-selector attribute must be specified");if(!e.itemSelector)throw new Error("A item-selector attribute must be specified");function r(){setTimeout(e.search,200)}e.$root.$on("instance-tree-selection-change",r),e.$root.$on("instance-diagram-selection-change",r);var a=i(e.holderSelector);e.showNameFilter=void 0!==n.nameFilter,e.showStateFilter=void 0!==n.stateFilter,e.search=function(){e.quickFilters&&e.quickFilters.running&&e.quickFilters.running.$viewValue&&e.quickFilters.canceled&&e.quickFilters.canceled.$viewValue&&e.quickFilters.completed&&e.quickFilters.completed.$viewValue&&(e.quickFilters.running.$setViewValue(!1),e.quickFilters.running.$render(),e.quickFilters.canceled.$setViewValue(!1),e.quickFilters.canceled.$render(),e.quickFilters.completed.$setViewValue(!1),e.quickFilters.completed.$render());var t=e.showNameFilter&&e.quickFilters.name?i.trim(e.quickFilters.name.$viewValue):"",n={running:!!e.showStateFilter&&!!e.quickFilters.running&&!!e.quickFilters.running.$viewValue,canceled:!!e.showStateFilter&&!!e.quickFilters.canceled&&!!e.quickFilters.canceled.$viewValue,completed:!!e.showStateFilter&&!!e.quickFilters.completed&&!!e.quickFilters.completed.$viewValue};i(e.itemSelector,a).each((function(){var e=i(this),r=function(e,t,n){return!!n.find(".selected").length||(!(e.canceled||e.running||e.completed)||!(!e.canceled&&n.hasClass("state-canceled")||!e.running&&n.hasClass("state-running")||!e.completed&&n.hasClass("state-completed")))&&(!t||new RegExp(t,"i").test(i.trim(n.text())))}(n,t,e);e[r?"show":"hide"]()}))},e.clearName=function(){e.quickFilters.name.$setViewValue(""),e.quickFilters.name.$render(),e.search()}}}}},{jquery:"jquery"}],368:[function(e,t,n){"use strict";t.exports=function(){return{link:function(e,t){var n=e.processData,i=t.attr("cam-select-activity");if(!n)throw new Error("No processData defined in scope");if(!i)throw new Error("No activity ID query given in @cam-select-activity");t.on("click",(function(t){t.preventDefault(),e.$apply((function(){n.set("filter",{activityIds:[e.$eval(i)]})}))}))}}}},{}],369:[function(e,t,n){"use strict";t.exports=function(){return{link:function(e,t){var n=e.processData,i=t.attr("cam-select-activity-instance");if(!n)throw new Error("No processData defined in scope");if(!i)throw new Error("No activity instance id query given in @cam-select-activity");t.on("click",(function(t){t.preventDefault(),e.$apply((function(){n.set("filter",{activityInstanceIds:[e.$eval(i)]})}))}))}}}},{}],370:[function(e,t,n){"use strict";var i=e("jquery"),r=e("../../../../../camunda-commons-ui/vendor/angular");e("jquery-ui"),e("jquery-ui/ui/widgets/mouse"),e("jquery-ui/ui/data"),e("jquery-ui/ui/plugin"),e("jquery-ui/ui/safe-active-element"),e("jquery-ui/ui/safe-blur"),e("jquery-ui/ui/scroll-parent"),e("jquery-ui/ui/version"),e("jquery-ui/ui/widget"),e("jquery-ui/ui/widgets/draggable"),t.exports=["localConf","$rootScope",function(e,t){return{restrict:"CA",link:function(n,a,o){var s=i(a),l=o.ctnCollapsableParent,c=i("[ctn-collapsable]",s).eq(0),u=c.attr("ctn-collapsable")||"left",d="left"===u||"right"===u,p=0;o.ctnMinWidth&&(i(".ctn-"+l+" "+o.ctnMinWidth,s).each((function(e,t){p+=i(t).width()})),p&&(p+=10));var f=e.get("ctnCollapsableParent:collapsed:"+l,"no"),m=e.get("ctnCollapsableParent:maximized:"+l,"no"),h=c["left"===u||"top"===u?"next":"prev"](),g=i('<div class="resize-handle"></div>').appendTo(s),v=h.children(".show-collapsable").addClass("expand-collapse").append('<i class="glyphicon glyphicon-menu-'+(d?"right":"down")+'"></i>'),y=c.children(".hide-collapsable").addClass("expand-collapse").append('<i class="glyphicon glyphicon-menu-'+(d?"left":"up")+'"></i>'),b=c.children(".maximize-collapsable").addClass("expand-collapse").append('<i class="glyphicon glyphicon-resize-full"></i>'),_=b.attr("maximize-parent-direction"),E=c.children(".restore-collapsable").addClass("expand-collapse").append('<i class="glyphicon glyphicon-resize-small"></i>');function x(t,n){w(t),t?(y.hide(),b.hide(),E.hide(),v.css("display","block")):(v.hide(),y.css("display","block")),n?(b.hide(),E.css("display","block")):t||(b.css("display","block"),E.hide()),e.set("ctnCollapsableParent:collapsed:"+l,t?"yes":"no"),e.set("ctnCollapsableParent:maximized:"+l,n?"yes":"no")}function w(e){e?c.addClass("collapsed"):c.removeClass("collapsed")}x("yes"===f,"yes"===m),function(){var o=d?"width":"height",S=d?"left":"top",C=d?"x":"y";function k(e){var t={};return t[u]=e,t}function T(e){var t={};return t[o]=e,t}g.addClass(d?"vertical":"horizontal");var I=c[o]();if(I=e.get("ctnCollapsableParent:size:"+l,I),I=Math.max(p,I),"yes"===f?(c.css(o,0),h.css(u,0)):(c.css(o,I),h.css(u,I+"px")),"yes"===m){var A=a[o]();x(!1,!0),g.css(k(A)),c.css(T(A)),h.css(k(A))}function D(){var e=c[o](),t=c.position();"left"===u||"top"===u?g.css(S,e):g.css(S,t[S])}function O(e){e="function"==typeof e?e:r.noop;var t=a[o]();x(!1,!0),g.animate(k(t)),c.animate(T(t),(function(){e(),w(!1)})),h.animate(k(t))}function P(e){e="function"==typeof e?e:r.noop,x(!1,!1),g.animate(k(p||I)),c.animate(T(p||I),(function(){e(),w(!1)})),h.animate(k(p||I))}i(g).draggable({axis:C,containment:"parent"}).on("drag",(function(){var t=j();x($(),L()),c.css(o,t),h.css(u,t),e.set("ctnCollapsableParent:size:"+l,t)})).on("dragstop",(function(){D();var e=$();w(e),t.$broadcast("resize",{direction:u,collapsed:e})})),y.click((function(){var e=L()?p||I:0;x(0===e,!1),g.animate(k(e)),c.animate(T(e),(function(){t.$broadcast("resize",{direction:u,collapsed:!0}),w(0===e)})),h.animate(k(e))})),v.click((function(){x(!1,!1),g.animate(k(p||I)),c.animate(T(p||I),(function(){t.$broadcast("resize",{direction:u,collapsed:!1}),w(!1)})),h.animate(k(p||I))})),b.click((function(){t.$broadcast("maximize",{source:a,direction:_}),O(t.$broadcast.bind(t,"resize",{direction:u,collapsed:!1}))})),E.click((function(){t.$broadcast("restore",{source:a}),P(t.$broadcast.bind(t,"resize",{direction:u,collapsed:!1}))})),i(window).on("resize",D),n.$on("$destroy",(function(){i(window).off("resize",D),N(),M(),R()}));var N=t.$on("restore",(function(e,t){a!==t.source&&P()})),M=t.$on("maximize",(function(e,t){var n;a!==t.source&&(t.direction===u?(n="function"==typeof n?n:r.noop,x(!0,!1),g.animate(k(0)),c.animate(T(0),(function(){n(),w(!0)})),h.animate(k(0))):O())})),R=t.$on("resize",(function(e,t){t.direction===_&&x($(),t.collapsed&&L())}));function L(){var e=j();return a[o]()-Math.ceil(e)<10}function $(){return j()<10}function j(){var e=g.position(),t=e[u];return"right"===u&&(t=s.width()-e.left),"bottom"===u&&(t=s.height()-e.top),t<p&&(t=0),t}D()}()}}}]},{"../../../../../camunda-commons-ui/vendor/angular":74,jquery:"jquery","jquery-ui":321,"jquery-ui/ui/data":315,"jquery-ui/ui/plugin":316,"jquery-ui/ui/safe-active-element":317,"jquery-ui/ui/safe-blur":318,"jquery-ui/ui/scroll-parent":319,"jquery-ui/ui/version":320,"jquery-ui/ui/widget":321,"jquery-ui/ui/widgets/draggable":322,"jquery-ui/ui/widgets/mouse":323}],371:[function(e,t,n){"use strict";t.exports=function(){return{replace:!1,restrict:"AE",scope:{headColumns:"=?",onSortChange:"&",defaultSort:"=?"},template:'\x3c!-- # CE - camunda-cockpit-ui/client/scripts/directives/sortable-table-head.html --\x3e\n<th ng-repeat="column in headColumns" ng-class="column.class" ng-if="evaluateCondition(column.condition)">\n  <span  ng-class="formatClassName(column.class) + \'-label\'">{{column.content}}</span>\n  <a ng-if="column.sortable === true"\n     ng-click="changeOrder(column.request)">\n    <span class="glyphicon" ng-class="orderClass(column.request)"></span>\n  </a>\n</th>\n\x3c!-- / CE - camunda-cockpit-ui/client/scripts/directives/sortable-table-head.html --\x3e\n\n',controller:["$scope",function(e){e.orderClass=function(t){return"glyphicon-"+{none:"minus",desc:"chevron-down",asc:"chevron-up"}[(t=t||e.defaultSort.sortBy)===e.defaultSort.sortBy?e.defaultSort.sortOrder:"none"]},e.changeOrder=function(t){e.defaultSort.sortBy=t,e.defaultSort.sortOrder="desc"===e.defaultSort.sortOrder?"asc":"desc",e.onSortChange({sortObj:e.defaultSort})},e.evaluateCondition=function(e){return void 0===e||e},e.formatClassName=function(e){return e.replace(/\s/g,"-")}}],link:function(){}}}},{}],372:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"EAC",link:function(e,t,n){function i(){var i=e.$eval(n.incidents),a=e.$eval(n.running),o=e.$eval(n.incidentsForTypes)||[];if(a)t.removeClass("circle-green").removeClass("circle-red").addClass("circle-blue").addClass("animate-spin");else{if(i&&i.length>0){if(0===o.length)return void r();for(var s=0;s<i.length;s++){var l=i[s];if(-1!=l.incidentType.indexOf(o)&&l.incidentCount>0)return void r()}}t.removeClass("circle-red").removeClass("circle-blue").removeClass("animate-spin").addClass("circle-green")}}function r(){t.removeClass("circle-green").removeClass("circle-blue").removeClass("animate-spin").addClass("circle-red")}t.addClass("circle"),e.$watch(n.incidents,(function(){i()})),e.$watch(n.running,(function(){i()}))}}}},{}],373:[function(e,t,n){"use strict";t.exports=["camAPI","$window","Notifications","$translate",function(e,t,n,i){return{restrict:"A",template:'<span cam-inline-panel-property="definition.historyTimeToLive"\n      format="format(property)"\n      type="number"\n      on-change="onChange()"\n      on-remove="onRemove()"></span>\n',scope:{definition:"=timeToLive",customOnChange:"=onChange",resource:"@"},link:function(r){var a=c(),o=e.resource(r.resource);function s(){"function"==typeof r.customOnChange&&r.customOnChange()}function l(e){return o.updateHistoryTimeToLive(r.definition.id,{historyTimeToLive:e}).catch((function(e){r.definition.historyTimeToLive=a,n.addError({status:i.instant("TIME_TO_LIVE_MESSAGE_ERR"),message:e})})).then((function(){a=c()})).catch((function(){}))}function c(){return null===r.definition.historyTimeToLive?null:+r.definition.historyTimeToLive}r.onChange=function(){t.setTimeout((function(){l(c()).then(s).catch((function(){}))}))},r.onRemove=function(){l(null).then((function(){a=null,r.definition.historyTimeToLive=null,s()})).catch((function(){}))},r.format=function(e){return 1===e?i.instant("TIME_TO_LIVE_DAY",{ttl:e}):i.instant("TIME_TO_LIVE_DAYS",{ttl:e})}}}}]},{}],374:[function(e,t,n){"use strict";var i=e("angular");t.exports=["typeUtils",function(e){return{restrict:"EAC",scope:{variable:"=",form:"@",readonly:"="},replace:!0,template:'<div>\n  \x3c!-- # CE - camunda-cockpit-ui/client/scripts/directives/variable.html --\x3e\n\n  <div ng-if="isBoolean(variable)">\n    <label class="radio">\n      <input ng-model="variable.value"\n             ng-value="true"\n             type="radio"\n             name="booleanValue">\n       true\n    </label>\n\n    <label class="radio">\n      <input ng-model="variable.value"\n             ng-value="false"\n             type="radio"\n             name="booleanValue">\n       false\n    </label>\n  </div>\n\n  <input ng-if="isInteger(variable) || isShort(variable) || isLong(variable)"\n         class="form-control"\n         name="editIntegerValue"\n         type="text"\n         numeric\n         integer="true"\n         ng-model="variable.value"\n         ng-class="{\'in-place-edit\': isInPlaceEdit() }"\n         autofocus="autofocus"\n         required />\n\n  <input ng-if="isDouble(variable) || isFloat(variable)"\n         class="form-control"\n         name="editFloatValue"\n         type="text"\n         numeric\n         ng-model="variable.value"\n         ng-class="{\'in-place-edit\': isInPlaceEdit() }"\n         autofocus="autofocus"\n         required />\n\n  <span cam-widget-inline-field\n        class="form-control-static"\n        type="datetime"\n        value="variable.value"\n        ng-if="isDate(variable)"\n        flexible="true"\n        required>\n           <a>{{variable.value || \'VARIABLE_SELECT_DATE\' | translate}}</a>\n  </span>\n\n  <textarea ng-if="isString(variable) || isJSON(variable) || isXML(variable)"\n            id="value"\n            rows="5"\n            ng-readonly="readonly"\n            ng-model="variable.value"\n            ng-change="changeVariableValue()"\n            class="form-control variable-type-string"\n            ng-class="{\'in-place-edit\': isInPlaceEdit() }"\n            autofocus="autofocus"\n            required></textarea>\n\n  <div ng-if="isObject(variable)">\n      <label class="control-label"\n             for="objectTypeName">{{ \'VARIABLE_OBJECT_TYPE_NAME\' | translate }}</label>\n        <input id="objectTypeName"\n               name="objectTypeName"\n               class="form-control"\n               type="text"\n               ng-model="variable.valueInfo.objectTypeName"\n               autofocus\n               required />\n      <label class="control-label"\n             for="serializationDataFormat">{{ \'VARIABLE_SERIALIZATION_DATA_FORMAT\' | translate }}</label>\n        <input id="serializationDataFormat"\n               name="serializationDataFormat"\n               class="form-control"\n               type="text"\n               ng-model="variable.valueInfo.serializationDataFormat"\n               required />\n      <label class="control-label"\n             for="serializedValue">{{ \'VARIABLE_SERIALIZED_VALUE\' | translate }}</label>\n        <textarea rows="5"\n                  ng-model="variable.value"\n                  class="form-control"\n                  ></textarea>\n  </div>\n  \x3c!-- / CE - camunda-cockpit-ui/client/scripts/directives/variable.html --\x3e\n</div>\n',link:function(t,n){var r,a=void 0!==n.attr("inline-edit"),o=!0,s=function(n,r){var a=e.isType(r,n);i.element('[name="'+t.form+'"]').scope()[t.form].$setValidity("customValidation",a)};t.changeVariableValue=function(){var e=t.variable.type,n=t.variable.value;if(["Json","Xml"].indexOf(e)>-1)return s(e,n)},t.autofocus=!(void 0===n.attr("autofocus")),t.isBoolean=function(e){return"boolean"===e.type.toLowerCase()},t.isInteger=function(e){return"integer"===e.type.toLowerCase()},t.isShort=function(e){return"short"===e.type.toLowerCase()},t.isLong=function(e){return"long"===e.type.toLowerCase()},t.isDouble=function(e){return"double"===e.type.toLowerCase()},t.isFloat=function(e){return"float"===e.type.toLowerCase()},t.isString=function(e){return"string"===e.type.toLowerCase()},t.isDate=function(e){return"date"===e.type.toLowerCase()},t.isNull=function(e){return"null"===e.type.toLowerCase()},t.isObject=function(e){return"object"===e.type.toLowerCase()},t.isInPlaceEdit=function(){return a},t.isJSON=function(e){return"json"===e.type.toLowerCase()},t.isXML=function(e){return"xml"===e.type.toLowerCase()},t.$watch("variable.type",(function(e,n){if(n!==e){if(["Json","Xml"].indexOf(e)>-1)return s(e,t.variable.value);if("boolean"===e.toLowerCase())return r=t.variable.value,void(t.variable.value=o);if("boolean"===n.toLowerCase())return o=t.variable.value,void(t.variable.value=r);"null"===e.toLowerCase()&&(t.variable.value=null),"object"===e.toLowerCase()&&(t.variable.valueInfo=t.variable.valueInfo||{})}}))}}}]},{angular:"angular"}],375:[function(e,t,n){"use strict";t.exports=[function(){return{restrict:"EAC",scope:{id:"@"},template:'<ul class="nav nav-pills">  <li ng-repeat="provider in providers" ng-class="{ active: isActive(provider) }" class="{{ provider.id }}">    <a ng-href="{{ getUrl(provider) }}">{{ provider.label }}</a>  </li></ul>',replace:!0,controller:["$scope","Views","$location","routeUtil",function(e,t,n,i){var r=t.getProviders({component:e.id});e.providers=r;var a=e.isActive=function(e){return-1!=n.path().indexOf("/"+e.id)};e.getUrl=function(e){var t=e.id,r=n.path(),o=n.search(),s=!!a(e)||e.keepSearchParams;return"#"+i.replaceLastPathFragment(t,r,o,s)}}]}}]},{}],376:[function(e,t,n){"use strict";t.exports=function(){return function(t){if(t){var n=t,i=Math.floor(n%1e3);n/=1e3;var r=Math.floor(n%60);n/=60;var a=Math.floor(n%60);n/=60;var o=Math.floor(n%24);n/=24;var s=[];return e(Math.floor(n),"day",s),e(o,"hour",s),e(a,"minute",s),e(r,"second",s),0===s.length&&e(i,"millisecond",s),s.join(", ")}};function e(e,t,n){if(e){var i=[];i.push(e),i.push(1===e?t:t+"s"),n.push(i.join(" "))}}}},{}],377:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular"),r=e("./shorten"),a=e("../../../../../camunda-commons-ui/lib/filter/abbreviateNumber"),o=e("./duration"),s=i.module("cam.cockpit.filters",[]);s.filter("shorten",r),s.filter("abbreviateNumber",a),s.filter("duration",o),t.exports=s},{"../../../../../camunda-commons-ui/lib/filter/abbreviateNumber":22,"../../../../../camunda-commons-ui/vendor/angular":74,"./duration":376,"./shorten":378}],378:[function(e,t,n){"use strict";t.exports=function(){return function(e,t){return e.length>t?e.substring(0,t)+"...":e}}},{}],379:[function(e,t,n){"use strict";var i=e("../../../../../../camunda-commons-ui/vendor/angular");t.exports=["$scope","$injector","$location","Views",function(e,t,n,r){e.navbarVars={read:[]},e.menuActions=[],e.dropdownActions=[],r.getProviders({component:"cockpit.navigation"}).forEach((function(n){i.isArray(n.access)?t.invoke(n.access)((function(e,t){if(e)throw e;n.accessible=t})):n.accessible=!0;n.render||(n.template='<a ng-href="'.concat(n.pagePath,"\">\n        {{'").concat(n.label,"' | translate}}</a>")),(n.priority>=0?e.menuActions:e.dropdownActions).push(n)})),e.activeClass=function(e){var t=n.absUrl();return("function"==typeof e.checkActive?e.checkActive(t):function(e,t){return t.indexOf(e.id)>-1||t.indexOf(e.path)>-1}(e,t))?"active":""}}]},{"../../../../../../camunda-commons-ui/vendor/angular":74}],380:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular"),r=e("./controllers/cam-header-views-ctrl"),a=i.module("cam.cockpit.navigation",[]);a.controller("camHeaderViewsCtrl",r),t.exports=a},{"../../../../../camunda-commons-ui/vendor/angular":74,"./controllers/cam-header-views-ctrl":379}],381:[function(e,t,n){"use strict";var i=e("camunda-bpm-sdk-js").utils.series;function r(e,t){return e.priority>t.priority?1:e.priority<t.priority?-1:0}function a(e,t){return e.value>t.value?1:e.value<t.value?-1:0}function o(e,t){return Object.keys(t).forEach((function(n){var i=t[n];e=e.split("{{"+n+"}}").join(i)})),e}var s=["$scope","camAPI","localConf","Views","hasPlugin","page","Data","dataDepend","$translate",function(e,t,n,s,l,c,u,d,p){function f(e,t,n){var i,r,o=(i=e.length,r=t,i>12?.5*Math.floor(r/i):0),s={value:0,label:p.instant("DASHBOARD_OTHERS"),names:[],url:n};return e.forEach((function(e){e.value&&e.value<o&&(s.value+=e.value,s.names.push(e.label))})),e=e.filter((function(e){return e.value&&e.value>=o})).sort(a),o&&e.unshift(s),e.map((function(t,n){return t.color=function(e,t){var n=360/t*e;return"hsl("+(n=(n+=230)>360?n-360:n)+", 70%, 41%)"}(n,e.length),t}))}e.hasMetricsPlugin=l("cockpit.dashboard.metrics","executed-activity-instances"),e.hasProcessSearch=l("cockpit.processes.dashboard","search-process-instances"),e.hasCaseSearch=l("cockpit.cases.dashboard","case-instances-search"),e.hasTaskSearch=l("cockpit.tasks.dashboard","search-tasks"),e.mainPlugins=[],e.miscPlugins=[],e.dashboardVars={read:["processData"]},e.deprecateDashboardProviders=s.getProviders({component:"cockpit.dashboard"}),c.breadcrumbsClear(),e.$root.showBreadcrumbs=!1,c.titleSet(p.instant("DASHBOARD_DASHBOARD")),e.values={procInst:[],procIncid:[]},e.data={actual:{}},e.linkBase={processInstances:"/process-definition/{{id}}",processIncidents:"/process-definition/{{id}}",tasks:"/process-instance/{{processInstanceId}}/runtime?tab=user-tasks-tab"},e.hasProcessSearch&&(e.linkBase.processInstances="/processes?searchQuery=%5B%7B%22type%22:%22PIunfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22PIprocessDefinitionKey%22,%22operator%22:%22eq%22,%22value%22:%22{{key}}%22,%22name%22:%22%22%7D%5D",e.linkBase.processIncidents="/processes?searchQuery=%5B%7B%22type%22:%22PIwithRootIncidents%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22PIincidentStatus%22,%22operator%22:%22eq%22,%22value%22:%22open%22,%22name%22:%22%22%7D,%7B%22type%22:%22PIprocessDefinitionKey%22,%22operator%22:%22eq%22,%22value%22:%22{{key}}%22,%22name%22:%22%22%7D%5D");var m=t.resource("case-definition"),h=t.resource("decision-definition"),g=t.resource("deployment"),v=t.resource("process-definition");e.processData=d.create(e);var y=e.processData.newChild(e);u.instantiateProviders("cockpit.dashboard.data",{$scope:e,processData:y});var b=t.resource("task");e.$watch("actualActive",(function(){e.actualActive&&(e.loadingActual=!0,i({processes:function(t){y.observe("processDefinitionWithRootIncidentsStatistics",(function(t){!function(t){var n=[],i=0;t.forEach((function(t){t.definition&&t.instances&&(n.push({value:t.instances,label:t.definition.name||t.definition.id,url:o(e.linkBase.processInstances,t.definition)}),i+=t.instances)})),e.values.procInst=f(n,i,"/processes"),e.data.actual.runningProcessInstances=i}(t),function(t){var n=[],i=0;t.forEach((function(t){var r=0;t.incidents.forEach((function(e){r+=e.incidentCount})),n.push({value:r,label:t.definition.name||t.definition.id,url:o(e.linkBase.processIncidents,t.definition)}),i+=r})),e.values.procIncid=f(n,i,"/processes"),e.data.actual.openIncidents=i}(t)})),t()},tasks:function(t){b.count({},(function(n,r){if(n)return t();e.data.actual.tasks=r,i({assignedToUser:function(e){b.count({unfinished:!0,assigned:!0},(function(t,n){e(t,{label:p.instant("DASHBOARD_ASSIGNED_TO_USER"),url:"/tasks?searchQuery=%5B%7B%22type%22:%22unfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22assigned%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D",value:n})}))},assignedToGroup:function(e){b.count({unfinished:!0,unassigned:!0,withCandidateGroups:!0},(function(t,n){e(t,{label:p.instant("DASHBOARD_ASSIGNED_TO_GROUPS"),url:"/tasks?searchQuery=%5B%7B%22type%22:%22unfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22withCandidateGroups%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22unassigned%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D",value:n})}))},unassigned:function(e){b.count({unfinished:!0,unassigned:!0,withoutCandidateGroups:!0},(function(t,n){e(t,{label:p.instant("DASHBOARD_UNASSIGNED"),url:"/tasks?searchQuery=%5B%7B%22type%22:%22unfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22withoutCandidateGroups%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22unassigned%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D",value:n})}))}},(function(n,i){if(n)return t(n);var a=[];Object.keys(i).forEach((function(e){a.push(i[e])})),e.values.tasks=f(a,r,"/tasks"),t(null,r)}))}))}},(function(){e.loadingActual=!1})))})),e.$watch("deployedActive",(function(){var t;e.deployedActive&&!e.data.deployed&&(e.loadingDeployed=!0,t=function(t,n){if(e.loadingDeployed=!1,t)throw t;e.data.deployed=n},i({processDefinitions:function(e){v.count({latestVersion:!0},e)},decisionDefinitions:function(e){h.count({latestVersion:!0},e)},caseDefinitions:function(e){m.count({latestVersion:!0},e)},deploymentDefinitions:function(e){g.count({},e)}},(function(e,n){if(e)throw e;t(e,n)})))})),["actual","metrics","deployed","deprecate"].forEach((function(t){e[t+"Active"]=n.get("dashboardSection:"+t,!0)})),e.toggleSection=function(t){e[t+"Active"]=!e[t+"Active"],n.set("dashboardSection:"+t,e[t+"Active"])},e.metricsPeriod=n.get("dashboardMetricsPeriod","day"),e.setMetricsPeriod=function(t){e.metricsPeriod=t,n.set("dashboardMetricsPeriod",t)},e.hasMetricsPlugin&&(e.metricsVars={read:["metricsPeriod"]},e.metricsPlugins=s.getProviders({component:"cockpit.dashboard.metrics"}).sort(r))}],l=["$routeProvider",function(e){e.when("/dashboard",{template:'\x3c!-- # CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html --\x3e\n<div class="ctn-view dashboard container-fluid">\n  <div class="sections row">\n    <div class="col-xs-12"\n         ng-class="{\'col-sm-8 col-lg-10\': metricsPlugins.length}">\n\n\n      <section class="actual"\n               ng-class="{\'loading\': loadingActual,\'section-collapsed\': !actualActive}">\n        <button uib-tooltip="{{ \'DASHBOARD_TOGGLE_SECTION\' | translate }}"\n                class="section-toggle btn btn-link btn-sm"\n                ng-click="toggleSection(\'actual\')">\n          <span class="glyphicon"\n                ng-class="{\'glyphicon-menu-down\': !actualActive, \'glyphicon-menu-up\': actualActive}"></span>\n        </button>\n\n        <div class="inner">\n          <header>\n            <div class="row">\n              <h1 class="col-xs-12 section-title">{{ \'DASHBOARD_RIGHT_NOW\' | translate }}</h1>\n            </div>\n          </header>\n\n          <div class="row stats"\n               ng-if="actualActive">\n            <div class="stats-section process-instances col-xs-6 col-md-4">\n              <div cam-pie-chart\n                   values="values.procInst"\n                   placeholder="{{ \'DASHBOARD_RUNNING_PROCESS_INSTANCE\' | translate }}"></div>\n              <a class="value"\n                 href="#/processes?searchQuery=%5B%7B%22type%22:%22PIunfinished%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D%5D"\n                 ng-if="hasProcessSearch">\n                {{ (!data.actual.runningProcessInstances ? 0 : \'\') }}\n                {{ data.actual.runningProcessInstances | abbreviateNumber }}\n              </a>\n              <a class="value"\n                 href="#/processes"\n                 ng-if="!hasProcessSearch">\n                {{ (!data.actual.runningProcessInstances ? 0 : \'\') }}\n                {{ data.actual.runningProcessInstances | abbreviateNumber }}\n              </a>\n            </div>\n\n            <div class="stats-section open-incidents col-xs-6 col-md-4">\n              <div cam-pie-chart\n                   values="values.procIncid"\n                   placeholder="{{ \'DASHBOARD_OPEN_INCIDENTS\' | translate }}"></div>\n              <a class="value"\n                 href="#/processes?searchQuery=%5B%7B%22type%22:%22PIwithRootIncidents%22,%22operator%22:%22eq%22,%22value%22:%22%22,%22name%22:%22%22%7D,%7B%22type%22:%22PIincidentStatus%22,%22operator%22:%22eq%22,%22value%22:%22open%22,%22name%22:%22%22%7D%5D"\n                 ng-if="hasProcessSearch">\n                {{ (!data.actual.openIncidents ? 0 : \'\') }}\n                {{ data.actual.openIncidents | abbreviateNumber }}\n              </a>\n              <a class="value"\n                 href="#/processes"\n                 ng-if="!hasProcessSearch">\n                {{ (!data.actual.openIncidents ? 0 : \'\') }}\n                {{ data.actual.openIncidents | abbreviateNumber }}\n              </a>\n            </div>\n\n            <div class="stats-section open-human-tasks col-xs-6 col-md-4">\n              <div cam-pie-chart\n                   values="values.tasks"\n                   placeholder="{{ \'DASHBOARD_OPEN_HUMAN_TASKS\' | translate}}"></div>\n              <a class="value"\n                 href="#/tasks">\n                {{ (!data.actual.tasks ? 0 : \'\') }}\n                {{ data.actual.tasks | abbreviateNumber }}\n              </a>\n            </div>\n          </div>\n        </div>\n      </section>\n\n\n      <section class="statistics"\n               ng-class="{\'section-collapsed\': !statisticsActive}"\n               ng-if="statisticsPlugins.length">\n        <button uib-tooltip="{{ \'DASHBOARD_TOGGLE_SECTION\' | translate }}"\n                class="section-toggle btn btn-link btn-sm"\n                ng-click="toggleSection(\'statistics\')">\n          <span class="glyphicon"\n                ng-class="{\'glyphicon-menu-down\': !statisticsActive, \'glyphicon-menu-up\': statisticsActive}"></span>\n        </button>\n\n        <div class="inner">\n          <header>\n            <h1 class="section-title">{{ \'DASHBOARD_STATISTICS\' | translate }}</h1>\n          </header>\n\n          <div class="row stats"\n               ng-if="statisticsActive">\n            <div ng-repeat="plugin in statisticsPlugins"\n                 data-plugin-id="{{ plugin.id }}"\n                 class="stats-section col-md-12 col-lg-6 entry">\n              <h4>{{ plugin.label }}</h4>\n              <view vars="statisticsVars"\n                    provider="plugin"\n                    class="row"></view>\n            </div>\n          </div>\n        </div>\n      </section>\n\n\n      <section class="metrics"\n               ng-class="{\'section-collapsed\': !metricsActive}"\n               ng-if="metricsPlugins.length">\n        <button uib-tooltip="{{ \'DASHBOARD_TOGGLE_SECTION\' | translate }}"\n                class="section-toggle btn btn-link btn-sm"\n                ng-click="toggleSection(\'metrics\')">\n          <span class="glyphicon"\n                ng-class="{\'glyphicon-menu-down\': !metricsActive, \'glyphicon-menu-up\': metricsActive}"></span>\n        </button>\n\n        <div class="inner">\n          <header>\n            <div class="row">\n              <h1 class="col-xs-3 section-title">{{ \'DASHBOARD_METRICS\' | translate }}</h1>\n\n              <div class="col-xs-9 text-right"\n                   ng-if="metricsActive">\n                <ul class="nav nav-tabs">\n                  <li ng-class="{active: metricsPeriod === \'day\'}">\n                    <a ng-click="setMetricsPeriod(\'day\')">{{ \'DASHBOARD_TODAY\' | translate }}</a>\n                  </li>\n\n                  <li ng-class="{active: metricsPeriod === \'week\'}">\n                    <a ng-click="setMetricsPeriod(\'week\')">{{ \'DASHBOARD_THIS_WEEK\' | translate }}</a>\n                  </li>\n\n                  <li ng-class="{active: metricsPeriod === \'month\'}">\n                    <a ng-click="setMetricsPeriod(\'month\')">{{ \'DASHBOARD_THIS_MONTH\' | translate }}</a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </header>\n\n\n          <div class="row stats"\n               ng-if="metricsActive">\n            <div ng-repeat="plugin in metricsPlugins"\n                 data-plugin-id="{{ plugin.id }}"\n                 class="stats-section col-md-6 col-lg-4 entry">\n              <h4>{{ plugin.label | translate }}</h4>\n              <view vars="metricsVars"\n                    provider="plugin"\n                    period="metricsPeriod"\n                    class="row"></view>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section class="deployed no-metrics"\n               ng-class="{\'loading\': loadingDeployed,\'section-collapsed\': !deployedActive}"\n               ng-if="!metricsPlugins.length">\n        <button uib-tooltip="{{ \'DASHBOARD_TOGGLE_SECTION\' | translate }}"\n                class="section-toggle btn btn-link btn-sm"\n                ng-click="toggleSection(\'deployed\')">\n          <span class="glyphicon"\n                ng-class="{\'glyphicon-menu-down\': !deployedActive, \'glyphicon-menu-up\': deployedActive}"></span>\n        </button>\n\n        <div class="inner">\n          <header>\n            <h1 class="section-title">{{ \'DASHBOARD_DEPLOYED\' | translate }}</h1>\n          </header>\n\n          <div class="row stats"\n               ng-if="deployedActive">\n            <div class="stats-section processes col-xs-6 col-lg-3">\n              <div class="stats-label">{{ \'DASHBOARD_PROCESS_DEFINITIONS\' | translate }}</div>\n              <a class="value"\n                 href="#/processes">\n                {{ (!data.deployed.processDefinitions ? 0 : \'\') }}\n                {{ data.deployed.processDefinitions | abbreviateNumber }}\n              </a>\n            </div>\n\n            <div class="stats-section decisions col-xs-6 col-lg-3">\n              <div class="stats-label">{{ \'DASHBOARD_DECISION_DEFINITIONS\' | translate }}</div>\n              <a class="value"\n                 href="#/decisions">\n                {{ (!data.deployed.decisionDefinitions ? 0 : \'\') }}\n                {{ data.deployed.decisionDefinitions | abbreviateNumber }}\n              </a>\n            </div>\n\n            <div class="stats-section cases col-xs-6 col-lg-3">\n              <div class="stats-label">{{ \'DASHBOARD_CASE_DEFINITIONS\' | translate }}</div>\n              <a class="value"\n                 href="#/cases"\n                 ng-if="hasCaseSearch">\n                {{ (!data.deployed.caseDefinitions ? 0 : \'\') }}\n                {{ data.deployed.caseDefinitions | abbreviateNumber }}\n              </a>\n              <span class="value"\n                    ng-if="!hasCaseSearch">\n                {{ (!data.deployed.caseDefinitions ? 0 : \'\') }}\n                {{ data.deployed.caseDefinitions | abbreviateNumber }}\n              </span>\n            </div>\n\n            <div class="stats-section deployments col-xs-6 col-lg-3">\n              <div class="stats-label">{{ \'DASHBOARD_DEPLOYMENTS\' | translate }}</div>\n              <a class="value"\n                 href="#/repository">\n                {{ (!data.deployed.deploymentDefinitions ? 0 : \'\') }}\n                {{ data.deployed.deploymentDefinitions | abbreviateNumber }}\n              </a>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n\n\n    <section class="col-xs-12 col-sm-4 col-lg-2 deployed"\n             ng-class="{\'loading\': loadingDeployed, \'section-collapsed\': !deployedActive}"\n             ng-if="metricsPlugins.length">\n      <button uib-tooltip="{{ \'DASHBOARD_TOGGLE_SECTION\' | translate }}"\n              class="section-toggle btn btn-link btn-sm"\n              ng-click="toggleSection(\'deployed\')">\n        <span class="glyphicon"\n              ng-class="{\'glyphicon-menu-down\': !deployedActive, \'glyphicon-menu-up\': deployedActive}"></span>\n      </button>\n\n      <div class="inner">\n        <header>\n          <h1 class="section-title">{{ \'DASHBOARD_DEPLOYED\' | translate }}</h1>\n        </header>\n\n        <div class="row stats"\n             ng-if="deployedActive">\n          <div class="stats-section processes col-sm-12 col-md-6 col-lg-12">\n            <div class="stats-label">{{ \'DASHBOARD_PROCESS_DEFINITIONS\' | translate }}</div>\n            <a class="value"\n               href="#/processes">\n              {{ (!data.deployed.processDefinitions ? 0 : \'\') }}\n              {{ data.deployed.processDefinitions | abbreviateNumber }}\n            </a>\n          </div>\n\n          <div class="stats-section decisions col-sm-12 col-md-6 col-lg-12">\n            <div class="stats-label">{{ \'DASHBOARD_DECISION_DEFINITIONS\' | translate }}</div>\n            <a class="value"\n               href="#/decisions">\n              {{ (!data.deployed.decisionDefinitions ? 0 : \'\') }}\n              {{ data.deployed.decisionDefinitions | abbreviateNumber }}\n            </a>\n          </div>\n\n          <div class="stats-section cases col-sm-12 col-md-6 col-lg-12">\n            <div class="stats-label">{{ \'DASHBOARD_CASE_DEFINITIONS\' | translate }}</div>\n            <a class="value"\n               href="#/cases"\n               ng-if="hasCaseSearch">\n              {{ (!data.deployed.caseDefinitions ? 0 : \'\') }}\n              {{ data.deployed.caseDefinitions | abbreviateNumber }}\n            </a>\n            <span class="value"\n                  ng-if="!hasCaseSearch">\n              {{ (!data.deployed.caseDefinitions ? 0 : \'\') }}\n              {{ data.deployed.caseDefinitions | abbreviateNumber }}\n            </span>\n          </div>\n\n          <div class="stats-section deployments col-sm-12 col-md-6 col-lg-12">\n            <div class="stats-label">{{ \'DASHBOARD_DEPLOYMENTS\' | translate }}</div>\n            <a class="value"\n               href="#/repository">\n              {{ (!data.deployed.deploymentDefinitions ? 0 : \'\') }}\n              {{ data.deployed.deploymentDefinitions | abbreviateNumber }}\n            </a>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n\n\n\n\n  <section class="deprecate"\n           ng-if="deprecateDashboardProviders.length"\n           ng-class="{\'section-collapsed\': !deprecateActive}">\n    <button uib-tooltip="{{ \'DASHBOARD_TOGGLE_SECTION\' | translate }}"\n            class="section-toggle btn btn-link btn-sm"\n            ng-click="toggleSection(\'deprecate\')">\n      <span class="glyphicon"\n            ng-class="{\'glyphicon-menu-down\': !deprecateActive, \'glyphicon-menu-up\': deprecateActive}"></span>\n    </button>\n\n    <div class="inner">\n      <header>\n        <div class="row">\n          <h1 class="section-title col-xs-4">{{ \'DASHBOARD_CUSTOM_PLUGINS\' | translate }}</h1>\n          <div class="col-xs-8 text-right"></div>\n        </div>\n      </header>\n\n      <div ng-if="deprecateActive"\n           ng-repeat="plugin in deprecateDashboardProviders"\n           class="deprecate-dashboard-view row"\n           data-plugin-id="{{ plugin.id }}">\n        <view vars="dashboardVars"\n              provider="plugin"></view>\n      </div>\n    </div>\n  </section>\n</div>\n\x3c!-- / CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html --\x3e\n',controller:s,authentication:"required",reloadOnSearch:!1})}];t.exports=l},{"camunda-bpm-sdk-js":"camunda-bpm-sdk-js"}],382:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular"),r=e("../../../../common/scripts/util/routeUtil"),a=e("../../../../../camunda-commons-ui/lib"),o=i.module("cam.cockpit.pages.decisionDefinition",["dataDepend",a.name]),s=["$scope","$rootScope","$q","dataDepend","page","camAPI","decisionDefinition","Views","search","isModuleAvailable","$translate","queryMaxResults",function(e,t,n,i,a,o,s,l,c,u,d,p){e.control={};var f=e.decisionData=i.create(e),m=o.resource("decision-definition");e.hasDrdPlugin=u("cockpit.plugin.drd"),e.decisionDefinition=s,f.provide("decisionDefinition",s),f.provide("tableXml",["decisionDefinition",function(e){var t=n.defer(),i=e.id;return m.getXml(i,(function(e,n){e?t.reject(e):t.resolve(n.dmnXml)})),t.promise}]),f.provide("allDefinitions",["decisionDefinition",function(e){var t={key:e.key,sortBy:"version",sortOrder:"desc"};return e.tenantId?t.tenantIdIn=e.tenantId:t.withoutTenantId=!0,p(t,(function(e){return m.list(e)}),(function(e){return m.count(e)}))}]),f.observe(["decisionDefinition"],(function(t){e.decisionDefinition=t})),f.observe(["allDefinitions"],(function(t){e.allDefinitions=t})),t.showBreadcrumbs=!0,e.breadcrumbData=f.observe(["decisionDefinition"],(function(e){a.breadcrumbsClear(),a.breadcrumbsAdd([{label:d.instant("DECISION_DEFINITION_DECISIONS"),href:"#/decisions"},{type:"decisionDefinition",label:e.name||e.key||e.id,href:"#/decision-definition/"+e.id}]),a.titleSet([e.name||e.key||e.id,d.instant("DECISION_DEFINITION_DEFINITION_VIEW")].join(" | "))})),f.observe(["tableXml"],(function(t){e.tableXml=t})),e.initializeTablePlugins=function(){for(var t=l.getProviders({component:"cockpit.decisionDefinition.table"}),n={decisionDefinition:s,decisionData:f,tableControl:e.control},i=0;i<t.length;i++)"function"==typeof t[i].initialize&&t[i].initialize(n)},e.decisionDefinitionVars={read:["decisionDefinition","decisionData"]},e.decisionDefinitionTabs=l.getProviders({component:"cockpit.decisionDefinition.tab"}),e.decisionDefinitionActions=l.getProviders({component:"cockpit.decisionDefinition.action"});for(var h=l.getProviders({component:"cockpit.decisionDefinition.tab"}).concat(l.getProviders({component:"cockpit.decisionDefinition.action"})),g={decisionDefinition:s,decisionData:f},v=0;v<h.length;v++)"function"==typeof h[v].initialize&&h[v].initialize(g);e.selectTab=function(t){e.selectedTab=t,c.updateSilently({detailsTab:t.id})},function(t){var n=c().detailsTab;if(t&&t.length){if(n){var i=l.getProvider({component:"cockpit.decisionDefinition.tab",id:n});if(i&&-1!=t.indexOf(i))return void(e.selectedTab=i)}c.updateSilently({detailsTab:null}),e.selectedTab=t[0]}}(e.decisionDefinitionTabs),e.getDeploymentUrl=function(){var e=s.deploymentId,t={deployment:e,resourceName:s.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:e}])};return r.redirectTo("#/repository",t,["deployment","resourceName","deploymentsQuery"])}}],l=["$routeProvider",function(e){e.when("/decision-definition/:id",{redirectTo:function(e,t,n){var i=t+"/history";return r.redirectTo(i,n,!0)}}).when("/decision-definition/:id/history",{template:'\x3c!-- # CE - camunda-cockpit-ui/client/scripts/pages/decision-definition.html --\x3e\n<div class="ctn-fixed-view decision-page-layout">\n  <div class="ctn-content-container"\n       ctn-collapsable-parent="sidebar">\n\n    \x3c!-- tool bar --\x3e\n    <div class="ctn-toolbar">\n\n      \x3c!-- Toolbar actions are provided by plugins --\x3e\n      <span ng-repeat="tabProvider in decisionDefinitionActions">\n        <view provider="tabProvider"\n              vars="decisionDefinitionVars" />\n      </span>\n\n    </div>\n\n    \x3c!-- sidebar --\x3e\n    <div class="ctn-column ctn-sidebar ctn-scroll"\n         cam-hover-area\n         ctn-collapsable="left">\n      <dl class="process-information">\n        <dt>{{ \'DECISION_DEFINITION_DEFINITION_VERSION\' | translate }}</dt>\n        <dd class="definition-version">\n          <span ng-if="!allDefinitions || !decisionDefinition"\n                class="glyphicon glyphicon-refresh animate-spin"></span>\n\n          <div class="dropdown"\n               ng-if="allDefinitions && allDefinitions.length > 1"\n               uib-dropdown>\n            <span>\n              <span change-version="decisionDefinition"\n                    type="decision"></span>\n\n              <a href\n                 uib-dropdown-toggle\n                 class="dropdown-toggle btn btn-xs btn-default">\n                <span class="caret"></span>\n              </a>\n            </span>\n\n            <ul uib-dropdown-menu class="dropdown-menu">\n              <li ng-repeat="definition in allDefinitions">\n                <a ng-href="#/decision-definition/{{ definition.id }}">\n                  {{ definition.version }}\n                </a>\n              </li>\n            </ul>\n          </div>\n          <span ng-if="allDefinitions && allDefinitions.length < 2 && decisionDefinition">\n            {{ decisionDefinition.version }}\n          </span>\n        </dd>\n\n        <dt>{{ \'DECISION_DEFINITION_VERSION_TAG\' | translate }}</dt>\n        <dd class="version-tag"\n            ng-if="decisionDefinition.versionTag">{{ decisionDefinition.versionTag }}</dd>\n        <dd class="version-tag"\n            ng-if="!decisionDefinition.versionTag"><span class="null-value">{{ \'DECISION_DEFINITION_NULL\' | translate }}</span></dd>\n\n        <dt cam-widget-clipboard="decisionDefinition.id"\n            cam-hoverable-title="definition-id">{{ \'DECISION_DEFINITION_DEFINITION_ID\' | translate }}</dt>\n        <dd cam-hover-trigger="definition-id">{{ decisionDefinition.id }}</dd>\n\n        <dt cam-widget-clipboard="decisionDefinition.key"\n            cam-hoverable-title="definition-key">{{ \'DECISION_DEFINITION_DEFINITION_KEY\' | translate }}</dt>\n        <dd class="definition-key"\n            cam-hover-trigger="definition-key">{{ decisionDefinition.key }}</dd>\n\n        <dt>{{ \'DECISION_DEFINITION_DEFINITION_NAME\' | translate }}</dt>\n        <dd class="definition-name"\n            ng-if="decisionDefinition.name && decisionDefinition.name !== decisionDefinition.key">{{ decisionDefinition.name }}</dd>\n        <dd class="definition-name"\n            ng-if="!decisionDefinition.name || decisionDefinition.name === decisionDefinition.key"><span class="null-value">null</span></dd>\n\n\n        <dt cam-widget-clipboard="decisionDefinition.historyTimeToLive"\n            cam-hoverable-title="history-time-to-live">\n            {{ \'DECISION_DEFINITION_HISTORY_TIME_TO_LIVE\' | translate }}\n        </dt>\n        <dd class="history-time-to-live" cam-hover-trigger="history-time-to-live">\n          <span time-to-live="decisionDefinition" resource="decision-definition"></span>\n        </dd>\n\n        <dt ng-if="decisionDefinition.tenantId"\n            cam-widget-clipboard="decisionDefinition.tenantId"\n            cam-hoverable-title="tenant-id">{{ \'DECISION_DEFINITION_TENANT_ID\' | translate }}</dt>\n        <dd class="tenant-id"\n            ng-if="decisionDefinition.tenantId"\n            cam-hover-trigger="tenant-id">{{ decisionDefinition.tenantId }}</dd>\n        <dt ng-if="!decisionDefinition.tenantId">{{ \'DECISION_DEFINITION_TENANT_ID\' | translate }}</dt>\n        <dd class="tenant-id"\n            ng-if="!decisionDefinition.tenantId"><span class="null-value">null</span></dd>\n\n        <dt cam-widget-clipboard="decisionDefinition.deploymentId"\n            cam-hoverable-title="deployment-id">{{ \'DECISION_DEFINITION_DEPLOYMENT_ID\' | translate }}</dt>\n        <dd class="deployment-id"\n            cam-hover-trigger="deployment-id">\n          <a ng-href="{{ getDeploymentUrl() }}">{{ decisionDefinition.deploymentId }}</a>\n        </dd>\n\n        <dt ng-if="decisionDefinition.decisionRequirementsDefinitionId"\n            cam-widget-clipboard="decisionDefinition.decisionRequirementsDefinitionId"\n            cam-hoverable-title="drd">{{ \'DECISION_DEFINITION_DECISION_REQUIREMENTS_DEFINITION\' | translate }}</dt>\n        <dd class="super-case-instance-id"\n            ng-if="decisionDefinition.decisionRequirementsDefinitionId"\n            cam-hover-trigger="drd">\n          <a ng-if="hasDrdPlugin"\n             ng-href="#/decision-requirement/{{decisionDefinition.decisionRequirementsDefinitionId}}/history">\n            {{ decisionDefinition.decisionRequirementsDefinitionId }}\n          </a>\n          <span ng-if="!hasDrdPlugin">\n            {{ decisionDefinition.decisionRequirementsDefinitionId }}\n          </span>\n        </dd>\n        <dt ng-if="!decisionDefinition.decisionRequirementsDefinitionId">{{ \'DECISION_DEFINITION_DECISION_REQUIREMENTS_DEFINITION\' | translate }}</dt>\n        <dd class="super-case-instance-id"\n            ng-if="!decisionDefinition.decisionRequirementsDefinitionId"><span class="null-value">{{ \'DECISION_DEFINITION_NULL\' | translate }}</span></dd>\n      </dl>\n\n      <a class="hide-collapsable pull-right"></a>\n    </div>\n\n\n    <div class="ctn-column ctn-content"\n         ctn-collapsable-parent="tabs">\n\n      \x3c!-- content top pane --\x3e\n      <div class="ctn-row ctn-content-top"\n           ctn-collapsable="top">\n        <div decision-table="tableXml"\n             control="control"\n             table="{{decisionDefinition.key}}"\n             on-load="initializeTablePlugins()"\n             style="height: 100%;padding:20px 10px;margin:0;"></div>\n        <a class="hide-collapsable vertical-collapse"\n           title="{{ \'DECISION_DEFINITION_SHOW_TABS\' | translate }}"></a>\n\n        <a class="maximize-collapsable vertical-collapse"\n           maximize-parent-direction="left"\n           title="{{ \'DECISION_DEFINITION_MAXIMIZE_DIAGRAM\' | translate }}"></a>\n\n        <a class="restore-collapsable vertical-collapse"\n           maximize-parent-direction="left"\n           title="{{ \'DECISION_DEFINITION_RESTORE_DEFAULT_SIZE\' | translate }}"></a>\n      </div>\n\n      \x3c!-- content bottom pane --\x3e\n      <div class="ctn-row ctn-content-bottom ctn-tabbed">\n        <a class="show-collapsable vertical-collapse"\n           title="{{ \'DECISION_DEFINITION_HIDE_TABS\' | translate }}"></a>\n        <ul class="nav nav-tabs"\n            ng-if="decisionDefinitionTabs.length > 1">\n          <li ng-class="{ active: selectedTab == tabProvider }"\n              ng-repeat="tabProvider in decisionDefinitionTabs">\n            <a href ng-click="selectTab(tabProvider)">{{ tabProvider.label | translate }}</a>\n          </li>\n        </ul>\n\n        <h4 ng-if="decisionDefinitionTabs.length === 1">{{ decisionDefinitionTabs[0].label | translate }}:</h4>\n\n        <div class="ctn-tabbed-content ctn-scroll"\n             ng-if="decisionDefinitionTabs.length">\n          <view provider="selectedTab"\n                vars="decisionDefinitionVars" />\n        </div>\n      </div>\n\n      <a class="show-collapsable"></a>\n    </div>\n\n  </div>\n\n</div>\x3c!-- end .ctn-fixed-view --\x3e\n\x3c!-- / CE - camunda-cockpit-ui/client/scripts/pages/decision-definition.html --\x3e\n',controller:s,authentication:"required",resolve:{decisionDefinition:["ResourceResolver","camAPI","$q",function(e,t,n){return e.getByRouteParam("id",{name:"decision definition",resolve:function(e){var i=n.defer();return t.resource("decision-definition").get(e,(function(e,t){e?i.reject(e):i.resolve(t)})),i.promise}})}]},reloadOnSearch:!1})}];o.config(l).config(["ViewsProvider",function(e){e.registerDefaultView("cockpit.decisionDefinition.view",{id:"history",priority:20,label:"History",keepSearchParams:[]})}]),t.exports=o},{"../../../../../camunda-commons-ui/lib":24,"../../../../../camunda-commons-ui/vendor/angular":74,"../../../../common/scripts/util/routeUtil":484}],383:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular"),r=e("../../../../common/scripts/util/routeUtil");e("angular-data-depend");var a=e("../../../../../camunda-commons-ui/lib"),o=i.module("cam.cockpit.pages.decisionInstance",["dataDepend",a.name]),s=["$scope","$rootScope","$q","dataDepend","page","camAPI","decisionInstance","Views","search","$translate",function(e,t,n,a,o,s,l,c,u,d){e.control={},e.decisionInstance=l;var p=e.decisionData=a.create(e),f=s.resource("decision-definition");e.hasCasePlugin=!1;try{e.hasCasePlugin=!!i.module("cockpit.plugin.case")}catch(e){}var m=c.getProviders({component:"cockpit.processInstance.view"}).filter((function(e){return"history"===e.id})).length>0;e.processInstanceLink=m?"#/process-instance/"+e.decisionInstance.processInstanceId+"/history?activityInstanceIds="+e.decisionInstance.activityInstanceId+"&activityIds="+e.decisionInstance.activityId:"#/process-instance/"+e.decisionInstance.processInstanceId,p.provide("tableXml",(function(){var e=n.defer();return f.getXml(l.decisionDefinitionId,(function(t,n){t?e.reject(t):e.resolve(n.dmnXml)})),e.promise})),p.provide("decisionDefinition",(function(){var e=n.defer();return f.get(l.decisionDefinitionId,(function(t,n){t?e.reject(t):e.resolve(n)})),e.promise})),t.showBreadcrumbs=!0,o.breadcrumbsClear(),o.breadcrumbsAdd([{label:d.instant("DECISION_INSTANCE_DECISIONS"),href:"#/decisions/"},{type:"decisionDefinition",label:l.decisionDefinitionName||l.decisionDefinitionKey||l.decisionDefinitionId,href:"#/decision-definition/"+l.decisionDefinitionId},{type:"decisionInstance",label:l.id,href:"#/decision-instance/"+l.id}]),o.titleSet([l.id,d.instant("DECISION_INSTANCE_INSTANCE_VIEW")].join(" | ")),p.observe(["tableXml"],(function(t){e.tableXml=t})),p.observe(["decisionDefinition"],(function(t){e.decisionDefinition=t})),e.getDeploymentUrl=function(){var t=e.decisionDefinition.deploymentId,n={deployment:t,resourceName:e.decisionDefinition.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:t}])};return r.redirectTo("#/repository",n,["deployment","resourceName","deploymentsQuery"])},e.getActivitySearch=function(e){return JSON.stringify([{type:"caseActivityIdIn",operator:"eq",value:e.activityId}])},e.initializeTablePlugins=function(){for(var t=c.getProviders({component:"cockpit.decisionInstance.table"}),n={decisionInstance:l,tableControl:e.control},i=0;i<t.length;i++)"function"==typeof t[i].initialize&&t[i].initialize(n)},e.decisionInstanceVars={read:["decisionInstance","decisionData"]},e.decisionInstanceTabs=c.getProviders({component:"cockpit.decisionInstance.tab"}),e.decisionInstanceActions=c.getProviders({component:"cockpit.decisionInstance.action"});for(var h=c.getProviders({component:"cockpit.decisionInstance.tab"}).concat(c.getProviders({component:"cockpit.decisionInstance.action"})),g={decisionInstance:l,decisionData:p},v=0;v<h.length;v++)"function"==typeof h[v].initialize&&h[v].initialize(g);e.selectTab=function(t){e.selectedTab=t,u.updateSilently({detailsTab:t.id})},function(t){var n=u().detailsTab;if(t&&t.length){if(n){var i=c.getProvider({component:"cockpit.decisionInstance.tab",id:n});if(i&&-1!=t.indexOf(i))return void(e.selectedTab=i)}u.updateSilently({detailsTab:null}),e.selectedTab=t[0]}}(e.decisionInstanceTabs)}],l=["$routeProvider",function(e){e.when("/decision-instance/:id",{redirectTo:function(e,t,n){var i=t+"/history";return r.redirectTo(i,n,!0)}}),e.when("/decision-instance/:id/history",{template:'\x3c!-- # CE - camunda-cockpit-ui/client/scripts/pages/decision-instance.html --\x3e\n<div class="ctn-fixed-view decision-page-layout">\n  <div class="ctn-content-container"\n       ctn-collapsable-parent="sidebar">\n\n    \x3c!-- tool bar --\x3e\n    <div class="ctn-toolbar">\n\n      \x3c!-- Toolbar actions are provided by plugins --\x3e\n      <span ng-repeat="tabProvider in decisionInstanceActions">\n        <view provider="tabProvider"\n              vars="decisionInstanceVars" />\n      </span>\n\n    </div>\n\n\n    \x3c!-- sidebar --\x3e\n    <div class="ctn-column ctn-sidebar ctn-scroll"\n         cam-hover-area\n         ctn-collapsable="left">\n      <dl class="process-information">\n        <dt cam-widget-clipboard="decisionInstance.id"\n            cam-hoverable-title="instance-id">\n          <span uib-tooltip="{{ \'DECISION_INSTANCE_TOOLTIP_INSTANCE_ID\' |  translate }}">{{ \'DECISION_INSTANCE_INSTANCE_ID\' |  translate }}</span>\n        </dt>\n        <dd class="instance-id"\n            cam-hover-trigger="instance-id">{{ decisionInstance.id }}</dd>\n\n        <dt>{{ \'DECISION_INSTANCE_DEFINITION_VERSION\' |  translate }}</dt>\n        <dd class="definition-version">{{decisionDefinition.version}}</dd>\n\n        <dt cam-widget-clipboard="decisionInstance.decisionDefinitionId"\n            cam-hoverable-title="definition-id">{{ \'DECISION_INSTANCE_DEFINITION_ID\' |  translate }}</dt>\n        <dd class="definition-id"\n            cam-hover-trigger="definition-id">\n          <a ng-href="#/decision-definition/{{ decisionInstance.decisionDefinitionId }}">{{ decisionInstance.decisionDefinitionId }}</a>\n        </dd>\n\n        <dt cam-widget-clipboard="decisionInstance.decisionDefinitionKey"\n            cam-hoverable-title="definition-key">{{ \'DECISION_INSTANCE_DEFINITION_KEY\' |  translate }}</dt>\n        <dd class="definition-key"\n            cam-hover-trigger="definition-key">{{ decisionInstance.decisionDefinitionKey }}</dd>\n\n        <dt>{{ \'DECISION_INSTANCE_DEFINITION_NAME\' |  translate }}</dt>\n        <dd class="definition-name"\n            ng-if="decisionInstance.decisionDefinitionName && decisionInstance.decisionDefinitionName !== decisionInstance.key">{{ decisionInstance.decisionDefinitionName }}</dd>\n        <dd class="definition-name"\n            ng-if="!decisionInstance.decisionDefinitionName || decisionInstance.decisionDefinitionName === decisionInstance.key"><span class="null-value">{{ \'DECISION_INSTANCE_NULL\' |  translate }}</span></dd>\n\n        <dt ng-if="decisionInstance.tenantId"\n            cam-widget-clipboard="decisionInstance.tenantId"\n            cam-hoverable-title="tenant-id">{{ \'DECISION_INSTANCE_TENANT_ID\' |  translate }}</dt>\n        <dd class="tenant-id"\n            ng-if="decisionInstance.tenantId"\n            cam-hover-trigger="tenant-id">{{ decisionInstance.tenantId }}</dd>\n        <dt ng-if="!decisionInstance.tenantId">{{ \'DECISION_INSTANCE_TENANT_ID\' |  translate }}</dt>\n        <dd class="tenant-id"\n            ng-if="!decisionInstance.tenantId"><span class="null-value">{{ \'DECISION_INSTANCE_NULL\' |  translate }}</span></dd>\n\n        <dt cam-widget-clipboard="decisionDefinition.deploymentId"\n            cam-hoverable-title="deployment-id">{{ \'DECISION_INSTANCE_DEPLOYMENT_ID\' |  translate }}</dt>\n        <dd class="deployment-id"\n            ng-if="decisionDefinition"\n            cam-hover-trigger="deployment-id">\n          <a ng-href="{{ getDeploymentUrl() }}">{{ decisionDefinition.deploymentId }}</a>\n        </dd>\n\n        <dt ng-if="decisionInstance.processInstanceId"\n            cam-widget-clipboard="decisionInstance.processInstanceId"\n            cam-hoverable-title="super-process-instance-id">{{ \'DECISION_INSTANCE_PROCESS_INSTANCE_ID\' |  translate }}</dt>\n        <dd class="super-process-instance-id"\n            ng-if="decisionInstance.processInstanceId"\n            cam-hover-trigger="super-process-instance-id">\n          <a ng-href="{{ processInstanceLink }}">{{ decisionInstance.processInstanceId }}</a>\n        </dd>\n        <dt ng-if="!decisionInstance.processInstanceId">{{ \'DECISION_INSTANCE_PROCESS_INSTANCE_ID\' |  translate }}</dt>\n        <dd class="super-process-instance-id"\n            ng-if="!decisionInstance.processInstanceId"><span class="null-value">{{ \'DECISION_INSTANCE_NULL\' |  translate }}</span></dd>\n\n        <dt ng-if="decisionInstance.caseInstanceId"\n            cam-widget-clipboard="decisionInstance.caseInstanceId"\n            cam-hoverable-title="super-case-instance-id">{{ \'DECISION_INSTANCE_CASE_INSTANCE_ID\' |  translate }}</dt>\n        <dd class="super-case-instance-id"\n            ng-if="decisionInstance.caseInstanceId"\n            cam-hover-trigger="super-case-instance-id">\n          <a ng-if="hasCasePlugin"\n             ng-href="#/case-instance/{{decisionInstance.caseInstanceId}}?searchQuery={{ getActivitySearch(decisionInstance) }}">\n            {{ decisionInstance.caseInstanceId }}\n          </a>\n          <span ng-if="!hasCasePlugin">\n            {{ decisionInstance.caseInstanceId }}\n          </span>\n        </dd>\n        <dt ng-if="!decisionInstance.caseInstanceId">{{ \'DECISION_INSTANCE_CASE_INSTANCE_ID\' |  translate }}</dt>\n        <dd class="super-case-instance-id"\n            ng-if="!decisionInstance.caseInstanceId"><span class="null-value">{{ \'DECISION_INSTANCE_NULL\' |  translate }}</span></dd>\n\n\n        <dt ng-if="decisionInstance.decisionRequirementsDefinitionId"\n            cam-widget-clipboard="decisionInstance.decisionRequirementsDefinitionId"\n            cam-hoverable-title="drd">{{ \'DECISION_INSTANCE_DECISION_REQUIREMENTS_DEFINITION\' |  translate }}</dt>\n        <dd class="super-case-instance-id"\n            ng-if="decisionInstance.decisionRequirementsDefinitionId"\n            cam-hover-trigger="drd">\n          <a ng-if="hasCasePlugin"\n             ng-href="#/decision-requirement/{{decisionInstance.decisionRequirementsDefinitionId}}/history">\n            {{ decisionInstance.decisionRequirementsDefinitionId }}\n          </a>\n          <span ng-if="!hasCasePlugin">\n            {{ decisionInstance.decisionRequirementsDefinitionId }}\n          </span>\n        </dd>\n        <dt ng-if="!decisionInstance.decisionRequirementsDefinitionId">{{ \'DECISION_INSTANCE_DECISION_REQUIREMENTS_DEFINITION\' |  translate }}</dt>\n        <dd class="super-case-instance-id"\n            ng-if="!decisionInstance.decisionRequirementsDefinitionId"><span class="null-value">{{ \'DECISION_INSTANCE_NULL\' |  translate }}</span></dd>\n\n      </dl>\n\n      <a class="hide-collapsable pull-right"></a>\n    </div>\n\n    <div class="ctn-column ctn-content"\n         ctn-collapsable-parent="tabs">\n\n      \x3c!-- content top pane --\x3e\n      <div class="ctn-row ctn-content-top"\n           ctn-collapsable="top">\n        <div decision-table="tableXml"\n             table="{{decisionDefinition.key}}"\n             control="control"\n             on-load="initializeTablePlugins()"\n             style="height: 100%;padding:20px 10px;margin:0;"></div>\n        <a class="hide-collapsable vertical-collapse"\n           title="{{ \'DECISION_INSTANCE_SHOW_TABS\' |  translate }}"></a>\n\n        <a class="maximize-collapsable vertical-collapse"\n           maximize-parent-direction="left"\n           title="{{ \'DECISION_INSTANCE_MAXIMIZE_DIAGRAM\' |  translate }}"></a>\n\n        <a class="restore-collapsable vertical-collapse"\n           maximize-parent-direction="left"\n           title="{{ \'DECISION_INSTANCE_RESTORE_DEFAULT_SIZE\' |  translate }}"></a>\n      </div>\n\n      \x3c!-- content bottom pane --\x3e\n      <div class="ctn-row ctn-content-bottom ctn-tabbed">\n        <a class="show-collapsable vertical-collapse"\n           title="{{ \'DECISION_INSTANCE_HIDE_TABS\' |  translate }}"></a>\n        <div ng-show="decisionInstanceTabs.length">\n          <ul class="nav nav-tabs">\n            <li ng-class="{ active: selectedTab == tabProvider }"\n                ng-repeat="tabProvider in decisionInstanceTabs">\n              \x3c!-- translation of the title the of label <a> --\x3e\n              <a href ng-click="selectTab(tabProvider)">{{ tabProvider.label | translate}}</a>\n            </li>\n          </ul>\n\n          <div class="ctn-tabbed-content ctn-scroll">\n            <view provider="selectedTab"\n                  vars="decisionInstanceVars" />\n          </div>\n        </div>\n      </div>\n\n      <a class="show-collapsable"></a>\n    </div>\n\n  </div>\n\n</div>\x3c!-- end .ctn-fixed-view --\x3e\n\x3c!-- / CE - camunda-cockpit-ui/client/scripts/pages/decision-instance.html --\x3e\n',controller:s,authentication:"required",resolve:{decisionInstance:["ResourceResolver","camAPI","$q",function(e,t,n){return e.getByRouteParam("id",{name:"decision instance",resolve:function(e){var i=n.defer();return t.resource("history").decisionInstance({decisionInstanceId:e,includeInputs:!0,includeOutputs:!0,disableBinaryFetching:!0,disableCustomObjectDeserialization:!0,maxResults:1},(function(e,t){!e&&t.length?i.resolve(t[0]):i.reject(e||{status:404})})),i.promise}})}]},reloadOnSearch:!1})}];o.config(l).config(["ViewsProvider",function(e){e.registerDefaultView("cockpit.decisionInstance.view",{id:"history",priority:20,label:"History",keepSearchParams:[]})}]),t.exports=o},{"../../../../../camunda-commons-ui/lib":24,"../../../../../camunda-commons-ui/vendor/angular":74,"../../../../common/scripts/util/routeUtil":484,"angular-data-depend":"angular-data-depend"}],384:[function(e,t,n){"use strict";var i=["$scope","Views","page","$translate",function(e,t,n,i){e.$root.showBreadcrumbs=!0,n.breadcrumbsClear(),n.breadcrumbsAdd({label:i.instant("DECISION_INSTANCE_DECISIONS")}),n.titleSet(i.instant("DECISION_INSTANCE_DECISIONS")),e.plugins=t.getProviders({component:"cockpit.decisions.dashboard"})}],r=["$routeProvider",function(e){e.when("/decisions",{template:'\x3c!-- # CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html --\x3e\n<div class="ctn-view cockpit-section-dashboard decisions-dashboard">\n  <view ng-repeat="plugin in plugins"\n        class="dashboard-view"\n        data-plugin-id="{{ plugin.id }}"\n        provider="plugin"></view>\n</div>\x3c!-- end .ctn-view --\x3e\n\x3c!-- / CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html --\x3e\n',controller:i,authentication:"required",reloadOnSearch:!1})}];t.exports=r},{}],385:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular"),r=e("./dashboard"),a=e("./processes"),o=e("./decisions"),s=e("./tasks"),l=e("./processDefinition"),c=e("./processInstance"),u=e("./decisionDefinition"),d=e("./decisionInstance"),p=i.module("cam.cockpit.pages",[l.name,c.name,u.name,d.name]);p.config(r),p.config(a),p.config(o),p.config(s),t.exports=p},{"../../../../../camunda-commons-ui/vendor/angular":74,"./dashboard":381,"./decisionDefinition":382,"./decisionInstance":383,"./decisions":384,"./processDefinition":386,"./processInstance":387,"./processes":388,"./tasks":389}],386:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular"),r=e("../../../../common/scripts/util/routeUtil"),a=e("../../../../common/scripts/util/search-widget-utils"),o=e("../../../../../camunda-commons-ui/lib"),s=i.module("cam.cockpit.pages.processDefinition",["dataDepend",o.name]),l=["$location","$scope","$rootScope","$q","$filter","search","ProcessDefinitionResource","ProcessInstanceResource","camAPI","Views","Data","Transform","Variables","dataDepend","processDefinition","page","$translate","queryMaxResults","configuration",function(e,t,n,o,s,l,c,u,d,p,f,m,h,g,v,y,b,_,E){var x=t.processData=g.create(t),w=t.pageData=g.create(t);t.diagramCollapsed=!0,t.onDiagramCollapseChange=function(e){t.$$phase?t.diagramCollapsed=e:t.$apply((function(){t.diagramCollapsed=e}))},t.hovered=null,t.hoverTitle=function(e){t.hovered=e||null},t.$on("$locationChangeSuccess",(function(){var n=C();e.path().indexOf(v.id)>-1&&(a.shouldUpdateFilter(n,S,["activityIds","parentProcessDefinitionId"])&&x.set("filter",n),D(t.processDefinitionTabs))}));var S=null;function C(){var e=l();return{activityIds:a.getActivityIdsFromUrlParams("activityIdIn",e),parentProcessDefinitionId:e.parentProcessDefinitionId}}function k(e){var t=e.activityIds,n=e.parentProcessDefinitionId,i=l(),r=JSON.parse(i.searchQuery||"[]");r=i.searchQuery||t.length?a.replaceActivitiesInSearchQuery(r,"activityIdIn",t):null,l.updateSilently({parentProcessDefinitionId:n||null,searchQuery:r?JSON.stringify(r):null}),S=e}x.provide("processDefinition",v),x.provide("filter",C()),x.provide("parentId",["filter",function(e){return e.parentProcessDefinitionId}]),x.provide("parent",["parentId",function(e){return e?c.get({id:e}).$promise:null}]),x.provide("instances.all",["processDefinition",function(e){var t={processDefinitionKey:e.key};return e.tenantId?t.tenantIdIn=[e.tenantId]:t.processDefinitionWithoutTenantId=!0,u.count(t).$promise}]),x.provide("instances.current",["processDefinition",function(e){return u.count({processDefinitionId:e.id}).$promise}]),x.provide("bpmn20Xml",["processDefinition",function(e){return c.getBpmn20Xml({id:e.id}).$promise}]),x.provide("parsedBpmn20",["bpmn20Xml",function(e){return m.transformBpmn20Xml(e.bpmn20Xml)}]),x.provide("bpmnElements",["parsedBpmn20",function(e){return e.bpmnElements}]),x.provide("bpmnDefinition",["parsedBpmn20",function(e){return e.definitions}]),x.provide("allProcessDefinitions",["processDefinition",function(e){var t={key:e.key,sortBy:"version",sortOrder:"desc"};return e.tenantId?t.tenantIdIn=[e.tenantId]:t.withoutTenantId=!0,_(t,(function(e){return d.resource("process-definition").list(e)}),(function(e){return d.resource("process-definition").count(e)})).then((function(e){return e.items}))}]),x.provide("processDiagram",["bpmnDefinition","bpmnElements",function(e,n){var r=t.processDiagram=t.processDiagram||{};return i.extend(r,{bpmnDefinition:e,bpmnElements:n}),r}]),x.provide("activityInstanceStatistics",["processDefinition",function(e){return E.getRuntimeActivityInstanceMetrics()?c.queryActivityStatistics({id:e.id,incidents:!0}).$promise:[]}]),x.provide("activityInstances",["activityInstanceStatistics",function(e){return e}]),x.provide(["activityIdToInstancesMap"],["activityInstances","processDefinition","bpmnElements",function(e,t,n){var i,r=n[t.key];function a(e){var t=s("shorten");return e.name||e.$type.substr(5)+" ("+t(e.id,8)+")"}return e.name=a(r),[(i=e)&&i.map((function(e){var t={},i=e.activityId,r=n[i];return e.name=r?a(r):i,t[i]=[e],t}))||{}]}]),x.provide("staticCalledProcessDefinitions",["processDefinition","bpmnElements",function(e,t){return Object.values(t).some((function(e){return"bpmn:CallActivity"===e.$type}))?d.resource("process-definition").staticCalledProcessDefinitions(e.id):[]}]),n.showBreadcrumbs=!0,x.observe("allProcessDefinitions",(function(e){t.allDefinitions=e})),t.breadcrumbData=x.observe(["processDefinition","parent"],(function(e,t){y.breadcrumbsClear(),y.breadcrumbsAdd({label:b.instant("PROCESS_DEFINITION_PROCESSES"),href:"#/processes/"}),t&&y.breadcrumbsAdd({type:"processDefinition",label:t.name||t.id.slice(0,8)+"…",href:"#/process-definition/"+t.id+"/runtime",processDefinition:t});var n=p.getProviders({component:"cockpit.processDefinition.view"});y.breadcrumbsAdd({type:"processDefinition",label:e.name||e.key||e.id,href:"#/process-definition/"+e.id+"/runtime",processDefinition:e,choices:n.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0})).map((function(t){return{active:"runtime"===t.id,label:t.label,href:"#/process-definition/"+e.id+"/"+t.id}}))}),y.titleSet((e.name||e.key||e.id).toString())})),t.instanceStatistics=x.observe(["instances.all","instances.current"],(function(e,n){t.instanceStatistics.all=e,t.instanceStatistics.current=n})),t.processDiagramData=x.observe("processDiagram",(function(e){t.processDiagram=e})),x.observe("filter",(function(e){if(S!==e){var n=e.activityIds,r=null,a=!1;n&&n.length&&(r=n[n.length-1]),e.scrollToBpmnElement!==r&&(a=!0),e!==S&&k(e),t.filter=S=i.extend({},e,{scrollToBpmnElement:r}),a&&x.set("filter",S),k(S)}})),t.handleBpmnElementSelection=function(e,n){var r=i.copy(S),a=n.ctrlKey,o=i.copy(r.activityIds)||[],s=-1!==o.indexOf(e);r.activityIds=function(e,n,i,r){if(!e)return[];if(i&r)return n.filter((function(t){return t!==e&&t!==e+"#multiInstanceBody"}));var a=[e];(function(e){return t.processDiagram.bpmnElements[e].loopCharacteristics})(e)&&a.push(e+"#multiInstanceBody");return(i?n:[]).concat(a)}(e,o,a,s),x.set("filter",r)},t.processDefinition=v,t.processDefinitionVars={read:["processDefinition","selection","processData","filter","pageData","instanceStatistics","allDefinitions"]},t.processDefinitionTabs=p.getProviders({component:"cockpit.processDefinition.runtime.tab"}),t.processDefinitionActions=p.getProviders({component:"cockpit.processDefinition.runtime.action"}),f.instantiateProviders("cockpit.processDefinition.data",{$scope:t,processData:x}),t.hasReportPlugin=p.getProviders({component:"cockpit.report"}).length>0,t.hasMigrationPlugin=!1;try{t.hasMigrationPlugin=!!i.module("cockpit.plugin.migration")}catch(e){}for(var T=p.getProviders({component:"cockpit.processDefinition.runtime.tab"}).concat(p.getProviders({component:"cockpit.processDefinition.runtime.action"})).concat(p.getProviders({component:"cockpit.processDefinition.view"})).concat(p.getProviders({component:"cockpit.processDefinition.diagram.overlay"})).concat(p.getProviders({component:"cockpit.jobDefinition.action"})),I={processDefinition:v,processData:x,pageData:w},A=0;A<T.length;A++)"function"==typeof T[A].initialize&&T[A].initialize(I);function D(e){var n=l().detailsTab;if(e&&e.length){if(n){var i=p.getProvider({component:"cockpit.processDefinition.runtime.tab",id:n});if(i&&-1!=e.indexOf(i))return void(t.selectedTab=i)}l.updateSilently({detailsTab:null}),t.selectedTab=e[0]}}function O(){if(t.allDefinitions)return Math.max.apply(null,t.allDefinitions.map((function(e){return e.version})))}t.selectTab=function(e){t.selectedTab=e,l.updateSilently({detailsTab:e.id})},D(t.processDefinitionTabs),t.getDeploymentUrl=function(){var e=v.deploymentId,t={deployment:e,resourceName:v.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:e}])};return r.redirectTo("#/repository",t,["deployment","resourceName","deploymentsQuery"])},t.isLatestVersion=function(){return t.processDefinition&&t.processDefinition.version===O()},t.getMigrationUrl=function(){var e=O(),n={sourceKey:t.processDefinition.key,targetKey:t.processDefinition.key,sourceVersion:t.isLatestVersion()?t.processDefinition.version-1:t.processDefinition.version,targetVersion:t.isLatestVersion()?t.processDefinition.version:e};return r.redirectTo("#/migration",n,["sourceKey","targetKey","sourceVersion","targetVersion"])}}],c=["$routeProvider",function(e){e.when("/process-definition/:id",{redirectTo:r.redirectToRuntime}).when("/process-definition/:id/runtime",{template:'\x3c!-- # CE - camunda-cockpit-ui/client/scripts/pages/process-definition.html --\x3e\n<div class="ctn-fixed-view">\n  <div class="ctn-content-container"\n       ctn-collapsable-parent="sidebar"\n       ctn-min-width=".nav-tabs li">\n\n    \x3c!-- tool bar --\x3e\n    <div class="ctn-toolbar">\n\n      \x3c!-- Toolbar actions are provided by plugins --\x3e\n      <span ng-repeat="actionProvider in processDefinitionActions">\n        <view provider="actionProvider"\n              vars="processDefinitionVars" />\n      </span>\n    </div>\n\n    \x3c!-- sidebar --\x3e\n    <div class="ctn-column ctn-sidebar ctn-scroll"\n         cam-hover-area\n         ctn-collapsable="left">\n\n      <dl class="process-information">\n        <dt>{{ \'PROCESS_DEFINITION_DEFINITION_VERSION\' | translate }}</dt>\n        <dd class="definition-version">\n          <span ng-if="!instanceStatistics.$loaded"\n                class="glyphicon glyphicon-refresh animate-spin"></span>\n\n          <div class="dropdown"\n               ng-if="instanceStatistics.$loaded && allDefinitions.length > 1"\n               uib-dropdown>\n            <span>\n              <span change-version="processDefinition"\n                    type="process"></span>\n\n              <a href\n                 uib-dropdown-toggle\n                 class="dropdown-toggle btn btn-xs btn-default">\n                <span class="caret"></span>\n              </a>\n            </span>\n\n            <ul uib-dropdown-menu class="dropdown-menu">\n              <li ng-repeat="definition in allDefinitions">\n                <a ng-href="#/process-definition/{{ definition.id }}">\n                  {{ definition.version }}\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          <span ng-if="instanceStatistics.$loaded && allDefinitions.length < 2">\n            {{ processDefinition.version }}\n          </span>\n        </dd>\n\n        <dt>{{ \'PROCESS_DEFINITION_VERSION_TAG\' | translate }}</dt>\n        <dd class="version-tag"\n            ng-if="processDefinition.versionTag">{{ processDefinition.versionTag }}</dd>\n        <dd class="version-tag"\n            ng-if="!processDefinition.versionTag"><span class="null-value">{{ \'PROCESS_DEFINITION_NULL\' | translate }}</span></dd>\n\n        <dt cam-widget-clipboard="processDefinition.id"\n            cam-hoverable-title="definition-id">{{ \'PROCESS_DEFINITION_DEFINITION_ID\' | translate }}</dt>\n        <dd class="definition-id" cam-hover-trigger="definition-id">{{ processDefinition.id }}</dd>\n\n        <dt cam-widget-clipboard="processDefinition.key"\n            cam-hoverable-title="definition-key">{{ \'PROCESS_DEFINITION_DEFINITION_KEY\' | translate }}</dt>\n        <dd class="definition-key" cam-hover-trigger="definition-key">{{ processDefinition.key }}</dd>\n\n        <dt>{{ \'PROCESS_DEFINITION_DEFINITION_NAME\' | translate }}</dt>\n        <dd class="definition-name"\n            ng-if="processDefinition.name">{{ processDefinition.name }}</dd>\n        <dd class="definition-name"\n            ng-if="!processDefinition.name"><span class="null-value">{{ \'PROCESS_DEFINITION_NULL\' | translate }}</span></dd>\n\n        <dt cam-widget-clipboard="processDefinition.historyTimeToLive"\n            cam-hoverable-title="history-time-to-live">\n            {{ \'PROCESS_DEFINITION_HISTORY_TIME_TO_LIVE\' | translate }}\n        </dt>\n        <dd class="history-time-to-live" cam-hover-trigger="history-time-to-live">\n          <span time-to-live="processDefinition" resource="process-definition"></span>\n        </dd>\n\n        <dt ng-if="processDefinition.tenantId"\n            cam-widget-clipboard="processDefinition.tenantId"\n            cam-hoverable-title="tenant-id">{{ \'PROCESS_DEFINITION_TENANT_ID\' | translate }}</dt>\n        <dd class="tenant-id"\n            ng-if="processDefinition.tenantId" cam-hover-trigger="tenant-id">\n            {{ processDefinition.tenantId }}\n        </dd>\n        <dt ng-if="!processDefinition.tenantId">{{ \'PROCESS_DEFINITION_TENANT_ID\' | translate }}</dt>\n        <dd class="tenant-id"\n            ng-if="!processDefinition.tenantId"><span class="null-value">{{ \'PROCESS_DEFINITION_NULL\' | translate }}</span></dd>\n\n        <dt cam-widget-clipboard="processDefinition.deploymentId"\n            cam-hoverable-title="deployment-id">{{ \'PROCESS_DEFINITION_DEPLOYMENT_ID\' | translate }}</dt>\n        <dd class="deployment-id" cam-hover-trigger="deployment-id">\n          <a ng-href="{{ getDeploymentUrl() }}">{{ processDefinition.deploymentId }}</a>\n        </dd>\n\n        <dt>{{ \'PROCESS_DEFINITION_INSTANCES_RUNNING\' | translate }}</dt>\n        <dd class="running-instances">\n          <span ng-if="!instanceStatistics.$loaded"\n                class="glyphicon glyphicon-refresh animate-spin"></span>\n          <ul ng-if="instanceStatistics.$loaded">\n            <li>\n              {{ \'PROCESS_DEFINITION_CURRENT_VERSION\' | translate }}\n              <strong class="current-version">{{ instanceStatistics.current.count }}</strong>\n              <a ng-href="{{ getMigrationUrl() }}"\n                 class="instance-upgrade-link"\n                 ng-if="hasMigrationPlugin && !isLatestVersion() && instanceStatistics.current.count > 0">\n                <span class="glyphicon glyphicon-arrow-up"\n                      uib-tooltip="{{ \'PROCESS_DEFINITION_TOOLTIP_MIGRATE_PROCESS\' | translate }}"></span>\n              </a>\n            </li>\n            <li>\n              {{ \'PROCESS_DEFINITION_ALL_VERSIONS\' | translate }}\n              <strong class="all-versions">{{ instanceStatistics.all.count }}</strong>\n              <a ng-href="{{ getMigrationUrl() }}"\n                 class="instance-upgrade-link"\n                 ng-if="hasMigrationPlugin && isLatestVersion() && instanceStatistics.all.count !== instanceStatistics.current.count">\n                <span class="glyphicon glyphicon-arrow-up"\n                      uib-tooltip="{{ \'PROCESS_DEFINITION_TOOLTIP_MIGRATE_PROCESS\' | translate }}"></span>\n              </a>\n            </li>\n          </ul>\n        </dd>\n\n        <dt ng-if="hasMigrationPlugin || hasReportPlugin">{{ \'PROCESS_DEFINITION_RELATED\' | translate }}</dt>\n        <dd ng-if="hasMigrationPlugin || hasReportPlugin">\n          <ul>\n            <li ng-if="hasReportPlugin">\n              <a class="report-link"\n                 ng-href="#/reports/reporting-duration-report?processDefinitionKey={{ processDefinition.key }}&processDefinitionVersion={{ processDefinition.version }}">\n                {{ \'PROCESS_DEFINITION_REPORTS\' | translate }}\n              </a>\n            </li>\n            <li ng-if="hasMigrationPlugin">\n              <a ng-href="#/migration?searchQuery=%5B%5D&sourceKey={{ processDefinition.key }}">{{ \'PROCESS_DEFINITION_MIGRATION\' | translate }}</a>\n            </li>\n          </ul>\n        </dd>\n      </dl>\n\n      <a class="hide-collapsable pull-right"></a>\n    </div>\n\n    <div class="ctn-column ctn-content"\n         ctn-collapsable-parent="tabs">\n      <a class="show-collapsable"></a>\n\n      \x3c!-- content top pane --\x3e\n      <div class="ctn-row ctn-content-top"\n           is-sidebar-collapsed="onDiagramCollapseChange(collapsed)"\n           ctn-collapsable="top">\n        <div process-diagram="processDiagram"\n             key="{{processDefinition.id}}"\n             on-element-click="handleBpmnElementSelection(id, $event)"\n             selection="filter"\n             process-data="processData"\n             page-data="pageData"\n             collapsed="diagramCollapsed"\n             overlay-provider-component="cockpit.processDefinition.diagram.overlay"\n             diagram-provider-component="cockpit.processDefinition.diagram.plugin"\n             action-provider-component="cockpit.processDefinition.diagram.action"\n             viewer="diagramViewer"></div>\n\n        <a class="hide-collapsable vertical-collapse"\n           title="{{ \'PROCESS_DEFINITION_SHOW_TABS\' | translate }}"></a>\n\n        <a class="maximize-collapsable vertical-collapse"\n           maximize-parent-direction="left"\n           title="{{ \'PROCESS_DEFINITION_MAXIMIZE_DIAGRAM\' | translate }}"></a>\n\n        <a class="restore-collapsable vertical-collapse"\n          maximize-parent-direction="left"\n          title="{{ \'PROCESS_DEFINITION_RESTORE_DEFAULT_SIZE\' | translate }}"></a>\n      </div>\n\n      \x3c!-- content bottom pane --\x3e\n      <div class="ctn-row ctn-content-bottom ctn-tabbed">\n        <a class="show-collapsable vertical-collapse"\n           title="{{ \'PROCESS_DEFINITION_HIDE_TABS\' | translate }}"></a>\n\n        <div ng-show="processDefinitionTabs.length">\n          <ul class="nav nav-tabs">\n            <li ng-class="{ active: selectedTab == tabProvider }"\n                ng-repeat="tabProvider in processDefinitionTabs">\n              <a href ng-click="selectTab(tabProvider)">{{ tabProvider.label | translate }}</a>\n            </li>\n          </ul>\n\n          <div class="ctn-tabbed-content ctn-scroll">\n            <view provider="selectedTab"\n                  vars="processDefinitionVars" />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\x3c!-- end .ctn-fixed-view --\x3e\n\x3c!-- / CE - camunda-cockpit-ui/client/scripts/pages/process-definition.html --\x3e\n',controller:l,authentication:"required",resolve:{processDefinition:["ResourceResolver","ProcessDefinitionResource",function(e,t){return e.getByRouteParam("id",{name:"process definition",resolve:function(e){return t.get({id:e})}})}]},reloadOnSearch:!1})}];s.config(c).config(["ViewsProvider",function(e){e.registerDefaultView("cockpit.processDefinition.view",{id:"runtime",priority:20,label:"BREAD_CRUMBS_RUNTIME",keepSearchParams:["parentProcessDefinitionId","businessKey","variables","startedAfter","startedBefore","viewbox"]})}]),t.exports=s},{"../../../../../camunda-commons-ui/lib":24,"../../../../../camunda-commons-ui/vendor/angular":74,"../../../../common/scripts/util/routeUtil":484,"../../../../common/scripts/util/search-widget-utils":485}],387:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular"),r=e("../../../../common/scripts/module"),a=e("../../../../common/scripts/util/routeUtil"),o=e("../../../../../camunda-commons-ui/lib"),s=i.module("cam.cockpit.pages.processInstance",[o.name,r.name,"dataDepend"]),l=["$scope","$filter","$rootScope","$location","search","ProcessDefinitionResource","ProcessInstanceResource","IncidentResource","Views","Data","Transform","processInstance","dataDepend","page","breadcrumbTrails","integrateActivityInstanceFilter","isModuleAvailable","$translate","camAPI",function(e,t,n,r,o,s,l,c,u,d,p,f,m,h,g,v,y,b,_){e.hasMigrationPlugin=y("cockpit.plugin.migration"),e.processInstance=f;var E=e.processData=m.create(e),x=e.pageData=m.create(e);function w(e,t){l.query({maxResults:1},{subProcessInstance:e.id}).$promise.then((function(e){var n=e[0];t(null,n)})).catch(i.noop)}e.diagramCollapsed=!0,e.onDiagramCollapseChange=function(t){e.$$phase?e.diagramCollapsed=t:e.$apply((function(){e.diagramCollapsed=t}))},e.hovered=null,e.hoverTitle=function(t){e.hovered=t||null},E.provide("processInstance",f),E.provide("processDefinition",["processInstance",function(e){return s.get({id:e.definitionId}).$promise}]),E.provide("bpmn20Xml",["processDefinition",function(e){return s.getBpmn20Xml({id:e.id}).$promise}]),E.provide("parsedBpmn20",["bpmn20Xml",function(e){return p.transformBpmn20Xml(e.bpmn20Xml)}]),E.provide("bpmnElements",["parsedBpmn20",function(e){return e.bpmnElements}]),E.provide("bpmnDefinition",["parsedBpmn20",function(e){return e.definitions}]),E.provide("activityInstances",["processInstance",function(e){return l.activityInstances({id:e.id}).$promise}]),E.provide(["activityInstanceTree","activityIdToInstancesMap","instanceIdToInstanceMap","activityIdToIncidentIdMap"],["activityInstances","processDefinition","bpmnElements",function(e,n,i){var r={},a={},o=i[n.key],s={};function l(e){var n=e.name;if(!n){var i=t("shorten");n=e.$type.substr(5)+" ("+i(e.id,8)+")"}return n}function c(e){e.forEach((function(e){var t=s[e.activityId]||[];t.push(e.id),s[e.activityId]=t}))}return e.name=l(o),a[e.id]=e,function e(t){var n=t.childActivityInstances;if(n&&n.length>0)for(var o,s=0;o=n[s];s++){var u=o.activityId,d=i[u],p=r[u]||[];o.name=d?l(d):u,o.isTransitionInstance=!1,r[u]=p,a[o.id]||(a[o.id]=o),c(o.incidents),p.push(o),e(o)}var f=t.childTransitionInstances;if(f&&f.length>0)for(var m,h=0;m=f[h];h++){var g=m.targetActivityId,v=i[g],y=r[g]||[];m.name=v?l(v):g,m.isTransitionInstance=!0,r[g]=y,a[m.id]||(a[m.id]=m),c(m.incidents),y.push(m)}}(e),[e,r,a,s]}]),E.provide("executionIdToInstanceMap",["instanceIdToInstanceMap",function(e){var t={};for(var n in e){var i=e[n],r=i.executionIds,a=i.executionId;if(r)for(var o,s=0;o=r[s];s++)t[o]=i;a&&(t[a]=i)}return t}]),E.provide("processDiagram",["bpmnDefinition","bpmnElements",function(e,t){var n={};return n.bpmnDefinition=e,n.bpmnElements=t,n}]),E.provide("latestDefinition",["processDefinition",function(e){var t={key:e.key,sortBy:"version",sortOrder:"desc",latestVersion:!0,maxResults:1};return e.tenantId?t.tenantIdIn=[e.tenantId]:t.withoutTenantId=!0,_.resource("process-definition").list(t)}]),v(e,i.noop,{shouldRemoveActivityIds:!0}),e.processDefinition=E.observe("processDefinition",(function(t){e.processDefinition=t})),e.latestProcessDefinition=E.observe("latestDefinition",(function(t){e.latestProcessDefinition=t.items[0]})),e.isLatestVersion=function(){return e.processDefinition.version===e.latestProcessDefinition.version},e.getMigrationUrl=function(){var t={sourceKey:e.processDefinition.key,targetKey:e.latestProcessDefinition.key,sourceVersion:e.processDefinition.version,targetVersion:e.latestProcessDefinition.version,searchQuery:JSON.stringify([{type:"processInstanceIds",operator:"eq",value:e.processInstance.id}])};return a.redirectTo("#/migration",t,["sourceKey","targetKey","sourceVersion","targetVersion","searchQuery"])},e.getDeploymentUrl=function(){var t=e.processDefinition.deploymentId,n={deployment:t,resourceName:e.processDefinition.resource,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:t}])};return a.redirectTo("#/repository",n,["deployment","resourceName","deploymentsQuery"])},E.provide("superProcessInstance",["processInstance",function(e){return l.query({maxResults:1},{subProcessInstance:e.id}).$promise}]),n.showBreadcrumbs=!0,E.observe(["processDefinition","processInstance","superProcessInstance"],(function(t,n,i){var r=[{label:b.instant("PROCESS_INSTANCE_PROCESSES"),href:"#/processes/"}];i.length&&(e.superProcessInstance=i[0],r.push((function(e){g(n,w,[],e,"runtime")}))),r.push({label:t.name||t.key||t.id,href:"#/process-definition/"+t.id+"/runtime",keepSearchParams:["viewbox"]});var a=u.getProviders({component:"cockpit.processInstance.view"});r.push({type:"processInstance",divider:":",label:n.name||n.key||n.id,href:"#/process-instance/"+n.id+"/runtime",processInstance:n,choices:a.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0})).map((function(e){return{active:"runtime"===e.id,label:e.label,href:"#/process-instance/"+n.id+"/"+e.id}}))}),h.breadcrumbsClear().breadcrumbsAdd(r),h.titleSet([e.processDefinition.name||e.processDefinition.id,b.instant("PROCESS_INSTANCE_INSTANCE_VIEW")].join(" | "))})),e.activityInstanceTree=E.observe("activityInstanceTree",(function(t){e.activityInstanceTree=t})),e.processDiagram=E.observe("processDiagram",(function(t){e.processDiagram=t})),E.observe(["instanceIdToInstanceMap","activityIdToInstancesMap"],(function(t,n){e.instanceIdToInstanceMap=t,e.activityIdToInstancesMap=n})),e.handleBpmnElementSelection=function(t,n){if(t){var r,a=n.ctrlKey,o=i.copy(e.filter.activityIds)||[],s=i.copy(e.filter.activityInstanceIds)||[],l=o.indexOf(t),c=i.copy(e.activityIdToInstancesMap[t])||[],u=e.activityIdToInstancesMap[t+"#multiInstanceBody"];u&&(Array.prototype.push.apply(c,u),-1===l&&(l=o.indexOf(t+"#multiInstanceBody"))),a?a&&(-1===l?(o.push(t),u&&o.push(t+"#multiInstanceBody"),i.forEach(c,(function(e){s.push(e.id)}))):-1!==l&&(o.splice(l,1),u&&o.splice(o.indexOf(t+"#multiInstanceBody"),1),i.forEach(c,(function(e){var t=e.id,n=s.indexOf(t);-1!==n&&s.splice(n,1)})))):(o=[t],u&&o.push(t+"#multiInstanceBody"),s=[],i.forEach(c,(function(e){s.push(e.id)}))),r={activityIds:o,activityInstanceIds:s},E.set("filter",r)}else E.set("filter",{})},e.handleActivityInstanceSelection=function(t,n,r){if(t){var a,o=r.ctrlKey,s=i.copy(e.filter.activityIds)||[],l=i.copy(e.filter.activityInstanceIds)||[],c=l.indexOf(t),u=e.activityIdToInstancesMap[n];if(o){if(o)if(-1===c){l.push(t),-1===s.indexOf(n)&&s.push(n)}else{l.splice(c,1);var d=!1;if(u)for(var p,f=0;p=u[f];f++){var m=p.id;-1!==l.indexOf(m)&&(d=!0)}if(!d){var h=s.indexOf(n);s.splice(h,1)}}}else s=[n],l=[t];a={activityIds:s,activityInstanceIds:l,scrollToBpmnElement:n},E.set("filter",a)}else E.set("filter",{})},e.orderChildrenBy=function(){return function(e){var t=e.id,n=t.indexOf(":");return-1!==n?t.substr(n+1,t.length):t}},e.$on("$routeChangeStart",(function(){h.breadcrumbsClear()})),e.processInstanceVars={read:["processInstance","processData","filter","pageData"]},e.processInstanceActions=u.getProviders({component:"cockpit.processInstance.runtime.action"}),d.instantiateProviders("cockpit.processInstance.data",{$scope:e,processData:E});var S=u.getProviders({component:"cockpit.processInstance.runtime.tab"}).concat(u.getProviders({component:"cockpit.processInstance.runtime.action"})).concat(u.getProviders({component:"cockpit.processInstance.view"})).concat(u.getProviders({component:"cockpit.processInstance.diagram.overlay"})),C={processInstance:f,processData:E,filter:e.filter,pageData:x};e.initData=C;for(var k=0;k<S.length;k++)"function"==typeof S[k].initialize&&S[k].initialize(C)}];s.controller("ProcessInstanceFilterController",["$scope","$translate",function(e,t){var n,i=e.processData.newChild(e);i.provide("filterData",["filter",function(e){if(n&&n.filter==e)return n;var t=e.activityIds||[],i=e.activityInstanceIds||[];return{filter:e,activityCount:t.length||0,activityInstanceCount:i.length||0}}]),i.observe(["filterData"],(function(t){e.filterData=n=t})),e.clearSelection=function(){n={activityCount:0,activityInstanceCount:0,filter:{}},i.set("filter",n.filter)},e.getDataWhen=function(){return{null:t.instant("PAGES_PROCESS_INSTANCES_NOTHING"),0:t.instant("PAGES_PROCESS_INSTANCES_NOTHING"),one:t.instant("PAGES_PROCESS_INSTANCES_ONE_SELECT"),other:t.instant("PAGES_PROCESS_INSTANCES_OTHER_SELECT")}},e.sidebarTab="info"}]);var c=["$routeProvider",function(e){e.when("/process-instance/:id",{redirectTo:a.redirectToRuntime,reloadOnSearch:!1}),e.when("/process-instance/:id/runtime",{template:'\x3c!-- # CE - camunda-cockpit-ui/client/scripts/pages/process-instance.html --\x3e\n<div class="ctn-fixed-view">\n  <div class="ctn-content-container"\n       ctn-collapsable-parent="sidebar">\n\n    \x3c!-- toolbar --\x3e\n    <div class="ctn-toolbar">\n\n      \x3c!-- Toolbar actions are provided by plugins --\x3e\n      <span ng-repeat="tabProvider in processInstanceActions">\n        <view provider="tabProvider"\n              vars="processInstanceVars" />\n      </span>\n\n    </div>\n\n    \x3c!-- sidebar --\x3e\n    <div class="ctn-column ctn-sidebar ctn-scroll"\n         ctn-collapsable="left"\n         ng-controller="ProcessInstanceFilterController">\n\n      <ul class="nav nav-tabs">\n        <li ng-class="{active: sidebarTab === \'info\'}">\n          <a ng-click="sidebarTab = \'info\'">{{ \'PROCESS_INSTANCE_INFORMATION\' | translate }}</a>\n        </li>\n        <li ng-class="{active: sidebarTab === \'filters\'}">\n          <a ng-click="sidebarTab = \'filters\'">{{ \'PROCESS_INSTANCE_FILTER\' | translate }}</a>\n        </li>\n      </ul>\n\n      <div class="tab-content"\n           ng-if="sidebarTab === \'info\'">\n        <dl class="process-information">\n          <dt cam-widget-clipboard="processInstance.id"\n              ng-class="{hovered: hovered === \'instance-id\'}">\n            <span uib-tooltip="{{ \'PROCESS_INSTANCE_TOOLTIP_INSTANCE_ID_DATABASE\' | translate }}">{{ \'PROCESS_INSTANCE_INSTANCE_ID\' | translate }}</span>\n          </dt>\n          <dd class="instance-id"\n              ng-mouseenter="hoverTitle(\'instance-id\')"\n              ng-mouseleave="hoverTitle()">\n            {{ processInstance.id }}\n          </dd>\n\n          <dt cam-widget-clipboard="processInstance.businessKey"\n              ng-class="{hovered: hovered === \'business-key\'}"\n              ng-if="processInstance.businessKey">\n            <span uib-tooltip="{{ \'PROCESS_INSTANCE_TOOLTIP_BUSINESS_KEY\' | translate }}">{{ \'PROCESS_INSTANCE_BUSINESS_KEY\' | translate }}</span>\n          </dt>\n          <dd ng-if="processInstance.businessKey"\n              class="business-key"\n              ng-mouseenter="hoverTitle(\'business-key\')"\n              ng-mouseleave="hoverTitle()">\n            {{ processInstance.businessKey }}\n          </dd>\n          <dt ng-if="!processInstance.businessKey">\n            <span uib-tooltip="{{ \'PROCESS_INSTANCE_TOOLTIP_BUSINESS_KEY\' | translate }}">{{ \'PROCESS_INSTANCE_BUSINESS_KEY\' | translate }}</span>\n          </dt>\n          <dd ng-if="!processInstance.businessKey"\n              class="business-key"><span class="null-value">{{ \'PROCESS_INSTANCE_NULL\' | translate }}</span></dd>\n\n          <dt>{{ \'PROCESS_INSTANCE_DEFINITION_VERSION\' | translate }}</dt>\n          <dd class="definition-version">\n            {{ processDefinition.version }}\n            <a ng-href="{{ getMigrationUrl() }}"\n               class="instance-upgrade-link"\n               ng-if="hasMigrationPlugin && !isLatestVersion()">\n              <span class="glyphicon glyphicon-arrow-up"\n                    uib-tooltip="{{ \'PROCESS_INSTANCE_TOOLTIP_MIGRATE_INSTANCE\' | translate }}"\n                    tooltip-placement="right"></span>\n            </a>\n          </dd>\n\n          <dt cam-widget-clipboard="processDefinition.id"\n              ng-class="{hovered: hovered === \'definition-id\'}">{{ \'PROCESS_INSTANCE_DEFINITION_ID\' | translate }}</dt>\n          <dd class="definition-id"\n              ng-mouseenter="hoverTitle(\'definition-id\')"\n              ng-mouseleave="hoverTitle()">\n            <a ng-href="#/process-definition/{{ processDefinition.id }}/runtime">{{ processDefinition.id }}</a>\n          </dd>\n\n          <dt cam-widget-clipboard="processDefinition.key"\n              ng-class="{hovered: hovered === \'definition-key\'}">{{ \'PROCESS_INSTANCE_DEFINITION_KEY\' | translate }}</dt>\n          <dd class="definition-key"\n              ng-mouseenter="hoverTitle(\'definition-key\')"\n              ng-mouseleave="hoverTitle()">{{ processDefinition.key }}</dd>\n\n          <dt>{{ \'PROCESS_INSTANCE_DEFINITION_NAME\' | translate }}</dt>\n          <dd class="definition-name">{{ processDefinition.name }}</dd>\n\n          <dt ng-if="processInstance.tenantId"\n              ng-class="{hovered: hovered === \'tenant-id\'}"\n              cam-widget-clipboard="processInstance.tenantId">{{ \'PROCESS_INSTANCE_TENANT_ID\' | translate }}</dt>\n          <dd class="tenant-id"\n              ng-if="processInstance.tenantId"\n              ng-mouseenter="hoverTitle(\'tenant-id\')"\n              ng-mouseleave="hoverTitle()">{{ processInstance.tenantId }}</dd>\n          <dt ng-if="!processInstance.tenantId">{{ \'PROCESS_INSTANCE_TENANT_ID\' | translate }}</dt>\n          <dd class="tenant-id"\n              ng-if="!processInstance.tenantId"><span class="null-value">{{ \'PROCESS_INSTANCE_NULL\' | translate }}</span></dd>\n\n          <dt cam-widget-clipboard="processDefinition.deploymentId"\n              ng-class="{hovered: hovered === \'deployment-id\'}">{{ \'PROCESS_INSTANCE_DEPLOYMENT_ID\' | translate }}</dt>\n          <dd class="deployment-id"\n              ng-mouseenter="hoverTitle(\'deployment-id\')"\n              ng-mouseleave="hoverTitle()">\n            <a ng-href="{{ getDeploymentUrl() }}">{{ processDefinition.deploymentId }}</a>\n          </dd>\n\n          <dt ng-if="superProcessInstance"\n              cam-widget-clipboard="superProcessInstance.id"\n              ng-class="{hovered: hovered === \'super-process-instance-id\'}">{{ \'PROCESS_INSTANCE_SUPER_PROCESS_INSTANCE_ID\' | translate }}</dt>\n          <dd class="super-process-instance-id"\n              ng-if="superProcessInstance.id"\n              ng-mouseenter="hoverTitle(\'super-process-instance-id\')"\n              ng-mouseleave="hoverTitle()">\n            <a ng-href="#/process-instance/{{superProcessInstance.id}}">{{ superProcessInstance.id }}</a>\n          </dd>\n          <dt ng-if="!superProcessInstance">{{ \'PROCESS_INSTANCE_SUPER_PROCESS_INSTANCE_ID\' | translate }}</dt>\n          <dd class="super-process-instance-id"\n              ng-if="!superProcessInstance">\n            <span class="null-value">null</span>\n          </dd>\n\n          <dt ng-if="hasMigrationPlugin">{{ \'PROCESS_INSTANCE_RELATED\' | translate }}</dt>\n          <dd ng-if="hasMigrationPlugin">\n            <ul>\n              <li>\n                <a ng-href="#/migration?searchQuery=%5B%5D&sourceKey={{ processDefinition.key }}">{{ \'PROCESS_INSTANCE_MIGRATION\' | translate }}</a>\n              </li>\n            </ul>\n          </dd>\n\n        </dl>\n      </div>\n\n      <div class="tab-content filters"\n           ng-if="sidebarTab === \'filters\'">\n        <h5>\n          {{ \'PROCESS_INSTANCE_FILTER\' | translate }}\n          <span class="glyphicon glyphicon-info-sign"\n                uib-tooltip="{{ \'PROCESS_INSTANCE_TOOLTIP_ACTIVITY_INSTANCE_TREE\' | translate }}"></span>\n        </h5>\n\n        <div cam-quick-filter\n             name-filter\n             holder-selector=".instance-tree"\n             label-selector=".tree-node-label"\n             item-selector=".tree-node-group">\n        </div>\n\n        <div class="filter-selection">\n          <button class="btn btn-link btn-xs btn-control"\n                  ng-show="filterData.activityInstanceCount"\n                  ng-click="clearSelection()">\n            <span class="glyphicon glyphicon-remove"></span>\n          </button>\n\n          <ng-pluralize count="filterData.activityInstanceCount"\n                        when="getDataWhen()">\n          </ng-pluralize>\n        </div>\n\n\n        <div class="filter instance-tree">\n          <div activity-instance-tree="activityInstanceTree"\n               selection="filter"\n               on-element-click="handleActivityInstanceSelection(id, activityId, $event)"\n               order-children-by="orderChildrenBy()">\n          </div>\n        </div>\n      </div>\n\n      <a class="hide-collapsable pull-right"></a>\n    </div>\n\n    <div class="ctn-column ctn-content"\n         ctn-collapsable-parent="tabs">\n\n      \x3c!-- content top pane --\x3e\n      <div class="ctn-row ctn-content-top"\n           is-sidebar-collapsed="onDiagramCollapseChange(collapsed)"\n           ctn-collapsable="top">\n        <div process-diagram="processDiagram"\n             key="{{processInstance.definitionId}}"\n             on-element-click="handleBpmnElementSelection(id, $event)"\n             selection="filter"\n             process-data="processData"\n             page-data="pageData"\n             collapsed="diagramCollapsed"\n             diagram-provider-component="cockpit.processInstance.diagram.plugin"\n             overlay-provider-component="cockpit.processInstance.diagram.overlay"></div>\n\n        <a class="hide-collapsable vertical-collapse"\n           title="{{ \'PROCESS_INSTANCE_SHOW_TABS\' | translate }}"></a>\n\n        <a class="maximize-collapsable vertical-collapse"\n           maximize-parent-direction="left"\n           title="{{ \'PROCESS_INSTANCE_MAXIMIZE_DIAGRAM\' | translate }}"></a>\n\n        <a class="restore-collapsable vertical-collapse"\n           maximize-parent-direction="left"\n           title="{{ \'PROCESS_INSTANCE_RESTORE_DEFAULT_SIZE\' | translate }}"></a>\n      </div>\n\n      \x3c!-- content bottom pane --\x3e\n      <div class="ctn-row ctn-content-bottom ctn-tabbed">\n        <a class="show-collapsable vertical-collapse"\n           title="{{ \'PROCESS_INSTANCE_HIDE_TABS\' | translate }}"></a>\n        <div cam-tabs="{component: \'cockpit.processInstance.runtime.tab\'}"\n             providers="tabs"\n             vars="processInstanceVars"\n             vars-values="initData">\n        </div>\n      </div>\n\n      <a class="show-collapsable"></a>\n    </div>\n  </div>\n\n</div>\x3c!-- end .ctn-fixed-view --\x3e\n\x3c!-- / CE - camunda-cockpit-ui/client/scripts/pages/process-instance.html --\x3e\n',controller:l,authentication:"required",resolve:{processInstance:["ResourceResolver","ProcessInstanceResource","Uri","Views","Notifications","$route","$http","$location","$translate",function(e,t,n,i,r,a,o,s,l){return e.getByRouteParam("id",{name:l.instant("PROCESS_INSTANCE_RUNNING_PROCESS_INSTANCE"),resolve:function(e){return t.get({id:e})},redirectTo:function(){var e=a.current.params.id;o.get(n.appUri("engine://engine/:engine/history/process-instance/")+e).then((function(t){var n,a,o=l.instant("PROCESS_INSTANCE_STATUS_UNABLE_DISPLAY_RUNNING_INSTANCE"),c=l.instant("PROCESS_INSTANCE_MESSAGE_2",{id:e});i.getProvider({id:"history",component:"cockpit.processInstance.view"})?(a=s.search(),n="/process-instance/"+e+"/history",c+=l.instant("PROCESS_INSTANCE_MESSAGE_3")):(n="/process-definition/"+t.data.processDefinitionId,c+=l.instant("PROCESS_INSTANCE_MESSAGE_4")),s.path(n),s.search(a||{}),s.replace(),r.addMessage({status:o,message:c,http:!0,exclusive:["http"],duration:5e3})})).catch((function(){s.path("/dashboard"),s.search({}),s.replace(),r.addError({status:l.instant("PROCESS_INSTANCE_STATUS_FAILED_RUNNING_PROCESS"),message:l.instant("PROCESS_INSTANCE_MESSAGE_5",{id:e}),http:!0,exclusive:["http"]})}))}})}]},reloadOnSearch:!1})}];s.config(c).config(["ViewsProvider",function(e){e.registerDefaultView("cockpit.processInstance.view",{id:"runtime",priority:20,label:"BREAD_CRUMBS_RUNTIME",keepSearchParams:["viewbox"]})}]),t.exports=s},{"../../../../../camunda-commons-ui/lib":24,"../../../../../camunda-commons-ui/vendor/angular":74,"../../../../common/scripts/module":456,"../../../../common/scripts/util/routeUtil":484}],388:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular"),r=["$scope","$location","$timeout","Views","Data","dataDepend","page","$translate",function(e,t,n,r,a,o,s,l){var c=e.$root,u=e.processData=o.create(e);e.dashboardVars={read:["processData"]},e.dashboardProviders=r.getProviders({component:"cockpit.processes.dashboard"}),a.instantiateProviders("cockpit.dashboard.data",{$scope:e,processData:u});for(var d=r.getProviders({component:"cockpit.processes.dashboard"}),p={$scope:e,processData:u},f=0;f<d.length;f++)"function"==typeof d[f].initialize&&d[f].initialize(p);var m=t.search();m.targetPlugin&&n((function(){var e=i.element('[data-plugin-id="'+m.targetPlugin+'"]');e.length&&e[0].scrollIntoView()})),c.showBreadcrumbs=!0,s.breadcrumbsClear(),s.breadcrumbsAdd({label:l.instant("PROCESS_PROCESSES")}),s.titleSet(l.instant("PROCESS_PROCESSES"))}],a=["$routeProvider",function(e){e.when("/processes",{template:'\x3c!-- # CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html --\x3e\n<div class="ctn-view cockpit-section-dashboard processes-dashboard">\n  <view ng-repeat="dashboardProvider in dashboardProviders"\n        class="dashboard-view"\n        data-plugin-id="{{ dashboardProvider.id }}"\n        vars="dashboardVars"\n        provider="dashboardProvider"></view>\n</div>\x3c!-- end .ctn-view --\x3e\n\x3c!-- / CE - camunda-cockpit-ui/client/scripts/pages/dashboard.html --\x3e\n',controller:r,authentication:"required",reloadOnSearch:!1})}];t.exports=a},{"../../../../../camunda-commons-ui/vendor/angular":74}],389:[function(e,t,n){"use strict";var i=["$scope","Views","page","$translate",function(e,t,n,i){e.$root.showBreadcrumbs=!0,n.breadcrumbsClear(),n.breadcrumbsAdd({label:i.instant("TASKS_HUMAN_TASKS")}),n.titleSet(i.instant("TASKS_HUMAN_TASKS")),e.plugins=t.getProviders({component:"cockpit.tasks.dashboard"})}],r=["$routeProvider",function(e){e.when("/tasks",{template:'\x3c!-- # CE - camunda-cockpit-ui/client/scripts/pages/tasks.html --\x3e\n<div class="ctn-view cockpit-section-dashboard tasks-dashboard">\n  <view ng-repeat="plugin in plugins"\n        class="dashboard-view"\n        data-plugin-id="{{ plugin.id }}"\n        provider="plugin"></view>\n</div>\x3c!-- end .ctn-view --\x3e\n\x3c!-- / CE - camunda-cockpit-ui/client/scripts/pages/tasks.html --\x3e\n',controller:i,authentication:"required",reloadOnSearch:!1})}];t.exports=r},{}],390:[function(e,t,n){"use strict";var i=e("../../../../../../camunda-commons-ui/vendor/angular").extend,r=["$scope","$route","page","dataDepend","Views","$translate",function(e,t,n,r,a,o){function s(e){var t=i({},e||{},{component:"cockpit.report"});return a.getProviders(t)}e.selectedReportId=((t.current||{}).params||{}).reportType||null;var l=function(t){if(t&&e.selectedReportId)return e.selectedReportId?(s({id:e.selectedReportId})||[])[0]:void 0};if(e.$root.showBreadcrumbs=!0,n.breadcrumbsClear(),e.selectedReportId){var c=s({id:e.selectedReportId});e.pluginLabel=c[0].label,c.length&&(n.breadcrumbsAdd([{label:o.instant("REPORTS_VIEW_BREAD_CRUMB"),href:"#/reports"},{label:c[0].label}]),n.titleSet(o.instant("REPORTS_VIEW_TITLE_SET",{name:o.instant(c[0].label)})))}else n.breadcrumbsAdd({label:o.instant("REPORTS_VIEW_BREAD_CRUMB")}),n.titleSet(o.instant("REPORTS_VIEW_BREAD_CRUMB"));var u=e.reportData=r.create(e),d=s(),p=l(d);u.provide("plugins",d),u.provide("plugin",p),e.getPluginProviders=s,e.$on("$routeChanged",(function(){var e=l(d);u.set("plugin",e)})),e.reportTitle=((e.getPluginProviders()||[])[0]||{}).label||null}],a=["$routeProvider",function(e){e.when("/reports/:reportType?",{template:'\x3c!-- # CE - camunda-cockpit-ui/client/scripts/reports/controllers/reports-view.html --\x3e\n<div class="reports-wrapper">\n  <div class="container-fluid">\n    <div class="reports-type-wrapper"\n         ng-class="{dashboard: !selectedReportId}"\n         cam-reports-type\n         report-data="reportData"\n         get-plugin-providers="getPluginProviders"\n         ng-if="!selectedReportId">\n    </div>\n\n    <h3 ng-if="selectedReportId">{{ pluginLabel | translate }}</h3>\n\n    <div class="reports-plugin-wrapper"\n         cam-reports-plugin\n         report-data="reportData">\n    </div>\n  </div>\n</div>\n\x3c!-- / CE - camunda-cockpit-ui/client/scripts/reports/controllers/reports-view.html --\x3e\n',controller:r,authentication:"required",reloadOnSearch:!1})}];t.exports=a},{"../../../../../../camunda-commons-ui/vendor/angular":74}],391:[function(e,t,n){"use strict";t.exports=[function(){return{restrict:"A",scope:{reportData:"="},template:'\x3c!-- # CE - camunda-bpm-webapp/ui/cockpit/client/scripts/reports/directives/reports-plugin.html --\x3e\n<view ng-if="plugin"\n      provider="plugin"\n      vars="reportPluginVars" />\n\x3c!-- / CE - camunda-bpm-webapp/ui/cockpit/client/scripts/reports/directives/reports-plugin.html --\x3e\n',controller:["$scope",function(e){(e.reportPluginData=e.reportData.newChild(e)).observe("plugin",(function(t){e.plugin=t})),e.reportPluginVars={read:["reportPluginData"]}}]}}]},{}],392:[function(e,t,n){"use strict";t.exports=[function(){return{restrict:"A",scope:{reportData:"=",getPluginProviders:"&"},template:'\x3c!-- # CE - camunda-cockpit-ui/client/scripts/reports/directives/reports-type.html --\x3e\n<section class="col-xs-12">\n  <div class="inner">\n    <header>\n      <h1 class="section-title">{{ \'REPORTS_TYPE_AVAILABLE_REPORTS\' | translate }}</h1>\n    </header>\n\n    <div class="reports-type-selection">\n      <div ng-if="!plugins || !(plugins.length > 0)"\n           class="well no-reports-available">\n        <span class="glyphicon glyphicon-info-sign"></span>\n        {{ \'REPORTS_TYPE_NO_AVAILABLE_REPORTS\' | translate }}\n      </div>\n\n      <ul ng-if="plugins">\n        <li ng-repeat="provider in plugins">\n          <a ng-class="{active: selection.type === provider.id}"\n             ng-href="#/reports/{{ provider.id }}">{{ provider.label | translate }}</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</section>\n\x3c!-- / CE - camunda-cockpit-ui/client/scripts/reports/directives/reports-type.html --\x3e\n',controller:["$scope","$route",function(e,t){var n=e.getPluginProviders(),i=e.reportsTypeData=e.reportData.newChild(e);if(i.observe("plugin",(function(t){e.plugin=t,e.selection={type:(t||{}).id}})),i.observe("plugins",(function(t){e.plugins=t})),t.current.params.reportType){var r=(n({id:t.current.params.reportType})||[])[0];i.set("plugin",r)}}]}}]},{}],393:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular"),r=e("./controllers/reports-view-ctrl"),a=e("./directives/reports-plugin"),o=e("./directives/reports-type"),s=i.module("cam.cockpit.reports",[]);s.config(r),s.directive("camReportsPlugin",a),s.directive("camReportsType",o),t.exports=s},{"../../../../../camunda-commons-ui/vendor/angular":74,"./controllers/reports-view-ctrl":390,"./directives/reports-plugin":391,"./directives/reports-type":392}],394:[function(e,t,n){"use strict";t.exports=["$routeProvider",function(e){e.when("/repository",{template:'\x3c!-- # cockpit client/scripts/repository/controllers/cam-cockpit-repository-view.html --\x3e\n<div cam-repository\n     class="three-cols-layout">\n  <div class="three-cols-layout-columns">\n\n      \x3c!-- # deployment-list column --\x3e\n    <section class="column column-left deployments"\n             ng-controller="camDeploymentsCtrl">\n\n      <header class="three-cols-layout-cell top">\n        <div cam-deployments-sorting-choices\n             deployments-data="deploymentsData"></div>\n\n        <div cam-deploy="onDeployed()"></div>\n      </header>\n\n      <div class="three-cols-layout-cell content">\n\n        <view ng-repeat="deploymentsPlugin in deploymentsPlugins"\n              provider="deploymentsPlugin"\n              class="deployment-plugins"\n              vars="deploymentsVars"></view>\n\n        <div cam-deployments\n            deployments-data="deploymentsData"\n            deployments="control.deployments"></div>\n      </div>\n\n    </section>\n    \x3c!-- / deployment-list column --\x3e\n\n    \x3c!-- # resource-list column --\x3e\n    <section class="column column-center resources">\n\n      <header class="three-cols-layout-cell top">\n      </header>\n\n      <div class="three-cols-layout-cell content"\n           cam-resources\n           repository-data="repositoryData">\n      </div>\n\n    </section>\n    \x3c!-- / resource-list column --\x3e\n\n\n\n    \x3c!-- # resource-details column --\x3e\n    <section class="column column-right resource-details"\n             ng-controller="camResourceDetailsCtrl">\n\n      <header class="three-cols-layout-cell top">\n        <div class="resource-actions"\n             ng-if="resource"\n             ng-repeat="resourceAction in resourceActions">\n          <view provider="resourceAction" vars="resourceVars">\n        </div>\n      </header>\n\n      <div class="three-cols-layout-cell content"\n           cam-resource-wrapper\n           resource-details-data="resourceDetailsData"\n           control="control">\n      </div>\n\n    </section>\n    \x3c!-- # resource-details column --\x3e\n\n  </div>\n</div>\n\x3c!-- / cockpit client/scripts/repository/controllers/cam-cockpit-repository-view.html --\x3e\n',controller:"camCockpitRepositoryViewCtrl",authentication:"required",reloadOnSearch:!1})}]},{}],395:[function(e,t,n){"use strict";var i=e("../../../../../../camunda-commons-ui/vendor/angular");t.exports=["$scope","$q","$location","$timeout","$rootScope","search","dataDepend","page","camAPI","$translate",function(e,t,n,r,a,o,s,l,c,u){var d=c.resource("deployment");e.$root.showBreadcrumbs=!1,e.control={deployments:[]},l.breadcrumbsClear(),l.breadcrumbsAdd({label:u.instant("REPOSITORY_CONTROLLER_CAM_BREAD_CRUMB")}),l.titleSet(u.instant("REPOSITORY_CONTROLLER_CAM_TITLE_SET"));var p=function(e){o.updateSilently(e)},f=function(e){return(n.search()||{})[e]||null},m=e.repositoryData=s.create(e),h=f("deploymentsSortBy"),g=f("deploymentsSortOrder"),v=f("deployment"),y=f("resource"),b=f("resourceName");m.provide("deploymentsSorting",(function(){return h=f("deploymentsSortBy"),g=f("deploymentsSortOrder"),{sortBy:h||"deploymentTime",sortOrder:g||"desc"}})),m.provide("deployments",[]),e.$watch("control.deployments",(function(e){m.set("deployments",e)})),m.provide("currentDeployment",["deployments",function(e){var t;e=e||[];for(var r,a=f("deployment"),o=0;r=e[o];o++){if(a===r.id){t=r;break}t||(t=r)}return t?(v=t.id,t.id!==a&&(p({deployment:t.id,resource:null,viewbox:null}),n.replace())):(p({deployment:null,resource:null,viewbox:null}),n.replace()),i.copy(t)}]),m.provide("resources",["currentDeployment",function(e){var n=t.defer();return e&&null!==e.id?d.getResources(e.id,(function(e,t){e?n.reject(e):n.resolve(t)})):n.resolve(null),n.promise}]),m.provide("resourceId",["resources",function(e){if(y=f("resource"),b=f("resourceName"),y)return{resourceId:y};if(b){e=e||[];for(var t,n=0;t=e[n];n++)if(t.name===b)return{resourceId:t.id}}return{resourceId:null}}]),m.provide("resource",["resourceId","currentDeployment",function(e,n){var i=t.defer();return"string"!=typeof(e=e.resourceId)?i.resolve(null):n&&null!==n.id?d.getResource(n.id,e,(function(e,t){e?i.reject(e):i.resolve(t)})):i.resolve(null),i.promise}]),e.onDeployed=function(){a.$broadcast("cam-common:cam-searchable:query-force-change")},e.$on("$routeChanged",(function(){var e=h,t=g,n=v,i=y,r=b;h=f("deploymentsSortBy"),g=f("deploymentsSortOrder"),v=f("deployment"),y=f("resource"),b=f("resourceName"),h&&e!==h||g&&t!==g?m.changed("deploymentsSorting"):v&&n!==v?m.changed("currentDeployment"):(y&&i!==y||b&&r!==b)&&m.changed("resourceId")}))}]},{"../../../../../../camunda-commons-ui/vendor/angular":74}],396:[function(e,t,n){"use strict";t.exports=["$scope","Views",function(e,t){e.deploymentsData=e.repositoryData.newChild(e),e.deploymentsVars={read:["deploymentsData","totalDeployments"]},e.deploymentsPlugins=t.getProviders({component:"cockpit.repository.deployments.list"})}]},{}],397:[function(e,t,n){"use strict";t.exports=[function(){return{restrict:"A",scope:{deploymentsListData:"=",deployment:"=",control:"="},template:'<div class="actions">\n  <view ng-repeat="deploymentPlugin in deploymentPlugins"\n        provider="deploymentPlugin"\n        vars="deploymentVars" />\n</div>\n\n<h4 class="name">{{ deployment.name || deployment.id }}</h4>\n\n<dl>\n  <dt>{{ \'REPOSITORY_DEPLOYMENTS_TIME\' | translate }}</dt>\n  <dd class="time">{{ deployment.deploymentTime | camDate:\'normal\' }}</dd>\n\n  <dt>{{ \'REPOSITORY_DEPLOYMENTS_SOURCE\' | translate }}</dt>\n  <dd class="source"\n      ng-if="deployment.source">{{ deployment.source }}</dd>\n  <dd class="source undefined"\n      ng-if="!deployment.source"><span class="null-value">{{ \'REPOSITORY_DEPLOYMENTS_NULL\' | translate }}</span>\n\n  <dt>{{ \'REPOSITORY_DEPLOYMENTS_TENANT_ID\' | translate }}</dt>\n  <dd class="tenant-id"\n      ng-if="deployment.tenantId">{{ deployment.tenantId }}</dd>\n  <dd class="tenant-id"\n      ng-if="!deployment.tenantId"><span class="null-value">{{ \'REPOSITORY_DEPLOYMENTS_NULL\' | translate }}</span></dd>\n\n</dl>\n',controller:["$scope","Views",function(e,t){e.deploymentData=e.deploymentsListData.newChild(e),e.deploymentVars={read:["deploymentData","deployment","control"]},e.deploymentPlugins=t.getProviders({component:"cockpit.repository.deployment.action"})}]}}]},{}],398:[function(e,t,n){"use strict";var i=e("../../../../../../../camunda-commons-ui/vendor/angular");t.exports=["$translate",function(e){return{restrict:"A",scope:{deploymentsData:"="},template:'\x3c!-- # cockpit client/scripts/repository/deployments/directives/cam-cockpit-deployments-sorting-choices.html --\x3e\n<div uib-dropdown class="dropdown">\n\n  <a href\n     uib-dropdown-toggle\n     tabindex="-1"\n     role="button"\n     class="dropdown-toggle">\n    <span class="hidden-xs hidden-sm hidden-md"></span>\n    <span class="sort-by">{{ byLabel(sorting.sortBy) }}</span>\n  </a>\n\n  <a href\n     tabindex="-1"\n     uib-tooltip="{{ (sorting.sortOrder === \'desc\' ? \'REPOSITORY_DEPLOYMENTS_TOOLTIP_SORT_DESC\' : \'REPOSITORY_DEPLOYMENTS_TOOLTIP_SORT_ASC\' | translate) }}"\n     class="glyphicon sort-direction"\n     ng-class="sorting.sortOrder === \'asc\' ? \'glyphicon-menu-up\' : \'glyphicon-menu-down\'"\n     ng-click="changeOrder()"></a>\n\n  <ul uib-dropdown-menu class="dropdown-menu"\n      role="menu">\n\n    <li ng-show="sorting.sortBy !== id"\n        ng-repeat="(id, name) in uniqueProps">\n      <a href\n         tabindex="-1"\n         class="sort-by-choice"\n         ng-click="changeBy(id)">{{ name }}</a>\n    </li>\n\n  </ul>\n\n</div>\n\x3c!-- / cockpit client/scripts/repository/deployments/directives/cam-cockpit-deployments-sorting-choices.html --\x3e\n',controller:["$scope","search",function(t,n){var r=t.deploymentsSortingData=t.deploymentsData.newChild(t),a=t.uniqueProps={id:e.instant("REPOSITORY_DEPLOYMENTS_ID"),name:e.instant("REPOSITORY_DEPLOYMENTS_NAME"),deploymentTime:e.instant("REPOSITORY_DEPLOYMENTS_DEPLOYMENT_TIME")},o=function(e){n.updateSilently(e)},s=function(e,t){var n={};n[e]=t,o(n),r.changed("deploymentsSorting")};r.observe("deploymentsSorting",(function(e){t.sorting=i.copy(e)})),t.byLabel=function(e){return a[e]},t.changeOrder=function(){var e="asc"===t.sorting.sortOrder?"desc":"asc";s("deploymentsSortOrder",e)},t.changeBy=function(e){s("deploymentsSortBy",e)}}]}}]},{"../../../../../../../camunda-commons-ui/vendor/angular":74}],399:[function(e,t,n){"use strict";var i=e("../../../../../../../camunda-commons-ui/vendor/lodash"),r=(0,e("camunda-bpm-sdk-js").utils.debouncePromiseFactory)();t.exports=[function(){return{restrict:"A",scope:{deploymentsData:"=",totalItems:"=",deployments:"="},template:'\x3c!-- # cockpit client/scripts/repository/deployments/directives/cam-cockpit-deployments.html --\x3e\n<div cam-searchable-area\n     config="searchConfig"\n     on-search-change="onSearchChange(query, pages)"\n     loading-state="loadingState"\n     search-id="deployments"\n     loading-error="{{ \'REPOSITORY_DEPLOYMENTS_LOADING_LEGEND\' | translate }}"\n     text-empty="{{ \'REPOSITORY_DEPLOYMENTS_NO_DEPLOYMENTS_AVAILABLE\' | translate}}"\n     storage-group="\'DEP\'">\n  <div class="wrapper">\n    <ul class="deployments">\n      <li ng-repeat="(delta, deployment) in deployments"\n          ng-class="{active: isFocused(deployment), deployment: true}"\n          ng-style="{\'z-index\': ((deployments.length + 10) - delta) }"\n          ng-click="focus(deployment)">\n\n        <div cam-deployment\n             deployment="deployment"\n             deployments-list-data="deploymentsListData"\n             control="control">\n        </div>\n      </li>\n    </ul>\n  </div>\n</div>\n\x3c!-- / cockpit client/scripts/repository/deployments/directives/cam-cockpit-deployments.html --\x3e\n',controller:["$scope","$location","$rootScope","search","Notifications","camAPI",function(e,t,n,a,o,s){var l=s.resource("deployment"),c=e.deploymentsListData=e.deploymentsData.newChild(e);e.searchConfig=JSON.parse('{\n  "types": [\n    {\n      "id": {\n        "key": "id",\n        "value": "REPOSITORY_SEARCH_TYPE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "name",\n        "value": "REPOSITORY_SEARCH_TYPE_NAME"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "Like",\n          "value": "REPOSITORY_SEARCH_TYPE_OPERATOR_LIKE"\n        }\n      ],\n      "default": true\n    },\n    {\n      "id": {\n        "key": "deploymentTime",\n        "value": "REPOSITORY_SEARCH_TYPE_TIME"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "REPOSITORY_SEARCH_TYPE_BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "REPOSITORY_SEARCH_TYPE_AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },\n    {\n      "id": {\n        "key": "source",\n        "value": "REPOSITORY_SEARCH_TYPE_SOURCE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "withoutSource",\n        "value": "REPOSITORY_SEARCH_TYPE_SOURCE_UNDEFINED"\n      },\n      "basic": true\n    },\n    {\n      "id": {\n        "key": "tenantIdIn",\n        "value": "REPOSITORY_SEARCH_TYPE_TENANT_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },\n    {\n      "id": {\n        "key": "withoutTenantId",\n        "value": "REPOSITORY_SEARCH_TYPE_WITHOUT_TENANT_ID"\n      },\n      "basic": true\n    }\n  ],\n  "operators": {\n    "undefined":  [\n      {\n        "key": "eq",\n        "value": "="\n      }\n    ],\n    "string":     [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "like",\n        "value": "REPOSITORY_SEARCH_TYPE_OPERATOR_LIKE"\n      }\n    ],\n    "date":       [\n      {\n        "key": "lteq",\n        "value": "REPOSITORY_SEARCH_TYPE_BEFORE"\n      },\n      {\n        "key": "gteq",\n        "value": "REPOSITORY_SEARCH_TYPE_AFTER"\n      }\n    ]\n  },\n  "tooltips": {\n    "inputPlaceholder": "REPOSITORY_SEARCH_ADD_CRITERIA",\n    "invalid": "REPOSITORY_SEARCH_INVALID",\n    "deleteSearch": "REPOSITORY_SEARCH_DELETE_SEARCH",\n    "type": "REPOSITORY_SEARCH_TYPE",\n    "name": "REPOSITORY_SEARCH_NAME",\n    "operator": "REPOSITORY_SEARCH_OPERATOR",\n    "value": "REPOSITORY_SEARCH_VALUE"\n  }\n}\n'),e.loadingState="INITIAL",(e.control={}).addMessage=function(t,n,i){o.addMessage({status:t,message:n,scope:e,unsafe:i})},e.onSearchChange=function(t,n){e.loadingState="LOADING";var a={firstResult:(n.current-1)*n.size,maxResults:n.size};return r(l.list(i.assign(t,a,e.deploymentsSorting))).then((function(t){e.deployments=t.items;var n=e.$root.$$phase;return"$apply"!==n&&"$digest"!==n&&e.$apply((function(){e.loadingState="LOADED"})),t.count})).catch((function(){var t=e.$root.$$phase;"$apply"!==t&&"$digest"!==t&&e.$apply((function(){e.loadingState="ERROR"}))}))},c.observe("currentDeployment",(function(t){e.currentDeployment=t})),c.observe("deploymentsSorting",(function(t){e.deploymentsSorting=t,n.$broadcast("cam-common:cam-searchable:query-force-change")})),e.focus=function(e){u(e)||a.updateSilently({resource:null,resourceName:null,viewbox:null,editMode:!0}),a.updateSilently({deployment:e.id}),c.changed("currentDeployment")};var u=e.isFocused=function(t){return t&&e.currentDeployment&&t.id===e.currentDeployment.id}}]}}]},{"../../../../../../../camunda-commons-ui/vendor/lodash":76,"camunda-bpm-sdk-js":"camunda-bpm-sdk-js"}],400:[function(e,t,n){"use strict";var i=e("../../../../../../camunda-commons-ui/vendor/angular"),r=e("./controllers/cam-cockpit-deployments-ctrl"),a=e("./directives/cam-cockpit-deployments"),o=e("./directives/cam-cockpit-deployment"),s=e("./directives/cam-cockpit-deployments-sorting-choices"),l=e("./plugins/actions/delete/cam-cockpit-delete-deployment-plugin"),c=e("./plugins/actions/delete/modals/cam-cockpit-delete-deployment-modal-ctrl"),u=i.module("cam.cockpit.repository.deployments",["ui.bootstrap"]);u.controller("camDeploymentsCtrl",r),u.directive("camDeployments",a),u.directive("camDeployment",o),u.directive("camDeploymentsSortingChoices",s),u.config(l),u.controller("camDeleteDeploymentModalCtrl",c),t.exports=u},{"../../../../../../camunda-commons-ui/vendor/angular":74,"./controllers/cam-cockpit-deployments-ctrl":396,"./directives/cam-cockpit-deployment":397,"./directives/cam-cockpit-deployments":399,"./directives/cam-cockpit-deployments-sorting-choices":398,"./plugins/actions/delete/cam-cockpit-delete-deployment-plugin":401,"./plugins/actions/delete/modals/cam-cockpit-delete-deployment-modal-ctrl":402}],401:[function(e,t,n){"use strict";var i=["$scope","$uibModal","$rootScope",function(e,t,n){var i=e.deploymentData;e.deleteDeployment=function(e,r){e.stopPropagation(),t.open({controller:"camDeleteDeploymentModalCtrl",template:'\x3c!-- # cockpit client/scripts/repository/deployments/modals/cam-cockpit-delete-deployment-modal.html --\x3e\n<div class="modal-header">\n  <h3 class="modal-title"\n      translate="REPOSITORY_DEPLOYMENTS_DELETE_TITLE"\n      translate-values="{deployment: deployment.name || deployment.id}"></h3>\n</div>\n\n<div class="modal-body delete-deployment-dialog">\n  <div notifications-panel></div>\n\n  <div ng-hide="countsLoaded()"\n       class="loader">\n    <span class="animate-spin glyphicon glyphicon-refresh"></span>\n    {{ \'REPOSITORY_DEPLOYMENTS_DELETE_LOADING\' | translate }}\n  </div>\n\n  <div ng-show="countsLoaded()">\n\n    {{ \'REPOSITORY_DEPLOYMENTS_DELETE_THIS_DEPLOYMENT\' | translate }}\n\n    <div uib-alert class="alert alert-info"\n         ng-show="hasInstances()">\n      <span translate="REPOSITORY_DEPLOYMENTS_DELETE_ENABLE_CASCADE"\n            translate-values="{info: getInfoSnippet()}"></span>\n      <code>{{ \'REPOSITORY_DEPLOYMENTS_DELETE_CASCADE\' | translate }}</code>\n      {{ \'REPOSITORY_DEPLOYMENTS_DELETE_FLAG\' | translate }}\n    </div>\n\n    <form class="form-horizontal"\n          name="deleteDeploymentForm"\n          novalidate\n          request-aware>\n\n      <div class="form-group cascade">\n\n        <label class="control-label col-xs-5"\n               for="cascade">\n          {{ \'REPOSITORY_DEPLOYMENTS_DELETE_CASCADE\' | translate }}\n          <span class="glyphicon glyphicon-question-sign"\n                uib-tooltip="{{ \'REPOSITORY_DEPLOYMENTS_DELETE_CASCADE_TOOLTIP\' | translate }}"\n                tooltip-placement="right">\n          </span>\n        </label>\n\n        <div class="col-xs-7">\n          <label class="checkbox">\n            <input name="cascade"\n                   type="checkbox"\n                   ng-model="options.cascade">\n          </label>\n        </div>\n\n      </div>\n\n      <div  ng-hide="hideSkipCustomListeners"\n            class="form-group skip-custom-listener">\n\n        <label class="control-label col-xs-5"\n               for="skipCustomListeners">\n          {{ \'REPOSITORY_DEPLOYMENTS_DELETE_SKIP\' | translate }}\n          <span class="glyphicon glyphicon-question-sign"\n                uib-tooltip="{{ \'REPOSITORY_DEPLOYMENTS_DELETE_SKIP_TOOLTIP\' | translate }}"\n                tooltip-placement="right">\n          </span>\n        </label>\n\n        <div class="col-xs-7">\n          <label class="checkbox">\n            <input name="skipCustomListeners"\n                   type="checkbox"\n                   ng-model="options.skipCustomListeners">\n          </label>\n        </div>\n\n      </div>\n\n      <div class="form-group skip-custom-listener"\n           ng-hide="SKIP_IO_MAPPINGS.hidden">\n\n        <label class="control-label col-xs-5"\n               for="skipIoMappings">\n          {{ \'REPOSITORY_DEPLOYMENTS_DELETE_MAPPING\' | translate }}\n          <span class="glyphicon glyphicon-question-sign"\n                uib-tooltip="{{ \'REPOSITORY_DEPLOYMENTS_DELETE_MAPPING_TOOLTIP\' | translate }}"\n                tooltip-placement="right">\n          </span>\n        </label>\n\n        <div class="col-xs-7">\n          <label class="checkbox">\n            <input name="skipIoMappings"\n                   type="checkbox"\n                   ng-model="options.skipIoMappings">\n          </label>\n        </div>\n\n      </div>\n\n    </form>\n\n    {{ \'REPOSITORY_DEPLOYMENTS_DELETE_SURE\' | translate }}\n\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-link"\n          ng-click="$dismiss()"\n          ng-disabled="status === \'PERFORM_DELETE\'">{{ \'REPOSITORY_DEPLOYMENTS_DELETE_CLOSE\' | translate }}</button>\n\n  <button type="submit"\n          class="btn btn-primary"\n          ng-click="deleteDeployment()"\n          ng-show="countsLoaded()"\n          ng-disabled="!canDeleteDeployment() || status === \'PERFORM_DELETE\'">{{ \'REPOSITORY_DEPLOYMENTS_DELETE_DELETE\' | translate }}</button>\n</div>\n\x3c!-- / cockpit client/scripts/repository/deployments/modals/cam-cockpit-delete-deployment-modal.html --\x3e\n',resolve:{deploymentData:function(){return i},deployment:function(){return r}}}).result.then((function(){n.$broadcast("cam-common:cam-searchable:query-force-change")})).catch((function(){}))}}],r=function(e){e.registerDefaultView("cockpit.repository.deployment.action",{id:"delete-deployment",template:'<a class="delete-deployment"\n   ng-click="deleteDeployment($event, deployment)"\n   uib-tooltip="{{ \'REPOSITORY_DEPLOYMENTS_DELETE_DELETE_TOOLTIP\' | translate }}">\n  <span class="glyphicon glyphicon-trash"></span>\n</a>\n',controller:i,priority:1e3})};r.$inject=["ViewsProvider"],t.exports=r},{}],402:[function(e,t,n){"use strict";t.exports=["$scope","$q","camAPI","Notifications","deploymentData","deployment","$translate","configuration",function(e,t,n,i,r,a,o,s){var l=n.resource("deployment"),c=n.resource("process-instance"),u=n.resource("case-instance"),d=r.newChild(e),p=s.getSkipCustomListeners(),f=e.SKIP_IO_MAPPINGS=s.getSkipIoMappings(),m=e.options={cascade:!1,skipCustomListeners:p.default,skipIoMappings:f.default};e.hideSkipCustomListeners=p.hidden,e.deployment=a,e.status,e.$on("$routeChangeStart",(function(){e.$dismiss()})),d.provide("processInstanceCount",(function(){var e=t.defer();return c.count({deploymentId:a.id},(function(t,n){if(t)return e.reject(t);e.resolve(n)})),e.promise})),d.provide("caseInstanceCount",(function(){var e=t.defer();return u.count({deploymentId:a.id},(function(t,n){if(t)return e.reject(t);e.resolve(n)})),e.promise})),e.processInstanceCountState=d.observe("processInstanceCount",(function(t){e.processInstanceCount=t})),e.caseInstanceCountState=d.observe("caseInstanceCount",(function(t){e.caseInstanceCount=t})),e.countsLoaded=function(){return e.processInstanceCountState&&(e.processInstanceCountState.$loaded||e.processInstanceCountState.$error)&&e.caseInstanceCountState&&(e.caseInstanceCountState.$loaded||e.caseInstanceCountState.$error)};var h=e.hasInstances=function(){return e.processInstanceCount&&e.processInstanceCount.count>0||e.caseInstanceCount>0};e.canDeleteDeployment=function(){return!(!m.cascade&&h())},e.getInfoSnippet=function(){var t=[o.instant("REPOSITORY_DEPLOYMENTS_INFO_THERE_ARE")];return e.processInstanceCount&&e.processInstanceCount.count>0&&(t.push(e.processInstanceCount.count),e.processInstanceCount&&e.processInstanceCount.count>1?t.push(o.instant("REPOSITORY_DEPLOYMENTS_INFO_RUNNING_PLURAL")):t.push(o.instant("REPOSITORY_DEPLOYMENTS_INFO_RUNNING_SINGULAR"))),e.processInstanceCount&&e.processInstanceCount.count>0&&e.caseInstanceCount>0&&t.push(o.instant("REPOSITORY_DEPLOYMENTS_INFO_AND")),e.caseInstanceCount>0&&(t.push(e.caseInstanceCount),e.caseInstanceCount>1?t.push(o.instant("REPOSITORY_DEPLOYMENTS_INFO_OPEN_PLURAL")):t.push(o.instant("REPOSITORY_DEPLOYMENTS_INFO_OPEN_SINGULAR"))),t.push(o.instant("REPOSITORY_DEPLOYMENTS_INFO_WHICH_BELONG")),t=t.join(" ")},e.deleteDeployment=function(){e.status="PERFORM_DELETE",l.delete(a.id,m,(function(t){if(e.status=null,t)return i.addError({status:o.instant("REPOSITORY_DEPLOYMENTS_INFO_MSN_STATUS"),message:o.instant("REPOSITORY_DEPLOYMENTS_INFO_MSN_MSN",{message:t.message}),exclusive:!0});e.$close()}))}}]},{}],403:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular");e("angular-data-depend"),e("../../../../../camunda-commons-ui/lib/index");var r=e("./config/routes"),a=e("./controllers/cam-cockpit-repository-view-ctrl"),o=e("./deployments/main"),s=e("./resources/main"),l=e("./resource/main"),c=["cam.commons","dataDepend","ngRoute",o.name,s.name,l.name],u=i.module("cam.cockpit.repository",c);u.config(r),u.controller("camCockpitRepositoryViewCtrl",a),t.exports=u},{"../../../../../camunda-commons-ui/lib/index":24,"../../../../../camunda-commons-ui/vendor/angular":74,"./config/routes":394,"./controllers/cam-cockpit-repository-view-ctrl":395,"./deployments/main":400,"./resource/main":411,"./resources/main":415,"angular-data-depend":"angular-data-depend"}],404:[function(e,t,n){"use strict";function i(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}e("regenerator-runtime/runtime.js");var r=e("../../../../../../../camunda-commons-ui/vendor/angular");t.exports=["$scope","$q","Uri","camAPI","Views","$translate",function(e,t,n,a,o,s){var l=r.isObject,c=function(e,t){return e&&t.test(e.toLowerCase())},u=e.resourceDetailsData=e.repositoryData.newChild(e),d=e.control={},p=/\.(bpmn\d*.xml|bpmn)$/,f=/\.(cmmn\d*.xml|cmmn)$/,m=/\.(dmn\d*.xml|dmn)$/,h=/\.(gif|jpg|jpeg|jpe|png|svg|tif|tiff)$/,g=/\.html$/,v=/\.(form)$/,y=function(e){return l(e)?e.name:e},b=d.isBpmnResource=e.isBpmnResource=function(e){var t=y(e);return c(t,p)},_=d.isCmmnResource=e.isCmmnResource=function(e){var t=y(e);return c(t,f)},E=d.isDmnResource=e.isDmnResource=function(e){var t=y(e);return c(t,m)},x=d.isImageResource=e.isImageResource=function(e){var t=y(e);return c(t,h)},w=d.isHtmlResource=e.isHtmlResource=function(e){var t=y(e);return c(t,g)},S=d.isFormResource=e.isFormResource=function(e){var t=y(e);return c(t,v)};d.isUnkownResource=e.isUnkownResource=function(e){return!(b(e)||_(e)||E(e)||x(e)||w(e)||S(e))};var C=a.resource("process-definition"),k=a.resource("case-definition"),T=a.resource("decision-definition");d.downloadLink=e.downloadLink=function(e,t){return e&&t&&n.appUri("engine://engine/:engine/deployment/"+e.id+"/resources/"+t.id+"/data")},u.provide("binary",["resource","currentDeployment",function(e,r){var a=t.defer();return e&&r&&null!==r.id?x(e)?a.resolve(null):fetch(n.appUri("engine://engine/:engine/deployment/"+r.id+"/resources/"+e.id+"/data")).then(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:n=e.sent,a.resolve({data:n});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,l,"next",e)}function l(e){i(o,r,a,s,l,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}()).catch((function(e){a.reject(e)})):a.resolve(null),a.promise}]);var I={current:1,size:50,total:0};u.provide("pages",(function(){return I})),u.provide("definitions",["currentDeployment","resource","pages",function(n,i,r){var a=t.defer();e.loadingState="LOADING";var o=null,l=!1;return n&&i?(b(i)?(l=!0,o=C):_(i)?o=k:E(i)&&(o=T),o?o.count({deploymentId:n.id,resourceName:i.name},(function(t,c){function u(t){e.loadingState="ERROR",e.textError=t.message||s.instant("REPOSITORY_DEPLOYMENT_RESOURCE_CTRL_MSN")}return t?(u(t),a.reject(t)):(r.total=c,0===c?a.resolve([]):void o.list({deploymentId:n.id,resourceName:i.name,maxResults:r.size,firstResult:r.size*(r.current-1)},(function(e,t){if(e)return u(e),a.reject(e);a.resolve(l?t.items:t)})))})):a.resolve([])):a.resolve([]),a.promise}]),u.observe("resource",(function(t){e.resource=t})),u.observe("currentDeployment",(function(t){e.deployment=t})),e.resourceVars={read:["control","deployment","resource","resourceDetailsData"]},e.resourceActions=o.getProviders({component:"cockpit.repository.resource.action"})}]},{"../../../../../../../camunda-commons-ui/vendor/angular":74,"regenerator-runtime/runtime.js":338}],405:[function(e,t,n){"use strict";function i(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,l,"next",e)}function l(e){i(o,r,a,s,l,"throw",e)}s(void 0)}))}}e("regenerator-runtime/runtime.js");var a=e("@bpmn-io/form-js").Form;t.exports=[function(){return{restrict:"A",scope:{name:"=",source:"="},template:'\x3c!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-form.html --\x3e\n<h4>{{\'REPOSITORY_RESOURCES_FORM_PREVIEW\' | translate}}</h4>\n<div ng-show="!error" class="camundaForm"></div>\n<div ng-show="error" uib-alert class="alert alert-danger" role="alert">\n  <span class="glyphicon glyphicon-exclamation-sign"></span>\n  <strong class="status">{{ \'FORM_FAILURE\' | translate }}</strong>\n  <span class="message">{{ error.message | translate }}</span>\n</div>\n\n<h4>{{\'REPOSITORY_RESOURCES_RAW_DATA\' | translate}}</h4>\n<div cam-source\n      name="name"\n      source="source"></div>\n\x3c!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-form.html --\x3e\n',link:function(e,t){function n(){return(n=r(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=JSON.parse(e.source),r=new a({container:t.find(".camundaForm")[0]}),n.next=4,r.importSchema(i);case 4:r.setProperty("readOnly",!0);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}e.error=null,function(){return n.apply(this,arguments)}().catch((function(t){e.error=t}))}}}]},{"@bpmn-io/form-js":83,"regenerator-runtime/runtime.js":338}],406:[function(e,t,n){"use strict";t.exports=["$sce","configuration",function(e,t){return{restrict:"A",scope:{name:"=",source:"="},template:'\x3c!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-html-source.html --\x3e\n<fieldset class="disabled-form" disabled ng-if="showHtml">\n  <div ng-bind-html="trustedHtml"></div>\n</fieldset>\n\n<h4 class="subheading" ng-if="showHtml">{{\'REPOSITORY_RESOURCES_SOURCE\' | translate}}</h4>\n<div cam-source name="name" source="source"></div>\n\x3c!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-html-source.html --\x3e\n',link:function(n){n.showHtml=t.getPreviewHtml(),n.showHtml&&(n.trustedHtml=e.trustAsHtml(n.source))}}}]},{}],407:[function(e,t,n){"use strict";t.exports=[function(){return{scope:{resourceData:"=",control:"="},template:'\x3c!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-content.html --\x3e\n<div ng-if="binary || (resource && isImageResource(resource))"\n     class="resource-wrapper">\n\n  <div ng-if="isBpmnResource(resource)"\n       cam-widget-bpmn-viewer\n       diagram-data="binary"\n       bpmn-js-conf="bpmnJsConf">\n  </div>\n\n\n  <div ng-if="isDmnResource(resource)"\n       cam-widget-dmn-viewer\n       enable-drd-navigation="true"\n       xml="binary">\n  </div>\n\n  <div ng-if="isCmmnResource(resource)"\n       cam-widget-cmmn-viewer\n       diagram-data="binary">\n  </div>\n\n  <div ng-if="isImageResource(resource)"\n       class="image-resource">\n    <img ng-src="{{ imageLink(deployment, resource) }}">\n  </div>\n\n  <div ng-if="isHtmlResource(resource)"\n       class="html-resource">\n    <div cam-html-source\n         name="resource.name"\n         source="binary"></div>\n  </div>\n\n  <div ng-if="isFormResource(resource)"\n       class="json-resource">\n     <div cam-form\n          source="binary"\n          name="resource.name"></div>\n  </div>\n\n  <div ng-if="isUnkownResource(resource)"\n       class="unkown-resource">\n    <div cam-source\n         name="resource.name"\n         source="binary">\n    </div>\n  </div>\n\n  <div>\n\n</div>\n\x3c!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-content.html --\x3e\n',controller:["$scope","configuration",function(e,t){e.bpmnJsConf=t.getBpmnJs();var n,i=e.resourceData.newChild(e);e.isBpmnResource=e.control.isBpmnResource,e.isCmmnResource=e.control.isCmmnResource,e.isDmnResource=e.control.isDmnResource,e.isImageResource=e.control.isImageResource,e.isHtmlResource=e.control.isHtmlResource,e.isFormResource=e.control.isFormResource,e.isUnkownResource=e.control.isUnkownResource,e.imageLink=e.control.downloadLink,i.observe("resource",(function(t){t&&n&&t.id!==n.id&&(e.binary=null),n=e.resource=t})),i.observe("currentDeployment",(function(t){e.deployment=t})),i.observe("binary",(function(t){e.binary=(t||{}).data}))}]}}]},{}],408:[function(e,t,n){"use strict";t.exports=[function(){return{scope:{resourceData:"=",control:"="},template:'\x3c!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-meta.html --\x3e\n<div class="filepath">{{ resource._filepath }}</div>\n<div class="table-row">\n  <h2 class="name">{{ resource._filename }}</h2>\n  <h3 class="version" ng-show="!isDmnResource(resource) && definitions.length > 0">{{ \'REPOSITORY_DEPLOYMENT_RESOURCE_DIRECTIVES_VERSION\' | translate }} {{ definitions[0].version }}</h3>\n</div>\n\x3c!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-meta.html --\x3e\n',controller:["$scope",function(e){var t=e.resourceData.newChild(e);e.isDmnResource=e.control.isDmnResource,t.observe("resource",(function(t){if(t){var n=(t.name||t.id).split("/");t._filename=n.pop(),t._filepath=n.join("/")}e.resource=t})),t.observe("definitions",(function(t){e.definitions=t}))}]}}]},{}],409:[function(e,t,n){"use strict";var i=e("../../../../../../../camunda-commons-ui/vendor/angular");t.exports=[function(){return{restrict:"A",scope:{resourceDetailsData:"=",control:"=?"},template:'\x3c!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-wrapper.html --\x3e\n<div ng-show="!resourceState.$loaded"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  {{ \'REPOSITORY_DEPLOYMENT_RESOURCE_DIRECTIVES_LOADING\' | translate }}\n</div>\n\n<div ng-show="resourceState.$loaded">\n\n  <div ng-if="!resource">\n    <div class="no-resource well">\n      <span class="glyphicon glyphicon-info-sign"></span>\n      {{ \'REPOSITORY_DEPLOYMENT_RESOURCE_DIRECTIVES_SELECT_SRC\' | translate }}\n    </div>\n  </div>\n\n  <section ng-if="resource" class="resource">\n\n    <header class="row">\n      <div class="col-xs-12"\n           cam-resource-meta\n           resource-data="resourceData"\n           control="control">\n      </div>\n    </header>\n\n    <div class="section-content row">\n      <div class="col-xs-12"\n           cam-resource-content\n           resource-data="resourceData"\n           control="control">\n      </div>\n\n      <div ng-show="resourceDetailTabs.length"\n           class="col-xs-12 ctn-tabbed-content">\n\n        <view ng-repeat="resourceDetailTab in resourceDetailTabs"\n              provider="resourceDetailTab"\n              vars="resourceVars" />\n\n      </div>\x3c!-- / !!resourceDetailTabs --\x3e\n\n    </div>\x3c!-- / .section-content --\x3e\n\n  </section>\n\n</div>\n\x3c!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-resource-wrapper.html --\x3e\n',controller:["$scope","$q","$location","Views","Notifications","search","$translate",function(e,t,n,r,a,o,s){var l=e.resourceData=e.resourceDetailsData.newChild(e);l.observe("currentDeployment",(function(t){e.deployment=t})),e.resourceState=l.observe(["resource","binary",function(t){e.resource=t}]),e.$watch("resourceState.$error",(function(t){var r;t&&(!function(t,n){n.message&&-1!==n.message.indexOf("<-")&&(n.message=n.message.split("<-")[1].trim()),a.addError({status:t,message:n?n.message:"",exclusive:!0,scope:e})}((r=t.message)&&-1===r.indexOf("does not exist")?s.instant("REPOSITORY_DEPLOYMENT_RESOURCE_DIRECTIVES_RETURN_1"):s.instant("REPOSITORY_DEPLOYMENT_RESOURCE_DIRECTIVES_RETURN_2"),t),function(){var e=n.search()||{};delete e.resource,delete e.resourceName,n.search(i.copy(e)),n.replace()}())})),e.resourceVars={read:["control","deployment","resource","resourceData"]},e.resourceDetailTabs=r.getProviders({component:"cockpit.repository.resource.detail"})}]}}]},{"../../../../../../../camunda-commons-ui/vendor/angular":74}],410:[function(e,t,n){"use strict";var i=e("../../../../../../../camunda-commons-ui/vendor/angular");e("../../../../../../../camunda-commons-ui/vendor/prism"),t.exports=["$window",function(e){return{restrict:"A",scope:{name:"=",source:"="},template:"\x3c!-- # cockpit client/scripts/repository/resource/directives/cam-cockpit-source.html --\x3e\n<pre><code ng-class=\"'language-' + extension()\">{{ source }}</code></pre>\n\x3c!-- / cockpit client/scripts/repository/resource/directives/cam-cockpit-source.html --\x3e\n",link:function(t,n){var r=e.Prism,a={js:"javascript",html:"markup",xml:"markup",py:"python",rb:"ruby",bpmn:"markup",cmmn:"markup",dmn:"markup"},o=t.name;t.extension=function(){if(o){var e=(o.match(/\.([\w-]+)$/)||["",""])[1];return e=e&&e.toLowerCase(),a[e]||e}},t.$watch("source",(function(e){if(e){var t=i.element("code",n);r.highlightElement(t[0])}}))}}}]},{"../../../../../../../camunda-commons-ui/vendor/angular":74,"../../../../../../../camunda-commons-ui/vendor/prism":78}],411:[function(e,t,n){"use strict";var i=e("../../../../../../camunda-commons-ui/vendor/angular"),r=e("./controllers/cam-cockpit-resource-details-ctrl"),a=e("./directives/cam-cockpit-resource-wrapper"),o=e("./directives/cam-cockpit-resource-meta"),s=e("./directives/cam-cockpit-resource-content"),l=e("./directives/cam-cockpit-html-source"),c=e("./directives/cam-cockpit-source"),u=e("./directives/cam-cockpit-form"),d=e("./plugins/details/definitions/cam-cockpit-definitions-plugin"),p=e("./plugins/actions/download/cam-cockpit-resource-action-download-plugin"),f=i.module("cam.cockpit.repository.resource",[]);f.controller("camResourceDetailsCtrl",r),f.directive("camResourceWrapper",a),f.directive("camResourceMeta",o),f.directive("camResourceContent",s),f.directive("camForm",u),f.directive("camSource",c),f.directive("camHtmlSource",l),f.config(d),f.config(p),t.exports=f},{"../../../../../../camunda-commons-ui/vendor/angular":74,"./controllers/cam-cockpit-resource-details-ctrl":404,"./directives/cam-cockpit-form":405,"./directives/cam-cockpit-html-source":406,"./directives/cam-cockpit-resource-content":407,"./directives/cam-cockpit-resource-meta":408,"./directives/cam-cockpit-resource-wrapper":409,"./directives/cam-cockpit-source":410,"./plugins/actions/download/cam-cockpit-resource-action-download-plugin":412,"./plugins/details/definitions/cam-cockpit-definitions-plugin":413}],412:[function(e,t,n){"use strict";var i=["$scope",function(e){var t=e.resourceDetailsData.newChild(e);t.observe("resource",(function(t){e.resource=t})),t.observe("currentDeployment",(function(t){e.deployment=t})),e.downloadLink=e.control.downloadLink}],r=function(e){e.registerDefaultView("cockpit.repository.resource.action",{id:"download-resource",controller:i,template:'\x3c!-- # cockpit client/scripts/repository/resource/plugins/actions/download/cam-cockpit-resource-action-download-plugin.html --\x3e\n<a class="download-resource"\n   ng-href="{{ downloadLink(deployment, resource) }}">\n  <span class="glyphicon glyphicon-download-alt"></span> {{ \'REPOSITORY_DEPLOYMENT_DOWNLOAD_DOWNLOAD\' | translate }}\n</a>\n\x3c!-- / cockpit client/scripts/repository/resource/plugins/actions/download/cam-cockpit-resource-action-download-plugin.html --\x3e\n',priority:100})};r.$inject=["ViewsProvider"],t.exports=r},{}],413:[function(e,t,n){"use strict";var i=["$scope","$q","camAPI","hasPlugin",function(e,t,n,i){var r,a=e.resourceData.newChild(e),o=e.isBpmnResource=e.control.isBpmnResource,s=e.isCmmnResource=e.control.isCmmnResource,l=e.isDmnResource=e.control.isDmnResource,c=n.resource("process-instance"),u=n.resource("case-instance"),d=n.resource("drd");e.hasCasePlugin=i("cockpit.cases.dashboard","case-definition"),e.hasDrdPlugin=i("cockpit.drd.definition.tab","decision-instance-table"),e.pages={current:1,size:50,total:0},e.onPaginationChange=function(){a.changed("definitions"),e.loadingState="LOADING"},a.observe("resource",(function(){e.pages.current=1,e.loadingState="LOADING"})),a.observe(["definitions","pages"],(function(t,n){e.pages=n,e.loadingState=t&&t.length?"LOADED":"EMPTY",e.definitions=t,t&&t.length&&!l(r)&&p(t),l(r)&&f(t)})),a.observe("resource",(function(t){r=e.resource=t,e.hasDefinitions=o(r)||s(r)||l(r)}));var p=function(t){function n(t,n,i){t.instances={$loaded:!1},i.count(n,(function(n,i){if(n)return t.instances.$error=!0;t.instances.$loaded=!0,t.instances.count=isNaN(+i)?i.count||"0":i;var r=e.$root.$$phase;"$apply"!==r&&"$digest"!==r&&e.$apply()}))}for(var i,r=0;i=t[r];r++){var a=null,l=null;o(i.resource)?(a=c,l={processDefinitionId:i.id}):s(i.resource)&&(a=u,l={caseDefinitionId:i.id}),a&&n(i,l,a)}},f=function(t){var n=t[0].decisionRequirementsDefinitionId;e.drdLoadingState=n?"LOADING":"EMPTY",n&&d.get(n,(function(t,n){if(t)return e.drdTextError=t;e.drdLoadingState="LOADED",e.drd=n;var i=e.$root.$$phase;"$apply"!==i&&"$digest"!==i&&e.$apply()}))};e.getDefinitionLink=function(e,t){if(t){var n=null;return o(t)?n="process-definition":l(t)?n="decision-definition":s(t)&&(n="case-definition"),"#/"+n+"/"+e.id}},e.getDrdLink=function(e){if(e)return"#/decision-requirement/"+e.id}}],r=function(e){e.registerDefaultView("cockpit.repository.resource.detail",{id:"resource-details",template:'<h4 ng-show="hasDefinitions">{{ \'DEFINITIONS_DEFINITIONS\' | translate }}:</h4>\n\n<div cam-widget-loader\n     loading-state="{{ loadingState }}"\n     text-empty="{{ \'REPOSITORY_DEPLOYMENT_DEFINITIONS_TEXT_EMPTY_1\' | translate }}"\n     text-error="{{ textError }}"\n     ng-show="hasDefinitions">\n  <table class="definitions cam-table">\n    <thead>\n      <tr>\n        <th class="name">{{ \'REPOSITORY_DEPLOYMENT_NAME\' | translate }}</th>\n        <th class="key">{{ \'REPOSITORY_DEPLOYMENT_KEY\' | translate }}</th>\n        <th ng-if="!isDmnResource(resource)"\n            class="instance-count">{{ \'REPOSITORY_DEPLOYMENT_INSTANCE_COUNTS\' | translate }}</th>\n        <th ng-if="isDmnResource(resource)"\n            class="version">{{ \'REPOSITORY_DEPLOYMENT_VERSION\' | translate }}</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat="definition in definitions">\n        <td class="name">\n          <a ng-if="!isCmmnResource(resource) || hasCasePlugin"\n             ng-href="{{ getDefinitionLink(definition, resource) }}">\n            {{ definition.name || definition.key || definition.id }}\n          </a>\n          <span ng-if="isCmmnResource(resource) && !hasCasePlugin">\n            {{ definition.name || definition.key || definition.id }}\n          </span>\n        </td>\n\n        <td class="key">\n          {{ definition.key }}\n        </td>\n\n        <td ng-if="!isDmnResource(resource)"\n            class="instance-count">\n          <span ng-if="!definition.instances.$loaded">\n            <span class="glyphicon glyphicon-refresh animate-spin"></span>&nbsp;{{ \'REPOSITORY_DEPLOYMENT_LOADING\' | translate }}\n          </span>\n          <span ng-if="definition.instances.$loaded">\n            {{ definition.instances.count }}\n          </span>\n          <span ng-if="definition.instances.$error">\n            {{ \'REPOSITORY_DEPLOYMENT_COULD_NOT_LOAD\' | translate }}\n          </span>\n        </td>\n\n        <td ng-if="isDmnResource(resource)"\n            class="version">\n          <span>\n            {{ definition.version }}\n          </span>\n        </td>\n\n      </tr>\n    </tbody>\n  </table>\n\n  <div ng-if="isDmnResource(resource)">\n    <h4>{{ \'REPOSITORY_DEPLOYMENT_DECISION_TEXT\' | translate }}</h4>\n    <div cam-widget-loader\n         loading-state="{{ drdLoadingState }}"\n         text-empty="{{ \'REPOSITORY_DEPLOYMENT_DEFINITIONS_TEXT_EMPTY_2\' | translate }}"\n         text-error="{{ drdTextError }}">\n      <table class="drd-definitions cam-table">\n        <thead>\n          <tr>\n            <th class="name">{{ \'REPOSITORY_DEPLOYMENT_NAME\' | translate }}</th>\n            <th class="key">{{ \'REPOSITORY_DEPLOYMENT_KEY\' | translate }}</th>\n            <th class="version">{{ \'REPOSITORY_DEPLOYMENT_VERSION\' | translate }}</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td class="name">\n              <a ng-if="hasDrdPlugin"\n                 ng-href="{{ getDrdLink(drd) }}">\n                {{ drd.name || drd.key || drd.id }}\n              </a>\n              <span ng-if="!hasDrdPlugin">\n                {{ drd.name || drd.key || drd.id }}\n              </span>\n            </td>\n\n            <td class="key">\n              {{ drd.key }}\n            </td>\n\n            <td class="version">\n              {{ drd.version }}\n            </td>\n\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n\n  <ul uib-pagination ng-if="pages.total > pages.size"\n      class="pagination-sm"\n\n      page="pages.current"\n      ng-model="pages.current"\n      ng-change="onPaginationChange()"\n\n      total-items="pages.total"\n      items-per-page="pages.size"\n\n      max-size="7"\n      boundary-links="true"></ul>\n</div>\n',controller:i,priority:1e3})};r.$inject=["ViewsProvider"],t.exports=r},{}],414:[function(e,t,n){"use strict";var i=e("../../../../../../../camunda-commons-ui/vendor/angular").element;t.exports=[function(){return{restrict:"A",scope:{repositoryData:"="},template:'\x3c!-- # cockpit client/scripts/repository/resources/directives/cam-cockpit-resources.html --\x3e\n<div ng-if="!state.$loaded && !state.$error"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  {{ \'REPOSITORY_RESOURCES_LOADING\' | translate }}\n</div>\n\n<div ng-if="state.$error"\n     uib-alert class="alert alert-danger"\n     role="alert">\n  <span class="glyphicon glyphicon-exclamation-sign"></span>\n  <strong class="status">{{ \'REPOSITORY_RESOURCES_FAILURE\' | translate }}</strong>\n  <span class="message">{{ \'REPOSITORY_RESOURCES_FAILURE_MSN\' | translate }}</span>\n</div>\n\n<div ng-if="state.$loaded && !state.$error && !resources.length"\n     class="well">\n  <span class="glyphicon glyphicon-info-sign"></span>\n  {{ \'REPOSITORY_RESOURCES_NO_SRC_AVAILABLE\' | translate }}\n</div>\n\n<ol ng-if="state.$loaded && !state.$error && resources.length"\n    class="resources list-unstyled"\n    tabindex="0"\n    ng-keydown="handleKeydown($event)">\n  <li class="resource"\n      ng-repeat="(delta, resource) in resources"\n      ng-class="{active: currentResourceId === resource.id, clickable: true}"\n      ng-click="focus($event, resource)">\n    <div class="filepath">{{ truncateFilepath(resource._filepath) }}</div>\n    <h4>\n      <a href>{{ resource._filename }}</a>\n    </h4>\n  </li>\n</ol>\n\x3c!-- / cockpit client/scripts/repository/resources/directives/cam-cockpit-resources.html --\x3e\n',controller:["$scope","$location","$timeout","search",function(e,t,n,r){var a=e.repositoryData.newChild(e),o=function(e){r.updateSilently(e)};e.state=a.observe("resourceId",(function(t){e.currentResourceId=t.resourceId})),e.sharedStart="",e.state=a.observe("resources",(function(t){var n=[];e.resources=(t||[]).map((function(e){var t=(e.name||e.id).split("/");return e._filename=t.pop(),e._filepath=t.join("/"),n.push(e._filepath),e})),e.sharedStart=function(e){if(!e.length)return"";for(var t=e.concat().sort(),n=t[0],i=t[t.length-1],r=n.length,a=0;a<r&&n.charAt(a)===i.charAt(a);)a++;return n.substring(0,a)}(n)})),e.truncateFilepath=function(t){return t.slice(e.sharedStart.length)},e.focus=function(t,n){t&&t.preventDefault();var i=n.id;e.currentResourceId===i?o({resource:i,resourceName:null}):o({resource:i,resourceName:null,viewbox:null}),a.changed("resourceId")};e.handleKeydown=function(t){40===t.keyCode?(t.preventDefault(),function(){for(var t=0;t<e.resources.length-1;t++)if(e.resources[t].id===e.currentResourceId)return e.focus(null,e.resources[t+1])}()):38===t.keyCode&&(t.preventDefault(),function(){for(var t=1;t<e.resources.length;t++)if(e.resources[t].id===e.currentResourceId)return e.focus(null,e.resources[t-1])}()),n((function(){var e=i(t.target).find("li.active")[0];e&&e.scrollIntoView(!1)}))}}]}}]},{"../../../../../../../camunda-commons-ui/vendor/angular":74}],415:[function(e,t,n){"use strict";var i=e("../../../../../../camunda-commons-ui/vendor/angular"),r=e("./directives/cam-cockpit-resources"),a=i.module("cam.cockpit.repository.resources",[]);a.directive("camResources",r),t.exports=a},{"../../../../../../camunda-commons-ui/vendor/angular":74,"./directives/cam-cockpit-resources":414}],416:[function(e,t,n){"use strict";t.exports=["$resource","Uri",function(e,t){return e(t.appUri("engine://engine/:engine/incident/:action"),{},{count:{method:"GET",isArray:!1,params:{count:"count"}}})}]},{}],417:[function(e,t,n){"use strict";t.exports=["$resource","Uri",function(e,t){return e(t.appUri("engine://engine/:engine/job-definition/:id/:action"),{id:"@id"},{query:{method:"POST",isArray:!0},count:{method:"POST",isArray:!1,params:{id:"count"}},setRetries:{method:"PUT",params:{action:"retries"}},setJobPriority:{method:"PUT",params:{action:"jobPriority"}}})}]},{}],418:[function(e,t,n){"use strict";t.exports=["$resource","Uri",function(e,t){return e(t.appUri("engine://engine/:engine/job/:id/:action"),{id:"@id"},{query:{method:"POST",isArray:!0},count:{method:"POST",isArray:!1,params:{id:"count"}},setRetries:{method:"PUT",params:{action:"retries"}}})}]},{}],419:[function(e,t,n){"use strict";t.exports=["$resource","Uri",function(e,t){return e(t.appUri("engine://engine/:engine/execution/:executionId/localVariables/:localVariableName"),{},{updateVariables:{method:"POST"}})}]},{}],420:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular");e("../../../../../camunda-commons-ui/lib/util/index");var r=e("./processDefinitionResource"),a=e("./incidentResource"),o=e("./processInstanceResource"),s=e("./localExecutionVariableResource"),l=e("./jobResource"),c=e("./taskResource"),u=e("./jobDefinitionResource"),d=i.module("cam.cockpit.resources",[]);d.factory("ProcessDefinitionResource",r),d.factory("IncidentResource",a),d.factory("ProcessInstanceResource",o),d.factory("LocalExecutionVariableResource",s),d.factory("JobResource",l),d.factory("TaskResource",c),d.factory("JobDefinitionResource",u),t.exports=d},{"../../../../../camunda-commons-ui/lib/util/index":44,"../../../../../camunda-commons-ui/vendor/angular":74,"./incidentResource":416,"./jobDefinitionResource":417,"./jobResource":418,"./localExecutionVariableResource":419,"./processDefinitionResource":421,"./processInstanceResource":422,"./taskResource":423}],421:[function(e,t,n){"use strict";t.exports=["$resource","Uri",function(e,t){return e(t.appUri("engine://engine/:engine/process-definition/:id/:action"),{id:"@id"},{queryStatistics:{method:"GET",isArray:!0,params:{id:"statistics"}},queryActivityStatistics:{method:"GET",isArray:!0,params:{action:"statistics"}},getBpmn20Xml:{method:"GET",params:{action:"xml"},cache:!0},count:{method:"GET",params:{action:"count"}}})}]},{}],422:[function(e,t,n){"use strict";t.exports=["$resource","Uri",function(e,t){return e(t.appUri("engine://engine/:engine/process-instance/:id/:action/"),{id:"@id"},{query:{method:"POST",isArray:!0},count:{method:"POST",isArray:!1,params:{id:"count"}},activityInstances:{method:"GET",isArray:!1,params:{action:"activity-instances"}}})}]},{}],423:[function(e,t,n){"use strict";t.exports=["$resource","Uri",function(e,t){return e(t.appUri("engine://engine/:engine/task/:id/:action/:subAction"),{id:"@id"},{query:{method:"POST",isArray:!0},count:{method:"POST",isArray:!1,params:{id:"count"}},getIdentityLinks:{method:"GET",isArray:!0,params:{action:"identity-links"}},addIdentityLink:{method:"POST",params:{action:"identity-links"}},deleteIdentityLink:{method:"POST",params:{action:"identity-links",subAction:"delete"}},setAssignee:{method:"POST",params:{action:"assignee"}}})}]},{}],424:[function(e,t,n){"use strict";t.exports=["ProcessDefinitionResource","page",function(e,t){return function n(i,r,a,o,s){a=a||[],r(i,(function(i,l){l?e.get({id:l.processDefinitionId||l.definitionId}).$promise.then((function(e){var t=e;a=[{href:"#/process-definition/"+t.id+(s?"/"+s:""),label:t.name||t.key},{divider:":",href:"#/process-instance/"+l.id+(s?"/"+s:""),label:l.id.slice(0,8)+"…"}].concat(a),n(l,r,a,o,s)})).catch((function(){})):t.breadcrumbsInsertAt(o,a)}))}}]},{}],425:[function(e,t,n){"use strict";t.exports=[function(){return{escape:function(e){var t=document.createTextNode(e),n=document.createElement("div");return n.appendChild(t),n.innerHTML}}}]},{}],426:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular"),r=e("./transform"),a=e("./variables"),o=e("./breadcrumbTrails"),s=e("./query-max-results"),l=e("./variable-utils"),c=e("./../../../../common/scripts/services/routeUtil"),u=e("./../../../../common/scripts/services/page"),d=e("./../../../../common/scripts/services/cam-api"),p=e("./../../../../common/scripts/services/has-plugin"),f=e("../../../../../camunda-commons-ui/lib/services/cam-local-configuration"),m=e("./../../../../common/scripts/services/typeUtils"),h=e("./escapeHtml"),g=i.module("cam.cockpit.services",[]);g.factory("Transform",r),g.factory("Variables",a),g.service("page",u),g.factory("breadcrumbTrails",o),g.factory("queryMaxResults",s),g.factory("varUtils",l),g.factory("routeUtil",c),g.factory("camAPI",d),g.factory("hasPlugin",p),g.factory("localConf",f),g.factory("typeUtils",m),g.factory("escapeHtml",h),t.exports=g},{"../../../../../camunda-commons-ui/lib/services/cam-local-configuration":35,"../../../../../camunda-commons-ui/vendor/angular":74,"./../../../../common/scripts/services/cam-api":469,"./../../../../common/scripts/services/has-plugin":471,"./../../../../common/scripts/services/page":473,"./../../../../common/scripts/services/routeUtil":480,"./../../../../common/scripts/services/typeUtils":481,"./breadcrumbTrails":424,"./escapeHtml":425,"./query-max-results":427,"./transform":428,"./variable-utils":429,"./variables":430}],427:[function(e,t,n){"use strict";var i=e("angular");t.exports=["$q",function(e){return function(t,n,r){var a=e.defer();return n(t).then((function(e){a.resolve(e)})).catch((function(e){400===e.status&&r(t).then((function(e){n(i.extend({maxResults:e.count},t)).then((function(e){a.resolve(e)})).catch((function(e){if(400===e.status){n(i.extend({maxResults:50},t)).then((function(e){a.resolve(e)})).catch((function(e){a.reject(e)}))}}))}))})),a.promise}}]},{angular:"angular"}],428:[function(e,t,n){"use strict";var i=e("bpmn-js/lib/NavigatedViewer").default,r=["$q",function(e){return{transformBpmn20Xml:function(t){var n=e.defer();return i.prototype.options={},i.prototype._createModdle({moddleExtensions:window.bpmnJsModdleExtensions||{}}).fromXML(t,"bpmn:Definitions").then((function(e){var t=e.rootElement,i=e.elementsById;n.resolve({definitions:t,bpmnElements:i})})),n.promise}}}];t.exports=r},{"bpmn-js/lib/NavigatedViewer":88}],429:[function(e,t,n){"use strict";var i=e("angular");t.exports=["fixDate",function(e){return{generatePayload:function(t){var n=t.payload,r=void 0===n?{variables:{}}:n,a=t.variables;return a&&(r.variables||(r.variables={}),a.forEach((function(t){var n=t.variable.name;r.variables[n]=i.copy(t.variable),delete r.variables[n].name,"Date"===t.variable.type&&(r.variables[n].value=e(r.variables[n].value)),"Object"===t.variable.type?r.variables[n].valueInfo=r.variables[n].valueInfo||{objectTypeName:"",serializationDataFormat:""}:delete r.variables[n].valueInfo}))),r}}}]},{angular:"angular"}],430:[function(e,t,n){"use strict";var i=["$translate",function(e){function t(e){var t=[];for(var n in e)t.push(n);return t}var n={eq:"=",neq:"!=",gt:">",gteq:">=",lt:"<",lteq:"<=",like:" like "},i=function(e){var t={};for(var n in e)t[e[n]]=n;return t}(n);var r=new RegExp("^(\\w+)\\s*("+t(i).join("|")+")\\s*([^!=<>]+)$");return{parse:function(t){var n,a=r.exec(t);if(!a)throw new Error(e.instant("VARIABLE_ERROR_VARIABLE_SYNTAX",{message:t}));return n=function(t){if(/^".*"\s*$/.test(t))return t.substring(1,t.length-1);if(parseFloat(t)+""===t)return parseFloat(t);if("true"===t||"false"===t)return"true"===t;throw new Error(e.instant("VARIABLE_ERROR_INFER_TYPE",{value:t}))}(a[3]),{name:a[1],operator:i[a[2]],value:n}},toString:function(t){return t?t.name+(i=t.operator,n[i])+function(t){if(!t)return t;if("string"==typeof t)return'"'+t+'"';if("boolean"==typeof t)return t?"true":"false";if("number"==typeof t)return t;throw new Error(e.instant("VARIABLE_ERROR_INFER_TYPE",{value:t}))}(t.value):"";var i},operators:t(i)}}];t.exports=i},{}],431:[function(e,t,n){"use strict";t.exports=["$location","routeUtil",function(e,t){return{scope:{divider:"@"},restrict:"A",template:'\x3c!-- # CE - camunda-bpm-webapp/ui/common/scripts/directives/breadcrumbs.html --\x3e\n<ul class="cam-breadcrumb">\n  <li ng-class="{ active: !breadcrumbs || !breadcrumbs.length }">\n    <a href="#/"\n       class="text">{{ \'DASHBOARD_DASHBOARD\' | translate }}</a>\n  </li>\n\n  <li ng-repeat="(index, crumb) in breadcrumbs"\n      ng-class="{ active: !!$last }"\n      data-index="{{ index }}">\n    <span class="divider" ng-click="crumb.hidden = !crumb.hidden">{{ crumb.divider || divider }}</span>\n\n    \x3c!-- using ng-show to separate logic of creating breadcrumbs elements from\n         logic of dynamically showing and hidding them --\x3e\n    <a ng-if="!!crumb.href && !$last"\n       ng-show="!crumb.hidden"\n       href="{{ getHref(crumb) }}"\n       class="text">{{ crumb.label | translate }}</a>\n\n    <span ng-if="!!crumb.href && !!$last"\n          ng-show="!crumb.hidden"\n          class="text">{{ crumb.label }}</span>\n\n    <a ng-if="!crumb.href && !!crumb.callback"\n       ng-show="!crumb.hidden"\n       ng-click="crumb.callback(index, breadcrumbs)"\n       href\n       class="text">{{ crumb.label }}</a>\n\n    <span ng-if="!crumb.href && !crumb.callback"\n          ng-show="!crumb.hidden"\n          class="text">{{ crumb.label | translate }}</span>\n\n    <span ng-if="(crumb.type === \'processDefinition\' && crumb.processDefinition.suspended) || (crumb.type === \'processInstance\' && crumb.processInstance.suspended)"\n          ng-show="!crumb.hidden"\n          class="badge badge-warning badge-suspended"\n          uib-tooltip="{{ \'BREAD_CRUMBS_CURRENTLY_SUSPENDED\' | translate }}"\n          tooltip-placement="bottom">\n      <span class="glyphicon glyphicon-pause white"></span>\n    </span>\n\n    <span ng-if="!!crumb.choices && crumb.choices.length === 1" ng-show="!crumb.hidden">\n      <span class="divider">:</span>\n      {{ getActiveChoice(crumb.choices) | translate }}\n    </span>\n\n    <span ng-if="!!crumb.choices && crumb.choices.length === 2"\n          class="switcher"\n          ng-show="!crumb.hidden"\n          ng-init="choices = sortedChoices(crumb.choices)">\n      <span class="divider">:</span>\n\n      <span class="current">{{ choices[0].label | translate}}</span>\n      <span class="divider">|</span>\n      <a href ng-click="selectChoice($event, choices[1])">{{ choices[1].label | translate}}</a>\n    </span>\n\n    <span ng-if="!!crumb.choices && crumb.choices.length > 2"\n          ng-show="!crumb.hidden"\n          class="dropdown"\n          uib-dropdown>\n      <span class="divider">:</span>\n\n      <a class="dropdown-toggle"\n         uib-dropdown-toggle\n         ng-show="!crumb.hidden"\n         href>\n        {{ getActiveChoice(crumb.choices) }}\n        <span class="caret"></span>\n      </a>\n\n      <ul class="dropdown-menu dropdown-menu-right" ng-show="!crumb.hidden" uib-dropdown-menu>\n        <li ng-repeat="choice in crumb.choices"\n            ng-class="{active: choice.active}">\n          <a href ng-click="selectChoice($event, choice)">{{ choice.label }}</a>\n        </li>\n      </ul>\n    </span>\n  </li>\n</ul>\n\x3c!-- / CE - camunda-bpm-webapp/ui/common/scripts/directives/breadcrumbs.html --\x3e\n',link:function(n){n.$on("page.breadcrumbs.changed",(function(e,t){n.breadcrumbs=t})),n.getHref=function(n){return t.redirectTo(n.href,e.search(),n.keepSearchParams)},n.selectChoice=function(t,n){t.preventDefault(),e.path(n.href.substr(1))},n.getActiveChoice=function(e){var t;return e.forEach((function(e){e.active&&(t=e.label)})),t||"Options"},n.sortedChoices=function(e){return e.sort((function(e,t){return e.active?-1:t.active?1:0}))}},controller:["$scope","page",function(e,t){e.breadcrumbs=t.breadcrumbsGet()}]}}]},{}],432:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/;i.$parsers.push((function(e){var t=r.test(e),n=!t||!isNaN(new Date(e).getTime());return i.$setValidity("datePattern",t),i.$setValidity("dateValue",n),e}));i.$formatters.push((function(e){if(e){var n=!isNaN(new Date(e).getTime()),a=r.test(e),o=n&&a;return i.$setValidity("datePattern",a),i.$setValidity("dateValue",n),o||(i.$pristine=!1,i.$dirty=!0,t.addClass("ng-dirty")),e}}))}}}},{}],433:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",template:'\x3c!-- CE # camunda-bpm-webapp/ui/common/scripts/module/components/cam-pagination.html --\x3e\n<ul uib-pagination ng-if="Pagination.total > Pagination.pages.size"\n            class="pagination-sm"\n\n            page="Pagination.pages.current"\n            ng-model="Pagination.pages.current"\n\n            total-items="Pagination.total"\n            items-per-page="Pagination.pages.size"\n\n            max-size="7"\n            boundary-links="true"></ul>\n\x3c!-- CE / camunda-bpm-webapp/ui/common/scripts/module/components/cam-pagination.html --\x3e\n',controller:"CamPaginationController as Pagination",scope:{total:"=",onPaginationChange:"&camPagination"}}}},{}],434:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",transclude:!0,template:'<div cam-widget-search\n     cam-widget-search-total="Searchable.pages.total"\n     cam-widget-search-size="Searchable.pages.size"\n     cam-widget-search-valid-searches="Searchable.config.searches"\n     cam-widget-search-translations="Searchable.config.tooltips"\n     cam-widget-search-types="Searchable.config.types"\n     cam-widget-search-id="{{searchId}}"\n     cam-widget-search-operators="Searchable.config.operators"\n     cam-widget-search-storage-group="Searchable.storageGroup"\n     cam-widget-search-mode="filter">\n</div>\n<div cam-widget-loader\n     text-error="{{Searchable.loadingError}}"\n     text-empty="{{Searchable.textEmpty}}"\n     loading-state="{{Searchable.loadingState}}">\n\n  <div ng-transclude></div>\n\n  <ul uib-pagination ng-if="Searchable.pages.total > Searchable.pages.size"\n              class="pagination-sm"\n              page="Searchable.pages.current"\n              ng-model="Searchable.pages.current"\n              total-items="Searchable.pages.total"\n              items-per-page="Searchable.pages.size"\n              max-size="7"\n              boundary-links="true">\n  </ul>\n</div>\n',controller:"CamPaginationSearchIntegrationController as Searchable",scope:{config:"=",loadingState:"=",loadingError:"@",arrayTypes:"=?",variableTypes:"=?",buildCustomQuery:"&",onSearchChange:"&",textEmpty:"@",storageGroup:"=",searchId:"@?",blocked:"="}}}},{}],435:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",template:'<ul class="nav nav-tabs"\n    ng-if="Tabs.providers.length > 1">\n  <li ng-repeat="tabProvider in Tabs.providers"\n      ng-class="{ active: Tabs.isSelected(tabProvider) }">\n    <a href ng-click="Tabs.selectTab(tabProvider)">{{ tabProvider.label | translate }}</a>\n  </li>\n</ul>\n\n<h4 ng-if="Tabs.providers.length === 1">{{ Tabs.providers[0].label | translate }}:</h4>\n\n<div class="ctn-tabbed-content ctn-scroll"\n     ng-if="Tabs.providers.length">\n  <view provider="Tabs.selected"\n        vars="Tabs.vars" />\n</div>\n',controller:"CamTabsController as Tabs",scope:{providerParams:"=camTabs",tabsApi:"=?",vars:"=?",varsValues:"=?"}}}},{}],436:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",template:'\x3c!-- # CE - ui/common/scripts/module/components/cam-toolbar.html --\x3e\n<div class="ctn-toolbar">\n  \x3c!-- Toolbar actions are provided by plugins --\x3e\n  <span ng-repeat="provider in providers">\n    <view provider="provider"\n          vars="vars" />\n  </span>\n</div>\n\x3c!-- / CE - ui/common/scripts/module/components/cam-toolbar.html --\x3e\n',scope:{providers:"=camToolbar",vars:"=?"}}}},{}],437:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular");function r(e,t,n,r,a){this.searchWidgetUtils=n,this.search=r,this.lastSearchQueryString=null,this.locationChange=!0,e.$on("$destroy",(function(){r("page",null)})),a(e,this,["config","arrayTypes","variableTypes","onSearchChange","buildCustomQuery","loadingError","loadingState","textEmpty","storageGroup","blocked"]),this.arrayTypes=i.isArray(this.arrayTypes)?this.arrayTypes:[],this.variableTypes=i.isArray(this.variableTypes)?this.variableTypes:[],this.pages={size:50,total:0,current:this.getCurrentPageFromSearch()};var o=function(){return this.pages.current}.bind(this);e.$watch(o,this.onPageChange.bind(this)),e.$on("$locationChangeSuccess",this.onLocationChange.bind(this)),e.$watch("config.searches",this.updateQuery.bind(this),!0),e.$watch("blocked",this.onBlockedChange.bind(this));var s=t.$on("cam-common:cam-searchable:query-force-change",this.onForcedRefresh.bind(this));e.$on("$destroy",(function(){s()}))}function a(e){return e&&e.map((function(e){return function(e){var t=e.value&&e.value.value,n=e.type&&e.type.value.value,i=e.operator&&e.operator.value.key,r=e.name&&e.name.value;return{value:t,type:n,operator:i,name:r}}(e)}))}t.exports=["$scope","$rootScope","searchWidgetUtils","search","exposeScopeProperties",r],r.prototype.onForcedRefresh=function(){this.resetPage(),this.executeQueries()},r.prototype.onBlockedChange=function(e,t){!e&&t&&this.query&&this.executeQueries()},r.prototype.getSearchQueryString=function(){return this.search().searchQuery},r.prototype.hasSearchQueryStringChanged=function(){var e=this.getSearchQueryString();return e!==this.lastSearchQueryString&&(this.lastSearchQueryString||"[]"!==e)},r.prototype.onPageChange=function(e,t){var n=this.getCurrentPageFromSearch();e!=t&&e!==n&&(this.search("page",e&&1!=e?e:null),this.hasSearchQueryStringChanged()||this.executeQueries())},r.prototype.onLocationChange=function(){var e=this.getCurrentPageFromSearch();+this.pages.current!=+e&&(this.pages.current=e,this.hasSearchQueryStringChanged()?this.locationChange=!0:this.executeQueries())},r.prototype.getCurrentPageFromSearch=function(){return+this.search().page||1},r.prototype.updateQuery=function(e,t){this.areSearchesDifferent(e,t)&&(this.query=this.buildCustomQuery&&this.buildCustomQuery(e)||this.createQuery(e),this.locationChange||this.resetPage(),this.lastSearchQueryString=this.getSearchQueryString(),this.executeQueries())},r.prototype.resetPage=function(){var e=this.search();this.pages.current=1,e.page=1,this.search.updateSilently(e,!0)},r.prototype.executeQueries=function(){this.query&&!this.blocked&&(this.locationChange=!1,this.onSearchChange({query:i.copy(this.query),pages:i.copy(this.pages)}).then(function(e){this.pages.total=e}.bind(this)))},r.prototype.createQuery=function(e){return this.searchWidgetUtils.createSearchQueryForSearchWidget(e,this.arrayTypes,this.variableTypes)},r.prototype.areSearchesDifferent=function(e,t){var n=a(e),r=a(t);return!i.equals(n,r)}},{"../../../../../camunda-commons-ui/vendor/angular":74}],438:[function(e,t,n){"use strict";t.exports=["$scope","search","paginationUtils","exposeScopeProperties",function(e,t,n,i){n.initializePaginationInController(e,t,(function(){e.onPaginationChange({pages:e.pages})})),i(e,this,["total","pages"]),e.onPaginationChange({pages:e.pages})}]},{}],439:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular");function r(e,t,n){this.providers=this.getProviders(n,e),this.selected=this.providers[0],this.search=t,this.initializeVars(e),e.$on("$locationChangeSuccess",this.onLocationChange.bind(this)),this.onLocationChange()}function a(e,t){return(t.priority||0)-(e.priority||0)}t.exports=["$scope","search","Views",r],r.prototype.initializeVars=function(e){this.vars=e.vars||{read:["tabsApi"]},e.varsValues&&i.extend(e,e.varsValues)},r.prototype.getProviders=function(e,t){return e.getProviders(t.providerParams).sort(a)},r.prototype.onLocationChange=function(){var e=this.search();this.isTabSelectionChangedInUrl(e)?this.selected=this.providers.filter((function(t){return t.id===e.tab}))[0]:e.tab||(this.selected=this.providers[0])},r.prototype.isTabSelectionChangedInUrl=function(e){return i.isString(e.tab)&&(!this.selected||e.tab!==this.selected.id)},r.prototype.selectTab=function(e){var t=this.search(),n={tab:e.id};this.selected=e,this.search.updateSilently(i.extend(t,n))},r.prototype.isSelected=function(e){return this.selected===e}},{"../../../../../camunda-commons-ui/vendor/angular":74}],440:[function(e,t,n){"use strict";function i(){this._hovered=null,this._listeners=[]}t.exports=i,i.prototype.hoverTitle=function(e){this._hovered=e,this._fireListeners()},i.prototype.cleanHover=function(){this._hovered=null,this._fireListeners()},i.prototype.addHoverListener=function(e,t){var n={title:e,listener:t};return this._listeners.push(n),this._fireEntry(n),function(){this._listeners=this._listeners.filter((function(e){return e.listener!==t}))}.bind(this)},i.prototype._fireListeners=function(){this._listeners.forEach(this._fireEntry.bind(this))},i.prototype._fireEntry=function(e){e.listener(e.title===this._hovered)}},{}],441:[function(e,t,n){"use strict";t.exports=["readFiles",function(e){return{restrict:"A",scope:{onChange:"&camFile"},link:function(t,n){n[0].addEventListener("change",(function(i){t.$apply((function(){e(n[0].files).then((function(e){t.onChange({$event:i,files:e})}))}))}))}}}]},{}],442:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",transclude:!0,scope:!0,controller:"HoverAreaController as HoverArea",link:function(e,t,n,i,r){r((function(e){t.empty(),t.append(e)}))}}}},{}],443:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",require:"^camHoverArea",link:function(e,t,n,i){t.on("mouseenter",(function(){e.$apply((function(){i.hoverTitle(n.camHoverTrigger)}))})),t.on("mouseleave",(function(){e.$apply(i.cleanHover.bind(i))}))}}}},{}],444:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",require:"^camHoverArea",link:function(e,t,n,i){var r,a=n.hoverClass||"hovered";function o(){r&&r()}n.$observe("camHoverableTitle",(function(e){o(),r=i.addHoverListener(e,(function(e){e?t.addClass(a):t.removeClass(a)}))})),t.on("$destroy",o)}}}},{}],445:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",template:'<span cam-widget-inline-field\n  class="set-value"\n  type="{{type}}"\n  change="onChange()"\n  value="property">\n  <span ng-show="property == null" class="null-value">{{ \'TIME_TO_LIVE_NULL\' | translate }}</span>\n  <span ng-show="property != null">\n    {{format({property: property}) || property}}\n    <button type="button" class="btn btn-link btn-xs" ng-click="remove($event)">\n      <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>\n    </button>\n  </span>\n</span>\n',scope:{property:"=camInlinePanelProperty",format:"&",onChange:"&",onRemove:"&",type:"@"},link:function(e){e.remove=function(t){t.preventDefault(),t.stopPropagation(),e.onRemove()}}}}},{}],446:[function(e,t,n){"use strict";t.exports=function(){return{replace:!1,restrict:"A",scope:{column:"@sortByProperty"},transclude:!0,require:"^^camSortableTableHeader",template:'<span  ng-transclude></span>\n<a ng-click="changeOrder(column)">\n  <span class="glyphicon" ng-class="orderClass(column)"></span>\n</a>',link:function(e,t,n,i){e.orderClass=function(e){var t=i.getSorting();return"glyphicon-"+{none:"minus",desc:"chevron-down",asc:"chevron-up"}[(e=e||t.sortBy)===t.sortBy?t.sortOrder:"none"]},e.changeOrder=function(e){i.changeOrder(e)}}}}},{}],447:[function(e,t,n){"use strict";function i(){}t.exports=function(){return{replace:!1,restrict:"A",scope:{onSortInitialized:"&",onSortChange:"&",sortBy:"@defaultSortBy",sortOrder:"@defaultSortOrder",sortingId:"@"},controller:["$scope","localConf",function(e,t){var n=e.sortingId,r={sortBy:e.sortBy,sortOrder:e.sortOrder},a=e.onSortInitialized||i,o=e.onSortChange||i,s=t.get(n,r);a({sorting:s}),this.changeOrder=function(e){s.sortBy=e,s.sortOrder="desc"===s.sortOrder?"asc":"desc",function(e){t.set(n,e)}(s),o({sorting:s})},this.getSorting=function(){return s}}]}}},{}],448:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",template:'\x3c!-- CE ui/common/scripts/module/external-tasks-common/components/external-task-activity-link.html --\x3e\n<a ng-href="{{Link.getLink()}}">\n  {{Link.getActivityName()}}\n</a>\n\x3c!-- / CE ui/common/scripts/module/external-tasks-common/components/external-task-activity-link.html --\x3e\n',controller:"ExternalTaskActivityLinkController as Link",scope:{activityId:"=externalTaskActivityLink",bpmnElements:"=",searchQueryType:"=?"}}}},{}],449:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",template:'<a ng-href="{{Link.getStacktraceUrl()}}" target="_blank" ng-transclude></a>\n',transclude:!0,controller:"ExternalTaskErrorMessageLinkController as Link",scope:{taskId:"=externalTaskErrorMessageLink",historic:"=?"}}}},{}],450:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",template:'\x3c!-- # EE - ui/common/scripts/module/external-tasks-common/components/external-tasks-tab.html --\x3e\n<div cam-widget-loader\n     loading-state="{{ TasksTab.loadingState }}"\n     text-empty="{{ \'PLUGIN_EXTERNAL_TASK_NO_EXTERNAL_TASK_FOR_THIS_PROCESS\' | translate }}">\n\n  \x3c!-- transclustion target --\x3e\n  <div ng-transclude></div>\n  \x3c!-- / transclustion target --\x3e\n\n  <div cam-pagination="TasksTab.onPaginationChange(pages)" total="TasksTab.total" >\n  </div>\n</div>\n\x3c!-- / EE - ui/common/scripts/module/external-tasks-common/components/external-tasks-tab.html --\x3e\n',transclude:!0,controller:"ExternalTasksTabController as TasksTab",scope:{onLoad:"&externalTasksTab",processData:"="}}}},{}],451:[function(e,t,n){"use strict";var i=e("../../../../../../camunda-commons-ui/vendor/angular");function r(e,t,n,i,r,a){t(e,this,["activityId","bpmnElements","searchQueryType"]),this.search=n,this.params=r,this.path=i.path(),this.searchWidgetUtils=a}t.exports=["$scope","exposeScopeProperties","search","$location","params","searchWidgetUtils",r],r.prototype.getLink=function(){var e=i.copy(this.search()),t=JSON.parse(e.searchQuery||"[]");return this.searchQueryType?e.searchQuery=JSON.stringify(this.searchWidgetUtils.replaceActivitiesInSearchQuery(t,this.searchQueryType,[this.activityId])):e.activityIds=this.activityId,"#"+this.path+"?"+this.params(e)},r.prototype.getActivityName=function(){var e=this.activityId;return this.bpmnElements[e]&&this.bpmnElements[e].name?this.bpmnElements[e].name:e}},{"../../../../../../camunda-commons-ui/vendor/angular":74}],452:[function(e,t,n){"use strict";function i(e,t,n){n(e,this,["taskId","historic"]),this.Uri=t}t.exports=["$scope","Uri","exposeScopeProperties",i],i.prototype.getStacktraceUrl=function(){var e="engine://engine/:engine/external-task/"+this.taskId+"/errorDetails";return this.historic&&(e="engine://engine/:engine/history/external-task-log/"+this.taskId+"/error-details"),this.Uri.appUri(e)}},{}],453:[function(e,t,n){"use strict";var i=e("../../../../../../camunda-commons-ui/vendor/angular");function r(e,t,n){t(e,this,["onLoad"]),e.$on("$destroy",(function(){n("page",null)})),e.processData.newChild(e).observe("filter",this.onFilterChanged.bind(this))}function a(e){return e&&e.activityIds&&e.activityIds.length?e.activityIds:null}t.exports=["$scope","exposeScopeProperties","search",r],t.exports.ExternalTasksTabController=r,r.prototype.onFilterChanged=function(e){this.isFilterChanged(e)&&(this.filter=e,this.pages&&this.loadTasks())},r.prototype.isFilterChanged=function(e){var t=a(this.filter),n=a(e);return!this.filter||!i.equals(t,n)},r.prototype.onPaginationChange=function(e){this.pages=e,this.filter&&this.loadTasks()},r.prototype.loadTasks=function(){this.loadingState="LOADING",this.onLoad({pages:i.copy(this.pages),activityIds:a(this.filter)}).then(function(e){this.total=e.count,e.list?this.loadingState="LOADED":this.loadingState="EMPTY"}.bind(this))}},{"../../../../../../camunda-commons-ui/vendor/angular":74}],454:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular"),r=e("./services/observe-bpmn-elements"),a=e("./components/external-task-activity-link"),o=e("./components/external-tasks-tab"),s=e("./components/external-task-error-message-link"),l=e("./controllers/external-task-activity-link-controller"),c=e("./controllers/external-tasks-tab-controller"),u=e("./controllers/external-task-error-message-link-controller"),d=i.module("cam-common.external-tasks-common",[]);d.factory("observeBpmnElements",r),d.directive("externalTaskActivityLink",a),d.directive("externalTasksTab",o),d.directive("externalTaskErrorMessageLink",s),d.controller("ExternalTaskActivityLinkController",l),d.controller("ExternalTasksTabController",c),d.controller("ExternalTaskErrorMessageLinkController",u),t.exports=d},{"../../../../../camunda-commons-ui/vendor/angular":74,"./components/external-task-activity-link":448,"./components/external-task-error-message-link":449,"./components/external-tasks-tab":450,"./controllers/external-task-activity-link-controller":451,"./controllers/external-task-error-message-link-controller":452,"./controllers/external-tasks-tab-controller":453,"./services/observe-bpmn-elements":455}],455:[function(e,t,n){"use strict";t.exports=function(){return function(e,t){t.processData.newChild(e).observe("bpmnElements",(function(e){t.bpmnElements=e}))}}},{}],456:[function(e,t,n){"use strict";var i=e("../../../../camunda-commons-ui/vendor/angular"),r=e("./services/is-module-available"),a=e("./services/expose-scope-properties"),o=e("./services/loaders"),s=e("./services/integrate-activity-instance-filter"),l=e("./services/params"),c=e("./services/create-list-query-function"),u=e("./services/create-is-search-query-changed-function"),d=e("./services/read-files"),p=e("./services/upload"),f=e("./services/get-deployment-url"),m=e("./services/is-file-upload-supported"),h=e("./services/get"),g=e("../services/plugins/getApiAttributes"),v=e("./components/cam-toolbar"),y=e("./components/cam-pagination"),b=e("./components/cam-searchable-area"),_=e("./components/cam-tabs"),E=e("./directives/cam-hover-area"),x=e("./directives/cam-hover-trigger"),w=e("./directives/cam-hoverable-title"),S=e("./directives/cam-file"),C=e("./directives/cam-inline-panel-property"),k=e("./directives/cam-sortable-table-header"),T=e("./directives/cam-sortable-table-column"),I=e("./controllers/hover-area"),A=e("./controllers/cam-pagination"),D=e("./controllers/cam-tabs"),O=e("./controllers/cam-pagination-search-integration"),P=e("../util/routeUtil"),N=e("../util/pagination-utils"),M=e("../util/search-widget-utils"),R=e("./external-tasks-common"),L=i.module("cam-common",[R.name]);L.factory("isModuleAvailable",r),L.factory("exposeScopeProperties",a),L.factory("Loaders",o),L.factory("integrateActivityInstanceFilter",s),L.factory("params",l),L.factory("createListQueryFunction",c),L.factory("createIsSearchQueryChangedFunction",u),L.factory("readFiles",d),L.factory("upload",p),L.factory("getDeploymentUrl",f),L.factory("isFileUploadSupported",m),L.factory("get",h),L.factory("getPluginApiAttributes",(function(){return g})),L.directive("camToolbar",v),L.directive("camPagination",y),L.directive("camSearchableArea",b),L.directive("camTabs",_),L.directive("camHoverArea",E),L.directive("camHoverTrigger",x),L.directive("camHoverableTitle",w),L.directive("camFile",S),L.directive("camInlinePanelProperty",C),L.directive("camSortableTableHeader",k),L.directive("camSortableTableColumn",T),L.controller("HoverAreaController",I),L.controller("CamPaginationController",A),L.controller("CamTabsController",D),L.controller("CamPaginationSearchIntegrationController",O),L.value("routeUtil",P),L.value("paginationUtils",N),L.value("searchWidgetUtils",M),t.exports=L},{"../../../../camunda-commons-ui/vendor/angular":74,"../services/plugins/getApiAttributes":475,"../util/pagination-utils":483,"../util/routeUtil":484,"../util/search-widget-utils":485,"./components/cam-pagination":433,"./components/cam-searchable-area":434,"./components/cam-tabs":435,"./components/cam-toolbar":436,"./controllers/cam-pagination":438,"./controllers/cam-pagination-search-integration":437,"./controllers/cam-tabs":439,"./controllers/hover-area":440,"./directives/cam-file":441,"./directives/cam-hover-area":442,"./directives/cam-hover-trigger":443,"./directives/cam-hoverable-title":444,"./directives/cam-inline-panel-property":445,"./directives/cam-sortable-table-column":446,"./directives/cam-sortable-table-header":447,"./external-tasks-common":454,"./services/create-is-search-query-changed-function":457,"./services/create-list-query-function":458,"./services/expose-scope-properties":459,"./services/get":461,"./services/get-deployment-url":460,"./services/integrate-activity-instance-filter":462,"./services/is-file-upload-supported":463,"./services/is-module-available":464,"./services/loaders":465,"./services/params":466,"./services/read-files":467,"./services/upload":468}],457:[function(e,t,n){"use strict";t.exports=["search",function(e){return function(){var t=null;return function(){var n=e().searchQuery;if(n!==t&&(t||"[]"!==n))return t=n,!0}}}]},{}],458:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular");t.exports=["$q",function(e){return function(t,n){return function(r,a,o){return t(r).then((function(t){var s=(a.current-1)*a.size,l=t.count,c=i.extend({},r,{firstResult:s,maxResults:a.size},o);return l>s?e.all({count:l,list:n(c)}):t}))}}}]},{"../../../../../camunda-commons-ui/vendor/angular":74}],459:[function(e,t,n){"use strict";t.exports=function(){return function(e,t,n){var i=n.reduce((function(t,n){return t[n]={get:function(){return e[n]},set:function(t){e[n]=t}},t}),{});Object.defineProperties(t,i)}}},{}],460:[function(e,t,n){"use strict";t.exports=["$location","routeUtil",function(e,t){return function(n,i){var r={deployment:n.id,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:n.id}])};i&&(r.resourceName=i.name);var a=e.search()||{};return a.deploymentsSortBy&&(r.deploymentsSortBy=a.deploymentsSortBy),a.deploymentsSortOrder&&(r.deploymentsSortOrder=a.deploymentsSortOrder),t.redirectTo("#/repository",r,["deployment","resourceName","deploymentsQuery","deploymentsSortOrder","deploymentsSortBy"])}}]},{}],461:[function(e,t,n){"use strict";t.exports=function(){return function(e,t,n){for(var i,r=e,a=0;a<t.length;a++){if(i=t[a],!r||!r[i])return n;r=r[i]}return r}}},{}],462:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular");t.exports=["search","$location","searchWidgetUtils",function(e,t,n){return function(r,a,o){var s=r.processData,l=r.processInstance;function c(t){var r=e(),a=n.getActivityIdsFromUrlParams("activityInstanceIdIn",r),o=r.activityIds?r.activityIds.split(","):[],s=function(e,t,n){return e&&i.equals(t,e.activityIds)&&!i.equals(n,e.activityInstanceIds)}(t,o,a);return s&&(o=[]),{activityIds:o,activityInstanceIds:a,page:parseInt(r.page,10)||void 0,replace:s||!t}}o=o||{},r.filter=c(),s.provide("filter",c()),s.observe(["filter","instanceIdToInstanceMap","activityIdToInstancesMap"],(function(t,a,l){var c,u=t.activityIds||[],d=t.activityInstanceIds||[],p=parseInt(t.page,10)||null,f=t.scrollToBpmnElement,m=t!==r.filter,h=t.replace;if(delete t.replace,i.forEach(d,(function(e){var t=a[e]||{},n=t.activityId||t.targetActivityId;-1===u.indexOf(n)&&n&&u.push(n)})),i.forEach(u,(function(e){var t=l[e],n=!1,i=[];if(t){for(var r,a=0;r=t[a];a++){if(-1!==d.indexOf(r.id)){n=!0;break}i.push(r.id)}n||(d=d.concat(i))}})),o.shouldRemoveActivityIds)for(var g=0;g<u.length;g++)l[u[g]]||(u.splice(g,1),g--);for(g=0;g<d.length;g++)a[d[g]]||(d.splice(g,1),g--);if(u.length>0){var v=u[u.length-1];v!==f&&(f=v)}c={activityIds:u,activityInstanceIds:d,scrollToBpmnElement:f,page:p},i.equals(c,r.filter)||(r.filter=c,s.set("filter",r.filter));m&&r.filter&&function(t,a){var o=i.isArray(t.activityInstanceIds)?t.activityInstanceIds:[],s=i.isArray(t.activityIds)?t.activityIds:[],l=e(),c=JSON.parse(l.searchQuery||"[]");c=l.searchQuery||o.length||s.length?n.replaceActivitiesInSearchQuery(c,"activityInstanceIdIn",o):null;e.updateSilently({searchQuery:c?JSON.stringify(c):null,activityIds:s.length?s.join(","):null},a),r.filter=t}(r.filter,h)})),r.$on("$locationChangeSuccess",(function(){var e=c(r.filter);t.path().indexOf(l.id)>-1&&(n.shouldUpdateFilter(e,r.filter,["activityIds","activityInstanceIds","page"])&&s.set("filter",e),a(r.processInstanceTabs))}))}}]},{"../../../../../camunda-commons-ui/vendor/angular":74}],463:[function(e,t,n){"use strict";t.exports=["$window",function(e){return function(){var t=e.FileReader;return"function"==typeof t&&"function"==typeof t.prototype.readAsText}}]},{}],464:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular");t.exports=function(){return function(e){try{return!!i.module(e)}catch(e){return!1}}}},{"../../../../../camunda-commons-ui/vendor/angular":74}],465:[function(e,t,n){"use strict";t.exports=["$rootScope",function(e){var t=[],n="LoaderService:active-loaders-changed";return{startLoading:function(){var e=function e(){t=t.filter((function(t){return t!==e})),i()};return t.push(e),i(),e},addStatusListener:function(e,t){return t(r()),e.$on(n,(function(){var e=r();t(e)}))}};function i(){e.$broadcast(n)}function r(){return 0===t.length?"LOADED":"LOADING"}}]},{}],466:[function(e,t,n){"use strict";t.exports=function(){return function(e){return Object.keys(e).reduce((function(t,n){var i=e[n],r=n+"="+encodeURIComponent(i);return t.length?t+"&"+r:r}),"")}}},{}],467:[function(e,t,n){"use strict";t.exports=["$q","$window",function(e,t){return function(t){return e.all(Array.prototype.map.call(t,n))};function n(n){var i=e.defer(),r=new t.FileReader;return r.onload=function(e){i.resolve({file:n,content:e.target.result})},r.onerror=function(e){i.reject(e)},r.readAsText(n),i.promise}}]},{}],468:[function(e,t,n){"use strict";var i=e("../../../../../camunda-commons-ui/vendor/angular");t.exports=["$window","$q","$rootScope","$cookies","$http",function(e,t,n,r,a){return function(e,r,o){var s=t.defer();i.isArray(r)||(r=[r]),o=o||{};var l=r.map((function(e,t){return'Content-Disposition: form-data; name="data'+t+'"; filename="'+e.file.name+'"\r\nContent-Type: text/xml\r\n\r\n'+e.content+"\r\n"}));l=l.concat(Object.keys(o).map((function(e){return'Content-Disposition: form-data; name="'+e+'"\r\n\r\n'+o[e]+"\r\n"})));var c="---------------------------"+Date.now().toString(16),u="--"+c+"\r\n"+l.join("--"+c+"\r\n")+"--"+c+"--\r\n";return a.post(e,u,{transformRequest:i.identity,headers:{"Content-Type":"multipart/form-data; boundary="+c}}).then((function(e){s.resolve(e.data)})).catch((function(e){401===e.status&&(n.$broadcast("authentication.changed",null),n.authentication=null,n.$broadcast("authentication.login.required")),s.reject(e)})),s.promise}}]},{"../../../../../camunda-commons-ui/vendor/angular":74}],469:[function(e,t,n){"use strict";var i=e("camunda-bpm-sdk-js/lib/angularjs/index");t.exports=["Uri","camAPIHttpClient",function(e,t){return new i.Client({HttpClient:t,apiUri:e.appUri("engine://"),engine:e.appUri(":engine")})}]},{"camunda-bpm-sdk-js/lib/angularjs/index":"camunda-bpm-sdk-js/lib/angularjs/index"}],470:[function(e,t,n){"use strict";var i=e("angular"),r={dateFormat:{monthName:"MMMM",day:"DD",abbr:"lll",normal:"LLL",long:"LLLL",short:"LL"},locales:{availableLocales:["en"],fallbackLocale:"en"},skipCustomListeners:{default:!0,hidden:!1},skipIoMappings:{default:!0,hidden:!1},runtimeActivityInstanceMetrics:{display:!0},historicActivityInstanceMetrics:{adjustablePeriod:!0,period:{unit:"day"}},batchOperation:{mode:"filter",autoLoadEnded:!0},csrfCookieName:"XSRF-TOKEN",disableWelcomeMessage:!1,userOperationLogAnnotationLength:4e3,previewHtml:!0,assignProcessInstanceIdToTaskComment:!1};t.exports=function(e,t){return[function(){var n=window.localStorage,a=JSON.parse(n.getItem("camunda-web")||"{}");this.get=function(e,t){return void 0!==a[e]?a[e]:t},this.set=function(e,t){a[e]=t,n.setItem("camunda-web",JSON.stringify(a))},this.clearTranslationData=function(){for(var e in a)e.includes("_locales_data_")&&!e.includes(window.bust)&&delete a[e];window.localStorage.setItem("camunda-web",JSON.stringify(a))},this.getDateFormat=function(t){return(e.dateFormat||r.dateFormat)[t]||r.dateFormat[t]},this.getFallbackLocale=function(){return e.locales&&e.locales.fallbackLocale?e.locales.fallbackLocale:r.locales.fallbackLocale},this.getAvailableLocales=function(){return e.locales&&e.locales.availableLocales?e.locales.availableLocales:r.locales.availableLocales},this.getDateLocales=function(){return e.camDateLocales},this.getAppVendor=function(){return e.app&&e.app.vendor?e.app.vendor:"Camunda"},this.getAppName=function(){return e.app&&e.app.name?e.app.name:t},this.getSkipCustomListeners=function(){return i.extend({},r.skipCustomListeners,e.skipCustomListeners)},this.getSkipIoMappings=function(){return i.extend({},r.skipIoMappings,e.skipIoMappings)},this.getRuntimeActivityInstanceMetrics=function(){var t="runtimeActivityInstanceMetrics";return i.extend({},r[t],e[t]).display},this.getActivityInstancePeriod=function(){var t="historicActivityInstanceMetrics";return e[t]&&e[t].period?e[t].period:r[t].period},this.getActivityInstanceAdjustable=function(){var t="historicActivityInstanceMetrics";return e[t]&&void 0!==e[t].adjustablePeriod?e[t].adjustablePeriod:r[t].adjustablePeriod},this.getBatchOperationMode=function(){var t="batchOperation";return e[t]&&e[t].mode||r[t].mode},this.getBatchOperationAutoLoadEnded=function(){var t="batchOperation";return e[t]&&void 0!==e[t].autoLoadEnded?e[t].autoLoadEnded:r[t].autoLoadEnded},this.getBpmnJs=function(){return e.bpmnJs},this.getHistoricProcessInstancesSearch=function(){return(e.defaultFilter||{}).historicProcessDefinitionInstancesSearch},this.getCsrfCookieName=function(){var t="csrfCookieName";return e[t]||r[t]},this.getDisableWelcomeMessage=function(){var t="disableWelcomeMessage";return e[t]||r[t]},this.getUserOperationLogAnnotationLength=function(){var t="userOperationLogAnnotationLength";return e[t]||r[t]},this.getPreviewHtml=function(){var t="previewHtml";return void 0!==e[t]?e[t]:r[t]},this.getAssignProcessInstanceIdToTaskComment=function(){var t="assignProcessInstanceIdToTaskComment";return void 0!==e[t]?e[t]:r[t]},this.$get=function(){return this}}]}},{angular:"angular"}],471:[function(e,t,n){"use strict";t.exports=["Views",function(e){return function(t,n){return!!e.getProviders({component:t}).filter((function(e){return e.id===n})).length}}]},{}],472:[function(e,t,n){"use strict";var i=e("../../../../camunda-commons-ui/vendor/moment"),r=e("../../../../camunda-commons-ui/vendor/angular"),a=(new Date).getTime();t.exports=function(e,t,n){e.factory("localeLoader",["$q","$http","Notifications","configuration",function(e,t,n,i){return function(o){if(!o||!r.isString(o.prefix)||!r.isString(o.suffix))throw new Error("Couldn't load static files, no prefix or suffix specified!");var s=e.defer(),l=o.prefix+"_locales_data_"+o.key+"_"+window.bust,c=i.get(l);return c&&(c=JSON.parse(c),"function"==typeof o.callback&&o.callback(null,c,o.key),s.resolve(c.labels)),t(r.extend({url:[o.prefix,o.key,o.suffix].join(""),method:"GET",params:{_:a}},o.$http)).then((function(e){i.clearTranslationData(),i.set(l,JSON.stringify(e.data)),c||("function"==typeof o.callback&&o.callback(null,e.data,o.key),s.resolve(e.data.labels))})).catch((function(e){n.addError({status:"Error in localization configuration",message:'"'+o.key+'" is declared as available locale, but no such locale file exists.'}),c||("function"==typeof o.callback&&o.callback(e.data,null,o.key),s.reject(o.key))})),s.promise}}]),e.config(["$translateProvider","configurationProvider",function(e,a){var o=a.getAvailableLocales(),s=a.getFallbackLocale();e.useLoader("localeLoader",{prefix:t+"/app/"+n+"/locales/",suffix:".json",callback:function(e,t,n){if(!e&&t&&t.dateLocales){var r=n||s;i.locales().indexOf(r)>-1?i.updateLocale(r,t.dateLocales):i.defineLocale(r,t.dateLocales)}}}),e.registerAvailableLanguageKeys(o),e.fallbackLanguage(s),e.useSanitizeValueStrategy("escapeParameters"),e.determinePreferredLanguage((function(){var e=window.navigator,t=((r.isArray(e.languages)?e.languages[0]:e.language||e.browserLanguage||e.systemLanguage||e.userLanguage)||"").split("-"),n=o.indexOf(t[0].toLowerCase());return n>-1?o[n]:s}))}])}},{"../../../../camunda-commons-ui/vendor/angular":74,"../../../../camunda-commons-ui/vendor/moment":77}],473:[function(e,t,n){"use strict";var i=e("../../../../camunda-commons-ui/vendor/angular");t.exports=["$rootScope","$location","camAPI",function(e,t,n){var r={title:"Camunda",breadcrumbs:[]},a=i.element(document.querySelector("head title")),o=a[0].textContent||"Camunda Cockpit";function s(t){t&&t.name?n.resource("user").profile(t.name,(function(t,n){if(t)throw e.userFullName=null,t;e.userFullName=n.firstName+" "+n.lastName})):e.userFullName=null}return e.$on("page.title.changed",(function(){a.text([o,r.title].join(" | "))})),e.isActivePage=function(e){return 0===t.path().indexOf("/"+e)?"active":""},e.$on("authentication.changed",(function(e,t){s(t)})),s(e.authentication),{titleSet:function(t){return r.title=t,e.$broadcast("page.title.changed",r.title),this},titleGet:function(){return r.title},breadcrumbsAdd:function(t){if(i.isArray(t))return i.forEach(t,this.breadcrumbsAdd);i.isFunction(t)&&(t={callback:t});return t.label=t.label||"…",r.breadcrumbs.push(t),e.$broadcast("page.breadcrumbs.changed",r.breadcrumbs),this},breadcrumbsInsertAt:function(t,n){return r.breadcrumbs=r.breadcrumbs.slice(0,t).concat(i.isArray(n)?n:[n]).concat(r.breadcrumbs.slice(t+1)),e.$broadcast("page.breadcrumbs.changed",r.breadcrumbs),this},breadcrumbsGet:function(e){return e?("last"===e&&(e=r.length-1),r.breadcrumbs[e]):r.breadcrumbs},breadcrumbsClear:function(){return r.breadcrumbs=[],e.$broadcast("page.breadcrumbs.changed",r.breadcrumbs),this}}}]},{"../../../../camunda-commons-ui/vendor/angular":74}],474:[function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}e("regenerator-runtime/runtime.js");var s=e("./getApiAttributes"),l=e("./getPassthroughData"),c=e("./loadPlugins");t.exports=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t,i);case 2:e.sent.forEach((function(e){var a=Math.random().toString(36).substring(2);e.overlay=["control","$scope",function(n,r){var a=n.getViewer;e.render(a(),s(l(e.pluginPoint,r,i),t.csrfCookieName),r),r.$on("$destroy",(function(){e.unmount&&e.unmount()}))}],n.directive("pluginBridge"+a,[function(){return{link:function(n,r){var a=document.createElement("div");e.render(a,s(l(e.pluginPoint,n,i),t.csrfCookieName,i),n),r[0].appendChild(a),n.$on("$destroy",(function(){e.unmount&&e.unmount()}))}}}]),n.config(["ViewsProvider",function(t){t.registerDefaultView(e.pluginPoint,r(r(r({},e.properties),e),{},{template:"<div plugin-bridge".concat(a," />")}))}]),e.pluginPoint==="".concat(i,".route")&&n.config(["$routeProvider",function(t){t.when(e.properties.path,{template:"<div plugin-bridge".concat(a," />"),controller:["$scope",function(e){e.$root.showBreadcrumbs=!1}],authentication:"required"})}])}));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function s(e){o(a,i,r,s,l,"next",e)}function l(e){o(a,i,r,s,l,"throw",e)}s(void 0)}))});return function(e,n,i){return t.apply(this,arguments)}}()},{"./getApiAttributes":475,"./getPassthroughData":477,"./loadPlugins":479,"regenerator-runtime/runtime.js":338}],475:[function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return document.cookie.replace(new RegExp("(?:(?:^|.*;*)".concat(e,"*=*([^;]*).*$)|^.*$")),"$1")}t.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"XSRF-TOKEN",n=arguments.length>2?arguments[2]:void 0,i=document.querySelector("base"),a=new RegExp(".*".concat(n,"/([^/]*).*")),s=window.location.href.replace(a,"$1");return r({api:{adminApi:i.getAttribute("admin-api").slice(0,-1),baseApi:i.getAttribute("engine-api").slice(0,-1),cockpitApi:i.getAttribute("cockpit-api").slice(0,-1),tasklistApi:i.getAttribute("tasklist-api").slice(0,-1),engineApi:i.getAttribute("engine-api")+"engine/"+s,engine:s,CSRFToken:o(t)}},e)}},{}],476:[function(e,t,n){"use strict";t.exports=function(e,t){var n={};switch(e){case"cockpit.processDefinition.runtime.tab":case"cockpit.processDefinition.runtime.action":case"cockpit.processDefinition.history.action":case"cockpit.processDefinition.history.tab":n.processDefinitionId=t.processDefinition.id;break;case"cockpit.processInstance.runtime.tab":case"cockpit.processInstance.runtime.action":case"cockpit.processInstance.history.tab":case"cockpit.processInstance.history.action":n.processInstanceId=t.processInstance.id;break;case"cockpit.processDefinition.diagram.plugin":case"cockpit.processDefinition.history.diagram.plugin":n.processDefinitionId=t.key;break;case"cockpit.processInstance.diagram.plugin":case"cockpit.processInstance.history.diagram.plugin":n.processInstanceId=window.location.hash.split("/")[2];break;case"cockpit.jobDefinition.action":n.jobDefinitionId=t.jobDefinition.id;break;case"cockpit.decisionDefinition.tab":case"cockpit.decisionDefinition.action":n.decisionDefinitionId=t.decisionDefinition.id;break;case"cockpit.decisionInstance.tab":case"cockpit.decisionInstance.action":n.decisionInstanceId=t.decisionInstance.id;break;case"cockpit.caseDefinition.tab":case"cockpit.caseDefinition.action":n.caseDefinitionId=t.definition.id;break;case"cockpit.caseInstance.tab":case"cockpit.caseInstance.action":n.caseInstanceId=t.instance.id;break;case"cockpit.repository.resource.action":n.deploymentId=t.deployment.id,n.resourceId=t.resource.id;break;case"cockpit.incident.action":n.incidentId=t.incident.id;break;case"cockpit.drd.definition.tab":n.drdDefinitionId=t.tabsApi.getDefinition().id;break;case"cockpit.drd.instance.tab":n.rootDecisionInstanceId=t.tabsApi.processParams({}).rootDecisionInstanceId;break;case"cockpit.processDefinition.diagram.action":case"cockpit.processDefinition.history.diagram.action":n.viewer=t.viewer,n.processDefinitionId=window.location.hash.split("/")[2];break;case"cockpit.processes.action":n.processDefinitionId=t.pd.id;break;case"cockpit.repository.deployment.action":n.deploymentId=t.deployment.id;break;default:n={}}return n}},{}],477:[function(e,t,n){"use strict";t.exports=function(t,n,i){switch(i){case"cockpit":return e("./cockpitPassthroughData")(t,n);case"tasklist":return e("./tasklistPassthroughData")(t,n);default:return{}}}},{"./cockpitPassthroughData":476,"./tasklistPassthroughData":478}],478:[function(e,t,n){"use strict";t.exports=function(e,t){var n={};switch(e){case"tasklist.task.detail":case"tasklist.card":n.taskId=t.task.id;break;default:n={}}return n}},{}],479:[function(e,t,n){"use strict";function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}e("regenerator-runtime/runtime.js");var o=document.querySelector("base").href+"../",s=["admin-plugin-adminPlugins","admin-plugin-adminEE","cockpit-plugin-cockpitPlugins","cockpit-plugin-cockpitEE","tasklist-plugin-tasklistPlugins"];t.exports=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,a,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.customScripts||[],a=window.PLUGIN_PACKAGES.filter((function(e){return!s.includes(e.name)&&!e.name.startsWith("".concat(n,"-plugin-legacy"))})).map((function(e){var t,n;return t="".concat(e.location,"/plugin.css"),(n=document.createElement("link")).rel="stylesheet",n.type="text/css",n.href=t,document.head.appendChild(n),"".concat(e.location,"/").concat(e.main)})),(l=r.map((function(e){return window._import(o+(t=e,n=".js",t.endsWith(n)?t:t+n)).catch((function(e){return console.error(e)}));var t,n}))).push.apply(l,i(a.map((function(e){return window._import(e).catch((function(e){return console.error(e)}))})))),e.next=6,Promise.all(l);case 6:return c=e.sent.reduce((function(e,t){var n=t.default;return n?(Array.isArray(n)?e.push.apply(e,i(n)):e.push(n),e):e}),[]),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){a(o,i,r,s,l,"next",e)}function l(e){a(o,i,r,s,l,"throw",e)}s(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()},{"regenerator-runtime/runtime.js":338}],480:[function(e,t,n){"use strict";var i=e("./../util/routeUtil");t.exports=[function(){return{redirectToRuntime:function(e,t,n){return i.redirectToRuntime(e,t,n)},replaceLastPathFragment:function(e,t,n,r){return i.replaceLastPathFragment(e,t,n,r)},redirectTo:function(e,t,n){return i.redirectTo(e,t,n)}}}]},{"./../util/routeUtil":484}],481:[function(e,t,n){"use strict";var i=e("camunda-bpm-sdk-js").utils.typeUtils;t.exports=function(){return i}},{"camunda-bpm-sdk-js":"camunda-bpm-sdk-js"}],482:[function(e,t,n){"use strict";t.exports=function(e,t){return-1!==e.indexOf(t)}},{}],483:[function(e,t,n){"use strict";var i=e("../../../../camunda-commons-ui/vendor/angular"),r={size:50,total:0,current:1};function a(e){return e().page||1}t.exports={initializePaginationInController:function(e,t,n){var o=e.pages=i.copy(r);return o.current=a(t),e.$watch("pages.current",(function(e,i){var r=a(t);e!=i&&e!==r&&(t("page",e&&1!=e?e:null),n(e,i))})),e.$on("$locationChangeSuccess",(function(){var e=a(t);if(+o.current!=+e){var i=o.current;o.current=e,n(o.current,i)}})),e.$on("$destroy",(function(){t("page",null)})),o}}},{"../../../../camunda-commons-ui/vendor/angular":74}],484:[function(e,t,n){"use strict";var i={redirectToRuntime:function(e,t,n){var r=t+"/runtime";return i.redirectTo(r,n,!0)},replaceLastPathFragment:function(e,t,n,r){var a=t.replace(/[^/]*$/,e);return i.redirectTo(a,n,r)},redirectTo:function(e,t,n){var i,r=[];if(t&&n){var a="[object Array]"===Object.prototype.toString.call(n);for(i in t)a&&-1===n.indexOf(i)||r.push(i+"="+encodeURIComponent(t[i]))}return e+(r.length?"?"+r.join("&"):"")}};t.exports=i},{}],485:[function(e,t,n){"use strict";var i=e("../../../../camunda-commons-ui/vendor/angular"),r=e("../../../../camunda-commons-ui/vendor/moment"),a=e("./includes");function o(e){return encodeURI(e).replace(/#/g,"%23")}function s(e,t){return i.isObject(e)?function(e){return Object.keys(e).reduce((function(t,n){var i=e[n];return null!=i&&(t[n]=i),t}),{})}(function(e,t){return Object.keys(e).reduce((function(n,i){var r=e[i];return a(t,i)&&(n[i]=r),n}),{})}(e,t)):e}function l(e,t){return t.map(c.bind(null,e))}function c(e,t){return{type:e,operator:"eq",value:t}}function u(e,t,n,o){var s=function(e,t){var n=e.type.value.key,i=e.operator.value.key;(function(e){return-1!==e.indexOf("Date")})(n)&&(n=n.slice(0,-4));(function(e){return a(["After","Before","Like"],e)})(i)&&!a(t,n)&&(n+=i);return n}(o,t),l=function(e){if(e.basic)return!0;return function(e,t,n,i){var a=/(\\%)|(\\_)/g,o=/(%)|(_)/;if(!("like"!==n.toLowerCase()&&"notlike"!==n.toLowerCase()||o.test(t.replace(a,""))))return"%"+t+"%";if(i.allowDates&&d.test(t))return r(t,r.ISO_8601).format("YYYY-MM-DDTHH:mm:ss.SSSZZ");return e||t}(e.value.key,e.value.value,e.operator.value.key,e)}(o);return a(t,s)&&(l=function(e,t){return{name:e.name.value,operator:e.operator.value.key,value:p(t)}}(o,l)),a(e,s)?n[s]=function(e,t,n){return i.isArray(e[t])?e[t].concat([n]):[n]}(n,s,l):n[s]=l,n}t.exports={getSearchQueryForSearchType:function(e,t){return t=[].concat(t),o("searchQuery="+JSON.stringify(l(e,t)))},getActivityIdsFromUrlParams:function(e,t){var n=JSON.parse(t.searchQuery||"[]");return function(e,t){return t.filter((function(t){return t.type===e})).map((function(e){return e.value}))}(e,n)},replaceActivitiesInSearchQuery:function(e,t,n){return function(e,t){return t.filter((function(t){return t.type!==e}))}(t,e).concat(l(t,n))},createSearchQueryForSearchWidget:function(e,t,n){return e=i.isArray(e)?e:[],t=i.isArray(t)?t:[],n=i.isArray(n)?n:["variables"],t=t.concat(n),e.reduce(u.bind(null,t,n),{})},shouldUpdateFilter:function(e,t,n){return n=i.isArray(n)?n:[],!i.equals(s(e,n),s(t,n))},createSearchesForActivityIds:l,encodeQuery:o,updateSearchValuesForTypeInCtrlMode:function(e,t,n){var i=function(e,t,n){return e.filter((function(e){return e.type!==n||!a(t,e.value)}))}(e,n,t),r=function(e,t,n){var i=t.filter((function(e){return e.type===n})).map((function(e){return e.value}));return e.filter((function(e){return!a(i,e)}))}(n,e,t);return i.concat(l(t,r))}};var d=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/;function p(e){return isNaN(e)||""===e.trim()?"true"===e||"false"!==e&&("NULL"===e?null:0===e.indexOf("'")&&e.lastIndexOf("'")===e.length-1?e.substr(1,e.length-2):e):+e}},{"../../../../camunda-commons-ui/vendor/angular":74,"../../../../camunda-commons-ui/vendor/moment":77,"./includes":482}]},{},[352])(352)}));
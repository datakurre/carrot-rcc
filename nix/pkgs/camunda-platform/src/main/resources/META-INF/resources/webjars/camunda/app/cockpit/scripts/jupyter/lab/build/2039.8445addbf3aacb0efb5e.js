"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[2039],{12039:(t,e,s)=>{s.r(e),s.d(e,{GroupItem:()=>h,IStatusBar:()=>nt,KernelStatus:()=>T,LineCol:()=>Y,Popup:()=>N,ProgressBar:()=>B,RunningSessions:()=>X,StatusBar:()=>st,TextItem:()=>P,clickedItem:()=>S,interactiveItem:()=>w,item:()=>y,leftSide:()=>f,rightSide:()=>k,showPopup:()=>I,side:()=>x,statusBar:()=>b});var n=s(2411),i=s.n(n),a=s(66770);const r={display:"flex",alignItems:"center"},o={flexDirection:"row"};const l=(0,a.oB)(r,o);function h(t){const{spacing:e,children:s,className:i}=t,r=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]])}return s}(t,["spacing","children","className"]),o=n.Children.count(s);return n.createElement("div",Object.assign({className:(0,a.Sh)(l,i)},r),n.Children.map(s,((t,s)=>0===s?n.createElement("div",{style:{marginRight:`${e}px`}},t):s===o-1?n.createElement("div",{style:{marginLeft:`${e}px`}},t):n.createElement("div",{style:{margin:`0px ${e}px`}},t))))}var d=s(5714),c=s(61389);const u="var(--jp-statusbar-height)",_="var(--jp-ui-font-color1)",g="10px",m=(0,a.oB)({fontSize:"var(--jp-ui-font-size1)",fontFamily:"var(--jp-ui-font-family)"},{lineHeight:"24px",color:_}),p={paddingLeft:"6px",paddingRight:"6px"},v={$nest:{"&:hover":{backgroundColor:"var(--jp-layout-color3)"}}},C={backgroundColor:"var(--jp-brand-color1)",$nest:{["."+m]:{color:"white"}}},b=(0,a.oB)({background:"var(--jp-layout-color2)",minHeight:u,justifyContent:"space-between",paddingLeft:g,paddingRight:g},r),x=(0,a.oB)(r),f=(0,a.oB)(o),k=(0,a.oB)({flexDirection:"row-reverse"}),y=(0,a.oB)({maxHeight:u,marginLeft:"2px",marginRight:"2px",height:u,whiteSpace:"nowrap",textOverflow:"ellipsis",color:_},p),S=(0,a.oB)(C),w=(0,a.oB)(v),E=(0,a.oB)({boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"});function I(t){const e=new N(t);return e.launch(),e}class N extends c.Widget{constructor(t){super(),this._body=t.body,this._body.addClass(E),this._anchor=t.anchor,this._align=t.align,(this.layout=new c.PanelLayout).addWidget(t.body),this._body.node.addEventListener("resize",(()=>{this.update()}))}launch(){this._setGeometry(),c.Widget.attach(this,document.body),this.update(),this._anchor.addClass(S),this._anchor.removeClass(w)}onUpdateRequest(t){this._setGeometry(),super.onUpdateRequest(t)}onAfterAttach(t){document.addEventListener("click",this,!1),this.node.addEventListener("keydown",this,!1),window.addEventListener("resize",this,!1)}onAfterDetach(t){document.removeEventListener("click",this,!1),this.node.removeEventListener("keydown",this,!1),window.removeEventListener("resize",this,!1)}onResize(){this.update()}dispose(){super.dispose(),this._anchor.removeClass(S),this._anchor.addClass(w)}handleEvent(t){switch(t.type){case"keydown":this._evtKeydown(t);break;case"click":this._evtClick(t);break;case"resize":this.onResize()}}_evtClick(t){!t.target||this._body.node.contains(t.target)||this._anchor.node.contains(t.target)||this.dispose()}_evtKeydown(t){switch(t.keyCode){case 27:t.stopPropagation(),t.preventDefault(),this.dispose()}}_setGeometry(){let t=0;const e=this._anchor.node.getBoundingClientRect(),s=this._body.node.getBoundingClientRect();"right"===this._align&&(t=-(s.width-e.width));const n=window.getComputedStyle(this._body.node);d.HoverBox.setGeometry({anchor:e,host:document.body,maxHeight:500,minHeight:20,node:this._body.node,offset:{horizontal:t},privilege:"forceAbove",style:n})}}const R=(0,a.oB)({background:"black",height:"10px",width:"100px",border:"1px solid black",borderRadius:"3px",marginLeft:"4px",overflow:"hidden"}),j=(0,a.oB)({background:"var(--jp-brand-color2)",height:"10px"});function B(t){return n.createElement("div",{className:R},n.createElement(O,{percentage:t.percentage}))}function O(t){return n.createElement("div",{className:j,style:{width:`${t.percentage}px`}})}function P(t){const{title:e,source:s,className:i}=t,r=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]])}return s}(t,["title","source","className"]);return n.createElement("span",Object.assign({className:(0,a.Sh)(m,i),title:e},r),s)}var A=s(93935),D=s(9727);function L(t){const e=(t.translator||A.nullTranslator).load("jupyterlab");let s="";return t.status&&(s=` | ${t.status}`),i().createElement(P,{onClick:t.handleClick,source:`${t.kernelName}${s}`,title:e.__("Change kernel for %1",t.activityName)})}class T extends d.VDomRenderer{constructor(t,e){super(new T.Model(e)),this.translator=e||A.nullTranslator,this._handleClick=t.onClick,this.addClass(w)}render(){return null===this.model?null:i().createElement(L,{status:this.model.status,kernelName:this.model.kernelName,activityName:this.model.activityName,handleClick:this._handleClick,translator:this.translator})}}!function(t){class e extends d.VDomModel{constructor(t){super(),this._onKernelStatusChanged=()=>{var t;this._kernelStatus=null===(t=this._sessionContext)||void 0===t?void 0:t.kernelDisplayStatus,this.stateChanged.emit(void 0)},this._onKernelChanged=(t,e)=>{var s;const n=this._getAllState();this._kernelStatus=null===(s=this._sessionContext)||void 0===s?void 0:s.kernelDisplayStatus,this._kernelName=t.kernelDisplayName,this._triggerChange(n,this._getAllState())},this._activityName="activity",this._kernelStatus="",this._sessionContext=null,t=t||A.nullTranslator,this._trans=t.load("jupyterlab"),this._kernelName=this._trans.__("No Kernel!"),this._statusNames={unknown:this._trans.__("Unknown"),starting:this._trans.__("Starting"),idle:this._trans.__("Idle"),busy:this._trans.__("Busy"),terminating:this._trans.__("Terminating"),restarting:this._trans.__("Restarting"),autorestarting:this._trans.__("Autorestarting"),dead:this._trans.__("Dead"),connected:this._trans.__("Connected"),connecting:this._trans.__("Connecting"),disconnected:this._trans.__("Disconnected"),initializing:this._trans.__("Initializing"),"":""}}get kernelName(){return this._kernelName}get status(){return this._kernelStatus?this._statusNames[this._kernelStatus]:void 0}get activityName(){return this._activityName}set activityName(t){this._activityName!==t&&(this._activityName=t,this.stateChanged.emit(void 0))}get sessionContext(){return this._sessionContext}set sessionContext(t){var e,s,n;null===(e=this._sessionContext)||void 0===e||e.statusChanged.disconnect(this._onKernelStatusChanged),null===(s=this._sessionContext)||void 0===s||s.kernelChanged.disconnect(this._onKernelChanged);const i=this._getAllState();this._sessionContext=t,this._kernelStatus=null==t?void 0:t.kernelDisplayStatus,this._kernelName=null!==(n=null==t?void 0:t.kernelDisplayName)&&void 0!==n?n:this._trans.__("No Kernel"),null==t||t.statusChanged.connect(this._onKernelStatusChanged,this),null==t||t.connectionStatusChanged.connect(this._onKernelStatusChanged,this),null==t||t.kernelChanged.connect(this._onKernelChanged,this),this._triggerChange(i,this._getAllState())}_getAllState(){return[this._kernelName,this._kernelStatus,this._activityName]}_triggerChange(t,e){D.JSONExt.deepEqual(t,e)&&this.stateChanged.emit(void 0)}}t.Model=e}(T||(T={}));var z=s(86570);(0,a.oB)({boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"});const M=(0,a.oB)({padding:"4px 12px",backgroundColor:"var(--jp-layout-color2)",boxShadow:"var(--jp-toolbar-box-shadow)",zIndex:2,fontSize:"var(--jp-ui-font-size1)"}),F=(0,a.oB)({fontSize:"var(--jp-ui-font-size0)",lineHeight:"var(--jp-ui-font-size1)",marginTop:"4px",color:"var(--jp-ui-font-color0)"}),K={border:"none",borderRadius:"0px",position:"absolute",backgroundSize:"16px",backgroundRepeat:"no-repeat",backgroundPosition:"center",outline:"none",top:"0px",right:"0px"},W=(0,a.oB)(K,{top:"4px",right:"8px",height:"24px",padding:"0px 12px",width:"12px"}),U=(0,a.oB)(K,{backgroundColor:"var(--jp-brand-color1)",height:"100%",width:"100%",boxSizing:"border-box",padding:"4px 6px"}),$=(0,a.oB)(K,{backgroundColor:"transparent",height:"100%",width:"100%",boxSizing:"border-box"}),H=(0,a.oB)({overflow:"hidden",padding:"0px 8px",border:"1px solid var(--jp-border-color0)",backgroundColor:"var(--jp-input-active-background)",height:"22px"}),G=(0,a.oB)({border:"var(--jp-border-width) solid var(--md-blue-500)",boxShadow:"inset 0 0 4px var(--md-blue-300)"}),V=(0,a.oB)({background:"transparent",width:"200px",height:"100%",border:"none",outline:"none",color:"var(--jp-ui-font-color0)",lineHeight:"28px"});class q extends i().Component{constructor(t){super(t),this._handleChange=t=>{this.setState({value:t.currentTarget.value})},this._handleSubmit=t=>{t.preventDefault();const e=parseInt(this._textInput.value,10);return!isNaN(e)&&isFinite(e)&&1<=e&&e<=this.props.maxLine&&this.props.handleSubmit(e),!1},this._handleFocus=()=>{this.setState({hasFocus:!0})},this._handleBlur=()=>{this.setState({hasFocus:!1})},this._textInput=null,this.translator=t.translator||A.nullTranslator,this._trans=this.translator.load("jupyterlab"),this.state={value:"",hasFocus:!1}}componentDidMount(){this._textInput.focus()}render(){return i().createElement("div",{className:M},i().createElement("form",{name:"lineColumnForm",onSubmit:this._handleSubmit,noValidate:!0},i().createElement("div",{className:(0,a.Sh)(H,"lm-lineForm-wrapper",this.state.hasFocus?G:void 0)},i().createElement("input",{type:"text",className:V,onChange:this._handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur,value:this.state.value,ref:t=>{this._textInput=t}}),i().createElement("div",{className:W},i().createElement(z.lineFormIcon.react,{className:U,elementPosition:"center"}),i().createElement("input",{type:"submit",className:$,value:""}))),i().createElement("label",{className:F},this._trans.__("Go to line number between 1 and %1",this.props.maxLine))))}}function J(t){const e=(t.translator||A.nullTranslator).load("jupyterlab");return i().createElement(P,{onClick:t.handleClick,source:e.__("Ln %1, Col %2",t.line,t.column),title:e.__("Go to line number…")})}class Y extends d.VDomRenderer{constructor(t){super(new Y.Model),this._popup=null,this.addClass(w),this.translator=t||A.nullTranslator}render(){return null===this.model?null:i().createElement(J,{line:this.model.line,column:this.model.column,translator:this.translator,handleClick:()=>this._handleClick()})}_handleClick(){this._popup&&this._popup.dispose();const t=d.ReactWidget.create(i().createElement(q,{handleSubmit:t=>this._handleSubmit(t),currentLine:this.model.line,maxLine:this.model.editor.lineCount,translator:this.translator}));this._popup=I({body:t,anchor:this,align:"right"})}_handleSubmit(t){this.model.editor.setCursorPosition({line:t-1,column:0}),this._popup.dispose(),this.model.editor.focus()}}function Q(t){return i().createElement(h,{spacing:4,onClick:t.handleClick},i().createElement(h,{spacing:4},i().createElement(P,{source:t.terminals}),i().createElement(z.terminalIcon.react,{left:"1px",top:"3px",stylesheet:"statusBar"})),i().createElement(h,{spacing:4},i().createElement(P,{source:t.sessions}),i().createElement(z.kernelIcon.react,{top:"2px",stylesheet:"statusBar"})))}!function(t){class e extends d.VDomModel{constructor(){super(...arguments),this._onSelectionChanged=()=>{const t=this._getAllState(),e=this.editor.getCursorPosition();this._line=e.line+1,this._column=e.column+1,this._triggerChange(t,this._getAllState())},this._line=1,this._column=1,this._editor=null}get editor(){return this._editor}set editor(t){const e=this._editor;e&&e.model.selections.changed.disconnect(this._onSelectionChanged);const s=this._getAllState();if(this._editor=t,this._editor){this._editor.model.selections.changed.connect(this._onSelectionChanged);const t=this._editor.getCursorPosition();this._column=t.column+1,this._line=t.line+1}else this._column=1,this._line=1;this._triggerChange(s,this._getAllState())}get line(){return this._line}get column(){return this._column}_getAllState(){return[this._line,this._column]}_triggerChange(t,e){t[0]===e[0]&&t[1]===e[1]||this.stateChanged.emit(void 0)}}t.Model=e}(Y||(Y={}));class X extends d.VDomRenderer{constructor(t){super(new X.Model),this._serviceManager=t.serviceManager,this._handleClick=t.onClick,this.translator=t.translator||A.nullTranslator,this._trans=this.translator.load("jupyterload"),this._serviceManager.sessions.runningChanged.connect(this._onSessionsRunningChanged,this),this._serviceManager.terminals.runningChanged.connect(this._onTerminalsRunningChanged,this),this.addClass(w)}render(){return this.model?(this.title.caption=this._trans.__("%1 Terminals, %2 Kernel sessions",this.model.terminals,this.model.sessions),i().createElement(Q,{sessions:this.model.sessions,terminals:this.model.terminals,handleClick:this._handleClick})):null}dispose(){super.dispose(),this._serviceManager.sessions.runningChanged.disconnect(this._onSessionsRunningChanged,this),this._serviceManager.terminals.runningChanged.disconnect(this._onTerminalsRunningChanged,this)}_onSessionsRunningChanged(t,e){this.model.sessions=e.length}_onTerminalsRunningChanged(t,e){this.model.terminals=e.length}}!function(t){class e extends d.VDomModel{constructor(){super(...arguments),this._terminals=0,this._sessions=0}get sessions(){return this._sessions}set sessions(t){const e=this._sessions;this._sessions=t,e!==this._sessions&&this.stateChanged.emit(void 0)}get terminals(){return this._terminals}set terminals(t){const e=this._terminals;this._terminals=t,e!==this._terminals&&this.stateChanged.emit(void 0)}}t.Model=e}(X||(X={}));var Z,tt=s(62867),et=s(76487);class st extends c.Widget{constructor(){super(),this._leftRankItems=[],this._rightRankItems=[],this._statusItems={},this._disposables=new et.DisposableSet,this.addClass(b);const t=this.layout=new c.PanelLayout,e=this._leftSide=new c.Panel,s=this._middlePanel=new c.Panel,n=this._rightSide=new c.Panel;e.addClass(x),e.addClass(f),s.addClass(x),n.addClass(x),n.addClass(k),t.addWidget(e),t.addWidget(s),t.addWidget(n)}registerStatusItem(t,e){if(t in this._statusItems)throw new Error(`Status item ${t} already registered.`);const s=Object.assign(Object.assign({},Z.statusItemDefaults),e),{align:n,item:i,rank:a}=s,r=()=>{this._refreshItem(t)};s.activeStateChanged&&s.activeStateChanged.connect(r);const o={id:t,rank:a};if(s.item.addClass(y),this._statusItems[t]=s,"left"===n){const t=this._findInsertIndex(this._leftRankItems,o);-1===t?(this._leftSide.addWidget(i),this._leftRankItems.push(o)):(tt.ArrayExt.insert(this._leftRankItems,t,o),this._leftSide.insertWidget(t,i))}else if("right"===n){const t=this._findInsertIndex(this._rightRankItems,o);-1===t?(this._rightSide.addWidget(i),this._rightRankItems.push(o)):(tt.ArrayExt.insert(this._rightRankItems,t,o),this._rightSide.insertWidget(t,i))}else this._middlePanel.addWidget(i);this._refreshItem(t);const l=new et.DisposableDelegate((()=>{delete this._statusItems[t],s.activeStateChanged&&s.activeStateChanged.disconnect(r),i.parent=null,i.dispose()}));return this._disposables.add(l),l}dispose(){this._leftRankItems.length=0,this._rightRankItems.length=0,this._disposables.dispose(),super.dispose()}onUpdateRequest(t){this._refreshAll(),super.onUpdateRequest(t)}_findInsertIndex(t,e){return tt.ArrayExt.findFirstIndex(t,(t=>t.rank>e.rank))}_refreshItem(t){const e=this._statusItems[t];e.isActive()?(e.item.show(),e.item.update()):e.item.hide()}_refreshAll(){Object.keys(this._statusItems).forEach((t=>{this._refreshItem(t)}))}}!function(t){t.statusItemDefaults={align:"left",rank:0,isActive:()=>!0,activeStateChanged:void 0}}(Z||(Z={}));const nt=new D.Token("@jupyterlab/statusbar:IStatusBar")}}]);
//# sourceMappingURL=2039.8445addbf3aacb0efb5e.js.map